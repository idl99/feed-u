<div data-role="panel" id="navigation-menu" data-display="reveal" data-position-fixed="true" data-theme="a"
    data-swipe-close="false" data-inset="true" style="font-family: Poppins; text-shadow: none;">
    <style>
        #navigation-menu i.fa {
            margin-left: 0.4em;
            margin-right: 1em;
        }

        .navigation-menu-user-details-container {
            display: flex;
            margin-bottom: 3em;
        }

        .navigation-menu-user-details {
            display: flex;
            flex-direction: column;
            margin-left: 1em;
        }

        .navigation-menu-container {
            display: grid;
            row-gap: 1em;
        }

        .navigation-menu-container>div {
            padding: 10px 0px
        }

        .navigation-menu-container>div.nav-active-page {
            background-color: #EB5757;
        }

        #navigation-menu .navigation-menu-container>div.nav-active-page>a>#navigation-menu-icon {
            color: white;
        }

        #navigation-menu .navigation-menu-container>div.nav-active-page>a>span {
            color: white;
        }

        #navigation-menu-icon {
            font-size: 20px;
            width: 25px;
            color: #333333;
        }

        #navigation-menu a:link {
            text-decoration: none;
            color: #333333;
        }

        #navigation-menu a:visited {
            text-decoration: none;
            color: #333333;
        }

        #navigation-menu a:hover {
            text-decoration: none;
            color: #333333;
        }

        #navigation-menu a:active {
            text-decoration: none;
            color: #333333;
        }

        #navigation-menu span {
            color: #333333;
        }
    </style>
    <div class="navigation-menu-user-details-container">
        <img src="../assets/team/ihan.jpg" alt="user">
        <div class="navigation-menu-user-details">
            <span>Ihan Dilnath</span>
            <a href="landing.html">
                <span style="color: #EB5757; font-size: 14px;">Sign Out</span>
            </a>
        </div>
    </div>
    <div class="navigation-menu-container">
        <div>
            <a href="#">
                <i id="navigation-menu-icon" class="fa fa-user-circle ui-li-icon ui-corner-none" aria-hidden="true"></i>
                <span>Edit Profile</span>
            </a>
        </div>
        <div>
            <a href="past_orders.html">
                <i id="navigation-menu-icon" class="fa fa-file-text ui-li-icon ui-corner-none" aria-hidden="true"></i>
                <span>Past Orders</span>
            </a>
        </div>
        <div>
            <a href="payment_methods.html">
                <i id="navigation-menu-icon" class="fa fa-credit-card-alt ui-li-icon ui-corner-none"
                    aria-hidden="true"></i>
                <span>Payment Methods</span>
            </a>
        </div>
        <div>
            <a href="leaderboard.html">
                <i id="navigation-menu-icon" class="fa fa-gift ui-li-icon ui-corner-none" aria-hidden="true"></i>
                <span>Leaderboard</span>
            </a>
        </div>
        <div>
            <a href="favorites_list.html">
                <i id="navigation-menu-icon" class="fa fa-star ui-li-icon ui-corner-none" aria-hidden="true"></i>
                <span>Favorites List</span>
            </a>
        </div>
        <div>
            <a href="help_and_support.html">
                <i id="navigation-menu-icon" class="fa fa-handshake-o ui-li-icon ui-corner-none" aria-hidden="true"></i>
                <span>Help and Support</span>
            </a>
        </div>
        <div>
            <a href="#">
                <i id="navigation-menu-icon" class="fa fa-question-circle ui-li-icon ui-corner-none"
                    aria-hidden="true"></i>
                <span>About Us</span>
            </a>
        </div>

        <script>
            function setActiveLink() {
                const activePageUrl = $('body').pagecontainer("getActivePage")[0].baseURI.split("/").reverse()[0];
                const currentActivePageElement = $("#navigation-menu .nav-active-page>a")
                const currentActivePageUrl = currentActivePageElement.attr("href") || "";

                const pagesSet = currentActivePageUrl != undefined && activePageUrl != undefined;
                const navigatedToADifferentPage = currentActivePageUrl !== activePageUrl;

                if (pagesSet && navigatedToADifferentPage) {
                    currentActivePageElement.parent().removeClass("nav-active-page");
                    const activePageElement = $(`#navigation-menu a[href="${activePageUrl}"]`);
                    console.log('Active page element', activePageElement);
                    activePageElement.parent().addClass("nav-active-page");
                }
            };

            setActiveLink();

            $(window).on("pagecontainershow", function (event, ui) {
                setActiveLink();
            })
        </script>
    </div>
</div>