<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Feed U - Set Location Page</title>

	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="../css/base.css" />

	<script src="../bundle.js"></script>

	<style>

	</style>

</head>

<body>
	<div data-role="page" id="set-location">
		<div data-role="header" data-position="fixed" data-add-back-btn="true">
			<h1>Header Bar</h1>
		</div>
		<div id="set-location-map">
			<h2> Map Here</h2>
		</div>
		<div data-role="tabs" id="tabs" style="padding: 0 0 0 0;">
			<div data-role="navbar">
				<ul>
					<li><a href="#saved-locations" data-ajax="false" class="ui-btn-active">Saved Locations</a></li>
					<li><a href="#previous-locations" data-ajax="false">Previous Locations</a></li>
				</ul>
			</div>
			<div id="saved-locations">
				<ul data-role="listview">
					<li class="set-location-saved-location-list-item">Delkanda, Nugegoda
					</li>
					<li class="set-location-saved-location-list-item">Nedimala, Dehiwala</li>
					<li class="set-location-saved-location-list-item">Kandalanda, Homagama</li>
					<li class="set-location-saved-location-list-item">Attidiya, Dehiwala</li>
				</ul>
			</div>
			<div id="previous-locations">
				<ul data-role="listview">
					<li class="set-location-previous-location-list-item">Makumbura, Kottawa</li>
					<li class="set-location-previous-location-list-item">Piliyandala, Kottawa</li>
					<li class="set-location-previous-location-list-item">Nawala, Rajagiriya</li>
					<li class="set-location-previous-location-list-item">Nugegoda, Nugegoda</li>
				</ul>
			</div>
		</div>
		<div class="ui-content" id="order_time">
			<form>
				<fieldset data-role="controlgroup" data-iconpos="right">
					<input type="checkbox" name="deliever_asap" id="deliever_asap">
					<label for="deliever_asap">Deliver it ASAP</label>
					<input type="checkbox" name="scheduled_order" id="scheduled_order">
					<div id="txtAge" style="display: none;">Age is something</div>
					<label for="scheduled_order">Scheduled Order</label>
				</fieldset>
			</form>
		</div>
		<div id="configure-location" data-role="footer" data-position="fixed">
			<h1>Save</h1>
		</div>
		<script
			src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC4fxzjh0_9j9aIXCecrSeDxBztKU5Lzao&callback=initMap"
			defer></script>
		<script>

			$("#set-location-map").click(function () {
				// Handle the map click event.
				$(":mobile-pagecontainer").pagecontainer("change", "location_search.html",);
			});

			$("#configure-location").click(function () {
				// Handle the map click event.
				$(":mobile-pagecontainer").pagecontainer("change", "home.html",);
			});

			$("#deliever_asap").prop("checked", true);
			$("#scheduled_order").prop("checked", false);
			$("#deliever_asap").click(function (eventObject) {
				if (!$(this).prop("checked")) {
					$(this).prop("checked", false).checkboxradio("refresh");
				} else {
					$(this).prop("checked", true).checkboxradio("refresh");
					$('#scheduled_order').prop("checked", false).checkboxradio("refresh");
				}
			})
			$("#scheduled_order").click(function (eventObject) {
				if (!$(this).prop("checked")) {
					$(this).prop("checked", false).checkboxradio("refresh");
				} else {
					$(this).prop("checked", true).checkboxradio("refresh");
					$('#deliever_asap').prop("checked", false).checkboxradio("refresh");
				}
			})

			$('.set-location-saved-location-list-item').click(function (eventObject) {
				$('.set-location-saved-location-list-item.ui-icon-check.ui-btn-icon-right').removeClass("ui-icon-check ui-btn-icon-right");
				$(this).addClass("ui-icon-check ui-btn-icon-right");
			});

			$('.set-location-previous-location-list-item').click(function (eventObject) {
				$('.set-location-previous-location-list-item.ui-icon-check.ui-btn-icon-right').removeClass("ui-icon-check ui-btn-icon-right");
				$(this).addClass("ui-icon-check ui-btn-icon-right");
			});

			function initMap() {
				console.log("Init 1");
				const map = new google.maps.Map(document.getElementById("set-location-map"), {
					zoom: 15,
					center: { lat: 51.517582, lng: -0.141525 },
				});
			}
		</script>
	</div>
</body>

</html>