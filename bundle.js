(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var V3_URL = 'https://js.stripe.com/v3';
var V3_URL_REGEX = /^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;
var EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';
var findScript = function findScript() {
  var scripts = document.querySelectorAll("script[src^=\"".concat(V3_URL, "\"]"));

  for (var i = 0; i < scripts.length; i++) {
    var script = scripts[i];

    if (!V3_URL_REGEX.test(script.src)) {
      continue;
    }

    return script;
  }

  return null;
};

var injectScript = function injectScript(params) {
  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';
  var script = document.createElement('script');
  script.src = "".concat(V3_URL).concat(queryString);
  var headOrBody = document.head || document.body;

  if (!headOrBody) {
    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');
  }

  headOrBody.appendChild(script);
  return script;
};

var registerWrapper = function registerWrapper(stripe, startTime) {
  if (!stripe || !stripe._registerWrapper) {
    return;
  }

  stripe._registerWrapper({
    name: 'stripe-js',
    version: "1.11.0",
    startTime: startTime
  });
};

var stripePromise = null;
var loadScript = function loadScript(params) {
  // Ensure that we only attempt to load Stripe.js at most once
  if (stripePromise !== null) {
    return stripePromise;
  }

  stripePromise = new Promise(function (resolve, reject) {
    if (typeof window === 'undefined') {
      // Resolve to null when imported server side. This makes the module
      // safe to import in an isomorphic code base.
      resolve(null);
      return;
    }

    if (window.Stripe && params) {
      console.warn(EXISTING_SCRIPT_MESSAGE);
    }

    if (window.Stripe) {
      resolve(window.Stripe);
      return;
    }

    try {
      var script = findScript();

      if (script && params) {
        console.warn(EXISTING_SCRIPT_MESSAGE);
      } else if (!script) {
        script = injectScript(params);
      }

      script.addEventListener('load', function () {
        if (window.Stripe) {
          resolve(window.Stripe);
        } else {
          reject(new Error('Stripe.js not available'));
        }
      });
      script.addEventListener('error', function () {
        reject(new Error('Failed to load Stripe.js'));
      });
    } catch (error) {
      reject(error);
      return;
    }
  });
  return stripePromise;
};
var initStripe = function initStripe(maybeStripe, args, startTime) {
  if (maybeStripe === null) {
    return null;
  }

  var stripe = maybeStripe.apply(undefined, args);
  registerWrapper(stripe, startTime);
  return stripe;
};

// own script injection.

var stripePromise$1 = Promise.resolve().then(function () {
  return loadScript(null);
});
var loadCalled = false;
stripePromise$1["catch"](function (err) {
  if (!loadCalled) {
    console.warn(err);
  }
});
var loadStripe = function loadStripe() {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  loadCalled = true;
  var startTime = Date.now();
  return stripePromise$1.then(function (maybeStripe) {
    return initStripe(maybeStripe, args, startTime);
  });
};

exports.loadStripe = loadStripe;

},{}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EmailJSResponseStatus = exports.sendForm = exports.send = exports.init = void 0;
var EmailJSResponseStatus_1 = require("./models/EmailJSResponseStatus");
Object.defineProperty(exports, "EmailJSResponseStatus", { enumerable: true, get: function () { return EmailJSResponseStatus_1.EmailJSResponseStatus; } });
var UI_1 = require("./services/ui/UI");
var _userID = null;
var _origin = 'https://api.emailjs.com';
function sendPost(url, data, headers) {
    if (headers === void 0) { headers = {}; }
    return new Promise(function (resolve, reject) {
        var xhr = new XMLHttpRequest();
        xhr.addEventListener('load', function (event) {
            var responseStatus = new EmailJSResponseStatus_1.EmailJSResponseStatus(event.target);
            if (responseStatus.status === 200 || responseStatus.text === 'OK') {
                resolve(responseStatus);
            }
            else {
                reject(responseStatus);
            }
        });
        xhr.addEventListener('error', function (event) {
            reject(new EmailJSResponseStatus_1.EmailJSResponseStatus(event.target));
        });
        xhr.open('POST', url, true);
        for (var key in headers) {
            xhr.setRequestHeader(key, headers[key]);
        }
        xhr.send(data);
    });
}
function appendGoogleCaptcha(templatePrams) {
    var element = document && document.getElementById('g-recaptcha-response');
    if (element && element.value) {
        templatePrams['g-recaptcha-response'] = element.value;
    }
    element = null;
    return templatePrams;
}
function fixIdSelector(selector) {
    if (selector[0] !== '#' && selector[0] !== '.') {
        return '#' + selector;
    }
    return selector;
}
/**
 * Initiation
 * @param {string} userID - set the EmailJS user ID
 * @param {string} origin - set the EmailJS origin
 */
function init(userID, origin) {
    _userID = userID;
    _origin = origin || 'https://api.emailjs.com';
}
exports.init = init;
/**
 * Send a template to the specific EmailJS service
 * @param {string} serviceID - the EmailJS service ID
 * @param {string} templateID - the EmailJS template ID
 * @param {Object} templatePrams - the template params, what will be set to the EmailJS template
 * @param {string} userID - the EmailJS user ID
 * @returns {Promise<EmailJSResponseStatus>}
 */
function send(serviceID, templateID, templatePrams, userID) {
    var params = {
        lib_version: '2.6.4',
        user_id: userID || _userID,
        service_id: serviceID,
        template_id: templateID,
        template_params: appendGoogleCaptcha(templatePrams)
    };
    return sendPost(_origin + '/api/v1.0/email/send', JSON.stringify(params), {
        'Content-type': 'application/json'
    });
}
exports.send = send;
/**
 * Send a form the specific EmailJS service
 * @param {string} serviceID - the EmailJS service ID
 * @param {string} templateID - the EmailJS template ID
 * @param {string | HTMLFormElement} form - the form element or selector
 * @param {string} userID - the EmailJS user ID
 * @returns {Promise<EmailJSResponseStatus>}
 */
function sendForm(serviceID, templateID, form, userID) {
    if (typeof form === 'string') {
        form = document.querySelector(fixIdSelector(form));
    }
    if (!form || form.nodeName !== 'FORM') {
        throw 'Expected the HTML form element or the style selector of form';
    }
    UI_1.UI.progressState(form);
    var formData = new FormData(form);
    formData.append('lib_version', '2.6.4');
    formData.append('service_id', serviceID);
    formData.append('template_id', templateID);
    formData.append('user_id', userID || _userID);
    return sendPost(_origin + '/api/v1.0/email/send-form', formData)
        .then(function (response) {
        UI_1.UI.successState(form);
        return response;
    }, function (error) {
        UI_1.UI.errorState(form);
        return Promise.reject(error);
    });
}
exports.sendForm = sendForm;
exports.default = {
    init: init,
    send: send,
    sendForm: sendForm
};

},{"./models/EmailJSResponseStatus":3,"./services/ui/UI":4}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EmailJSResponseStatus = void 0;
var EmailJSResponseStatus = /** @class */ (function () {
    function EmailJSResponseStatus(httpResponse) {
        this.status = httpResponse.status;
        this.text = httpResponse.responseText;
    }
    return EmailJSResponseStatus;
}());
exports.EmailJSResponseStatus = EmailJSResponseStatus;

},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.UI = void 0;
var UI = /** @class */ (function () {
    function UI() {
    }
    UI.clearAll = function (form) {
        form.classList.remove(this.PROGRESS);
        form.classList.remove(this.DONE);
        form.classList.remove(this.ERROR);
    };
    UI.progressState = function (form) {
        this.clearAll(form);
        form.classList.add(this.PROGRESS);
    };
    UI.successState = function (form) {
        form.classList.remove(this.PROGRESS);
        form.classList.add(this.DONE);
    };
    UI.errorState = function (form) {
        form.classList.remove(this.PROGRESS);
        form.classList.add(this.ERROR);
    };
    UI.PROGRESS = 'emailjs-sending';
    UI.DONE = 'emailjs-success';
    UI.ERROR = 'emailjs-error';
    return UI;
}());
exports.UI = UI;

},{}],5:[function(require,module,exports){
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
;(function (factory) {
	var registeredInModuleLoader;
	if (typeof define === 'function' && define.amd) {
		define(factory);
		registeredInModuleLoader = true;
	}
	if (typeof exports === 'object') {
		module.exports = factory();
		registeredInModuleLoader = true;
	}
	if (!registeredInModuleLoader) {
		var OldCookies = window.Cookies;
		var api = window.Cookies = factory();
		api.noConflict = function () {
			window.Cookies = OldCookies;
			return api;
		};
	}
}(function () {
	function extend () {
		var i = 0;
		var result = {};
		for (; i < arguments.length; i++) {
			var attributes = arguments[ i ];
			for (var key in attributes) {
				result[key] = attributes[key];
			}
		}
		return result;
	}

	function decode (s) {
		return s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);
	}

	function init (converter) {
		function api() {}

		function set (key, value, attributes) {
			if (typeof document === 'undefined') {
				return;
			}

			attributes = extend({
				path: '/'
			}, api.defaults, attributes);

			if (typeof attributes.expires === 'number') {
				attributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);
			}

			// We're using "expires" because "max-age" is not supported by IE
			attributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';

			try {
				var result = JSON.stringify(value);
				if (/^[\{\[]/.test(result)) {
					value = result;
				}
			} catch (e) {}

			value = converter.write ?
				converter.write(value, key) :
				encodeURIComponent(String(value))
					.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);

			key = encodeURIComponent(String(key))
				.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)
				.replace(/[\(\)]/g, escape);

			var stringifiedAttributes = '';
			for (var attributeName in attributes) {
				if (!attributes[attributeName]) {
					continue;
				}
				stringifiedAttributes += '; ' + attributeName;
				if (attributes[attributeName] === true) {
					continue;
				}

				// Considers RFC 6265 section 5.2:
				// ...
				// 3.  If the remaining unparsed-attributes contains a %x3B (";")
				//     character:
				// Consume the characters of the unparsed-attributes up to,
				// not including, the first %x3B (";") character.
				// ...
				stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];
			}

			return (document.cookie = key + '=' + value + stringifiedAttributes);
		}

		function get (key, json) {
			if (typeof document === 'undefined') {
				return;
			}

			var jar = {};
			// To prevent the for loop in the first place assign an empty array
			// in case there are no cookies at all.
			var cookies = document.cookie ? document.cookie.split('; ') : [];
			var i = 0;

			for (; i < cookies.length; i++) {
				var parts = cookies[i].split('=');
				var cookie = parts.slice(1).join('=');

				if (!json && cookie.charAt(0) === '"') {
					cookie = cookie.slice(1, -1);
				}

				try {
					var name = decode(parts[0]);
					cookie = (converter.read || converter)(cookie, name) ||
						decode(cookie);

					if (json) {
						try {
							cookie = JSON.parse(cookie);
						} catch (e) {}
					}

					jar[name] = cookie;

					if (key === name) {
						break;
					}
				} catch (e) {}
			}

			return key ? jar[key] : jar;
		}

		api.set = set;
		api.get = function (key) {
			return get(key, false /* read as raw */);
		};
		api.getJSON = function (key) {
			return get(key, true /* read as json */);
		};
		api.remove = function (key, attributes) {
			set(key, '', extend(attributes, {
				expires: -1
			}));
		};

		api.defaults = {};

		api.withConverter = init;

		return api;
	}

	return init(function () {});
}));

},{}],6:[function(require,module,exports){
var cookie = require('js-cookie')

const CART_STORAGE_KEY = 'cart';

// TODO remove mock data
// const INITIAL_CART_STATE = {
//     vendor: {
//         vendorName: 'Burgers Ahoy!',
//         deliveryTime: '30 - 40 mins'
//     },
//     items: [
//         {
//             itemName: 'Tom Yump Soup',
//             itemPrice: 400,
//             quantity: 1,
//             notes: "Less spicy",
//         }
//     ]
// };

const INITIAL_CART_STATE = Object.freeze({
    vendor: {
    },
    items: [
    ],
    paymentMethod: 'cash'
});


module.exports = function () {

    // IN EACH FUNCTION, DO NOT FORGET TO RETRIEVE THE CART INFO FROM LOCAL STORAGE
    // AND ALSO TO SAVE IT AT THE END

    return {
        // this object is the public API accessible to other modules
        init: function () {
            // empty cart at initialization with no restaurant set
            if (!cookie.getJSON(CART_STORAGE_KEY)) {
                cookie.set(CART_STORAGE_KEY, INITIAL_CART_STATE);
            }
        },
        summary: function () {
            /**
             * JSON structure of summary
             * 
             * items: [
             *      {
             *          itemTitle: "name of the item",
             *          quantity: 1,
             *          itemPrice: 400,
             *      }
             * ]
             * 
             */
            return cookie.getJSON(CART_STORAGE_KEY);
        },
        addItemToCart: function ({ vendor, item }) {
            const cart = cookie.getJSON(CART_STORAGE_KEY);

            // if vendor is set
            if (cart.vendor.vendorName) {
                // check if user is tyring to add item from same vendor
                if (cart.vendor.vendorName === vendor.vendorName) {
                    // add item and return true for success
                    cart.items.push(item);
                    cookie.set(CART_STORAGE_KEY, cart);
                    return null;
                } else {
                    // else return false with error message indicate why
                    return `You may only order items from one vendor at a time. 
                    You have currently chosen ${cart.vendor.vendorName}.`
                }
            } else {
                // Reset cart
                // VERY IMPORTANT: using JSON serialization follow with JSON deserialization for deep copy
                // otherwise there is a bug where when you add a new item and try clearing the cart it won't work, 
                // because the INITIAL_CART_STATE object has gotten updated by a reference passed to another named variable
                // Refer https://stackoverflow.com/a/61422332/7803975 for more
                const newCart = JSON.parse(JSON.stringify(INITIAL_CART_STATE)) // Reset cart
                newCart.vendor = vendor; // Initialize vendor details
                newCart.items.push(item) // Add item to cart
                cookie.set(CART_STORAGE_KEY, newCart);
            }
        },
        clearCart: function () {
            console.log('Clearing cart...');
            cookie.set(CART_STORAGE_KEY, INITIAL_CART_STATE);
        },
        setPaymentMethod: function (paymentMethod) {
            const currentCart = cookie.getJSON(CART_STORAGE_KEY);
            currentCart.paymentMethod = paymentMethod;
            cookie.set(CART_STORAGE_KEY, currentCart);
        }
    }
}()
},{"js-cookie":5}],7:[function(require,module,exports){
// const user = require('./user');

const data = Object.freeze({
    vendors: [
        {
            "vendorId": "v1",
            "vendorImageLocation": "../assets/vendor_list_view_images/burgers_ahouy.jpg",
            "vendorName": "Burgers Ahouy!",
            "vendorCatergories": [
                "Burgers",
                "American"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.6,
                "vendorNoOfRatings": 100
            },
            "location": "Colombo 3",
            "deliveryTime": "25-30 mins",
            "items": [
                {
                    "itemImageLocation": "../assets/vendor_page_images/tom_yum_soup.jpg",
                    "itemId": "v1i1",
                    "itemTitle": "Tom Yum Soup",
                    "itemDescription": "Picked from the fresh vegetables and fish from the with special Chicken Broth.",
                    "itemRatings": {
                        "itemRatingValue": 4.6,
                        "itemNoOfRatings": 47
                    },
                    "itemPrice": 800
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/crispy_chicken_burger.jpg",
                    "itemId": "v1i2",
                    "itemTitle": "Crispy Chicken Burger",
                    "itemDescription": "Crispy, Chicky, Crispy Chicken Burger. It’s pretty much self-explanatory.",
                    "itemRatings": {
                        "itemRatingValue": 4.0,
                        "itemNoOfRatings": 10
                    },
                    "itemPrice": 450
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/hawaiian_burger.jpg",
                    "itemId": "v1i3",
                    "itemTitle": "Hawaiian Burger",
                    "itemDescription": "Yes! Pineapples go on burgers too. Don’t let others tell you otherwise.",
                    "itemRatings": {
                        "itemRatingValue": 4.8,
                        "itemNoOfRatings": 45
                    },
                    "itemPrice": 600
                }
            ],
        },
        {
            "vendorId": "v2",
            "vendorImageLocation": "../assets/vendor_list_view_images/pizza_palpatha.jpg",
            "vendorName": "Pizza Palpatha",
            "vendorCatergories": [
                "Italian",
                "American",
                "Pizza"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.8,
                "vendorNoOfRatings": 99
            },
            "location": "Colombo 5",
            "deliveryTime": "15-20 mins",
            "items": [
                {
                    "itemImageLocation": "../assets/vendor_page_images/cheese_lovers_pizza.jpg",
                    "itemId": "v2i1",
                    "itemTitle": "Cheese Lovers Pizza",
                    "itemDescription": "Rich tomato sauce with a triple layer of mozzarella cheese.",
                    "itemRatings": {
                        "itemRatingValue": 4.5,
                        "itemNoOfRatings": 55
                    },
                    "itemPrice": 500
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/chicken_bacon_pizza.jpg",
                    "itemId": "v2i2",
                    "itemTitle": "Chicken Bacon Pizza",
                    "itemDescription": "Chicken bacon, onions & green chillies with a double layer of mozzarella cheese.",
                    "itemRatings": {
                        "itemRatingValue": 4.9,
                        "itemNoOfRatings": 90
                    },
                    "itemPrice": 300
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/devilled_chicken_pizza.jpg",
                    "itemId": "v2i3",
                    "itemTitle": "Devilled Chicken Pizza",
                    "itemDescription": "Devilled chicken in spicy sauce with a double layer of mozzarella cheese.",
                    "itemRatings": {
                        "itemRatingValue": 4.1,
                        "itemNoOfRatings": 75
                    },
                    "itemPrice": 470
                }
            ],
        },
        {
            "vendorId": "v3",
            "vendorImageLocation": "../assets/vendor_list_view_images/bathui_pol_sambolai.jpg",
            "vendorName": "Bathui Pol Sambolai",
            "vendorCatergories": [
                "Rice",
                "Sri Lankan"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.5,
                "vendorNoOfRatings": 150
            },
            "location": "Colombo 7",
            "deliveryTime": "5-10 mins",
            "items": [
                {
                    "itemImageLocation": "../assets/vendor_page_images/prawn_curry_and_rice.jpg",
                    "itemId": "v3i1",
                    "itemTitle": "Prawn Curry and Rice",
                    "itemDescription": "Prawn curry prepared to special Goa recipe with thick coconut gravy.",
                    "itemRatings": {
                        "itemRatingValue": 4.2,
                        "itemNoOfRatings": 21
                    },
                    "itemPrice": 575
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/fish_rice_and_curry.jpg",
                    "itemId": "v3i2",
                    "itemTitle": "Fish Rice and Curry",
                    "itemDescription": "Thalapath Fish, 4 curries and papadam enhriched with the Sri Lankan taste.",
                    "itemRatings": {
                        "itemRatingValue": 4.2,
                        "itemNoOfRatings": 21
                    },
                    "itemPrice": 575
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/chicken_rice_and_curry.jpg",
                    "itemId": "v3i3",
                    "itemTitle": "Chicken Rice and Curry",
                    "itemDescription": "With 4 curries and papadam mixed with Sri Lankan spices.",
                    "itemRatings": {
                        "itemRatingValue": 4.4,
                        "itemNoOfRatings": 65
                    },
                    "itemPrice": 350
                },
            ],
        },
        {
            "vendorId": "v4",
            "vendorImageLocation": "../assets/vendor_list_view_images/the_impasta.jpg",
            "vendorName": "The Impasta",
            "vendorCatergories": [
                "Pasta",
                "Italian"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.1,
                "vendorNoOfRatings": 82
            },
            "location": "Colombo 1",
            "deliveryTime": "25-40 mins",
            "items": [
                {
                    "itemImageLocation": "../assets/vendor_page_images/bruschetta_pasta.jpg",
                    "itemId": "v4i1",
                    "itemTitle": "Brushcetta Pasta",
                    "itemDescription": "This Bruschetta Pasta with fresh tomatoes, basil, garlic, and olive oil.",
                    "itemRatings": {
                        "itemRatingValue": 4.0,
                        "itemNoOfRatings": 10
                    },
                    "itemPrice": 375
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/cheese_pasta.jpg",
                    "itemId": "v4i2",
                    "itemTitle": "Cheese Pasta",
                    "itemDescription": "Just remember that a single is a double and a double is a triple at Chicago’s Au Cheval.",
                    "itemRatings": {
                        "itemRatingValue": 4.7,
                        "itemNoOfRatings": 21
                    },
                    "itemPrice": 200
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/creamy_tomato_and_spinach_pasta.jpg",
                    "itemId": "v4i3",
                    "itemTitle": "Creamy Tomato and Spinach Pasta",
                    "itemDescription": "With special pesto sauce and mozzarella cheese.",
                    "itemRatings": {
                        "itemRatingValue": 3.5,
                        "itemNoOfRatings": 15
                    },
                    "itemPrice": 230
                },
            ],
        },
        {
            "vendorId": "v5",
            "vendorImageLocation": "../assets/vendor_list_view_images/thai_tanic.jpg",
            "vendorName": "Thai Tanic",
            "vendorCatergories": [
                "Soup",
                "Salad",
                "Thai"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.9,
                "vendorNoOfRatings": 29
            },
            "location": "Colombo 1",
            "deliveryTime": "20-35 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v6",
            "vendorImageLocation": "../assets/vendor_list_view_images/pita_pan.jpg",
            "vendorName": "Pita Pan",
            "vendorCatergories": [
                "Burgers",
                "Mediterrenean",
                "Thai"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.3,
                "vendorNoOfRatings": 10
            },
            "location": "Colombo 1",
            "deliveryTime": "12-15 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v7",
            "vendorImageLocation": "../assets/vendor_list_view_images/hoppers_and_betrayals.jpg",
            "vendorName": "Hoppers and Betrayals",
            "vendorCatergories": [
                "Hoppers",
                "Sri Lankan",
                "Indian"
            ],
            "vendorRatings": {
                "vendorRatingValue": 3.9,
                "vendorNoOfRatings": 84
            },
            "location": "Colombo 1",
            "deliveryTime": "22-35 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v8",
            "vendorImageLocation": "../assets/vendor_list_view_images/cutie_pies_and_cupcakes.jpg",
            "vendorName": "Cutie Pies and Cupcakes",
            "vendorCatergories": [
                "Cupcakes",
                "Sweet",
                "Sour"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.4,
                "vendorNoOfRatings": 97
            },
            "location": "Colombo 1",
            "deliveryTime": "35-50 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v9",
            "vendorImageLocation": "../assets/vendor_list_view_images/tikka-k_inta.jpg",
            "vendorName": "Tikka-k Inta",
            "vendorCatergories": [
                "Paratha",
                "Indian"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.9,
                "vendorNoOfRatings": 200
            },
            "location": "Colombo 1",
            "deliveryTime": "40-45 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v10",
            "vendorImageLocation": "../assets/vendor_list_view_images/the_codfather.jpg",
            "vendorName": "The Codfather",
            "vendorCatergories": [
                "Chips",
                "Fried Fish",
                "American"
            ],
            "vendorRatings": {
                "vendorRatingValue": 3.5,
                "vendorNoOfRatings": 73
            },
            "location": "Colombo 1",
            "deliveryTime": "5-15 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v11",
            "vendorImageLocation": "../assets/vendor_list_view_images/the_tipsy_cow.jpg",
            "vendorName": "The Tipsy Cow",
            "vendorCatergories": [
                "Cocktails",
                "Smoothies",
                "Juice"
            ],
            "vendorRatings": {
                "vendorRatingValue": 5.0,
                "vendorNoOfRatings": 55
            },
            "location": "Colombo 1",
            "deliveryTime": "10-30 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v12",
            "vendorImageLocation": "../assets/vendor_list_view_images/the_dairy_godmother.jpg",
            "vendorName": "The Dairy Godmother",
            "vendorCatergories": [
                "Dairy",
                "Milk",
                "Smoothies"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.0,
                "vendorNoOfRatings": 67
            },
            "location": "Colombo 1",
            "deliveryTime": "20-50 mins",
            "items": [

            ],
        },
    ],
    leaderboard: [
        {
            name: "Ihan Lelwala",
            points: 250
        },
        {
            name: "Vinula Uthsara",
            points: 300
        },
        {
            name: "Thenuka Perera",
            points: 260
        },
        {
            name: "Deshan Koswatte",
            points: 280
        },
    ]
});

module.exports = function () {
    return {
        getAllVendors: function () {
            return data.vendors;
        },
        getSpecificVendor: function (vendorId) {
            // returns vendor details for provided vendorId
            const vendor = data.vendors.find(vendor => vendor.vendorId === vendorId);
            return vendor;
        },
        getSpecificItem: function (itemId) {
            // return item details for provided itemId
            const allVendorsItems = data.vendors.flatMap(vendor => vendor.items)
            const item = allVendorsItems.find(item => item.itemId === itemId);
            return item;
        },
        getVendorIdFromVendorName: function (vendorName) {
            const vendor = data.vendors.find(vendor => vendor.vendorName === vendorName);
            return vendor.vendorId;
        },
        updateVendorAndItemRatings: function (vendorId, vendorRating, itemTitles, ratings) {
            // Updates the vendor ratings and item ratings accordingly.

            // Retrieve the vendor using the vendor Id so that it can be updated.
            const vendor = data.vendors.find(vendor => vendor.vendorId === vendorId);

            // Update the vendor ratings and increase the count of no: of rated people.
            vendor.vendorRatings.vendorRatingValue = (parseFloat(vendor.vendorRatings.vendorRatingValue * vendor.vendorRatings.vendorNoOfRatings) + parseFloat(vendorRating)) / (vendor.vendorRatings.vendorNoOfRatings + 1);
            vendor.vendorRatings.vendorNoOfRatings = vendor.vendorRatings.vendorNoOfRatings + 1;

            // Update the ratings of the vendor's items.
            var updatedVendorAndItemRatings = [];
            for (var i = 0; i < itemTitles.length; i++) {
                vendor.items.map(item => {
                    // Update if the item names match.
                    if (item.itemTitle.replace(/\s/g, "") === itemTitles[i]) {
                        updatedVendorAndItemRatings.push({
                            "itemImageLocation": item.itemImageLocation,
                            "itemId": item.itemId,
                            "itemTitle": item.itemTitle,
                            "itemDescription": item.itemDescription,
                            "itemRatings": {
                                "itemRatingValue": (parseFloat(item.itemRatings.itemRatingValue * item.itemRatings.itemNoOfRatings) + parseFloat(ratings[i])) / (item.itemRatings.itemNoOfRatings + 1),
                                "itemNoOfRatings": item.itemRatings.itemNoOfRatings + 1
                            },
                            "itemPrice": item.itemPrice
                        });
                    } else {
                        // Else check if the item is already there and add it if it is not there.
                        if (updatedVendorAndItemRatings.find(updatedItem => updatedItem.itemId === item.itemId) === undefined) {
                            updatedVendorAndItemRatings.push({
                                "itemImageLocation": item.itemImageLocation,
                                "itemId": item.itemId,
                                "itemTitle": item.itemTitle,
                                "itemDescription": item.itemDescription,
                                "itemRatings": {
                                    "itemRatingValue": item.itemRatings.itemRatingValue,
                                    "itemNoOfRatings": item.itemRatings.itemNoOfRatings
                                },
                                "itemPrice": item.itemPrice
                            });
                        }
                    }
                });
            }
            vendor.items = updatedVendorAndItemRatings;

            // CHeck if the update was successfull.
            var test = data.vendors.find(vendor => vendor.vendorId === vendorId);
            console.log("Updated Vendor:", test);
        },
        getLeaderboard: function ({ points }) {
            const loggedInUser = { name: "You", points };
            const leaderboardWithLoggedInUser = [...data.leaderboard, loggedInUser];
            return leaderboardWithLoggedInUser.sort((user1, user2) => user2.points - user1.points)
        }
    }
}()
},{}],8:[function(require,module,exports){
var $ = require('jquery')
$.mobile = require('jquery-mobile')

var cart = require('./cart');
cart.init();

var user = require('./user')
user.init();

var datastore = require('./datastore')

var utils = require('./utils')

var payment = require('./payment')

var vendorlist = require('./vendorlist')

var stripe = require('@stripe/stripe-js');

var emailjs = require('emailjs-com');
emailjs.init('user_9qHmfUChqBKT2SNghQ1v1');

window.app = {
    cart,
    user,
    datastore,
    utils,
    payment,
    stripe,
    vendorlist,
    emailjs
}

/**
 * Remove following scripts (attached to the window) before hiding the current page to load the next.
 * Since we are using AJAX navigation between the pages, these scripts will thrown us an error 
 * indicating that we are trying to load the scripts multple times.
 * The code given below prevents that issue by resetting the source code set on the window
 * each time the respective script is loaded.
 */
$(document).on("pagecontainerbeforehide", function (event, ui) {
    console.log('Page going to hide ... removing Google Maps scripts')
    window.google = undefined;
    window.Stripe = undefined;
})

const screenDimens = {
    iPad: 1024
}

const navigationPanelBlockedScreens = ["landing", "vendor-stories", "vendor-rating", "item-rating",
    "order-in-progress-page", "delivery-in-progress-page"];

/**
 * This function opens the navigation panel programatically
 * if the screen width is above the specified size
 * 
 * Refer https://forum.jquery.com/topic/responsive-panel-demo-broken-how-to-keep-a-panel-open-on-a-large-window
 */
const evaluatePanelOpen = function () {
    var width = $(window).width();
    if (width >= screenDimens.iPad) {
        console.log('Opening navigation panel');
        $("#navigation-menu").panel("open");
    } else {
        $("#navigation-menu").panel("close");
    }
}

/**
 * https://github.com/jquery/demos.jquerymobile.com/blob/master/1.4.5/panel-external/index.html
 */
$(document).on("pagecontainercreate", function () {
    $.get("navigation_side_bar.html", function (markup) {
        // Add the panel to the body
        $('body').append(markup);

        // Manually initialize the panel
        $("body>[data-role='panel']").enhanceWithin().panel();
        const activePage = $(":mobile-pagecontainer").pagecontainer("getActivePage")[0];
        const shouldShowPanel = !navigationPanelBlockedScreens.includes(activePage.id);
        if (shouldShowPanel) {
            // Check again when we navigate to another page
            evaluatePanelOpen();
        }

        $('body').on("pagecontainerchange", function (event, ui) {
            console.log("Navigating to page:", ui.toPage[0].id);
            if (!navigationPanelBlockedScreens.includes(ui.toPage[0].id)) {
                // Check again when we navigate to another page
                evaluatePanelOpen();
            }
        })

        $(window).on("resize", function () {
            // Check again when the window gets resized (maybe due to change in screen orientation)
            const activePage = $(":mobile-pagecontainer").pagecontainer("getActivePage")[0];
            const shouldShowPanel = !navigationPanelBlockedScreens.includes(activePage.id);
            if (shouldShowPanel) {
                // Check again when we navigate to another page
                evaluatePanelOpen();
            }
        })
    })
})

},{"./cart":6,"./datastore":7,"./payment":9,"./user":10,"./utils":11,"./vendorlist":12,"@stripe/stripe-js":1,"emailjs-com":2,"jquery":14,"jquery-mobile":13}],9:[function(require,module,exports){
const $ = require('jquery');

const SECRET_KEY = 'sk_test_51I3c8WBYsXgRXg4suIS6WCRMMcfMsNgopWokzuqiKXSo6pmVX00zIk7Up6ukdjZLEY6YfpclJ1lAUCBKpl6Y4fe600CfNE584P';

const postToStripeAPI = function ({ url, data, success, error }) {
    return $.ajax({
        beforeSend: function (xhr) {
            xhr.setRequestHeader('Authorization', `Bearer ${SECRET_KEY}`);
        },
        url: "https://api.stripe.com/v1/" + url,
        type: "POST",
        data,
        dataType: "json",
        success,
        error,
    })
}

const getFromStripeAPI = function ({ url, queryParams, success, error }) {
    return $.ajax({
        beforeSend: function (xhr) {
            xhr.setRequestHeader('Authorization', `Bearer ${SECRET_KEY}`);
        },
        url: "https://api.stripe.com/v1/" + url,
        type: "GET",
        data: queryParams,
        dataType: "json",
        success,
        error,
    })
}

module.exports = function () {
    return {
        createSessionToSaveCardDetails: function (options, success, error) {
            return postToStripeAPI({
                url: 'checkout/sessions',
                data: {
                    payment_method_types: ['card'],
                    mode: 'setup', // only setup the payment method, without charging any initial payment
                    ...options
                },
                success,
                error
            })
        },
        getAllCardsForCustomer: function (success, error) {
            const loggedInUser = require('./user').getPaymentDetails();

            // https://stripe.com/docs/api/payment_methods/list?lang=curl
            return getFromStripeAPI({
                url: 'payment_methods',
                queryParams: {
                    customer: loggedInUser.stripe_customer_id,
                    type: 'card'
                },
                success,
                error
            });
        },
        removeCard: function (cardId, success, error) {
            return postToStripeAPI({
                url: `payment_methods/${cardId}/detach`,
                success,
                error
            });
        },
        createCheckoutSession(options, success, error) {
            const loggedInUser = require('./user').getPaymentDetails();

            return postToStripeAPI({
                url: 'checkout/sessions',
                success,
                error,
                data: {
                    customer: loggedInUser.stripe_customer_id,
                    ...options,
                }
            })
        }
    }
}()
},{"./user":10,"jquery":14}],10:[function(require,module,exports){
const cookie = require('js-cookie');
const datastore = require('./datastore');

const USER = "user";

const DEFAULT_USER = {
    profile: {
        name: "John Doe",
        points: 270,
    },
    payment: {
        stripe_customer_id: 'cus_IhWwxopENtlI1P',
    },
    location: {
        display: "Delkanda, Nugegoda",
    },
    favorites: {
        items: [],
        vendors: [],
    }
}

const orders = {
    pastOrders: [
        {
            "pastOrderId": "ord1",
            "vendorCoverImageLocation": "../assets/past_orders/past_order_cover_image.jpg",
            "vendorLogoImageLocation": "../assets/stories_images/story-big.png",
            "vendorName": "Burgers Ahouy!",
            "noOfOrderedItems": 3,
            "price": 1000,
            "date": "Oct 10 at 12:12 PM",
            "vendorRating": 0,
            "vendorComment": "",
            "orderedItems": [
                {
                    "itemName": "Hawaiian Burger",
                    "quantity": 2,
                    "rating": 0,
                    "comment": ""
                },
                {
                    "itemName": "Pudding",
                    "quantity": 2,
                    "rating": 0,
                    "comment": ""
                },
                {
                    "itemName": "Special Chilli Sauce",
                    "quantity": 1,
                    "rating": 0,
                    "comment": ""
                }
            ]
        },
        {
            "pastOrderId": "ord2",
            "vendorCoverImageLocation": "../assets/past_orders/past_order_cover_image.jpg",
            "vendorLogoImageLocation": "../assets/stories_images/story-big.png",
            "vendorName": "Burgers Ahouy!",
            "noOfOrderedItems": 1,
            "price": 500,
            "date": "Oct 01 at 08:30 PM",
            "vendorRating": 4,
            "vendorComment": "The food is great but the quantity is not enough.",
            "orderedItems": [
                {
                    "itemName": "Fish and Chips Burger",
                    "quantity": 2,
                    "rating": 4,
                    "comment": "Great food. Please increase on the quantity a bit."
                },
            ]
        },
    ]
}

module.exports = function () {
    return {
        FAVORITE_TYPES: {
            ITEM: 'item',
            VENDOR: 'vendor',
        },
        init: function () {
            if (!cookie.get(USER)) { // Set cookie only if not already set
                cookie.set(USER, DEFAULT_USER)
            }
        },
        updateLocation: function ({ updatedLocation }) {
            const user = cookie.getJSON(USER);
            user.location.display = updatedLocation;
            cookie.set(USER, user);
            return null;
        },
        getDetails: function () {
            return cookie.getJSON(USER)
        },
        getPaymentDetails: function () {
            return cookie.getJSON(USER).payment
        },
        getAllOrders: function () {
            return orders.pastOrders;
        },
        getSpecificOrder: function (pastOrderId) {
            const order = orders.pastOrders.find(order => order.pastOrderId == pastOrderId);
            return order;
        },
        getFavorites: function () {
            let { vendors, items } = cookie.getJSON(USER).favorites;
            vendors = vendors.map(vendor => vendor.vendorId);
            items = items.map(item => item.itemId);

            const favoriteVendors = [];
            const favoriteItems = [];

            for (const vendor of datastore.getAllVendors()) {
                const vendorsItems = vendor.items;
                if (vendors.includes(vendor.vendorId)) {
                    favoriteVendors.push(vendor);
                }

                vendorsItems.forEach(item => {
                    if (items.includes(item.itemId)) {
                        favoriteItems.push(item);
                    }
                })

                if (vendors.length == favoriteVendors.length &&
                    items.length == favoriteItems.length) {
                    break;
                }
            }

            return { vendors: favoriteVendors, items: favoriteItems };
        },
        isItemFavorite: function (type, favoriteItem) {
            const loggedInUser = cookie.getJSON(USER);
            const currentFavorites = loggedInUser.favorites;

            switch (type) {
                case this.FAVORITE_TYPES.VENDOR:
                    return currentFavorites['vendors']
                        .findIndex(vendor => vendor.vendorId === favoriteItem.vendorId) > -1;

                case this.FAVORITE_TYPES.ITEM:
                    return currentFavorites['items']
                        .findIndex(i => i.itemId === favoriteItem.itemId) > -1;
            }

        },
        addFavorite: function (type, favoriteItem) {
            console.log('Adding favorite ...');

            // Retrieve details from cookie
            const loggedInUser = cookie.getJSON(USER);
            const currentFavorites = loggedInUser.favorites;

            // Update favorites
            switch (type) {
                case this.FAVORITE_TYPES.VENDOR:
                    const isVendorAlreadyMarkedFavorite = currentFavorites['vendors'].find(i => i.vendorId === favoriteItem.vendorId)
                    if (!isVendorAlreadyMarkedFavorite) {
                        const { vendorId } = favoriteItem;
                        currentFavorites['vendors'].push({ vendorId });
                    }
                    break;
                case this.FAVORITE_TYPES.ITEM:
                    const isItemAlreadyMarkedFavorite = currentFavorites['items'].find(i => i.itemId === favoriteItem.itemId)
                    if (!isItemAlreadyMarkedFavorite) {
                        const { itemId } = favoriteItem;
                        currentFavorites['items'].push({ itemId });
                    }
                    break;
            }

            const newFavorites = currentFavorites;
            const updatedUser = { ...loggedInUser, favorites: newFavorites };

            // Set the cookie
            console.log('Updated User ...', updatedUser);
            cookie.set(USER, updatedUser);
        },
        removeFavorite: function (type, favoriteItem) {
            console.log('Removing favorite ...');

            // Retrieve details from cookie
            const loggedInUser = cookie.getJSON(USER);
            const currentFavorites = loggedInUser.favorites;

            // Update favorites
            var newFavorites = {};
            if (type === this.FAVORITE_TYPES.VENDOR) {
                currentFavorites['vendors'] = currentFavorites['vendors'].filter(i => i.vendorId != favoriteItem.vendorId);
                newFavorites = { ...currentFavorites };
            } else if (type === this.FAVORITE_TYPES.ITEM) {
                currentFavorites['items'] = currentFavorites['items'].filter(i => i.itemId != favoriteItem.itemId);
                newFavorites = { ...currentFavorites };
            }

            const updatedUser = { ...loggedInUser, favorites: newFavorites };

            // Set the cookie
            console.log('Updated User ...', updatedUser);
            cookie.set(USER, updatedUser);
        },
        updateSpecificOrder: function (pastOrderId, updatedVendorRating, updatedVendorComment,
            updatedItemNames, updateItemRatings, updatedItemComments) {

            const order = orders.pastOrders.find(order => order.pastOrderId == pastOrderId);
            // Update the vendor rating and comment.
            order.vendorRating = updatedVendorRating
            order.vendorComment = updatedVendorComment

            // Update the item raings and comments.
            var updatedOrderItems = [];
            for (var i = 0; i < updatedItemNames.length; i++) {
                order.orderedItems.map(item => {
                    if (item.itemName.replace(/\s/g, "") === updatedItemNames[i]) {
                        updatedOrderItems.push({
                            "itemName": item.itemName,
                            "quantity": item.quantity,
                            "rating": updateItemRatings[i],
                            "comment": "",
                            // "comment": updatedItemComments[i] // TODO - Comments part Thenuka
                        });
                    }
                });
            }
            order.orderedItems = updatedOrderItems;

            var test = orders.pastOrders.find(order => order.pastOrderId == pastOrderId);
            console.log("Updated Order:", test);
        }
    }
}()

},{"./datastore":7,"js-cookie":5}],11:[function(require,module,exports){
module.exports = function () {
    return {
        parseUrlForQueryParams: function (url) {
            const queryParamString = url.split('?')[1]
            return queryParamString && queryParamString.split('&').reduce((acc, param) => {
                const key_value = param.split("=");
                acc[key_value[0]] = key_value[1]
                return acc;
            }, {}) || {};
        }
    }
}();
},{}],12:[function(require,module,exports){
const user = require('./user');

const data = Object.freeze({
    vendors: [
        {
            "vendorId": "v1",
            "vendorImageLocation": "../assets/vendor_list_view_images/burgers_ahouy.jpg",
            "vendorName": "Burgers Ahouy!",
            "vendorCatergories": [
                "Burgers",
                "American"
            ],
            "vendorRatings": {
                "vendorRatingValue": 2.6,
                "vendorNoOfRatings": 100
            },
            "location": "Colombo 3",
            "deliveryTime": "25-30 mins",
            "items": [
                {
                    "itemImageLocation": "../assets/vendor_page_images/tom_yum_soup.jpg",
                    "itemId": "v1i1",
                    "itemTitle": "Tom Yum Soup",
                    "itemDescription": "Picked from the fresh vegetables and fish from the with special Chicken Broth.",
                    "itemRatings": {
                        "itemRatingValue": 4.6,
                        "itemNoOfRatings": 47
                    },
                    "itemPrice": 800
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/crispy_chicken_burger.jpg",
                    "itemId": "v1i2",
                    "itemTitle": "Crispy Chicken Burger",
                    "itemDescription": "Crispy, Chicky, Crispy Chicken Burger. It’s pretty much self-explanatory.",
                    "itemRatings": {
                        "itemRatingValue": 4.0,
                        "itemNoOfRatings": 10
                    },
                    "itemPrice": 450
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/hawaiian_burger.jpg",
                    "itemId": "v1i3",
                    "itemTitle": "Hawaiian Burger",
                    "itemDescription": "Yes! Pineapples go on burgers too. Don’t let others tell you otherwise.",
                    "itemRatings": {
                        "itemRatingValue": 4.8,
                        "itemNoOfRatings": 45
                    },
                    "itemPrice": 600
                }
            ],
        },
        {
            "vendorId": "v2",
            "vendorImageLocation": "../assets/vendor_list_view_images/pizza_palpatha.jpg",
            "vendorName": "Pizza Palpatha",
            "vendorCatergories": [
                "Italian",
                "American",
                "Pizza"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.8,
                "vendorNoOfRatings": 99
            },
            "location": "Colombo 5",
            "deliveryTime": "15-20 mins",
            "items": [
                {
                    "itemImageLocation": "../assets/vendor_page_images/cheese_lovers_pizza.jpg",
                    "itemId": "v2i1",
                    "itemTitle": "Cheese Lovers Pizza",
                    "itemDescription": "Rich tomato sauce with a triple layer of mozzarella cheese.",
                    "itemRatings": {
                        "itemRatingValue": 4.5,
                        "itemNoOfRatings": 55
                    },
                    "itemPrice": 500
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/chicken_bacon_pizza.jpg",
                    "itemId": "v2i2",
                    "itemTitle": "Chicken Bacon Pizza",
                    "itemDescription": "Chicken bacon, onions & green chillies with a double layer of mozzarella cheese.",
                    "itemRatings": {
                        "itemRatingValue": 4.9,
                        "itemNoOfRatings": 90
                    },
                    "itemPrice": 300
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/devilled_chicken_pizza.jpg",
                    "itemId": "v2i3",
                    "itemTitle": "Devilled Chicken Pizza",
                    "itemDescription": "Devilled chicken in spicy sauce with a double layer of mozzarella cheese.",
                    "itemRatings": {
                        "itemRatingValue": 4.1,
                        "itemNoOfRatings": 75
                    },
                    "itemPrice": 470
                }
            ],
        },
        {
            "vendorId": "v3",
            "vendorImageLocation": "../assets/vendor_list_view_images/bathui_pol_sambolai.jpg",
            "vendorName": "Bathui Pol Sambolai",
            "vendorCatergories": [
                "Rice",
                "Sri Lankan"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.5,
                "vendorNoOfRatings": 150
            },
            "location": "Colombo 7",
            "deliveryTime": "5-10 mins",
            "items": [
                {
                    "itemImageLocation": "../assets/vendor_page_images/prawn_curry_and_rice.jpg",
                    "itemId": "v3i1",
                    "itemTitle": "Prawn Curry and Rice",
                    "itemDescription": "Prawn curry prepared to special Goa recipe with thick coconut gravy.",
                    "itemRatings": {
                        "itemRatingValue": 4.2,
                        "itemNoOfRatings": 21
                    },
                    "itemPrice": 575
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/fish_rice_and_curry.jpg",
                    "itemId": "v3i2",
                    "itemTitle": "Fish Rice and Curry",
                    "itemDescription": "Thalapath Fish, 4 curries and papadam enhriched with the Sri Lankan taste.",
                    "itemRatings": {
                        "itemRatingValue": 4.2,
                        "itemNoOfRatings": 21
                    },
                    "itemPrice": 575
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/chicken_rice_and_curry.jpg",
                    "itemId": "v3i3",
                    "itemTitle": "Chicken Rice and Curry",
                    "itemDescription": "With 4 curries and papadam mixed with Sri Lankan spices.",
                    "itemRatings": {
                        "itemRatingValue": 4.4,
                        "itemNoOfRatings": 65
                    },
                    "itemPrice": 350
                },
            ],
        },
        {
            "vendorId": "v4",
            "vendorImageLocation": "../assets/vendor_list_view_images/the_impasta.jpg",
            "vendorName": "The Impasta",
            "vendorCatergories": [
                "Pasta",
                "Italian"
            ],
            "vendorRatings": {
                "vendorRatingValue": 3.1,
                "vendorNoOfRatings": 82
            },
            "location": "Colombo 1",
            "deliveryTime": "40-50 mins",
            "items": [
                {
                    "itemImageLocation": "../assets/vendor_page_images/bruschetta_pasta.jpg",
                    "itemId": "v4i1",
                    "itemTitle": "Brushcetta Pasta",
                    "itemDescription": "This Bruschetta Pasta with fresh tomatoes, basil, garlic, and olive oil.",
                    "itemRatings": {
                        "itemRatingValue": 4.0,
                        "itemNoOfRatings": 10
                    },
                    "itemPrice": 375
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/cheese_pasta.jpg",
                    "itemId": "v4i2",
                    "itemTitle": "Cheese Pasta",
                    "itemDescription": "Just remember that a single is a double and a double is a triple at Chicago’s Au Cheval.",
                    "itemRatings": {
                        "itemRatingValue": 4.7,
                        "itemNoOfRatings": 21
                    },
                    "itemPrice": 200
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/creamy_tomato_and_spinach_pasta.jpg",
                    "itemId": "v4i3",
                    "itemTitle": "Creamy Tomato and Spinach Pasta",
                    "itemDescription": "With special pesto sauce and mozzarella cheese.",
                    "itemRatings": {
                        "itemRatingValue": 3.5,
                        "itemNoOfRatings": 15
                    },
                    "itemPrice": 230
                },
            ],
        },
        {
            "vendorId": "v5",
            "vendorImageLocation": "../assets/vendor_list_view_images/thai_tanic.jpg",
            "vendorName": "Thai Tanic",
            "vendorCatergories": [
                "Soup",
                "Salad",
                "Thai"
            ],
            "vendorRatings": {
                "vendorRatingValue": 3.9,
                "vendorNoOfRatings": 29
            },
            "location": "Colombo 1",
            "deliveryTime": "20-30 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v6",
            "vendorImageLocation": "../assets/vendor_list_view_images/pita_pan.jpg",
            "vendorName": "Pita Pan",
            "vendorCatergories": [
                "Burgers",
                "Mediterrenean",
                "Thai"
            ],
            "vendorRatings": {
                "vendorRatingValue": 2.3,
                "vendorNoOfRatings": 10
            },
            "location": "Colombo 1",
            "deliveryTime": "12-15 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v7",
            "vendorImageLocation": "../assets/vendor_list_view_images/hoppers_and_betrayals.jpg",
            "vendorName": "Hoppers and Betrayals",
            "vendorCatergories": [
                "Hoppers",
                "Sri Lankan",
                "Indian"
            ],
            "vendorRatings": {
                "vendorRatingValue": 1.9,
                "vendorNoOfRatings": 84
            },
            "location": "Colombo 1",
            "deliveryTime": "35-40 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v8",
            "vendorImageLocation": "../assets/vendor_list_view_images/cutie_pies_and_cupcakes.jpg",
            "vendorName": "Cutie Pies and Cupcakes",
            "vendorCatergories": [
                "Cupcakes",
                "Sweet",
                "Sour"
            ],
            "vendorRatings": {
                "vendorRatingValue": 3.4,
                "vendorNoOfRatings": 97
            },
            "location": "Colombo 1",
            "deliveryTime": "50-55 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v9",
            "vendorImageLocation": "../assets/vendor_list_view_images/tikka-k_inta.jpg",
            "vendorName": "Tikka-k Inta",
            "vendorCatergories": [
                "Paratha",
                "Indian"
            ],
            "vendorRatings": {
                "vendorRatingValue": 3.9,
                "vendorNoOfRatings": 200
            },
            "location": "Colombo 1",
            "deliveryTime": "45-50 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v10",
            "vendorImageLocation": "../assets/vendor_list_view_images/the_codfather.jpg",
            "vendorName": "The Codfather",
            "vendorCatergories": [
                "Chips",
                "Fried Fish",
                "American"
            ],
            "vendorRatings": {
                "vendorRatingValue": 5.5,
                "vendorNoOfRatings": 73
            },
            "location": "Colombo 1",
            "deliveryTime": "5-15 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v11",
            "vendorImageLocation": "../assets/vendor_list_view_images/the_tipsy_cow.jpg",
            "vendorName": "The Tipsy Cow",
            "vendorCatergories": [
                "Cocktails",
                "Smoothies",
                "Juice"
            ],
            "vendorRatings": {
                "vendorRatingValue": 5.0,
                "vendorNoOfRatings": 55
            },
            "location": "Colombo 1",
            "deliveryTime": "10-15 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v12",
            "vendorImageLocation": "../assets/vendor_list_view_images/the_dairy_godmother.jpg",
            "vendorName": "The Dairy Godmother",
            "vendorCatergories": [
                "Dairy",
                "Milk",
                "Smoothies"
            ],
            "vendorRatings": {
                "vendorRatingValue": 5.6,
                "vendorNoOfRatings": 67
            },
            "location": "Colombo 1",
            "deliveryTime": "55-60 mins",
            "items": [

            ],
        },
    ],
    leaderboard: [
        {
            name: "Ihan Lelwala",
            points: 250
        },
        {
            name: "Vinula Uthsara",
            points: 300
        },
        {
            name: "Thenuka Perera",
            points: 260
        },
        {
            name: "Deshan Koswatte",
            points: 280
        },
    ]
});

module.exports = function () {
    return {
        getAllVendors: function () {
            return data.vendors;
        },
        getSpecificVendor: function (vendorId) {
            // returns vendor details for provided vendorId
            const vendor = data.vendors.find(vendor => vendor.vendorId === vendorId);
            return vendor;
        },
        getSpecificItem: function (itemId) {
            // return item details for provided itemId
            const allVendorsItems = data.vendors.flatMap(vendor => vendor.items)
            const item = allVendorsItems.find(item => item.itemId === itemId);
            return item;
        },
        getLeaderboard: function () {
            const { points } = user.getDetails().profile;
            const loggedInUser = { name: "You", points };
            const leaderboardWithLoggedInUser = [...data.leaderboard, loggedInUser];
            return leaderboardWithLoggedInUser.sort((user1, user2) => user2.points - user1.points)
        }
    }
}()
},{"./user":10}],13:[function(require,module,exports){
(function (global){(function (){
(function browserifyShim(module, exports, define, browserify_shim__define__module__export__) {

; global.$ = require("jquery");
/*! jQuery Mobile 1.4.5 | Git HEADhash: 68e55e7 <> 2014-10-31T17:33:30Z | (c) 2010, 2014 jQuery Foundation, Inc. | jquery.org/license */

!function(a,b,c){"function"==typeof define&&define.amd?define(["jquery"],function(d){return c(d,a,b),d.mobile}):c(a.jQuery,a,b)}(this,document,function(a,b,c){!function(a){a.mobile={}}(a),function(a,b){function d(b,c){var d,f,g,h=b.nodeName.toLowerCase();return"area"===h?(d=b.parentNode,f=d.name,b.href&&f&&"map"===d.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&e(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&e(b)}function e(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var f=0,g=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"c0ab71056b936627e8a7821f03c044aec6280a40",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(this[0].ownerDocument||c):b},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++f)})},removeUniqueId:function(){return this.each(function(){g.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return d(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),e=isNaN(c);return(e||c>=0)&&d(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in c.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(d){if(d!==b)return this.css("zIndex",d);if(this.length)for(var e,f,g=a(this[0]);g.length&&g[0]!==c;){if(e=g.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(f=parseInt(g.css("zIndex"),10),!isNaN(f)&&0!==f))return f;g=g.parent()}return 0}}),a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}}}(a),function(a,b){var d=function(b,c){var d=b.parent(),e=[],f=function(){var b=a(this),c=a.mobile.toolbar&&b.data("mobile-toolbar")?b.toolbar("option"):{position:b.attr("data-"+a.mobile.ns+"position"),updatePagePadding:b.attr("data-"+a.mobile.ns+"update-page-padding")!==!1};return!("fixed"===c.position&&c.updatePagePadding===!0)},g=d.children(":jqmData(role='header')").filter(f),h=b.children(":jqmData(role='header')"),i=d.children(":jqmData(role='footer')").filter(f),j=b.children(":jqmData(role='footer')");return 0===h.length&&g.length>0&&(e=e.concat(g.toArray())),0===j.length&&i.length>0&&(e=e.concat(i.toArray())),a.each(e,function(b,d){c-=a(d).outerHeight()}),Math.max(0,c)};a.extend(a.mobile,{window:a(b),document:a(c),keyCode:a.ui.keyCode,behaviors:{},silentScroll:function(c){"number"!==a.type(c)&&(c=a.mobile.defaultHomeScroll),a.event.special.scrollstart.enabled=!1,setTimeout(function(){b.scrollTo(0,c),a.mobile.document.trigger("silentscroll",{x:0,y:c})},20),setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},getClosestBaseUrl:function(b){var c=a(b).closest(".ui-page").jqmData("url"),d=a.mobile.path.documentBase.hrefNoHash;return a.mobile.dynamicBaseEnabled&&c&&a.mobile.path.isPath(c)||(c=d),a.mobile.path.makeUrlAbsolute(c,d)},removeActiveLinkClass:function(b){!a.mobile.activeClickedLink||a.mobile.activeClickedLink.closest("."+a.mobile.activePageClass).length&&!b||a.mobile.activeClickedLink.removeClass(a.mobile.activeBtnClass),a.mobile.activeClickedLink=null},getInheritedTheme:function(a,b){for(var c,d,e=a[0],f="",g=/ui-(bar|body|overlay)-([a-z])\b/;e&&(c=e.className||"",!(c&&(d=g.exec(c))&&(f=d[2])));)e=e.parentNode;return f||b||"a"},enhanceable:function(a){return this.haveParents(a,"enhance")},hijackable:function(a){return this.haveParents(a,"ajax")},haveParents:function(b,c){if(!a.mobile.ignoreContentEnabled)return b;var d,e,f,g,h,i=b.length,j=a();for(g=0;i>g;g++){for(e=b.eq(g),f=!1,d=b[g];d;){if(h=d.getAttribute?d.getAttribute("data-"+a.mobile.ns+c):"","false"===h){f=!0;break}d=d.parentNode}f||(j=j.add(e))}return j},getScreenHeight:function(){return b.innerHeight||a.mobile.window.height()},resetActivePageHeight:function(b){var c=a("."+a.mobile.activePageClass),e=c.height(),f=c.outerHeight(!0);b=d(c,"number"==typeof b?b:a.mobile.getScreenHeight()),c.css("min-height",""),c.height()<b&&c.css("min-height",b-(f-e))},loading:function(){var b=this.loading._widget||a(a.mobile.loader.prototype.defaultHtml).loader(),c=b.loader.apply(b,arguments);return this.loading._widget=b,c}}),a.addDependents=function(b,c){var d=a(b),e=d.jqmData("dependents")||a();d.jqmData("dependents",a(e).add(c))},a.fn.extend({removeWithDependents:function(){a.removeWithDependents(this)},enhanceWithin:function(){var b,c={},d=a.mobile.page.prototype.keepNativeSelector(),e=this;a.mobile.nojs&&a.mobile.nojs(this),a.mobile.links&&a.mobile.links(this),a.mobile.degradeInputsWithin&&a.mobile.degradeInputsWithin(this),a.fn.buttonMarkup&&this.find(a.fn.buttonMarkup.initSelector).not(d).jqmEnhanceable().buttonMarkup(),a.fn.fieldcontain&&this.find(":jqmData(role='fieldcontain')").not(d).jqmEnhanceable().fieldcontain(),a.each(a.mobile.widgets,function(b,f){if(f.initSelector){var g=a.mobile.enhanceable(e.find(f.initSelector));g.length>0&&(g=g.not(d)),g.length>0&&(c[f.prototype.widgetName]=g)}});for(b in c)c[b][b]();return this},addDependents:function(b){a.addDependents(this,b)},getEncodedText:function(){return a("<a>").text(this.text()).html()},jqmEnhanceable:function(){return a.mobile.enhanceable(this)},jqmHijackable:function(){return a.mobile.hijackable(this)}}),a.removeWithDependents=function(b){var c=a(b);(c.jqmData("dependents")||a()).remove(),c.remove()},a.addDependents=function(b,c){var d=a(b),e=d.jqmData("dependents")||a();d.jqmData("dependents",a(e).add(c))},a.find.matches=function(b,c){return a.find(b,null,null,c)},a.find.matchesSelector=function(b,c){return a.find(c,null,null,[b]).length>0}}(a,this),function(a){a.extend(a.mobile,{version:"1.4.5",subPageUrlKey:"ui-page",hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:0,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,buttonMarkup:{hoverDelay:200},dynamicBaseEnabled:!0,pageContainer:a(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})}(a,this),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];return b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g),g},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,this.each(h?function(){var d,e=a.data(this,f);return"instance"===g?(j=e,!1):e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}:function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(a),function(a,b,c){var d={},e=a.find,f=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,g=/:jqmData\(([^)]*)\)/g;a.extend(a.mobile,{ns:"",getAttribute:function(b,c){var d;b=b.jquery?b[0]:b,b&&b.getAttribute&&(d=b.getAttribute("data-"+a.mobile.ns+c));try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:f.test(d)?JSON.parse(d):d}catch(e){}return d},nsNormalizeDict:d,nsNormalize:function(b){return d[b]||(d[b]=a.camelCase(a.mobile.ns+b))},closestPageData:function(a){return a.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),a.fn.jqmData=function(b,d){var e;return"undefined"!=typeof b&&(b&&(b=a.mobile.nsNormalize(b)),e=arguments.length<2||d===c?this.data(b):this.data(b,d)),e},a.jqmData=function(b,c,d){var e;return"undefined"!=typeof c&&(e=a.data(b,c?a.mobile.nsNormalize(c):c,d)),e},a.fn.jqmRemoveData=function(b){return this.removeData(a.mobile.nsNormalize(b))},a.jqmRemoveData=function(b,c){return a.removeData(b,a.mobile.nsNormalize(c))},a.find=function(b,c,d,f){return b.indexOf(":jqmData")>-1&&(b=b.replace(g,"[data-"+(a.mobile.ns||"")+"$1]")),e.call(this,b,c,d,f)},a.extend(a.find,e)}(a,this),function(a){var b=/[A-Z]/g,c=function(a){return"-"+a.toLowerCase()};a.extend(a.Widget.prototype,{_getCreateOptions:function(){var d,e,f=this.element[0],g={};if(!a.mobile.getAttribute(f,"defaults"))for(d in this.options)e=a.mobile.getAttribute(f,d.replace(b,c)),null!=e&&(g[d]=e);return g}}),a.mobile.widget=a.Widget}(a),function(a){var b="ui-loader",c=a("html");a.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+b+"'><span class='ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var b=a("."+a.mobile.activeBtnClass).first();this.element.css({top:a.support.scrollTop&&this.window.scrollTop()+this.window.height()/2||b.length&&b.offset().top||100})},checkLoaderPosition:function(){var b=this.element.offset(),c=this.window.scrollTop(),d=a.mobile.getScreenHeight();(b.top<c||b.top-c>d)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),this.window.unbind("scroll",this.checkLoaderPosition).bind("scroll",a.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(a(this.defaultHtml).html())},show:function(d,e,f){var g,h,i;this.resetHtml(),"object"===a.type(d)?(i=a.extend({},this.options,d),d=i.theme):(i=this.options,d=d||i.theme),h=e||(i.text===!1?"":i.text),c.addClass("ui-loading"),g=i.textVisible,this.element.attr("class",b+" ui-corner-all ui-body-"+d+" ui-loader-"+(g||e||d.text?"verbose":"default")+(i.textonly||f?" ui-loader-textonly":"")),i.html?this.element.html(i.html):this.element.find("h1").text(h),this.element.appendTo(a(a.mobile.pagecontainer?":mobile-pagecontainer":"body")),this.checkLoaderPosition(),this.window.bind("scroll",a.proxy(this.checkLoaderPosition,this))},hide:function(){c.removeClass("ui-loading"),this.options.text&&this.element.removeClass("ui-loader-fakefix"),this.window.unbind("scroll",this.fakeFixLoader),this.window.unbind("scroll",this.checkLoaderPosition)}})}(a,this),function(a,b,d){"$:nomunge";function e(a){return a=a||location.href,"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var f,g="hashchange",h=c,i=a.event.special,j=h.documentMode,k="on"+g in b&&(j===d||j>7);a.fn[g]=function(a){return a?this.bind(g,a):this.trigger(g)},a.fn[g].delay=50,i[g]=a.extend(i[g],{setup:function(){return k?!1:void a(f.start)},teardown:function(){return k?!1:void a(f.stop)}}),f=function(){function c(){var d=e(),h=n(j);d!==j?(m(j=d,h),a(b).trigger(g)):h!==j&&(location.href=location.href.replace(/#.*/,"")+h),f=setTimeout(c,a.fn[g].delay)}var f,i={},j=e(),l=function(a){return a},m=l,n=l;return i.start=function(){f||c()},i.stop=function(){f&&clearTimeout(f),f=d},b.attachEvent&&!b.addEventListener&&!k&&function(){var b,d;i.start=function(){b||(d=a.fn[g].src,d=d&&d+e(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){d||m(e()),c()}).attr("src",d||"javascript:0").insertAfter("body")[0].contentWindow,h.onpropertychange=function(){try{"title"===event.propertyName&&(b.document.title=h.title)}catch(a){}})},i.stop=l,n=function(){return e(b.location.href)},m=function(c,d){var e=b.document,f=a.fn[g].domain;c!==d&&(e.title=h.title,e.open(),f&&e.write('<script>document.domain="'+f+'"</script>'),e.close(),b.location.hash=c)}}(),i}()}(a,this),function(a){b.matchMedia=b.matchMedia||function(a){var b,c=a.documentElement,d=c.firstElementChild||c.firstChild,e=a.createElement("body"),f=a.createElement("div");return f.id="mq-test-1",f.style.cssText="position:absolute;top:-100em",e.style.background="none",e.appendChild(f),function(a){return f.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',c.insertBefore(e,d),b=42===f.offsetWidth,c.removeChild(e),{matches:b,media:a}}}(c),a.mobile.media=function(a){return b.matchMedia(a).matches}}(a),function(a){var b={touch:"ontouchend"in c};a.mobile.support=a.mobile.support||{},a.extend(a.support,b),a.extend(a.mobile.support,b)}(a),function(a){a.extend(a.support,{orientation:"orientation"in b&&"onorientationchange"in b})}(a),function(a,d){function e(a){var b,c=a.charAt(0).toUpperCase()+a.substr(1),e=(a+" "+o.join(c+" ")+c).split(" ");for(b in e)if(n[e[b]]!==d)return!0}function f(){var c=b,d=!(!c.document.createElementNS||!c.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||c.opera&&-1===navigator.userAgent.indexOf("Chrome")),e=function(b){b&&d||a("html").addClass("ui-nosvg")},f=new c.Image;f.onerror=function(){e(!1)},f.onload=function(){e(1===f.width&&1===f.height)},f.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}function g(){var e,f,g,h="transform-3d",i=a.mobile.media("(-"+o.join("-"+h+"),(-")+"-"+h+"),("+h+")");if(i)return!!i;e=c.createElement("div"),f={MozTransform:"-moz-transform",transform:"transform"},m.append(e);for(g in f)e.style[g]!==d&&(e.style[g]="translate3d( 100px, 1px, 1px )",i=b.getComputedStyle(e).getPropertyValue(f[g]));return!!i&&"none"!==i}function h(){var b,c,d=location.protocol+"//"+location.host+location.pathname+"ui-dir/",e=a("head base"),f=null,g="";return e.length?g=e.attr("href"):e=f=a("<base>",{href:d}).appendTo("head"),b=a("<a href='testurl' />").prependTo(m),c=b[0].href,e[0].href=g||location.pathname,f&&f.remove(),0===c.indexOf(d)}function i(){var a,d=c.createElement("x"),e=c.documentElement,f=b.getComputedStyle;return"pointerEvents"in d.style?(d.style.pointerEvents="auto",d.style.pointerEvents="x",e.appendChild(d),a=f&&"auto"===f(d,"").pointerEvents,e.removeChild(d),!!a):!1}function j(){var a=c.createElement("div");return"undefined"!=typeof a.getBoundingClientRect}function k(){var a=b,c=navigator.userAgent,d=navigator.platform,e=c.match(/AppleWebKit\/([0-9]+)/),f=!!e&&e[1],g=c.match(/Fennec\/([0-9]+)/),h=!!g&&g[1],i=c.match(/Opera Mobi\/([0-9]+)/),j=!!i&&i[1];return(d.indexOf("iPhone")>-1||d.indexOf("iPad")>-1||d.indexOf("iPod")>-1)&&f&&534>f||a.operamini&&"[object OperaMini]"==={}.toString.call(a.operamini)||i&&7458>j||c.indexOf("Android")>-1&&f&&533>f||h&&6>h||"palmGetResource"in b&&f&&534>f||c.indexOf("MeeGo")>-1&&c.indexOf("NokiaBrowser/8.5.0")>-1?!1:!0}var l,m=a("<body>").prependTo("html"),n=m[0].style,o=["Webkit","Moz","O"],p="palmGetResource"in b,q=b.operamini&&"[object OperaMini]"==={}.toString.call(b.operamini),r=b.blackberry&&!e("-webkit-transform");a.extend(a.mobile,{browser:{}}),a.mobile.browser.oldIE=function(){var a=3,b=c.createElement("div"),d=b.all||[];do b.innerHTML="<!--[if gt IE "+ ++a+"]><br><![endif]-->";while(d[0]);return a>4?a:!a}(),a.extend(a.support,{pushState:"pushState"in history&&"replaceState"in history&&!(b.navigator.userAgent.indexOf("Firefox")>=0&&b.top!==b)&&-1===b.navigator.userAgent.search(/CriOS/),mediaquery:a.mobile.media("only all"),cssPseudoElement:!!e("content"),touchOverflow:!!e("overflowScrolling"),cssTransform3d:g(),boxShadow:!!e("boxShadow")&&!r,fixedPosition:k(),scrollTop:("pageXOffset"in b||"scrollTop"in c.documentElement||"scrollTop"in m[0])&&!p&&!q,dynamicBaseTag:h(),cssPointerEvents:i(),boundingRect:j(),inlineSVG:f}),m.remove(),l=function(){var a=b.navigator.userAgent;return a.indexOf("Nokia")>-1&&(a.indexOf("Symbian/3")>-1||a.indexOf("Series60/5")>-1)&&a.indexOf("AppleWebKit")>-1&&a.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),a.mobile.gradeA=function(){return(a.support.mediaquery&&a.support.cssPseudoElement||a.mobile.browser.oldIE&&a.mobile.browser.oldIE>=8)&&(a.support.boundingRect||null!==a.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},a.mobile.ajaxBlacklist=b.blackberry&&!b.WebKitPoint||q||l,l&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),a.support.boxShadow||a("html").addClass("ui-noboxshadow")}(a),function(a,b){var c,d=a.mobile.window,e=function(){};a.event.special.beforenavigate={setup:function(){d.on("navigate",e)},teardown:function(){d.off("navigate",e)}},a.event.special.navigate=c={bound:!1,pushStateEnabled:!0,originalEventName:b,isPushStateEnabled:function(){return a.support.pushState&&a.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return a.mobile.hashListeningEnabled===!0},popstate:function(b){var c=new a.Event("navigate"),e=new a.Event("beforenavigate"),f=b.originalEvent.state||{};e.originalEvent=b,d.trigger(e),e.isDefaultPrevented()||(b.historyState&&a.extend(f,b.historyState),c.originalEvent=b,setTimeout(function(){d.trigger(c,{state:f})},0))},hashchange:function(b){var c=new a.Event("navigate"),e=new a.Event("beforenavigate");e.originalEvent=b,d.trigger(e),e.isDefaultPrevented()||(c.originalEvent=b,d.trigger(c,{state:b.hashchangeState||{}}))},setup:function(){c.bound||(c.bound=!0,c.isPushStateEnabled()?(c.originalEventName="popstate",d.bind("popstate.navigate",c.popstate)):c.isHashChangeEnabled()&&(c.originalEventName="hashchange",d.bind("hashchange.navigate",c.hashchange)))}}}(a),function(a,c){var d,e,f="&ui-state=dialog";a.mobile.path=d={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(a){var b=this.parseUrl(a||location.href),c=a?b:location,d=b.hash;return d="#"===d?"":d,c.protocol+b.doubleSlash+c.host+(""!==c.protocol&&"/"!==c.pathname.substring(0,1)?"/":"")+c.pathname+c.search+d},getDocumentUrl:function(b){return b?a.extend({},d.documentUrl):d.documentUrl.href},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(b){if("object"===a.type(b))return b;var c=d.urlParseRE.exec(b||"")||[];return{href:c[0]||"",hrefNoHash:c[1]||"",hrefNoSearch:c[2]||"",domain:c[3]||"",protocol:c[4]||"",doubleSlash:c[5]||"",authority:c[6]||"",username:c[8]||"",password:c[9]||"",host:c[10]||"",hostname:c[11]||"",port:c[12]||"",pathname:c[13]||"",directory:c[14]||"",filename:c[15]||"",search:c[16]||"",hash:c[17]||""}},makePathAbsolute:function(a,b){var c,d,e,f;if(a&&"/"===a.charAt(0))return a;for(a=a||"",b=b?b.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",c=b?b.split("/"):[],d=a.split("/"),e=0;e<d.length;e++)switch(f=d[e]){case".":break;case"..":c.length&&c.pop();break;default:c.push(f)}return"/"+c.join("/")},isSameDomain:function(a,b){return d.parseUrl(a).domain.toLowerCase()===d.parseUrl(b).domain.toLowerCase()},isRelativeUrl:function(a){return""===d.parseUrl(a).protocol},isAbsoluteUrl:function(a){return""!==d.parseUrl(a).protocol},makeUrlAbsolute:function(a,b){if(!d.isRelativeUrl(a))return a;b===c&&(b=this.documentBase);var e=d.parseUrl(a),f=d.parseUrl(b),g=e.protocol||f.protocol,h=e.protocol?e.doubleSlash:e.doubleSlash||f.doubleSlash,i=e.authority||f.authority,j=""!==e.pathname,k=d.makePathAbsolute(e.pathname||f.filename,f.pathname),l=e.search||!j&&f.search||"",m=e.hash;return g+h+i+k+l+m},addSearchParams:function(b,c){var e=d.parseUrl(b),f="object"==typeof c?a.param(c):c,g=e.search||"?";return e.hrefNoSearch+g+("?"!==g.charAt(g.length-1)?"&":"")+f+(e.hash||"")},convertUrlToDataUrl:function(a){var c=a,e=d.parseUrl(a);return d.isEmbeddedPage(e)?c=e.hash.split(f)[0].replace(/^#/,"").replace(/\?.*$/,""):d.isSameDomain(e,this.documentBase)&&(c=e.hrefNoHash.replace(this.documentBase.domain,"").split(f)[0]),b.decodeURIComponent(c)},get:function(a){return a===c&&(a=d.parseLocation().hash),d.stripHash(a).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(a){location.hash=a},isPath:function(a){return/\//.test(a)},clean:function(a){return a.replace(this.documentBase.domain,"")},stripHash:function(a){return a.replace(/^#/,"")},stripQueryParams:function(a){return a.replace(/\?.*$/,"")},cleanHash:function(a){return d.stripHash(a.replace(/\?.*$/,"").replace(f,""))},isHashValid:function(a){return/^#[^#]+$/.test(a)},isExternal:function(a){var b=d.parseUrl(a);return!(!b.protocol||b.domain.toLowerCase()===this.documentUrl.domain.toLowerCase())},hasProtocol:function(a){return/^(:?\w+:)/.test(a)},isEmbeddedPage:function(a){var b=d.parseUrl(a);return""!==b.protocol?!this.isPath(b.hash)&&b.hash&&(b.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&b.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(b.href)},squash:function(a,b){var c,e,f,g,h,i=this.isPath(a),j=this.parseUrl(a),k=j.hash,l="";return b||(i?b=d.getLocation():(h=d.getDocumentUrl(!0),b=d.isPath(h.hash)?d.squash(h.href):h.href)),e=i?d.stripHash(a):a,e=d.isPath(j.hash)?d.stripHash(j.hash):e,g=e.indexOf(this.uiStateKey),g>-1&&(l=e.slice(g),e=e.slice(0,g)),c=d.makeUrlAbsolute(e,b),f=this.parseUrl(c).search,i?((d.isPath(k)||0===k.replace("#","").indexOf(this.uiStateKey))&&(k=""),l&&-1===k.indexOf(this.uiStateKey)&&(k+=l),-1===k.indexOf("#")&&""!==k&&(k="#"+k),c=d.parseUrl(c),c=c.protocol+c.doubleSlash+c.host+c.pathname+f+k):c+=c.indexOf("#")>-1?l:"#"+l,c},isPreservableHash:function(a){return 0===a.replace("#","").indexOf(this.uiStateKey)},hashToSelector:function(a){var b="#"===a.substring(0,1);return b&&(a=a.substring(1)),(b?"#":"")+a.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")},getFilePath:function(a){return a&&a.split(f)[0]},isFirstPageUrl:function(b){var e=d.parseUrl(d.makeUrlAbsolute(b,this.documentBase)),f=e.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&e.hrefNoHash===this.documentBase.hrefNoHash,g=a.mobile.firstPage,h=g&&g[0]?g[0].id:c;return f&&(!e.hash||"#"===e.hash||h&&e.hash.replace(/^#/,"")===h)},isPermittedCrossDomainRequest:function(b,c){return a.mobile.allowCrossDomainPages&&("file:"===b.protocol||"content:"===b.protocol)&&-1!==c.search(/^https?:/)}},d.documentUrl=d.parseLocation(),e=a("head").find("base"),d.documentBase=e.length?d.parseUrl(d.makeUrlAbsolute(e.attr("href"),d.documentUrl.href)):d.documentUrl,d.documentBaseDiffers=d.documentUrl.hrefNoHash!==d.documentBase.hrefNoHash,d.getDocumentBase=function(b){return b?a.extend({},d.documentBase):d.documentBase.href},a.extend(a.mobile,{getDocumentUrl:d.getDocumentUrl,getDocumentBase:d.getDocumentBase})}(a),function(a,b){a.mobile.History=function(a,b){this.stack=a||[],this.activeIndex=b||0},a.extend(a.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(a,b){b=b||{},this.getNext()&&this.clearForward(),b.hash&&-1===b.hash.indexOf("#")&&(b.hash="#"+b.hash),b.url=a,this.stack.push(b),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(a,b,c){b=b||this.stack;var d,e,f,g=b.length;for(e=0;g>e;e++)if(d=b[e],(decodeURIComponent(a)===decodeURIComponent(d.url)||decodeURIComponent(a)===decodeURIComponent(d.hash))&&(f=e,c))return f;return f},closest:function(a){var c,d=this.activeIndex;return c=this.find(a,this.stack.slice(0,d)),c===b&&(c=this.find(a,this.stack.slice(d),!0),c=c===b?c:c+d),c},direct:function(c){var d=this.closest(c.url),e=this.activeIndex;d!==b&&(this.activeIndex=d,this.previousIndex=e),e>d?(c.present||c.back||a.noop)(this.getActive(),"back"):d>e?(c.present||c.forward||a.noop)(this.getActive(),"forward"):d===b&&c.missing&&c.missing(this.getActive())}})}(a),function(a){var d=a.mobile.path,e=location.href;a.mobile.Navigator=function(b){this.history=b,this.ignoreInitialHashChange=!0,a.mobile.window.bind({"popstate.history":a.proxy(this.popstate,this),"hashchange.history":a.proxy(this.hashchange,this)})},a.extend(a.mobile.Navigator.prototype,{squash:function(e,f){var g,h,i=d.isPath(e)?d.stripHash(e):e;return h=d.squash(e),g=a.extend({hash:i,url:h},f),b.history.replaceState(g,g.title||c.title,h),g},hash:function(a,b){var c,e,f,g;return c=d.parseUrl(a),e=d.parseLocation(),e.pathname+e.search===c.pathname+c.search?f=c.hash?c.hash:c.pathname+c.search:d.isPath(a)?(g=d.parseUrl(b),f=g.pathname+g.search+(d.isPreservableHash(g.hash)?g.hash.replace("#",""):"")):f=a,f},go:function(e,f,g){var h,i,j,k,l=a.event.special.navigate.isPushStateEnabled();
i=d.squash(e),j=this.hash(e,i),g&&j!==d.stripHash(d.parseLocation().hash)&&(this.preventNextHashChange=g),this.preventHashAssignPopState=!0,b.location.hash=j,this.preventHashAssignPopState=!1,h=a.extend({url:i,hash:j,title:c.title},f),l&&(k=new a.Event("popstate"),k.originalEvent={type:"popstate",state:null},this.squash(e,h),g||(this.ignorePopState=!0,a.mobile.window.trigger(k))),this.history.add(h.url,h)},popstate:function(b){var c,f;if(a.event.special.navigate.isPushStateEnabled())return this.preventHashAssignPopState?(this.preventHashAssignPopState=!1,void b.stopImmediatePropagation()):this.ignorePopState?void(this.ignorePopState=!1):!b.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1,location.href===e)?void b.preventDefault():(c=d.parseLocation().hash,!b.originalEvent.state&&c?(f=this.squash(c),this.history.add(f.url,f),void(b.historyState=f)):void this.history.direct({url:(b.originalEvent.state||{}).url||c,present:function(c,d){b.historyState=a.extend({},c),b.historyState.direction=d}}))},hashchange:function(b){var e,f;if(a.event.special.navigate.isHashChangeEnabled()&&!a.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange)return this.preventNextHashChange=!1,void b.stopImmediatePropagation();e=this.history,f=d.parseLocation().hash,this.history.direct({url:f,present:function(c,d){b.hashchangeState=a.extend({},c),b.hashchangeState.direction=d},missing:function(){e.add(f,{hash:f,title:c.title})}})}}})}(a),function(a){a.mobile.navigate=function(b,c,d){a.mobile.navigate.navigator.go(b,c,d)},a.mobile.navigate.history=new a.mobile.History,a.mobile.navigate.navigator=new a.mobile.Navigator(a.mobile.navigate.history);var b=a.mobile.path.parseLocation();a.mobile.navigate.history.add(b.href,{hash:b.hash})}(a),function(a,b){var d={animation:{},transition:{}},e=c.createElement("a"),f=["","webkit-","moz-","o-"];a.each(["animation","transition"],function(c,g){var h=0===c?g+"-name":g;a.each(f,function(c,f){return e.style[a.camelCase(f+h)]!==b?(d[g].prefix=f,!1):void 0}),d[g].duration=a.camelCase(d[g].prefix+g+"-duration"),d[g].event=a.camelCase(d[g].prefix+g+"-end"),""===d[g].prefix&&(d[g].event=d[g].event.toLowerCase())}),a.support.cssTransitions=d.transition.prefix!==b,a.support.cssAnimations=d.animation.prefix!==b,a(e).remove(),a.fn.animationComplete=function(e,f,g){var h,i,j=this,k=function(){clearTimeout(h),e.apply(this,arguments)},l=f&&"animation"!==f?"transition":"animation";return a.support.cssTransitions&&"transition"===l||a.support.cssAnimations&&"animation"===l?(g===b&&(a(this).context!==c&&(i=3e3*parseFloat(a(this).css(d[l].duration))),(0===i||i===b||isNaN(i))&&(i=a.fn.animationComplete.defaultDuration)),h=setTimeout(function(){a(j).off(d[l].event,k),e.apply(j)},i),a(this).one(d[l].event,k)):(setTimeout(a.proxy(e,this),0),a(this))},a.fn.animationComplete.defaultDuration=1e3}(a),function(a,b,c,d){function e(a){for(;a&&"undefined"!=typeof a.originalEvent;)a=a.originalEvent;return a}function f(b,c){var f,g,h,i,j,k,l,m,n,o=b.type;if(b=a.Event(b),b.type=c,f=b.originalEvent,g=a.event.props,o.search(/^(mouse|click)/)>-1&&(g=E),f)for(l=g.length,i;l;)i=g[--l],b[i]=f[i];if(o.search(/mouse(down|up)|click/)>-1&&!b.which&&(b.which=1),-1!==o.search(/^touch/)&&(h=e(f),o=h.touches,j=h.changedTouches,k=o&&o.length?o[0]:j&&j.length?j[0]:d))for(m=0,n=C.length;n>m;m++)i=C[m],b[i]=k[i];return b}function g(b){for(var c,d,e={};b;){c=a.data(b,z);for(d in c)c[d]&&(e[d]=e.hasVirtualBinding=!0);b=b.parentNode}return e}function h(b,c){for(var d;b;){if(d=a.data(b,z),d&&(!c||d[c]))return b;b=b.parentNode}return null}function i(){M=!1}function j(){M=!0}function k(){Q=0,K.length=0,L=!1,j()}function l(){i()}function m(){n(),G=setTimeout(function(){G=0,k()},a.vmouse.resetTimerDuration)}function n(){G&&(clearTimeout(G),G=0)}function o(b,c,d){var e;return(d&&d[b]||!d&&h(c.target,b))&&(e=f(c,b),a(c.target).trigger(e)),e}function p(b){var c,d=a.data(b.target,A);L||Q&&Q===d||(c=o("v"+b.type,b),c&&(c.isDefaultPrevented()&&b.preventDefault(),c.isPropagationStopped()&&b.stopPropagation(),c.isImmediatePropagationStopped()&&b.stopImmediatePropagation()))}function q(b){var c,d,f,h=e(b).touches;h&&1===h.length&&(c=b.target,d=g(c),d.hasVirtualBinding&&(Q=P++,a.data(c,A,Q),n(),l(),J=!1,f=e(b).touches[0],H=f.pageX,I=f.pageY,o("vmouseover",b,d),o("vmousedown",b,d)))}function r(a){M||(J||o("vmousecancel",a,g(a.target)),J=!0,m())}function s(b){if(!M){var c=e(b).touches[0],d=J,f=a.vmouse.moveDistanceThreshold,h=g(b.target);J=J||Math.abs(c.pageX-H)>f||Math.abs(c.pageY-I)>f,J&&!d&&o("vmousecancel",b,h),o("vmousemove",b,h),m()}}function t(a){if(!M){j();var b,c,d=g(a.target);o("vmouseup",a,d),J||(b=o("vclick",a,d),b&&b.isDefaultPrevented()&&(c=e(a).changedTouches[0],K.push({touchID:Q,x:c.clientX,y:c.clientY}),L=!0)),o("vmouseout",a,d),J=!1,m()}}function u(b){var c,d=a.data(b,z);if(d)for(c in d)if(d[c])return!0;return!1}function v(){}function w(b){var c=b.substr(1);return{setup:function(){u(this)||a.data(this,z,{});var d=a.data(this,z);d[b]=!0,F[b]=(F[b]||0)+1,1===F[b]&&O.bind(c,p),a(this).bind(c,v),N&&(F.touchstart=(F.touchstart||0)+1,1===F.touchstart&&O.bind("touchstart",q).bind("touchend",t).bind("touchmove",s).bind("scroll",r))},teardown:function(){--F[b],F[b]||O.unbind(c,p),N&&(--F.touchstart,F.touchstart||O.unbind("touchstart",q).unbind("touchmove",s).unbind("touchend",t).unbind("scroll",r));var d=a(this),e=a.data(this,z);e&&(e[b]=!1),d.unbind(c,v),u(this)||d.removeData(z)}}}var x,y,z="virtualMouseBindings",A="virtualTouchID",B="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),C="clientX clientY pageX pageY screenX screenY".split(" "),D=a.event.mouseHooks?a.event.mouseHooks.props:[],E=a.event.props.concat(D),F={},G=0,H=0,I=0,J=!1,K=[],L=!1,M=!1,N="addEventListener"in c,O=a(c),P=1,Q=0;for(a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},y=0;y<B.length;y++)a.event.special[B[y]]=w(B[y]);N&&c.addEventListener("click",function(b){var c,d,e,f,g,h,i=K.length,j=b.target;if(i)for(c=b.clientX,d=b.clientY,x=a.vmouse.clickDistanceThreshold,e=j;e;){for(f=0;i>f;f++)if(g=K[f],h=0,e===j&&Math.abs(g.x-c)<x&&Math.abs(g.y-d)<x||a.data(e,A)===g.touchID)return b.preventDefault(),void b.stopPropagation();e=e.parentNode}},!0)}(a,b,c),function(a,b,d){function e(b,c,e,f){var g=e.type;e.type=c,f?a.event.trigger(e,d,b):a.event.dispatch.call(b,e),e.type=g}var f=a(c),g=a.mobile.support.touch,h="touchmove scroll",i=g?"touchstart":"mousedown",j=g?"touchend":"mouseup",k=g?"touchmove":"mousemove";a.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(b,c){a.fn[c]=function(a){return a?this.bind(c,a):this.trigger(c)},a.attrFn&&(a.attrFn[c]=!0)}),a.event.special.scrollstart={enabled:!0,setup:function(){function b(a,b){c=b,e(f,c?"scrollstart":"scrollstop",a)}var c,d,f=this,g=a(f);g.bind(h,function(e){a.event.special.scrollstart.enabled&&(c||b(e,!0),clearTimeout(d),d=setTimeout(function(){b(e,!1)},50))})},teardown:function(){a(this).unbind(h)}},a.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var b=this,c=a(b),d=!1;c.bind("vmousedown",function(g){function h(){clearTimeout(k)}function i(){h(),c.unbind("vclick",j).unbind("vmouseup",h),f.unbind("vmousecancel",i)}function j(a){i(),d||l!==a.target?d&&a.preventDefault():e(b,"tap",a)}if(d=!1,g.which&&1!==g.which)return!1;var k,l=g.target;c.bind("vmouseup",h).bind("vclick",j),f.bind("vmousecancel",i),k=setTimeout(function(){a.event.special.tap.emitTapOnTaphold||(d=!0),e(b,"taphold",a.Event("taphold",{target:l}))},a.event.special.tap.tapholdThreshold)})},teardown:function(){a(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),f.unbind("vmousecancel")}},a.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(a){var c=b.pageXOffset,d=b.pageYOffset,e=a.clientX,f=a.clientY;return 0===a.pageY&&Math.floor(f)>Math.floor(a.pageY)||0===a.pageX&&Math.floor(e)>Math.floor(a.pageX)?(e-=c,f-=d):(f<a.pageY-d||e<a.pageX-c)&&(e=a.pageX-c,f=a.pageY-d),{x:e,y:f}},start:function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b,d=a.event.special.swipe.getLocation(c);return{time:(new Date).getTime(),coords:[d.x,d.y],origin:a(b.target)}},stop:function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b,d=a.event.special.swipe.getLocation(c);return{time:(new Date).getTime(),coords:[d.x,d.y]}},handleSwipe:function(b,c,d,f){if(c.time-b.time<a.event.special.swipe.durationThreshold&&Math.abs(b.coords[0]-c.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(b.coords[1]-c.coords[1])<a.event.special.swipe.verticalDistanceThreshold){var g=b.coords[0]>c.coords[0]?"swipeleft":"swiperight";return e(d,"swipe",a.Event("swipe",{target:f,swipestart:b,swipestop:c}),!0),e(d,g,a.Event(g,{target:f,swipestart:b,swipestop:c}),!0),!0}return!1},eventInProgress:!1,setup:function(){var b,c=this,d=a(c),e={};b=a.data(this,"mobile-events"),b||(b={length:0},a.data(this,"mobile-events",b)),b.length++,b.swipe=e,e.start=function(b){if(!a.event.special.swipe.eventInProgress){a.event.special.swipe.eventInProgress=!0;var d,g=a.event.special.swipe.start(b),h=b.target,i=!1;e.move=function(b){g&&!b.isDefaultPrevented()&&(d=a.event.special.swipe.stop(b),i||(i=a.event.special.swipe.handleSwipe(g,d,c,h),i&&(a.event.special.swipe.eventInProgress=!1)),Math.abs(g.coords[0]-d.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&b.preventDefault())},e.stop=function(){i=!0,a.event.special.swipe.eventInProgress=!1,f.off(k,e.move),e.move=null},f.on(k,e.move).one(j,e.stop)}},d.on(i,e.start)},teardown:function(){var b,c;b=a.data(this,"mobile-events"),b&&(c=b.swipe,delete b.swipe,b.length--,0===b.length&&a.removeData(this,"mobile-events")),c&&(c.start&&a(this).off(i,c.start),c.move&&f.off(k,c.move),c.stop&&f.off(j,c.stop))}},a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(b,c){a.event.special[b]={setup:function(){a(this).bind(c,a.noop)},teardown:function(){a(this).unbind(c)}}})}(a,this),function(a){a.event.special.throttledresize={setup:function(){a(this).bind("resize",f)},teardown:function(){a(this).unbind("resize",f)}};var b,c,d,e=250,f=function(){c=(new Date).getTime(),d=c-g,d>=e?(g=c,a(this).trigger("throttledresize")):(b&&clearTimeout(b),b=setTimeout(f,e-d))},g=0}(a),function(a,b){function d(){var a=e();a!==f&&(f=a,l.trigger(m))}var e,f,g,h,i,j,k,l=a(b),m="orientationchange",n={0:!0,180:!0};a.support.orientation&&(i=b.innerWidth||l.width(),j=b.innerHeight||l.height(),k=50,g=i>j&&i-j>k,h=n[b.orientation],(g&&h||!g&&!h)&&(n={"-90":!0,90:!0})),a.event.special.orientationchange=a.extend({},a.event.special.orientationchange,{setup:function(){return a.support.orientation&&!a.event.special.orientationchange.disabled?!1:(f=e(),void l.bind("throttledresize",d))},teardown:function(){return a.support.orientation&&!a.event.special.orientationchange.disabled?!1:void l.unbind("throttledresize",d)},add:function(a){var b=a.handler;a.handler=function(a){return a.orientation=e(),b.apply(this,arguments)}}}),a.event.special.orientationchange.orientation=e=function(){var d=!0,e=c.documentElement;return d=a.support.orientation?n[b.orientation]:e&&e.clientWidth/e.clientHeight<1.1,d?"portrait":"landscape"},a.fn[m]=function(a){return a?this.bind(m,a):this.trigger(m)},a.attrFn&&(a.attrFn[m]=!0)}(a,this),function(a){var b=a("head").children("base"),c={element:b.length?b:a("<base>",{href:a.mobile.path.documentBase.hrefNoHash}).prependTo(a("head")),linkSelector:"[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]",set:function(b){a.mobile.dynamicBaseEnabled&&a.support.dynamicBaseTag&&c.element.attr("href",a.mobile.path.makeUrlAbsolute(b,a.mobile.path.documentBase))},rewrite:function(b,d){var e=a.mobile.path.get(b);d.find(c.linkSelector).each(function(b,c){var d=a(c).is("[href]")?"href":a(c).is("[src]")?"src":"action",f=a.mobile.path.parseLocation(),g=a(c).attr(d);g=g.replace(f.protocol+f.doubleSlash+f.host+f.pathname,""),/^(\w+:|#|\/)/.test(g)||a(c).attr(d,e+g)})},reset:function(){c.element.attr("href",a.mobile.path.documentBase.hrefNoSearch)}};a.mobile.base=c}(a),function(a,b){a.mobile.widgets={};var c=a.widget,d=a.mobile.keepNative;a.widget=function(c){return function(){var d=c.apply(this,arguments),e=d.prototype.widgetName;return d.initSelector=d.prototype.initSelector!==b?d.prototype.initSelector:":jqmData(role='"+e+"')",a.mobile.widgets[e]=d,d}}(a.widget),a.extend(a.widget,c),a.mobile.document.on("create",function(b){a(b.target).enhanceWithin()}),a.widget("mobile.page",{options:{theme:"a",domCache:!1,keepNativeDefault:a.mobile.keepNative,contentTheme:null,enhanced:!1},_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_create:function(){return this._trigger("beforecreate")===!1?!1:(this.options.enhanced||this._enhance(),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}),this.element.enhanceWithin(),void("dialog"===a.mobile.getAttribute(this.element[0],"role")&&a.mobile.dialog&&this.element.dialog()))},_enhance:function(){var c="data-"+a.mobile.ns,d=this;this.options.role&&this.element.attr("data-"+a.mobile.ns+"role",this.options.role),this.element.attr("tabindex","0").addClass("ui-page ui-page-theme-"+this.options.theme),this.element.find("["+c+"role='content']").each(function(){var e=a(this),f=this.getAttribute(c+"theme")||b;d.options.contentTheme=f||d.options.contentTheme||d.options.dialog&&d.options.theme||"dialog"===d.element.jqmData("role")&&d.options.theme,e.addClass("ui-content"),d.options.contentTheme&&e.addClass("ui-body-"+d.options.contentTheme),e.attr("role","main").addClass("ui-content")})},bindRemove:function(b){var c=this.element;!c.data("mobile-page").options.domCache&&c.is(":jqmData(external-page='true')")&&c.bind("pagehide.remove",b||function(b,c){if(!c.samePage){var d=a(this),e=new a.Event("pageremove");d.trigger(e),e.isDefaultPrevented()||d.removeWithDependents()}})},_setOptions:function(c){c.theme!==b&&this.element.removeClass("ui-page-theme-"+this.options.theme).addClass("ui-page-theme-"+c.theme),c.contentTheme!==b&&this.element.find("[data-"+a.mobile.ns+"='content']").removeClass("ui-body-"+this.options.contentTheme).addClass("ui-body-"+c.contentTheme)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){this.element.closest(":mobile-pagecontainer").pagecontainer({theme:"none"})},setContainerBackground:function(a){this.element.parent().pagecontainer({theme:a||this.options.theme})},keepNativeSelector:function(){var b=this.options,c=a.trim(b.keepNative||""),e=a.trim(a.mobile.keepNative),f=a.trim(b.keepNativeDefault),g=d===e?"":e,h=""===g?f:"";return(c?[c]:[]).concat(g?[g]:[]).concat(h?[h]:[]).join(", ")}})}(a),function(a,d){a.widget("mobile.pagecontainer",{options:{theme:"a"},initSelector:!1,_create:function(){this._trigger("beforecreate"),this.setLastScrollEnabled=!0,this._on(this.window,{navigate:"_disableRecordScroll",scrollstop:"_delayedRecordScroll"}),this._on(this.window,{navigate:"_filterNavigateEvents"}),this._on({pagechange:"_afterContentChange"}),this.window.one("navigate",a.proxy(function(){this.setLastScrollEnabled=!0},this))},_setOptions:function(a){a.theme!==d&&"none"!==a.theme?this.element.removeClass("ui-overlay-"+this.options.theme).addClass("ui-overlay-"+a.theme):a.theme!==d&&this.element.removeClass("ui-overlay-"+this.options.theme),this._super(a)},_disableRecordScroll:function(){this.setLastScrollEnabled=!1},_enableRecordScroll:function(){this.setLastScrollEnabled=!0},_afterContentChange:function(){this.setLastScrollEnabled=!0,this._off(this.window,"scrollstop"),this._on(this.window,{scrollstop:"_delayedRecordScroll"})},_recordScroll:function(){if(this.setLastScrollEnabled){var a,b,c,d=this._getActiveHistory();d&&(a=this._getScroll(),b=this._getMinScroll(),c=this._getDefaultScroll(),d.lastScroll=b>a?c:a)}},_delayedRecordScroll:function(){setTimeout(a.proxy(this,"_recordScroll"),100)},_getScroll:function(){return this.window.scrollTop()},_getMinScroll:function(){return a.mobile.minScrollBack},_getDefaultScroll:function(){return a.mobile.defaultHomeScroll},_filterNavigateEvents:function(b,c){var d;b.originalEvent&&b.originalEvent.isDefaultPrevented()||(d=b.originalEvent.type.indexOf("hashchange")>-1?c.state.hash:c.state.url,d||(d=this._getHash()),d&&"#"!==d&&0!==d.indexOf("#"+a.mobile.path.uiStateKey)||(d=location.href),this._handleNavigate(d,c.state))},_getHash:function(){return a.mobile.path.parseLocation().hash},getActivePage:function(){return this.activePage},_getInitialContent:function(){return a.mobile.firstPage},_getHistory:function(){return a.mobile.navigate.history},_getActiveHistory:function(){return this._getHistory().getActive()},_getDocumentBase:function(){return a.mobile.path.documentBase},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(c){if(a.mobile.hashListeningEnabled)b.history.go(c);else{var d=a.mobile.navigate.history.activeIndex,e=d+parseInt(c,10),f=a.mobile.navigate.history.stack[e].url,g=c>=1?"forward":"back";a.mobile.navigate.history.activeIndex=e,a.mobile.navigate.history.previousIndex=d,this.change(f,{direction:g,changeHash:!1,fromHashChange:!0})}},_handleDestination:function(b){var c;return"string"===a.type(b)&&(b=a.mobile.path.stripHash(b)),b&&(c=this._getHistory(),b=a.mobile.path.isPath(b)?b:a.mobile.path.makeUrlAbsolute("#"+b,this._getDocumentBase())),b||this._getInitialContent()},_transitionFromHistory:function(a,b){var c=this._getHistory(),d="back"===a?c.getLast():c.getActive();return d&&d.transition||b},_handleDialog:function(b,c){var d,e,f=this.getActivePage();return f&&!f.data("mobile-dialog")?("back"===c.direction?this.back():this.forward(),!1):(d=c.pageUrl,e=this._getActiveHistory(),a.extend(b,{role:e.role,transition:this._transitionFromHistory(c.direction,b.transition),reverse:"back"===c.direction}),d)},_handleNavigate:function(b,c){var d=a.mobile.path.stripHash(b),e=this._getHistory(),f=0===e.stack.length?"none":this._transitionFromHistory(c.direction),g={changeHash:!1,fromHashChange:!0,reverse:"back"===c.direction};a.extend(g,c,{transition:f}),e.activeIndex>0&&d.indexOf(a.mobile.dialogHashKey)>-1&&(d=this._handleDialog(g,c),d===!1)||this._changeContent(this._handleDestination(d),g)},_changeContent:function(b,c){a.mobile.changePage(b,c)},_getBase:function(){return a.mobile.base},_getNs:function(){return a.mobile.ns},_enhance:function(a,b){return a.page({role:b})},_include:function(a,b){a.appendTo(this.element),this._enhance(a,b.role),a.page("bindRemove")},_find:function(b){var c,d=this._createFileUrl(b),e=this._createDataUrl(b),f=this._getInitialContent();return c=this.element.children("[data-"+this._getNs()+"url='"+a.mobile.path.hashToSelector(e)+"']"),0===c.length&&e&&!a.mobile.path.isPath(e)&&(c=this.element.children(a.mobile.path.hashToSelector("#"+e)).attr("data-"+this._getNs()+"url",e).jqmData("url",e)),0===c.length&&a.mobile.path.isFirstPageUrl(d)&&f&&f.parent().length&&(c=a(f)),c},_getLoader:function(){return a.mobile.loading()},_showLoading:function(b,c,d,e){this._loadMsg||(this._loadMsg=setTimeout(a.proxy(function(){this._getLoader().loader("show",c,d,e),this._loadMsg=0},this),b))},_hideLoading:function(){clearTimeout(this._loadMsg),this._loadMsg=0,this._getLoader().loader("hide")},_showError:function(){this._hideLoading(),this._showLoading(0,a.mobile.pageLoadErrorMessageTheme,a.mobile.pageLoadErrorMessage,!0),setTimeout(a.proxy(this,"_hideLoading"),1500)},_parse:function(b,c){var d,e=a("<div></div>");return e.get(0).innerHTML=b,d=e.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),d.length||(d=a("<div data-"+this._getNs()+"role='page'>"+(b.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),d.attr("data-"+this._getNs()+"url",this._createDataUrl(c)).attr("data-"+this._getNs()+"external-page",!0),d},_setLoadedTitle:function(b,c){var d=c.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;d&&!b.jqmData("title")&&(d=a("<div>"+d+"</div>").text(),b.jqmData("title",d))},_isRewritableBaseTag:function(){return a.mobile.dynamicBaseEnabled&&!a.support.dynamicBaseTag},_createDataUrl:function(b){return a.mobile.path.convertUrlToDataUrl(b)},_createFileUrl:function(b){return a.mobile.path.getFilePath(b)},_triggerWithDeprecated:function(b,c,d){var e=a.Event("page"+b),f=a.Event(this.widgetName+b);return(d||this.element).trigger(e,c),this._trigger(b,f,c),{deprecatedEvent:e,event:f}},_loadSuccess:function(b,c,e,f){var g=this._createFileUrl(b);return a.proxy(function(h,i,j){var k,l=new RegExp("(<[^>]+\\bdata-"+this._getNs()+"role=[\"']?page[\"']?[^>]*>)"),m=new RegExp("\\bdata-"+this._getNs()+"url=[\"']?([^\"'>]*)[\"']?");l.test(h)&&RegExp.$1&&m.test(RegExp.$1)&&RegExp.$1&&(g=a.mobile.path.getFilePath(a("<div>"+RegExp.$1+"</div>").text()),g=this.window[0].encodeURIComponent(g)),e.prefetch===d&&this._getBase().set(g),k=this._parse(h,g),this._setLoadedTitle(k,h),c.xhr=j,c.textStatus=i,c.page=k,c.content=k,c.toPage=k,this._triggerWithDeprecated("load",c).event.isDefaultPrevented()||(this._isRewritableBaseTag()&&k&&this._getBase().rewrite(g,k),this._include(k,e),e.showLoadMsg&&this._hideLoading(),f.resolve(b,e,k))},this)},_loadDefaults:{type:"get",data:d,reloadPage:!1,reload:!1,role:d,showLoadMsg:!1,loadMsgDelay:50},load:function(b,c){var e,f,g,h,i=c&&c.deferred||a.Deferred(),j=c&&c.reload===d&&c.reloadPage!==d?{reload:c.reloadPage}:{},k=a.extend({},this._loadDefaults,c,j),l=null,m=a.mobile.path.makeUrlAbsolute(b,this._findBaseWithDefault());return k.data&&"get"===k.type&&(m=a.mobile.path.addSearchParams(m,k.data),k.data=d),k.data&&"post"===k.type&&(k.reload=!0),e=this._createFileUrl(m),f=this._createDataUrl(m),l=this._find(m),0===l.length&&a.mobile.path.isEmbeddedPage(e)&&!a.mobile.path.isFirstPageUrl(e)?(i.reject(m,k),i.promise()):(this._getBase().reset(),l.length&&!k.reload?(this._enhance(l,k.role),i.resolve(m,k,l),k.prefetch||this._getBase().set(b),i.promise()):(h={url:b,absUrl:m,toPage:b,prevPage:c?c.fromPage:d,dataUrl:f,deferred:i,options:k},g=this._triggerWithDeprecated("beforeload",h),g.deprecatedEvent.isDefaultPrevented()||g.event.isDefaultPrevented()?i.promise():(k.showLoadMsg&&this._showLoading(k.loadMsgDelay),k.prefetch===d&&this._getBase().reset(),a.mobile.allowCrossDomainPages||a.mobile.path.isSameDomain(a.mobile.path.documentUrl,m)?(a.ajax({url:e,type:k.type,data:k.data,contentType:k.contentType,dataType:"html",success:this._loadSuccess(m,h,k,i),error:this._loadError(m,h,k,i)}),i.promise()):(i.reject(m,k),i.promise()))))},_loadError:function(b,c,d,e){return a.proxy(function(f,g,h){this._getBase().set(a.mobile.path.get()),c.xhr=f,c.textStatus=g,c.errorThrown=h;var i=this._triggerWithDeprecated("loadfailed",c);i.deprecatedEvent.isDefaultPrevented()||i.event.isDefaultPrevented()||(d.showLoadMsg&&this._showError(),e.reject(b,d))},this)},_getTransitionHandler:function(b){return b=a.mobile._maybeDegradeTransition(b),a.mobile.transitionHandlers[b]||a.mobile.defaultTransitionHandler},_triggerCssTransitionEvents:function(b,c,d){var e=!1;d=d||"",c&&(b[0]===c[0]&&(e=!0),this._triggerWithDeprecated(d+"hide",{nextPage:b,toPage:b,prevPage:c,samePage:e},c)),this._triggerWithDeprecated(d+"show",{prevPage:c||a(""),toPage:b},b)},_cssTransition:function(b,c,d){var e,f,g=d.transition,h=d.reverse,i=d.deferred;this._triggerCssTransitionEvents(b,c,"before"),this._hideLoading(),e=this._getTransitionHandler(g),f=new e(g,h,b,c).transition(),f.done(a.proxy(function(){this._triggerCssTransitionEvents(b,c)},this)),f.done(function(){i.resolve.apply(i,arguments)})},_releaseTransitionLock:function(){f=!1,e.length>0&&a.mobile.changePage.apply(null,e.pop())},_removeActiveLinkClass:function(b){a.mobile.removeActiveLinkClass(b)},_loadUrl:function(b,c,d){d.target=b,d.deferred=a.Deferred(),this.load(b,d),d.deferred.done(a.proxy(function(a,b,d){f=!1,b.absUrl=c.absUrl,this.transition(d,c,b)},this)),d.deferred.fail(a.proxy(function(){this._removeActiveLinkClass(!0),this._releaseTransitionLock(),this._triggerWithDeprecated("changefailed",c)},this))},_triggerPageBeforeChange:function(b,c,d){var e;return c.prevPage=this.activePage,a.extend(c,{toPage:b,options:d}),c.absUrl="string"===a.type(b)?a.mobile.path.makeUrlAbsolute(b,this._findBaseWithDefault()):d.absUrl,e=this._triggerWithDeprecated("beforechange",c),e.event.isDefaultPrevented()||e.deprecatedEvent.isDefaultPrevented()?!1:!0},change:function(b,c){if(f)return void e.unshift(arguments);var d=a.extend({},a.mobile.changePage.defaults,c),g={};d.fromPage=d.fromPage||this.activePage,this._triggerPageBeforeChange(b,g,d)&&(b=g.toPage,"string"===a.type(b)?(f=!0,this._loadUrl(b,g,d)):this.transition(b,g,d))},transition:function(b,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v;if(f)return void e.unshift([b,h]);if(this._triggerPageBeforeChange(b,g,h)&&(g.prevPage=h.fromPage,v=this._triggerWithDeprecated("beforetransition",g),!v.deprecatedEvent.isDefaultPrevented()&&!v.event.isDefaultPrevented())){if(f=!0,b[0]!==a.mobile.firstPage[0]||h.dataUrl||(h.dataUrl=a.mobile.path.documentUrl.hrefNoHash),i=h.fromPage,j=h.dataUrl&&a.mobile.path.convertUrlToDataUrl(h.dataUrl)||b.jqmData("url"),k=j,l=a.mobile.path.getFilePath(j),m=a.mobile.navigate.history.getActive(),n=0===a.mobile.navigate.history.activeIndex,o=0,p=c.title,q=("dialog"===h.role||"dialog"===b.jqmData("role"))&&b.jqmData("dialog")!==!0,i&&i[0]===b[0]&&!h.allowSamePageTransition)return f=!1,this._triggerWithDeprecated("transition",g),this._triggerWithDeprecated("change",g),void(h.fromHashChange&&a.mobile.navigate.history.direct({url:j}));b.page({role:h.role}),h.fromHashChange&&(o="back"===h.direction?-1:1);try{c.activeElement&&"body"!==c.activeElement.nodeName.toLowerCase()?a(c.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(w){}r=!1,q&&m&&(m.url&&m.url.indexOf(a.mobile.dialogHashKey)>-1&&this.activePage&&!this.activePage.hasClass("ui-dialog")&&a.mobile.navigate.history.activeIndex>0&&(h.changeHash=!1,r=!0),j=m.url||"",j+=!r&&j.indexOf("#")>-1?a.mobile.dialogHashKey:"#"+a.mobile.dialogHashKey),s=m?b.jqmData("title")||b.children(":jqmData(role='header')").find(".ui-title").text():p,s&&p===c.title&&(p=s),b.jqmData("title")||b.jqmData("title",p),h.transition=h.transition||(o&&!n?m.transition:d)||(q?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition),!o&&r&&(a.mobile.navigate.history.getActive().pageUrl=k),j&&!h.fromHashChange&&(!a.mobile.path.isPath(j)&&j.indexOf("#")<0&&(j="#"+j),t={transition:h.transition,title:p,pageUrl:k,role:h.role},h.changeHash!==!1&&a.mobile.hashListeningEnabled?a.mobile.navigate(this.window[0].encodeURI(j),t,!0):b[0]!==a.mobile.firstPage[0]&&a.mobile.navigate.history.add(j,t)),c.title=p,a.mobile.activePage=b,this.activePage=b,h.reverse=h.reverse||0>o,u=a.Deferred(),this._cssTransition(b,i,{transition:h.transition,reverse:h.reverse,deferred:u}),u.done(a.proxy(function(c,d,e,f,i){a.mobile.removeActiveLinkClass(),h.duplicateCachedPage&&h.duplicateCachedPage.remove(),i||a.mobile.focusPage(b),this._releaseTransitionLock(),this._triggerWithDeprecated("transition",g),this._triggerWithDeprecated("change",g)},this))}},_findBaseWithDefault:function(){var b=this.activePage&&a.mobile.getClosestBaseUrl(this.activePage);return b||a.mobile.path.documentBase.hrefNoHash}}),a.mobile.navreadyDeferred=a.Deferred();var e=[],f=!1}(a),function(a,d){function e(a){for(;a&&("string"!=typeof a.nodeName||"a"!==a.nodeName.toLowerCase());)a=a.parentNode;return a}var f=a.Deferred(),g=a.Deferred(),h=function(){g.resolve(),g=null},i=a.mobile.path.documentUrl,j=null;a.mobile.loadPage=function(b,c){var d;return c=c||{},d=c.pageContainer||a.mobile.pageContainer,c.deferred=a.Deferred(),d.pagecontainer("load",b,c),c.deferred.promise()},a.mobile.back=function(){var c=b.navigator;this.phonegapNavigationEnabled&&c&&c.app&&c.app.backHistory?c.app.backHistory():a.mobile.pageContainer.pagecontainer("back")},a.mobile.focusPage=function(a){var b=a.find("[autofocus]"),c=a.find(".ui-title:eq(0)");return b.length?void b.focus():void(c.length?c.focus():a.focus())},a.mobile._maybeDegradeTransition=a.mobile._maybeDegradeTransition||function(a){return a},a.mobile.changePage=function(b,c){a.mobile.pageContainer.pagecontainer("change",b,c)},a.mobile.changePage.defaults={transition:d,reverse:!1,changeHash:!0,fromHashChange:!1,role:d,duplicateCachedPage:d,pageContainer:d,showLoadMsg:!0,dataUrl:d,fromPage:d,allowSamePageTransition:!1},a.mobile._registerInternalEvents=function(){var c=function(b,c){var d,e,f,g,h=!0;return!a.mobile.ajaxEnabled||b.is(":jqmData(ajax='false')")||!b.jqmHijackable().length||b.attr("target")?!1:(d=j&&j.attr("formaction")||b.attr("action"),g=(b.attr("method")||"get").toLowerCase(),d||(d=a.mobile.getClosestBaseUrl(b),"get"===g&&(d=a.mobile.path.parseUrl(d).hrefNoSearch),d===a.mobile.path.documentBase.hrefNoHash&&(d=i.hrefNoSearch)),d=a.mobile.path.makeUrlAbsolute(d,a.mobile.getClosestBaseUrl(b)),a.mobile.path.isExternal(d)&&!a.mobile.path.isPermittedCrossDomainRequest(i,d)?!1:(c||(e=b.serializeArray(),j&&j[0].form===b[0]&&(f=j.attr("name"),f&&(a.each(e,function(a,b){return b.name===f?(f="",!1):void 0}),f&&e.push({name:f,value:j.attr("value")}))),h={url:d,options:{type:g,data:a.param(e),transition:b.jqmData("transition"),reverse:"reverse"===b.jqmData("direction"),reloadPage:!0}}),h))};a.mobile.document.delegate("form","submit",function(b){var d;b.isDefaultPrevented()||(d=c(a(this)),d&&(a.mobile.changePage(d.url,d.options),b.preventDefault()))}),a.mobile.document.bind("vclick",function(b){var d,f,g=b.target,h=!1;if(!(b.which>1)&&a.mobile.linkBindingEnabled){if(j=a(g),a.data(g,"mobile-button")){if(!c(a(g).closest("form"),!0))return;g.parentNode&&(g=g.parentNode)}else{if(g=e(g),!g||"#"===a.mobile.path.parseUrl(g.getAttribute("href")||"#").hash)return;if(!a(g).jqmHijackable().length)return}~g.className.indexOf("ui-link-inherit")?g.parentNode&&(f=a.data(g.parentNode,"buttonElements")):f=a.data(g,"buttonElements"),f?g=f.outer:h=!0,d=a(g),h&&(d=d.closest(".ui-btn")),d.length>0&&!d.hasClass("ui-state-disabled")&&(a.mobile.removeActiveLinkClass(!0),a.mobile.activeClickedLink=d,a.mobile.activeClickedLink.addClass(a.mobile.activeBtnClass))}}),a.mobile.document.bind("click",function(c){if(a.mobile.linkBindingEnabled&&!c.isDefaultPrevented()){var f,g,h,j,k,l,m,n=e(c.target),o=a(n),p=function(){b.setTimeout(function(){a.mobile.removeActiveLinkClass(!0)},200)};if(a.mobile.activeClickedLink&&a.mobile.activeClickedLink[0]===c.target.parentNode&&p(),n&&!(c.which>1)&&o.jqmHijackable().length){if(o.is(":jqmData(rel='back')"))return a.mobile.back(),!1;if(f=a.mobile.getClosestBaseUrl(o),g=a.mobile.path.makeUrlAbsolute(o.attr("href")||"#",f),!a.mobile.ajaxEnabled&&!a.mobile.path.isEmbeddedPage(g))return void p();if(!(-1===g.search("#")||a.mobile.path.isExternal(g)&&a.mobile.path.isAbsoluteUrl(g))){if(g=g.replace(/[^#]*#/,""),!g)return void c.preventDefault();g=a.mobile.path.isPath(g)?a.mobile.path.makeUrlAbsolute(g,f):a.mobile.path.makeUrlAbsolute("#"+g,i.hrefNoHash)}if(h=o.is("[rel='external']")||o.is(":jqmData(ajax='false')")||o.is("[target]"),j=h||a.mobile.path.isExternal(g)&&!a.mobile.path.isPermittedCrossDomainRequest(i,g))return void p();k=o.jqmData("transition"),l="reverse"===o.jqmData("direction")||o.jqmData("back"),m=o.attr("data-"+a.mobile.ns+"rel")||d,a.mobile.changePage(g,{transition:k,reverse:l,role:m,link:o}),c.preventDefault()}}}),a.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var b=[];a(this).find("a:jqmData(prefetch)").each(function(){var c=a(this),d=c.attr("href");d&&-1===a.inArray(d,b)&&(b.push(d),a.mobile.loadPage(d,{role:c.attr("data-"+a.mobile.ns+"rel"),prefetch:!0}))})}),a.mobile.pageContainer.pagecontainer(),a.mobile.document.bind("pageshow",function(){g?g.done(a.mobile.resetActivePageHeight):a.mobile.resetActivePageHeight()
}),a.mobile.window.bind("throttledresize",a.mobile.resetActivePageHeight)},a(function(){f.resolve()}),"complete"===c.readyState?h():a.mobile.window.load(h),a.when(f,a.mobile.navreadyDeferred).done(function(){a.mobile._registerInternalEvents()})}(a),function(a,b){a.mobile.Transition=function(){this.init.apply(this,arguments)},a.extend(a.mobile.Transition.prototype,{toPreClass:" ui-page-pre-in",init:function(b,c,d,e){a.extend(this,{name:b,reverse:c,$to:d,$from:e,deferred:new a.Deferred})},cleanFrom:function(){this.$from.removeClass(a.mobile.activePageClass+" out in reverse "+this.name).height("")},beforeDoneIn:function(){},beforeDoneOut:function(){},beforeStartOut:function(){},doneIn:function(){this.beforeDoneIn(),this.$to.removeClass("out in reverse "+this.name).height(""),this.toggleViewportClass(),a.mobile.window.scrollTop()!==this.toScroll&&this.scrollPage(),this.sequential||this.$to.addClass(a.mobile.activePageClass),this.deferred.resolve(this.name,this.reverse,this.$to,this.$from,!0)},doneOut:function(a,b,c,d){this.beforeDoneOut(),this.startIn(a,b,c,d)},hideIn:function(a){this.$to.css("z-index",-10),a.call(this),this.$to.css("z-index","")},scrollPage:function(){a.event.special.scrollstart.enabled=!1,(a.mobile.hideUrlBar||this.toScroll!==a.mobile.defaultHomeScroll)&&b.scrollTo(0,this.toScroll),setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},startIn:function(b,c,d,e){this.hideIn(function(){this.$to.addClass(a.mobile.activePageClass+this.toPreClass),e||a.mobile.focusPage(this.$to),this.$to.height(b+this.toScroll),d||this.scrollPage()}),this.$to.removeClass(this.toPreClass).addClass(this.name+" in "+c),d?this.doneIn():this.$to.animationComplete(a.proxy(function(){this.doneIn()},this))},startOut:function(b,c,d){this.beforeStartOut(b,c,d),this.$from.height(b+a.mobile.window.scrollTop()).addClass(this.name+" out"+c)},toggleViewportClass:function(){a.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+this.name)},transition:function(){var b,c=this.reverse?" reverse":"",d=a.mobile.getScreenHeight(),e=a.mobile.maxTransitionWidth!==!1&&a.mobile.window.width()>a.mobile.maxTransitionWidth;return this.toScroll=a.mobile.navigate.history.getActive().lastScroll||a.mobile.defaultHomeScroll,b=!a.support.cssTransitions||!a.support.cssAnimations||e||!this.name||"none"===this.name||Math.max(a.mobile.window.scrollTop(),this.toScroll)>a.mobile.getMaxScrollForTransition(),this.toggleViewportClass(),this.$from&&!b?this.startOut(d,c,b):this.doneOut(d,c,b,!0),this.deferred.promise()}})}(a,this),function(a){a.mobile.SerialTransition=function(){this.init.apply(this,arguments)},a.extend(a.mobile.SerialTransition.prototype,a.mobile.Transition.prototype,{sequential:!0,beforeDoneOut:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(b,c,d){this.$from.animationComplete(a.proxy(function(){this.doneOut(b,c,d)},this))}})}(a),function(a){a.mobile.ConcurrentTransition=function(){this.init.apply(this,arguments)},a.extend(a.mobile.ConcurrentTransition.prototype,a.mobile.Transition.prototype,{sequential:!1,beforeDoneIn:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(a,b,c){this.doneOut(a,b,c)}})}(a),function(a){var b=function(){return 3*a.mobile.getScreenHeight()};a.mobile.transitionHandlers={sequential:a.mobile.SerialTransition,simultaneous:a.mobile.ConcurrentTransition},a.mobile.defaultTransitionHandler=a.mobile.transitionHandlers.sequential,a.mobile.transitionFallbacks={},a.mobile._maybeDegradeTransition=function(b){return b&&!a.support.cssTransform3d&&a.mobile.transitionFallbacks[b]&&(b=a.mobile.transitionFallbacks[b]),b},a.mobile.getMaxScrollForTransition=a.mobile.getMaxScrollForTransition||b}(a),function(a){a.mobile.transitionFallbacks.flip="fade"}(a,this),function(a){a.mobile.transitionFallbacks.flow="fade"}(a,this),function(a){a.mobile.transitionFallbacks.pop="fade"}(a,this),function(a){a.mobile.transitionHandlers.slide=a.mobile.transitionHandlers.simultaneous,a.mobile.transitionFallbacks.slide="fade"}(a,this),function(a){a.mobile.transitionFallbacks.slidedown="fade"}(a,this),function(a){a.mobile.transitionFallbacks.slidefade="fade"}(a,this),function(a){a.mobile.transitionFallbacks.slideup="fade"}(a,this),function(a){a.mobile.transitionFallbacks.turn="fade"}(a,this),function(a){a.mobile.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},a.mobile.page.prototype.options.degradeInputs=a.mobile.degradeInputs,a.mobile.degradeInputsWithin=function(b){b=a(b),b.find("input").not(a.mobile.page.prototype.keepNativeSelector()).each(function(){var b,c,d,e,f=a(this),g=this.getAttribute("type"),h=a.mobile.degradeInputs[g]||"text";a.mobile.degradeInputs[g]&&(b=a("<div>").html(f.clone()).html(),c=b.indexOf(" type=")>-1,d=c?/\s+type=["']?\w+['"]?/:/\/?>/,e=' type="'+h+'" data-'+a.mobile.ns+'type="'+g+'"'+(c?"":">"),f.replaceWith(b.replace(d,e)))})}}(a),function(a,b,c){a.widget("mobile.page",a.mobile.page,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,dialog:!1},_create:function(){this._super(),this.options.dialog&&(a.extend(this,{_inner:this.element.children(),_headerCloseButton:null}),this.options.enhanced||this._setCloseBtn(this.options.closeBtn))},_enhance:function(){this._super(),this.options.dialog&&this.element.addClass("ui-dialog").wrapInner(a("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(this.options.corners?" ui-corner-all":"")}))},_setOptions:function(b){var d,e,f=this.options;b.corners!==c&&this._inner.toggleClass("ui-corner-all",!!b.corners),b.overlayTheme!==c&&a.mobile.activePage[0]===this.element[0]&&(f.overlayTheme=b.overlayTheme,this._handlePageBeforeShow()),b.closeBtnText!==c&&(d=f.closeBtn,e=b.closeBtnText),b.closeBtn!==c&&(d=b.closeBtn),d&&this._setCloseBtn(d,e),this._super(b)},_handlePageBeforeShow:function(){this.options.overlayTheme&&this.options.dialog?(this.removeContainerBackground(),this.setContainerBackground(this.options.overlayTheme)):this._super()},_setCloseBtn:function(b,c){var d,e=this._headerCloseButton;b="left"===b?"left":"right"===b?"right":"none","none"===b?e&&(e.remove(),e=null):e?(e.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+b),c&&e.text(c)):(d=this._inner.find(":jqmData(role='header')").first(),e=a("<a></a>",{href:"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+b}).attr("data-"+a.mobile.ns+"rel","back").text(c||this.options.closeBtnText||"").prependTo(d)),this._headerCloseButton=e}})}(a,this),function(a,b,c){a.widget("mobile.dialog",{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_handlePageBeforeHide:function(){this._isCloseable=!1},_handleVClickSubmit:function(b){var c,d=a(b.target).closest("vclick"===b.type?"a":"form");d.length&&!d.jqmData("transition")&&(c={},c["data-"+a.mobile.ns+"transition"]=(a.mobile.navigate.history.getActive()||{}).transition||a.mobile.defaultDialogTransition,c["data-"+a.mobile.ns+"direction"]="reverse",d.attr(c))},_create:function(){var b=this.element,c=this.options;b.addClass("ui-dialog").wrapInner(a("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(c.corners?" ui-corner-all":"")})),a.extend(this,{_isCloseable:!1,_inner:b.children(),_headerCloseButton:null}),this._on(b,{vclick:"_handleVClickSubmit",submit:"_handleVClickSubmit",pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"}),this._setCloseBtn(c.closeBtn)},_setOptions:function(b){var d,e,f=this.options;b.corners!==c&&this._inner.toggleClass("ui-corner-all",!!b.corners),b.overlayTheme!==c&&a.mobile.activePage[0]===this.element[0]&&(f.overlayTheme=b.overlayTheme,this._handlePageBeforeShow()),b.closeBtnText!==c&&(d=f.closeBtn,e=b.closeBtnText),b.closeBtn!==c&&(d=b.closeBtn),d&&this._setCloseBtn(d,e),this._super(b)},_setCloseBtn:function(b,c){var d,e=this._headerCloseButton;b="left"===b?"left":"right"===b?"right":"none","none"===b?e&&(e.remove(),e=null):e?(e.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+b),c&&e.text(c)):(d=this._inner.find(":jqmData(role='header')").first(),e=a("<a></a>",{role:"button",href:"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+b}).text(c||this.options.closeBtnText||"").prependTo(d),this._on(e,{click:"close"})),this._headerCloseButton=e},close:function(){var b=a.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,a.mobile.hashListeningEnabled&&b.activeIndex>0?a.mobile.back():a.mobile.pageContainer.pagecontainer("back"))}})}(a,this),function(a,b){var c=/([A-Z])/g,d=function(a){return"ui-btn-icon-"+(null===a?"left":a)};a.widget("mobile.collapsible",{options:{enhanced:!1,expandCueText:null,collapseCueText:null,collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:null,expandedIcon:null,iconpos:null,theme:null,contentTheme:null,inset:null,corners:null,mini:null},_create:function(){var b=this.element,c={accordion:b.closest(":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')"+(a.mobile.collapsibleset?", :mobile-collapsibleset":"")).addClass("ui-collapsible-set")};this._ui=c,this._renderedOptions=this._getOptions(this.options),this.options.enhanced?(c.heading=this.element.children(".ui-collapsible-heading"),c.content=c.heading.next(),c.anchor=c.heading.children(),c.status=c.anchor.children(".ui-collapsible-heading-status")):this._enhance(b,c),this._on(c.heading,{tap:function(){c.heading.find("a").first().addClass(a.mobile.activeBtnClass)},click:function(a){this._handleExpandCollapse(!c.heading.hasClass("ui-collapsible-heading-collapsed")),a.preventDefault(),a.stopPropagation()}})},_getOptions:function(b){var d,e=this._ui.accordion,f=this._ui.accordionWidget;b=a.extend({},b),e.length&&!f&&(this._ui.accordionWidget=f=e.data("mobile-collapsibleset"));for(d in b)b[d]=null!=b[d]?b[d]:f?f.options[d]:e.length?a.mobile.getAttribute(e[0],d.replace(c,"-$1").toLowerCase()):null,null==b[d]&&(b[d]=a.mobile.collapsible.defaults[d]);return b},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:""},_enhance:function(b,c){var e,f=this._renderedOptions,g=this._themeClassFromOption("ui-body-",f.contentTheme);return b.addClass("ui-collapsible "+(f.inset?"ui-collapsible-inset ":"")+(f.inset&&f.corners?"ui-corner-all ":"")+(g?"ui-collapsible-themed-content ":"")),c.originalHeading=b.children(this.options.heading).first(),c.content=b.wrapInner("<div class='ui-collapsible-content "+g+"'></div>").children(".ui-collapsible-content"),c.heading=c.originalHeading,c.heading.is("legend")&&(c.heading=a("<div role='heading'>"+c.heading.html()+"</div>"),c.placeholder=a("<div><!-- placeholder for legend --></div>").insertBefore(c.originalHeading),c.originalHeading.remove()),e=f.collapsed?f.collapsedIcon?"ui-icon-"+f.collapsedIcon:"":f.expandedIcon?"ui-icon-"+f.expandedIcon:"",c.status=a("<span class='ui-collapsible-heading-status'></span>"),c.anchor=c.heading.detach().addClass("ui-collapsible-heading").append(c.status).wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().addClass("ui-btn "+(e?e+" ":"")+(e?d(f.iconpos)+" ":"")+this._themeClassFromOption("ui-btn-",f.theme)+" "+(f.mini?"ui-mini ":"")),c.heading.insertBefore(c.content),this._handleExpandCollapse(this.options.collapsed),c},refresh:function(){this._applyOptions(this.options),this._renderedOptions=this._getOptions(this.options)},_applyOptions:function(a){var c,e,f,g,h,i=this.element,j=this._renderedOptions,k=this._ui,l=k.anchor,m=k.status,n=this._getOptions(a);a.collapsed!==b&&this._handleExpandCollapse(a.collapsed),c=i.hasClass("ui-collapsible-collapsed"),c?n.expandCueText!==b&&m.text(n.expandCueText):n.collapseCueText!==b&&m.text(n.collapseCueText),h=n.collapsedIcon!==b?n.collapsedIcon!==!1:j.collapsedIcon!==!1,(n.iconpos!==b||n.collapsedIcon!==b||n.expandedIcon!==b)&&(l.removeClass([d(j.iconpos)].concat(j.expandedIcon?["ui-icon-"+j.expandedIcon]:[]).concat(j.collapsedIcon?["ui-icon-"+j.collapsedIcon]:[]).join(" ")),h&&l.addClass([d(n.iconpos!==b?n.iconpos:j.iconpos)].concat(c?["ui-icon-"+(n.collapsedIcon!==b?n.collapsedIcon:j.collapsedIcon)]:["ui-icon-"+(n.expandedIcon!==b?n.expandedIcon:j.expandedIcon)]).join(" "))),n.theme!==b&&(f=this._themeClassFromOption("ui-btn-",j.theme),e=this._themeClassFromOption("ui-btn-",n.theme),l.removeClass(f).addClass(e)),n.contentTheme!==b&&(f=this._themeClassFromOption("ui-body-",j.contentTheme),e=this._themeClassFromOption("ui-body-",n.contentTheme),k.content.removeClass(f).addClass(e)),n.inset!==b&&(i.toggleClass("ui-collapsible-inset",n.inset),g=!(!n.inset||!n.corners&&!j.corners)),n.corners!==b&&(g=!(!n.corners||!n.inset&&!j.inset)),g!==b&&i.toggleClass("ui-corner-all",g),n.mini!==b&&l.toggleClass("ui-mini",n.mini)},_setOptions:function(a){this._applyOptions(a),this._super(a),this._renderedOptions=this._getOptions(this.options)},_handleExpandCollapse:function(b){var c=this._renderedOptions,d=this._ui;d.status.text(b?c.expandCueText:c.collapseCueText),d.heading.toggleClass("ui-collapsible-heading-collapsed",b).find("a").first().toggleClass("ui-icon-"+c.expandedIcon,!b).toggleClass("ui-icon-"+c.collapsedIcon,b||c.expandedIcon===c.collapsedIcon).removeClass(a.mobile.activeBtnClass),this.element.toggleClass("ui-collapsible-collapsed",b),d.content.toggleClass("ui-collapsible-content-collapsed",b).attr("aria-hidden",b).trigger("updatelayout"),this.options.collapsed=b,this._trigger(b?"collapse":"expand")},expand:function(){this._handleExpandCollapse(!1)},collapse:function(){this._handleExpandCollapse(!0)},_destroy:function(){var a=this._ui,b=this.options;b.enhanced||(a.placeholder?(a.originalHeading.insertBefore(a.placeholder),a.placeholder.remove(),a.heading.remove()):(a.status.remove(),a.heading.removeClass("ui-collapsible-heading ui-collapsible-heading-collapsed").children().contents().unwrap()),a.anchor.contents().unwrap(),a.content.contents().unwrap(),this.element.removeClass("ui-collapsible ui-collapsible-collapsed ui-collapsible-themed-content ui-collapsible-inset ui-corner-all"))}}),a.mobile.collapsible.defaults={expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsedIcon:"plus",contentTheme:"inherit",expandedIcon:"minus",iconpos:"left",inset:!0,corners:!0,theme:"inherit",mini:!1}}(a),function(a){function b(b){var d,e=b.length,f=[];for(d=0;e>d;d++)b[d].className.match(c)||f.push(b[d]);return a(f)}var c=/\bui-screen-hidden\b/;a.mobile.behaviors.addFirstLastClasses={_getVisibles:function(a,c){var d;return c?d=b(a):(d=a.filter(":visible"),0===d.length&&(d=b(a))),d},_addFirstLastClasses:function(a,b,c){a.removeClass("ui-first-child ui-last-child"),b.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),c||this.element.trigger("updatelayout")},_removeFirstLastClasses:function(a){a.removeClass("ui-first-child ui-last-child")}}}(a),function(a,b){var c=":mobile-collapsible, "+a.mobile.collapsible.initSelector;a.widget("mobile.collapsibleset",a.extend({initSelector:":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')",options:a.extend({enhanced:!1},a.mobile.collapsible.defaults),_handleCollapsibleExpand:function(b){var c=a(b.target).closest(".ui-collapsible");c.parent().is(":mobile-collapsibleset, :jqmData(role='collapsible-set')")&&c.siblings(".ui-collapsible:not(.ui-collapsible-collapsed)").collapsible("collapse")},_create:function(){var b=this.element,c=this.options;a.extend(this,{_classes:""}),c.enhanced||(b.addClass("ui-collapsible-set "+this._themeClassFromOption("ui-group-theme-",c.theme)+" "+(c.corners&&c.inset?"ui-corner-all ":"")),this.element.find(a.mobile.collapsible.initSelector).collapsible()),this._on(b,{collapsibleexpand:"_handleCollapsibleExpand"})},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:""},_init:function(){this._refresh(!0),this.element.children(c).filter(":jqmData(collapsed='false')").collapsible("expand")},_setOptions:function(a){var c,d,e=this.element,f=this._themeClassFromOption("ui-group-theme-",a.theme);return f&&e.removeClass(this._themeClassFromOption("ui-group-theme-",this.options.theme)).addClass(f),a.inset!==b&&(d=!(!a.inset||!a.corners&&!this.options.corners)),a.corners!==b&&(d=!(!a.corners||!a.inset&&!this.options.inset)),d!==b&&e.toggleClass("ui-corner-all",d),c=this._super(a),this.element.children(":mobile-collapsible").collapsible("refresh"),c},_destroy:function(){var a=this.element;this._removeFirstLastClasses(a.children(c)),a.removeClass("ui-collapsible-set ui-corner-all "+this._themeClassFromOption("ui-group-theme-",this.options.theme)).children(":mobile-collapsible").collapsible("destroy")},_refresh:function(b){var d=this.element.children(c);this.element.find(a.mobile.collapsible.initSelector).not(".ui-collapsible").collapsible(),this._addFirstLastClasses(d,this._getVisibles(d,b),b)},refresh:function(){this._refresh(!1)}},a.mobile.behaviors.addFirstLastClasses))}(a),function(a){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain")}}(a),function(a){a.fn.grid=function(b){return this.each(function(){var c,d,e=a(this),f=a.extend({grid:null},b),g=e.children(),h={solo:1,a:2,b:3,c:4,d:5},i=f.grid;if(!i)if(g.length<=5)for(d in h)h[d]===g.length&&(i=d);else i="a",e.addClass("ui-grid-duo");c=h[i],e.addClass("ui-grid-"+i),g.filter(":nth-child("+c+"n+1)").addClass("ui-block-a"),c>1&&g.filter(":nth-child("+c+"n+2)").addClass("ui-block-b"),c>2&&g.filter(":nth-child("+c+"n+3)").addClass("ui-block-c"),c>3&&g.filter(":nth-child("+c+"n+4)").addClass("ui-block-d"),c>4&&g.filter(":nth-child("+c+"n+5)").addClass("ui-block-e")})}}(a),function(a,b){a.widget("mobile.navbar",{options:{iconpos:"top",grid:null},_create:function(){var d=this.element,e=d.find("a, button"),f=e.filter(":jqmData(icon)").length?this.options.iconpos:b;d.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),e.each(function(){var b=a.mobile.getAttribute(this,"icon"),c=a.mobile.getAttribute(this,"theme"),d="ui-btn";c&&(d+=" ui-btn-"+c),b&&(d+=" ui-icon-"+b+" ui-btn-icon-"+f),a(this).addClass(d)}),d.delegate("a","vclick",function(){var b=a(this);b.hasClass("ui-state-disabled")||b.hasClass("ui-disabled")||b.hasClass(a.mobile.activeBtnClass)||(e.removeClass(a.mobile.activeBtnClass),b.addClass(a.mobile.activeBtnClass),a(c).one("pagehide",function(){b.removeClass(a.mobile.activeBtnClass)}))}),d.closest(".ui-page").bind("pagebeforeshow",function(){e.filter(".ui-state-persist").addClass(a.mobile.activeBtnClass)})}})}(a),function(a){var b=a.mobile.getAttribute;a.widget("mobile.listview",a.extend({options:{theme:null,countTheme:null,dividerTheme:null,icon:"carat-r",splitIcon:"carat-r",splitTheme:null,corners:!0,shadow:!0,inset:!1},_create:function(){var a=this,b="";b+=a.options.inset?" ui-listview-inset":"",a.options.inset&&(b+=a.options.corners?" ui-corner-all":"",b+=a.options.shadow?" ui-shadow":""),a.element.addClass(" ui-listview"+b),a.refresh(!0)},_findFirstElementByTagName:function(a,b,c,d){var e={};for(e[c]=e[d]=!0;a;){if(e[a.nodeName])return a;a=a[b]}return null},_addThumbClasses:function(b){var c,d,e=b.length;for(c=0;e>c;c++)d=a(this._findFirstElementByTagName(b[c].firstChild,"nextSibling","img","IMG")),d.length&&a(this._findFirstElementByTagName(d[0].parentNode,"parentNode","li","LI")).addClass(d.hasClass("ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")},_getChildrenByTagName:function(b,c,d){var e=[],f={};for(f[c]=f[d]=!0,b=b.firstChild;b;)f[b.nodeName]&&e.push(b),b=b.nextSibling;return a(e)},_beforeListviewRefresh:a.noop,_afterListviewRefresh:a.noop,refresh:function(c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=this.options,y=this.element,z=!!a.nodeName(y[0],"ol"),A=y.attr("start"),B={},C=y.find(".ui-li-count"),D=b(y[0],"counttheme")||this.options.countTheme,E=D?"ui-body-"+D:"ui-body-inherit";for(x.theme&&y.addClass("ui-group-theme-"+x.theme),z&&(A||0===A)&&(n=parseInt(A,10)-1,y.css("counter-reset","listnumbering "+n)),this._beforeListviewRefresh(),w=this._getChildrenByTagName(y[0],"li","LI"),e=0,f=w.length;f>e;e++)g=w.eq(e),h="",(c||g[0].className.search(/\bui-li-static\b|\bui-li-divider\b/)<0)&&(l=this._getChildrenByTagName(g[0],"a","A"),m="list-divider"===b(g[0],"role"),p=g.attr("value"),i=b(g[0],"theme"),l.length&&l[0].className.search(/\bui-btn\b/)<0&&!m?(j=b(g[0],"icon"),k=j===!1?!1:j||x.icon,l.removeClass("ui-link"),d="ui-btn",i&&(d+=" ui-btn-"+i),l.length>1?(h="ui-li-has-alt",q=l.last(),r=b(q[0],"theme")||x.splitTheme||b(g[0],"theme",!0),s=r?" ui-btn-"+r:"",t=b(q[0],"icon")||b(g[0],"icon")||x.splitIcon,u="ui-btn ui-btn-icon-notext ui-icon-"+t+s,q.attr("title",a.trim(q.getEncodedText())).addClass(u).empty(),l=l.first()):k&&(d+=" ui-btn-icon-right ui-icon-"+k),l.addClass(d)):m?(v=b(g[0],"theme")||x.dividerTheme||x.theme,h="ui-li-divider ui-bar-"+(v?v:"inherit"),g.attr("role","heading")):l.length<=0&&(h="ui-li-static ui-body-"+(i?i:"inherit")),z&&p&&(o=parseInt(p,10)-1,g.css("counter-reset","listnumbering "+o))),B[h]||(B[h]=[]),B[h].push(g[0]);for(h in B)a(B[h]).addClass(h);C.each(function(){a(this).closest("li").addClass("ui-li-has-count")}),E&&C.not("[class*='ui-body-']").addClass(E),this._addThumbClasses(w),this._addThumbClasses(w.find(".ui-btn")),this._afterListviewRefresh(),this._addFirstLastClasses(w,this._getVisibles(w,c),c)}},a.mobile.behaviors.addFirstLastClasses))}(a),function(a){function b(b){var c=a.trim(b.text())||null;return c?c=c.slice(0,1).toUpperCase():null}a.widget("mobile.listview",a.mobile.listview,{options:{autodividers:!1,autodividersSelector:b},_beforeListviewRefresh:function(){this.options.autodividers&&(this._replaceDividers(),this._superApply(arguments))},_replaceDividers:function(){var b,d,e,f,g,h=null,i=this.element;for(i.children("li:jqmData(role='list-divider')").remove(),d=i.children("li"),b=0;b<d.length;b++)e=d[b],f=this.options.autodividersSelector(a(e)),f&&h!==f&&(g=c.createElement("li"),g.appendChild(c.createTextNode(f)),g.setAttribute("data-"+a.mobile.ns+"role","list-divider"),e.parentNode.insertBefore(g,e)),h=f}})}(a),function(a){var b=/(^|\s)ui-li-divider($|\s)/,c=/(^|\s)ui-screen-hidden($|\s)/;a.widget("mobile.listview",a.mobile.listview,{options:{hideDividers:!1},_afterListviewRefresh:function(){var a,d,e,f=!0;if(this._superApply(arguments),this.options.hideDividers)for(a=this._getChildrenByTagName(this.element[0],"li","LI"),d=a.length-1;d>-1;d--)e=a[d],e.className.match(b)?(f&&(e.className=e.className+" ui-screen-hidden"),f=!0):e.className.match(c)||(f=!1)}})}(a),function(a){a.mobile.nojs=function(b){a(":jqmData(role='nojs')",b).addClass("ui-nojs")}}(a),function(a){a.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(a),function(a,b){var c=a.mobile.path.hashToSelector;a.widget("mobile.checkboxradio",a.extend({initSelector:"input:not( :jqmData(role='flipswitch' ) )[type='checkbox'],input[type='radio']:not( :jqmData(role='flipswitch' ))",options:{theme:"inherit",mini:!1,wrapperClass:null,enhanced:!1,iconpos:"left"},_create:function(){var b=this.element,c=this.options,d=function(a,b){return a.jqmData(b)||a.closest("form, fieldset").jqmData(b)},e=this.options.enhanced?{element:this.element.siblings("label"),isParent:!1}:this._findLabel(),f=b[0].type,g="ui-"+f+"-on",h="ui-"+f+"-off";("checkbox"===f||"radio"===f)&&(this.element[0].disabled&&(this.options.disabled=!0),c.iconpos=d(b,"iconpos")||e.element.attr("data-"+a.mobile.ns+"iconpos")||c.iconpos,c.mini=d(b,"mini")||c.mini,a.extend(this,{input:b,label:e.element,labelIsParent:e.isParent,inputtype:f,checkedClass:g,uncheckedClass:h}),this.options.enhanced||this._enhance(),this._on(e.element,{vmouseover:"_handleLabelVMouseOver",vclick:"_handleLabelVClick"}),this._on(b,{vmousedown:"_cacheVals",vclick:"_handleInputVClick",focus:"_handleInputFocus",blur:"_handleInputBlur"}),this._handleFormReset(),this.refresh())},_findLabel:function(){var b,d,e,f=this.element,g=f[0].labels;return g&&g.length>0?(d=a(g[0]),e=a.contains(d[0],f[0])):(b=f.closest("label"),e=b.length>0,d=e?b:a(this.document[0].getElementsByTagName("label")).filter("[for='"+c(f[0].id)+"']").first()),{element:d,isParent:e}},_enhance:function(){this.label.addClass("ui-btn ui-corner-all"),this.labelIsParent?this.input.add(this.label).wrapAll(this._wrapper()):(this.element.wrap(this._wrapper()),this.element.parent().prepend(this.label)),this._setOptions({theme:this.options.theme,iconpos:this.options.iconpos,mini:this.options.mini})},_wrapper:function(){return a("<div class='"+(this.options.wrapperClass?this.options.wrapperClass:"")+" ui-"+this.inputtype+(this.options.disabled?" ui-state-disabled":"")+"' ></div>")},_handleInputFocus:function(){this.label.addClass(a.mobile.focusClass)},_handleInputBlur:function(){this.label.removeClass(a.mobile.focusClass)},_handleInputVClick:function(){this.element.prop("checked",this.element.is(":checked")),this._getInputSet().not(this.element).prop("checked",!1),this._updateAll(!0)},_handleLabelVMouseOver:function(a){this.label.parent().hasClass("ui-state-disabled")&&a.stopPropagation()},_handleLabelVClick:function(a){var b=this.element;return b.is(":disabled")?void a.preventDefault():(this._cacheVals(),b.prop("checked","radio"===this.inputtype&&!0||!b.prop("checked")),b.triggerHandler("click"),this._getInputSet().not(b).prop("checked",!1),this._updateAll(),!1)},_cacheVals:function(){this._getInputSet().each(function(){a(this).attr("data-"+a.mobile.ns+"cacheVal",this.checked)})},_getInputSet:function(){var b,d,e=this.element[0],f=e.name,g=e.form,h=this.element.parents().last().get(0),i=this.element;return f&&"radio"===this.inputtype&&h&&(b="input[type='radio'][name='"+c(f)+"']",g?(d=g.getAttribute("id"),d&&(i=a(b+"[form='"+c(d)+"']",h)),i=a(g).find(b).filter(function(){return this.form===g}).add(i)):i=a(b,h).filter(function(){return!this.form})),i},_updateAll:function(b){var c=this;this._getInputSet().each(function(){var d=a(this);!this.checked&&"checkbox"!==c.inputtype||b||d.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},_hasIcon:function(){var b,c,d=a.mobile.controlgroup;return d&&(b=this.element.closest(":mobile-controlgroup,"+d.prototype.initSelector),b.length>0)?(c=a.data(b[0],"mobile-controlgroup"),"horizontal"!==(c?c.options.type:b.attr("data-"+a.mobile.ns+"type"))):!0},refresh:function(){var b=this.element[0].checked,c=a.mobile.activeBtnClass,d="ui-btn-icon-"+this.options.iconpos,e=[],f=[];this._hasIcon()?(f.push(c),e.push(d)):(f.push(d),(b?e:f).push(c)),b?(e.push(this.checkedClass),f.push(this.uncheckedClass)):(e.push(this.uncheckedClass),f.push(this.checkedClass)),this.widget().toggleClass("ui-state-disabled",this.element.prop("disabled")),this.label.addClass(e.join(" ")).removeClass(f.join(" "))},widget:function(){return this.label.parent()},_setOptions:function(a){var c=this.label,d=this.options,e=this.widget(),f=this._hasIcon();a.disabled!==b&&(this.input.prop("disabled",!!a.disabled),e.toggleClass("ui-state-disabled",!!a.disabled)),a.mini!==b&&e.toggleClass("ui-mini",!!a.mini),a.theme!==b&&c.removeClass("ui-btn-"+d.theme).addClass("ui-btn-"+a.theme),a.wrapperClass!==b&&e.removeClass(d.wrapperClass).addClass(a.wrapperClass),a.iconpos!==b&&f?c.removeClass("ui-btn-icon-"+d.iconpos).addClass("ui-btn-icon-"+a.iconpos):f||c.removeClass("ui-btn-icon-"+d.iconpos),this._super(a)}},a.mobile.behaviors.formReset))}(a),function(a,b){a.widget("mobile.button",{initSelector:"input[type='button'], input[type='submit'], input[type='reset']",options:{theme:null,icon:null,iconpos:"left",iconshadow:!1,corners:!0,shadow:!0,inline:null,mini:null,wrapperClass:null,enhanced:!1},_create:function(){this.element.is(":disabled")&&(this.options.disabled=!0),this.options.enhanced||this._enhance(),a.extend(this,{wrapper:this.element.parent()}),this._on({focus:function(){this.widget().addClass(a.mobile.focusClass)},blur:function(){this.widget().removeClass(a.mobile.focusClass)}}),this.refresh(!0)},_enhance:function(){this.element.wrap(this._button())},_button:function(){var b=this.options,c=this._getIconClasses(this.options);return a("<div class='ui-btn ui-input-btn"+(b.wrapperClass?" "+b.wrapperClass:"")+(b.theme?" ui-btn-"+b.theme:"")+(b.corners?" ui-corner-all":"")+(b.shadow?" ui-shadow":"")+(b.inline?" ui-btn-inline":"")+(b.mini?" ui-mini":"")+(b.disabled?" ui-state-disabled":"")+(c?" "+c:"")+"' >"+this.element.val()+"</div>")},widget:function(){return this.wrapper},_destroy:function(){this.element.insertBefore(this.wrapper),this.wrapper.remove()},_getIconClasses:function(a){return a.icon?"ui-icon-"+a.icon+(a.iconshadow?" ui-shadow-icon":"")+" ui-btn-icon-"+a.iconpos:""},_setOptions:function(c){var d=this.widget();c.theme!==b&&d.removeClass(this.options.theme).addClass("ui-btn-"+c.theme),c.corners!==b&&d.toggleClass("ui-corner-all",c.corners),c.shadow!==b&&d.toggleClass("ui-shadow",c.shadow),c.inline!==b&&d.toggleClass("ui-btn-inline",c.inline),c.mini!==b&&d.toggleClass("ui-mini",c.mini),c.disabled!==b&&(this.element.prop("disabled",c.disabled),d.toggleClass("ui-state-disabled",c.disabled)),(c.icon!==b||c.iconshadow!==b||c.iconpos!==b)&&d.removeClass(this._getIconClasses(this.options)).addClass(this._getIconClasses(a.extend({},this.options,c))),this._super(c)},refresh:function(b){var c,d=this.element.prop("disabled");this.options.icon&&"notext"===this.options.iconpos&&this.element.attr("title")&&this.element.attr("title",this.element.val()),b||(c=this.element.detach(),a(this.wrapper).text(this.element.val()).append(c)),this.options.disabled!==d&&this._setOptions({disabled:d})}})}(a),function(a){var b=a("meta[name=viewport]"),c=b.attr("content"),d=c+",maximum-scale=1, user-scalable=no",e=c+",maximum-scale=10, user-scalable=yes",f=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(c);a.mobile.zoom=a.extend({},{enabled:!f,locked:!1,disable:function(c){f||a.mobile.zoom.locked||(b.attr("content",d),a.mobile.zoom.enabled=!1,a.mobile.zoom.locked=c||!1)},enable:function(c){f||a.mobile.zoom.locked&&c!==!0||(b.attr("content",e),a.mobile.zoom.enabled=!0,a.mobile.zoom.locked=!1)},restore:function(){f||(b.attr("content",c),a.mobile.zoom.enabled=!0)}})}(a),function(a,b){a.widget("mobile.textinput",{initSelector:"input[type='text'],input[type='search'],:jqmData(type='search'),input[type='number'],:jqmData(type='number'),input[type='password'],input[type='email'],input[type='url'],input[type='tel'],textarea,input[type='time'],input[type='date'],input[type='month'],input[type='week'],input[type='datetime'],input[type='datetime-local'],input[type='color'],input:not([type]),input[type='file']",options:{theme:null,corners:!0,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,wrapperClass:"",enhanced:!1},_create:function(){var b=this.options,c=this.element.is("[type='search'], :jqmData(type='search')"),d="TEXTAREA"===this.element[0].tagName,e=this.element.is("[data-"+(a.mobile.ns||"")+"type='range']"),f=(this.element.is("input")||this.element.is("[data-"+(a.mobile.ns||"")+"type='search']"))&&!e;this.element.prop("disabled")&&(b.disabled=!0),a.extend(this,{classes:this._classesFromOptions(),isSearch:c,isTextarea:d,isRange:e,inputNeedsWrap:f}),this._autoCorrect(),b.enhanced||this._enhance(),this._on({focus:"_handleFocus",blur:"_handleBlur"})},refresh:function(){this.setOptions({disabled:this.element.is(":disabled")})},_enhance:function(){var a=[];this.isTextarea&&a.push("ui-input-text"),(this.isTextarea||this.isRange)&&a.push("ui-shadow-inset"),this.inputNeedsWrap?this.element.wrap(this._wrap()):a=a.concat(this.classes),this.element.addClass(a.join(" "))},widget:function(){return this.inputNeedsWrap?this.element.parent():this.element},_classesFromOptions:function(){var a=this.options,b=[];return b.push("ui-body-"+(null===a.theme?"inherit":a.theme)),a.corners&&b.push("ui-corner-all"),a.mini&&b.push("ui-mini"),a.disabled&&b.push("ui-state-disabled"),a.wrapperClass&&b.push(a.wrapperClass),b
},_wrap:function(){return a("<div class='"+(this.isSearch?"ui-input-search ":"ui-input-text ")+this.classes.join(" ")+" ui-shadow-inset'></div>")},_autoCorrect:function(){"undefined"==typeof this.element[0].autocorrect||a.support.touchOverflow||(this.element[0].setAttribute("autocorrect","off"),this.element[0].setAttribute("autocomplete","off"))},_handleBlur:function(){this.widget().removeClass(a.mobile.focusClass),this.options.preventFocusZoom&&a.mobile.zoom.enable(!0)},_handleFocus:function(){this.options.preventFocusZoom&&a.mobile.zoom.disable(!0),this.widget().addClass(a.mobile.focusClass)},_setOptions:function(a){var c=this.widget();this._super(a),(a.disabled!==b||a.mini!==b||a.corners!==b||a.theme!==b||a.wrapperClass!==b)&&(c.removeClass(this.classes.join(" ")),this.classes=this._classesFromOptions(),c.addClass(this.classes.join(" "))),a.disabled!==b&&this.element.prop("disabled",!!a.disabled)},_destroy:function(){this.options.enhanced||(this.inputNeedsWrap&&this.element.unwrap(),this.element.removeClass("ui-input-text "+this.classes.join(" ")))}})}(a),function(a,d){a.widget("mobile.slider",a.extend({initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!1},_create:function(){var e,f,g,h,i,j,k,l,m,n,o=this,p=this.element,q=this.options.trackTheme||a.mobile.getAttribute(p[0],"theme"),r=q?" ui-bar-"+q:" ui-bar-inherit",s=this.options.corners||p.jqmData("corners")?" ui-corner-all":"",t=this.options.mini||p.jqmData("mini")?" ui-mini":"",u=p[0].nodeName.toLowerCase(),v="select"===u,w=p.parent().is(":jqmData(role='rangeslider')"),x=v?"ui-slider-switch":"",y=p.attr("id"),z=a("[for='"+y+"']"),A=z.attr("id")||y+"-label",B=v?0:parseFloat(p.attr("min")),C=v?p.find("option").length-1:parseFloat(p.attr("max")),D=b.parseFloat(p.attr("step")||1),E=c.createElement("a"),F=a(E),G=c.createElement("div"),H=a(G),I=this.options.highlight&&!v?function(){var b=c.createElement("div");return b.className="ui-slider-bg "+a.mobile.activeBtnClass,a(b).prependTo(H)}():!1;if(z.attr("id",A),this.isToggleSwitch=v,E.setAttribute("href","#"),G.setAttribute("role","application"),G.className=[this.isToggleSwitch?"ui-slider ui-slider-track ui-shadow-inset ":"ui-slider-track ui-shadow-inset ",x,r,s,t].join(""),E.className="ui-slider-handle",G.appendChild(E),F.attr({role:"slider","aria-valuemin":B,"aria-valuemax":C,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":A}),a.extend(this,{slider:H,handle:F,control:p,type:u,step:D,max:C,min:B,valuebg:I,isRangeslider:w,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),v){for(k=p.attr("tabindex"),k&&F.attr("tabindex",k),p.attr("tabindex","-1").focus(function(){a(this).blur(),F.focus()}),f=c.createElement("div"),f.className="ui-slider-inneroffset",g=0,h=G.childNodes.length;h>g;g++)f.appendChild(G.childNodes[g]);for(G.appendChild(f),F.addClass("ui-slider-handle-snapping"),e=p.find("option"),i=0,j=e.length;j>i;i++)l=i?"a":"b",m=i?" "+a.mobile.activeBtnClass:"",n=c.createElement("span"),n.className=["ui-slider-label ui-slider-label-",l,m].join(""),n.setAttribute("role","img"),n.appendChild(c.createTextNode(e[i].innerHTML)),a(n).prependTo(H);o._labels=a(".ui-slider-label",H)}p.addClass(v?"ui-slider-switch":"ui-slider-input"),this._on(p,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"}),H.bind("vmousedown",a.proxy(this._sliderVMouseDown,this)).bind("vclick",!1),this._on(c,{vmousemove:"_preventDocumentDrag"}),this._on(H.add(c),{vmouseup:"_sliderVMouseUp"}),H.insertAfter(p),v||w||(f=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",p.add(H).wrapAll(f)),this._on(this.handle,{vmousedown:"_handleVMouseDown",keydown:"_handleKeydown",keyup:"_handleKeyup"}),this.handle.bind("vclick",!1),this._handleFormReset(),this.refresh(d,d,!0)},_setOptions:function(a){a.theme!==d&&this._setTheme(a.theme),a.trackTheme!==d&&this._setTrackTheme(a.trackTheme),a.corners!==d&&this._setCorners(a.corners),a.mini!==d&&this._setMini(a.mini),a.highlight!==d&&this._setHighlight(a.highlight),a.disabled!==d&&this._setDisabled(a.disabled),this._super(a)},_controlChange:function(a){return this._trigger("controlchange",a)===!1?!1:void(this.mouseMoved||this.refresh(this._value(),!0))},_controlKeyup:function(){this.refresh(this._value(),!0,!0)},_controlBlur:function(){this.refresh(this._value(),!0)},_controlVMouseUp:function(){this._checkedRefresh()},_handleVMouseDown:function(){this.handle.focus()},_handleKeydown:function(b){var c=this._value();if(!this.options.disabled){switch(b.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:b.preventDefault(),this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(b.keyCode){case a.mobile.keyCode.HOME:this.refresh(this.min);break;case a.mobile.keyCode.END:this.refresh(this.max);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:this.refresh(c+this.step);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:this.refresh(c-this.step)}}},_handleKeyup:function(){this._keySliding&&(this._keySliding=!1,this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(a){return this.options.disabled||1!==a.which&&0!==a.which&&a.which!==d?!1:this._trigger("beforestart",a)===!1?!1:(this.dragging=!0,this.userModified=!1,this.mouseMoved=!1,this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex),this.refresh(a),this._trigger("start"),!1)},_sliderVMouseUp:function(){return this.dragging?(this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.refresh(this.mouseMoved?this.userModified?0===this.beforeStart?1:0:this.beforeStart:0===this.beforeStart?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1):void 0},_preventDocumentDrag:function(a){return this._trigger("drag",a)===!1?!1:this.dragging&&!this.options.disabled?(this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(a),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1):void 0},_checkedRefresh:function(){this.value!==this._value()&&this.refresh(this._value())},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(d,!1,!0)},refresh:function(b,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=this,A=a.mobile.getAttribute(this.element[0],"theme"),B=this.options.theme||A,C=B?" ui-btn-"+B:"",D=this.options.trackTheme||A,E=D?" ui-bar-"+D:" ui-bar-inherit",F=this.options.corners?" ui-corner-all":"",G=this.options.mini?" ui-mini":"";if(z.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch ui-slider-track ui-shadow-inset":"ui-slider-track ui-shadow-inset",E,F,G].join(""),(this.options.disabled||this.element.prop("disabled"))&&this.disable(),this.value=this._value(),this.options.highlight&&!this.isToggleSwitch&&0===this.slider.find(".ui-slider-bg").length&&(this.valuebg=function(){var b=c.createElement("div");return b.className="ui-slider-bg "+a.mobile.activeBtnClass,a(b).prependTo(z.slider)}()),this.handle.addClass("ui-btn"+C+" ui-shadow"),l=this.element,m=!this.isToggleSwitch,n=m?[]:l.find("option"),o=m?parseFloat(l.attr("min")):0,p=m?parseFloat(l.attr("max")):n.length-1,q=m&&parseFloat(l.attr("step"))>0?parseFloat(l.attr("step")):1,"object"==typeof b){if(h=b,i=8,f=this.slider.offset().left,g=this.slider.width(),j=g/((p-o)/q),!this.dragging||h.pageX<f-i||h.pageX>f+g+i)return;k=j>1?(h.pageX-f)/g*100:Math.round((h.pageX-f)/g*100)}else null==b&&(b=m?parseFloat(l.val()||0):l[0].selectedIndex),k=(parseFloat(b)-o)/(p-o)*100;if(!isNaN(k)&&(r=k/100*(p-o)+o,s=(r-o)%q,t=r-s,2*Math.abs(s)>=q&&(t+=s>0?q:-q),u=100/((p-o)/q),r=parseFloat(t.toFixed(5)),"undefined"==typeof j&&(j=g/((p-o)/q)),j>1&&m&&(k=(r-o)*u*(1/q)),0>k&&(k=0),k>100&&(k=100),o>r&&(r=o),r>p&&(r=p),this.handle.css("left",k+"%"),this.handle[0].setAttribute("aria-valuenow",m?r:n.eq(r).attr("value")),this.handle[0].setAttribute("aria-valuetext",m?r:n.eq(r).getEncodedText()),this.handle[0].setAttribute("title",m?r:n.eq(r).getEncodedText()),this.valuebg&&this.valuebg.css("width",k+"%"),this._labels&&(v=this.handle.width()/this.slider.width()*100,w=k&&v+(100-v)*k/100,x=100===k?0:Math.min(v+100-w,100),this._labels.each(function(){var b=a(this).hasClass("ui-slider-label-a");a(this).width((b?w:x)+"%")})),!e)){if(y=!1,m?(y=parseFloat(l.val())!==r,l.val(r)):(y=l[0].selectedIndex!==r,l[0].selectedIndex=r),this._trigger("beforechange",b)===!1)return!1;!d&&y&&l.trigger("change")}},_setHighlight:function(a){a=!!a,a?(this.options.highlight=!!a,this.refresh()):this.valuebg&&(this.valuebg.remove(),this.valuebg=!1)},_setTheme:function(a){this.handle.removeClass("ui-btn-"+this.options.theme).addClass("ui-btn-"+a);var b=this.options.theme?this.options.theme:"inherit",c=a?a:"inherit";this.control.removeClass("ui-body-"+b).addClass("ui-body-"+c)},_setTrackTheme:function(a){var b=this.options.trackTheme?this.options.trackTheme:"inherit",c=a?a:"inherit";this.slider.removeClass("ui-body-"+b).addClass("ui-body-"+c)},_setMini:function(a){a=!!a,this.isToggleSwitch||this.isRangeslider||(this.slider.parent().toggleClass("ui-mini",a),this.element.toggleClass("ui-mini",a)),this.slider.toggleClass("ui-mini",a)},_setCorners:function(a){this.slider.toggleClass("ui-corner-all",a),this.isToggleSwitch||this.control.toggleClass("ui-corner-all",a)},_setDisabled:function(a){a=!!a,this.element.prop("disabled",a),this.slider.toggleClass("ui-state-disabled",a).attr("aria-disabled",a),this.element.toggleClass("ui-state-disabled",a)}},a.mobile.behaviors.formReset))}(a),function(a){function b(){return c||(c=a("<div></div>",{"class":"ui-slider-popup ui-shadow ui-corner-all"})),c.clone()}var c;a.widget("mobile.slider",a.mobile.slider,{options:{popupEnabled:!1,showValue:!1},_create:function(){this._super(),a.extend(this,{_currentValue:null,_popup:null,_popupVisible:!1}),this._setOption("popupEnabled",this.options.popupEnabled),this._on(this.handle,{vmousedown:"_showPopup"}),this._on(this.slider.add(this.document),{vmouseup:"_hidePopup"}),this._refresh()},_positionPopup:function(){var a=this.handle.offset();this._popup.offset({left:a.left+(this.handle.width()-this._popup.width())/2,top:a.top-this._popup.outerHeight()-5})},_setOption:function(a,c){this._super(a,c),"showValue"===a?this.handle.html(c&&!this.options.mini?this._value():""):"popupEnabled"===a&&c&&!this._popup&&(this._popup=b().addClass("ui-body-"+(this.options.theme||"a")).hide().insertBefore(this.element))},refresh:function(){this._super.apply(this,arguments),this._refresh()},_refresh:function(){var a,b=this.options;b.popupEnabled&&this.handle.removeAttr("title"),a=this._value(),a!==this._currentValue&&(this._currentValue=a,b.popupEnabled&&this._popup&&(this._positionPopup(),this._popup.html(a)),b.showValue&&!this.options.mini&&this.handle.html(a))},_showPopup:function(){this.options.popupEnabled&&!this._popupVisible&&(this.handle.html(""),this._popup.show(),this._positionPopup(),this._popupVisible=!0)},_hidePopup:function(){var a=this.options;a.popupEnabled&&this._popupVisible&&(a.showValue&&!a.mini&&this.handle.html(this._value()),this._popup.hide(),this._popupVisible=!1)}})}(a),function(a,b){a.widget("mobile.flipswitch",a.extend({options:{onText:"On",offText:"Off",theme:null,enhanced:!1,wrapperClass:null,corners:!0,mini:!1},_create:function(){this.options.enhanced?a.extend(this,{flipswitch:this.element.parent(),on:this.element.find(".ui-flipswitch-on").eq(0),off:this.element.find(".ui-flipswitch-off").eq(0),type:this.element.get(0).tagName}):this._enhance(),this._handleFormReset(),this._originalTabIndex=this.element.attr("tabindex"),null!=this._originalTabIndex&&this.on.attr("tabindex",this._originalTabIndex),this.element.attr("tabindex","-1"),this._on({focus:"_handleInputFocus"}),this.element.is(":disabled")&&this._setOptions({disabled:!0}),this._on(this.flipswitch,{click:"_toggle",swipeleft:"_left",swiperight:"_right"}),this._on(this.on,{keydown:"_keydown"}),this._on({change:"refresh"})},_handleInputFocus:function(){this.on.focus()},widget:function(){return this.flipswitch},_left:function(){this.flipswitch.removeClass("ui-flipswitch-active"),"SELECT"===this.type?this.element.get(0).selectedIndex=0:this.element.prop("checked",!1),this.element.trigger("change")},_right:function(){this.flipswitch.addClass("ui-flipswitch-active"),"SELECT"===this.type?this.element.get(0).selectedIndex=1:this.element.prop("checked",!0),this.element.trigger("change")},_enhance:function(){var b=a("<div>"),c=this.options,d=this.element,e=c.theme?c.theme:"inherit",f=a("<a></a>",{href:"#"}),g=a("<span></span>"),h=d.get(0).tagName,i="INPUT"===h?c.onText:d.find("option").eq(1).text(),j="INPUT"===h?c.offText:d.find("option").eq(0).text();f.addClass("ui-flipswitch-on ui-btn ui-shadow ui-btn-inherit").text(i),g.addClass("ui-flipswitch-off").text(j),b.addClass("ui-flipswitch ui-shadow-inset ui-bar-"+e+" "+(c.wrapperClass?c.wrapperClass:"")+" "+(d.is(":checked")||d.find("option").eq(1).is(":selected")?"ui-flipswitch-active":"")+(d.is(":disabled")?" ui-state-disabled":"")+(c.corners?" ui-corner-all":"")+(c.mini?" ui-mini":"")).append(f,g),d.addClass("ui-flipswitch-input").after(b).appendTo(b),a.extend(this,{flipswitch:b,on:f,off:g,type:h})},_reset:function(){this.refresh()},refresh:function(){var a,b=this.flipswitch.hasClass("ui-flipswitch-active")?"_right":"_left";a="SELECT"===this.type?this.element.get(0).selectedIndex>0?"_right":"_left":this.element.prop("checked")?"_right":"_left",a!==b&&this[a]()},_toggle:function(){var a=this.flipswitch.hasClass("ui-flipswitch-active")?"_left":"_right";this[a]()},_keydown:function(b){b.which===a.mobile.keyCode.LEFT?this._left():b.which===a.mobile.keyCode.RIGHT?this._right():b.which===a.mobile.keyCode.SPACE&&(this._toggle(),b.preventDefault())},_setOptions:function(a){if(a.theme!==b){var c=a.theme?a.theme:"inherit",d=a.theme?a.theme:"inherit";this.widget().removeClass("ui-bar-"+c).addClass("ui-bar-"+d)}a.onText!==b&&this.on.text(a.onText),a.offText!==b&&this.off.text(a.offText),a.disabled!==b&&this.widget().toggleClass("ui-state-disabled",a.disabled),a.mini!==b&&this.widget().toggleClass("ui-mini",a.mini),a.corners!==b&&this.widget().toggleClass("ui-corner-all",a.corners),this._super(a)},_destroy:function(){this.options.enhanced||(null!=this._originalTabIndex?this.element.attr("tabindex",this._originalTabIndex):this.element.removeAttr("tabindex"),this.on.remove(),this.off.remove(),this.element.unwrap(),this.flipswitch.remove(),this.removeClass("ui-flipswitch-input"))}},a.mobile.behaviors.formReset))}(a),function(a,b){a.widget("mobile.rangeslider",a.extend({options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!0},_create:function(){var b=this.element,c=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",d=b.find("input").first(),e=b.find("input").last(),f=b.find("label").first(),g=a.data(d.get(0),"mobile-slider")||a.data(d.slider().get(0),"mobile-slider"),h=a.data(e.get(0),"mobile-slider")||a.data(e.slider().get(0),"mobile-slider"),i=g.slider,j=h.slider,k=g.handle,l=a("<div class='ui-rangeslider-sliders' />").appendTo(b);d.addClass("ui-rangeslider-first"),e.addClass("ui-rangeslider-last"),b.addClass(c),i.appendTo(l),j.appendTo(l),f.insertBefore(b),k.prependTo(j),a.extend(this,{_inputFirst:d,_inputLast:e,_sliderFirst:i,_sliderLast:j,_label:f,_targetVal:null,_sliderTarget:!1,_sliders:l,_proxy:!1}),this.refresh(),this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"}),this._on({mousedown:"_change"}),this._on(this.element.closest("form"),{reset:"_handleReset"}),this._on(k,{vmousedown:"_dragFirstHandle"})},_handleReset:function(){var a=this;setTimeout(function(){a._updateHighlight()},0)},_dragFirstHandle:function(b){return a.data(this._inputFirst.get(0),"mobile-slider").dragging=!0,a.data(this._inputFirst.get(0),"mobile-slider").refresh(b),a.data(this._inputFirst.get(0),"mobile-slider")._trigger("start"),!1},_slidedrag:function(b){var c=a(b.target).is(this._inputFirst),d=c?this._inputLast:this._inputFirst;return this._sliderTarget=!1,"first"===this._proxy&&c||"last"===this._proxy&&!c?(a.data(d.get(0),"mobile-slider").dragging=!0,a.data(d.get(0),"mobile-slider").refresh(b),!1):void 0},_slidestop:function(b){var c=a(b.target).is(this._inputFirst);this._proxy=!1,this.element.find("input").trigger("vmouseup"),this._sliderFirst.css("z-index",c?1:"")},_slidebeforestart:function(b){this._sliderTarget=!1,a(b.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=a(b.target).val())},_setOptions:function(a){a.theme!==b&&this._setTheme(a.theme),a.trackTheme!==b&&this._setTrackTheme(a.trackTheme),a.mini!==b&&this._setMini(a.mini),a.highlight!==b&&this._setHighlight(a.highlight),a.disabled!==b&&this._setDisabled(a.disabled),this._super(a),this.refresh()},refresh:function(){var a=this.element,b=this.options;(this._inputFirst.is(":disabled")||this._inputLast.is(":disabled"))&&(this.options.disabled=!0),a.find("input").slider({theme:b.theme,trackTheme:b.trackTheme,disabled:b.disabled,corners:b.corners,mini:b.mini,highlight:b.highlight}).slider("refresh"),this._updateHighlight()},_change:function(b){if("keyup"===b.type)return this._updateHighlight(),!1;var c=this,d=parseFloat(this._inputFirst.val(),10),e=parseFloat(this._inputLast.val(),10),f=a(b.target).hasClass("ui-rangeslider-first"),g=f?this._inputFirst:this._inputLast,h=f?this._inputLast:this._inputFirst;if(this._inputFirst.val()>this._inputLast.val()&&"mousedown"===b.type&&!a(b.target).hasClass("ui-slider-handle"))g.blur();else if("mousedown"===b.type)return;return d>e&&!this._sliderTarget?(g.val(f?e:d).slider("refresh"),this._trigger("normalize")):d>e&&(g.val(this._targetVal).slider("refresh"),setTimeout(function(){h.val(f?d:e).slider("refresh"),a.data(h.get(0),"mobile-slider").handle.focus(),c._sliderFirst.css("z-index",f?"":1),c._trigger("normalize")},0),this._proxy=f?"first":"last"),d===e?(a.data(g.get(0),"mobile-slider").handle.css("z-index",1),a.data(h.get(0),"mobile-slider").handle.css("z-index",0)):(a.data(h.get(0),"mobile-slider").handle.css("z-index",""),a.data(g.get(0),"mobile-slider").handle.css("z-index","")),this._updateHighlight(),d>=e?!1:void 0},_updateHighlight:function(){var b=parseInt(a.data(this._inputFirst.get(0),"mobile-slider").handle.get(0).style.left,10),c=parseInt(a.data(this._inputLast.get(0),"mobile-slider").handle.get(0).style.left,10),d=c-b;this.element.find(".ui-slider-bg").css({"margin-left":b+"%",width:d+"%"})},_setTheme:function(a){this._inputFirst.slider("option","theme",a),this._inputLast.slider("option","theme",a)},_setTrackTheme:function(a){this._inputFirst.slider("option","trackTheme",a),this._inputLast.slider("option","trackTheme",a)},_setMini:function(a){this._inputFirst.slider("option","mini",a),this._inputLast.slider("option","mini",a),this.element.toggleClass("ui-mini",!!a)},_setHighlight:function(a){this._inputFirst.slider("option","highlight",a),this._inputLast.slider("option","highlight",a)},_setDisabled:function(a){this._inputFirst.prop("disabled",a),this._inputLast.prop("disabled",a)},_destroy:function(){this._label.prependTo(this.element),this.element.removeClass("ui-rangeslider ui-mini"),this._inputFirst.after(this._sliderFirst),this._inputLast.after(this._sliderLast),this._sliders.remove(),this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}},a.mobile.behaviors.formReset))}(a),function(a,b){a.widget("mobile.textinput",a.mobile.textinput,{options:{clearBtn:!1,clearBtnText:"Clear text"},_create:function(){this._super(),this.isSearch&&(this.options.clearBtn=!0),this.options.clearBtn&&this.inputNeedsWrap&&this._addClearBtn()},clearButton:function(){return a("<a href='#' tabindex='-1' aria-hidden='true' class='ui-input-clear ui-btn ui-icon-delete ui-btn-icon-notext ui-corner-all'></a>").attr("title",this.options.clearBtnText).text(this.options.clearBtnText)},_clearBtnClick:function(a){this.element.val("").focus().trigger("change"),this._clearBtn.addClass("ui-input-clear-hidden"),a.preventDefault()},_addClearBtn:function(){this.options.enhanced||this._enhanceClear(),a.extend(this,{_clearBtn:this.widget().find("a.ui-input-clear")}),this._bindClearEvents(),this._toggleClear()},_enhanceClear:function(){this.clearButton().appendTo(this.widget()),this.widget().addClass("ui-input-has-clear")},_bindClearEvents:function(){this._on(this._clearBtn,{click:"_clearBtnClick"}),this._on({keyup:"_toggleClear",change:"_toggleClear",input:"_toggleClear",focus:"_toggleClear",blur:"_toggleClear",cut:"_toggleClear",paste:"_toggleClear"})},_unbindClear:function(){this._off(this._clearBtn,"click"),this._off(this.element,"keyup change input focus blur cut paste")},_setOptions:function(a){this._super(a),a.clearBtn===b||this.element.is("textarea, :jqmData(type='range')")||(a.clearBtn?this._addClearBtn():this._destroyClear()),a.clearBtnText!==b&&this._clearBtn!==b&&this._clearBtn.text(a.clearBtnText).attr("title",a.clearBtnText)},_toggleClear:function(){this._delay("_toggleClearClass",0)},_toggleClearClass:function(){this._clearBtn.toggleClass("ui-input-clear-hidden",!this.element.val())},_destroyClear:function(){this.widget().removeClass("ui-input-has-clear"),this._unbindClear(),this._clearBtn.remove()},_destroy:function(){this._super(),this.options.clearBtn&&this._destroyClear()}})}(a),function(a,b){a.widget("mobile.textinput",a.mobile.textinput,{options:{autogrow:!0,keyupTimeoutBuffer:100},_create:function(){this._super(),this.options.autogrow&&this.isTextarea&&this._autogrow()},_autogrow:function(){this.element.addClass("ui-textinput-autogrow"),this._on({keyup:"_timeout",change:"_timeout",input:"_timeout",paste:"_timeout"}),this._on(!0,this.document,{pageshow:"_handleShow",popupbeforeposition:"_handleShow",updatelayout:"_handleShow",panelopen:"_handleShow"})},_handleShow:function(b){a.contains(b.target,this.element[0])&&this.element.is(":visible")&&("popupbeforeposition"!==b.type&&this.element.addClass("ui-textinput-autogrow-resize").animationComplete(a.proxy(function(){this.element.removeClass("ui-textinput-autogrow-resize")},this),"transition"),this._prepareHeightUpdate())},_unbindAutogrow:function(){this.element.removeClass("ui-textinput-autogrow"),this._off(this.element,"keyup change input paste"),this._off(this.document,"pageshow popupbeforeposition updatelayout panelopen")},keyupTimeout:null,_prepareHeightUpdate:function(a){this.keyupTimeout&&clearTimeout(this.keyupTimeout),a===b?this._updateHeight():this.keyupTimeout=this._delay("_updateHeight",a)},_timeout:function(){this._prepareHeightUpdate(this.options.keyupTimeoutBuffer)},_updateHeight:function(){var a,b,c,d,e,f,g,h,i,j=this.window.scrollTop();this.keyupTimeout=0,"onpage"in this.element[0]||this.element.css({height:0,"min-height":0,"max-height":0}),d=this.element[0].scrollHeight,e=this.element[0].clientHeight,f=parseFloat(this.element.css("border-top-width")),g=parseFloat(this.element.css("border-bottom-width")),h=f+g,i=d+h+15,0===e&&(a=parseFloat(this.element.css("padding-top")),b=parseFloat(this.element.css("padding-bottom")),c=a+b,i+=c),this.element.css({height:i,"min-height":"","max-height":""}),this.window.scrollTop(j)},refresh:function(){this.options.autogrow&&this.isTextarea&&this._updateHeight()},_setOptions:function(a){this._super(a),a.autogrow!==b&&this.isTextarea&&(a.autogrow?this._autogrow():this._unbindAutogrow())}})}(a),function(a){a.widget("mobile.selectmenu",a.extend({initSelector:"select:not( :jqmData(role='slider')):not( :jqmData(role='flipswitch') )",options:{theme:null,icon:"carat-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!1,overlayTheme:null,dividerTheme:null,hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,mini:!1},_button:function(){return a("<div/>")},_setDisabled:function(a){return this.element.attr("disabled",a),this.button.attr("aria-disabled",a),this._setOption("disabled",a)},_focusButton:function(){var a=this;setTimeout(function(){a.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var b=this.options.inline||this.element.jqmData("inline"),c=this.options.mini||this.element.jqmData("mini"),d="";~this.element[0].className.indexOf("ui-btn-left")&&(d=" ui-btn-left"),~this.element[0].className.indexOf("ui-btn-right")&&(d=" ui-btn-right"),b&&(d+=" ui-btn-inline"),c&&(d+=" ui-mini"),this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+d+"'>"),this.selectId=this.select.attr("id")||"select-"+this.uuid,this.buttonId=this.selectId+"-button",this.label=a("label[for='"+this.selectId+"']"),this.isMultiple=this.select[0].multiple},_destroy:function(){var a=this.element.parents(".ui-select");a.length>0&&(a.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(a.hasClass("ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(a),a.remove())},_create:function(){this._preExtension(),this.button=this._button();var c=this,d=this.options,e=d.icon?d.iconpos||this.select.jqmData("iconpos"):!1,f=this.button.insertBefore(this.select).attr("id",this.buttonId).addClass("ui-btn"+(d.icon?" ui-icon-"+d.icon+" ui-btn-icon-"+e+(d.iconshadow?" ui-shadow-icon":""):"")+(d.theme?" ui-btn-"+d.theme:"")+(d.corners?" ui-corner-all":"")+(d.shadow?" ui-shadow":""));this.setButtonText(),d.nativeMenu&&b.opera&&b.opera.version&&f.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=a("<span>").addClass("ui-li-count ui-body-inherit").hide().appendTo(f.addClass("ui-li-has-count"))),(d.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){c.refresh(),d.nativeMenu&&c._delay(function(){c.select.blur()})}),this._handleFormReset(),this._on(this.button,{keydown:"_handleKeydown"}),this.build()},build:function(){var b=this;this.select.appendTo(b.button).bind("vmousedown",function(){b.button.addClass(a.mobile.activeBtnClass)}).bind("focus",function(){b.button.addClass(a.mobile.focusClass)}).bind("blur",function(){b.button.removeClass(a.mobile.focusClass)}).bind("focus vmouseover",function(){b.button.trigger("vmouseover")}).bind("vmousemove",function(){b.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){b.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}),b.button.bind("vmousedown",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.label.bind("click focus",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.select.bind("focus",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.button.bind("mouseup",function(){b.options.preventFocusZoom&&setTimeout(function(){a.mobile.zoom.enable(!0)},0)}),b.select.bind("blur",function(){b.options.preventFocusZoom&&a.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var a=this;return this.selected().map(function(){return a._selectOptions().index(this)}).get()},setButtonText:function(){var b=this,d=this.selected(),e=this.placeholder,f=a(c.createElement("span"));this.button.children("span").not(".ui-li-count").remove().end().end().prepend(function(){return e=d.length?d.map(function(){return a(this).text()}).get().join(", "):b.placeholder,e?f.text(e):f.html("&#160;"),f.addClass(b.select.attr("class")).addClass(d.attr("class")).removeClass("ui-screen-hidden")}())},setButtonCount:function(){var a=this.selected();this.isMultiple&&this.buttonCount[a.length>1?"show":"hide"]().text(a.length)},_handleKeydown:function(){this._delay("_refreshButton")},_reset:function(){this.refresh()},_refreshButton:function(){this.setButtonText(),this.setButtonCount()},refresh:function(){this._refreshButton()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-state-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-state-disabled")}},a.mobile.behaviors.formReset))}(a),function(a){a.mobile.links=function(b){a(b).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var a=this,b=a.getAttribute("href").substring(1);b&&(a.setAttribute("aria-haspopup",!0),a.setAttribute("aria-owns",b),a.setAttribute("aria-expanded",!1))}).end().not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")}}(a),function(a,c){function d(a,b,c,d){var e=d;return e=b>a?c+(a-b)/2:Math.min(Math.max(c,d-b/2),c+a-b)}function e(a){return{x:a.scrollLeft(),y:a.scrollTop(),cx:a[0].innerWidth||a.width(),cy:a[0].innerHeight||a.height()}}a.widget("mobile.popup",{options:{wrapperClass:null,theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,enhanced:!1,history:!a.mobile.browser.oldIE},_handleDocumentVmousedown:function(b){this._isOpen&&a.contains(this._ui.container[0],b.target)&&this._ignoreResizeEvents()},_create:function(){var b=this.element,c=b.attr("id"),d=this.options;d.history=d.history&&a.mobile.ajaxEnabled&&a.mobile.hashListeningEnabled,this._on(this.document,{vmousedown:"_handleDocumentVmousedown"}),a.extend(this,{_scrollTop:0,_page:b.closest(".ui-page"),_ui:null,_fallbackTransition:"",_currentTransition:!1,_prerequisites:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),0===this._page.length&&(this._page=a("body")),d.enhanced?this._ui={container:b.parent(),screen:b.parent().prev(),placeholder:a(this.document[0].getElementById(c+"-placeholder"))}:(this._ui=this._enhance(b,c),this._applyTransition(d.transition)),this._setTolerance(d.tolerance)._ui.focusElement=this._ui.container,this._on(this._ui.screen,{vclick:"_eatEventAndClose"}),this._on(this.window,{orientationchange:a.proxy(this,"_handleWindowOrientationchange"),resize:a.proxy(this,"_handleWindowResize"),keyup:a.proxy(this,"_handleWindowKeyUp")}),this._on(this.document,{focusin:"_handleDocumentFocusIn"})},_enhance:function(b,c){var d=this.options,e=d.wrapperClass,f={screen:a("<div class='ui-screen-hidden ui-popup-screen "+this._themeClassFromOption("ui-overlay-",d.overlayTheme)+"'></div>"),placeholder:a("<div style='display: none;'><!-- placeholder --></div>"),container:a("<div class='ui-popup-container ui-popup-hidden ui-popup-truncate"+(e?" "+e:"")+"'></div>")},g=this.document[0].createDocumentFragment();return g.appendChild(f.screen[0]),g.appendChild(f.container[0]),c&&(f.screen.attr("id",c+"-screen"),f.container.attr("id",c+"-popup"),f.placeholder.attr("id",c+"-placeholder").html("<!-- placeholder for "+c+" -->")),this._page[0].appendChild(g),f.placeholder.insertAfter(b),b.detach().addClass("ui-popup "+this._themeClassFromOption("ui-body-",d.theme)+" "+(d.shadow?"ui-overlay-shadow ":"")+(d.corners?"ui-corner-all ":"")).appendTo(f.container),f},_eatEventAndClose:function(a){return a.preventDefault(),a.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var a=this._ui.screen,b=this._ui.container.outerHeight(!0),c=a.removeAttr("style").height(),d=this.document.height()-1;d>c?a.height(d):b>c&&a.height(b)},_handleWindowKeyUp:function(b){return this._isOpen&&b.keyCode===a.mobile.keyCode.ESCAPE?this._eatEventAndClose(b):void 0},_expectResizeEvent:function(){var a=e(this.window);
if(this._resizeData){if(a.x===this._resizeData.windowCoordinates.x&&a.y===this._resizeData.windowCoordinates.y&&a.cx===this._resizeData.windowCoordinates.cx&&a.cy===this._resizeData.windowCoordinates.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:this._delay("_resizeTimeout",200),windowCoordinates:a},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden ui-popup-truncate"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_stopIgnoringResizeEvents:function(){this._ignoreResizeTo=0},_ignoreResizeEvents:function(){this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=this._delay("_stopIgnoringResizeEvents",1e3)},_handleWindowResize:function(){this._isOpen&&0===this._ignoreResizeTo&&(!this._expectResizeEvent()&&!this._orientationchangeInProgress||this._ui.container.hasClass("ui-popup-hidden")||this._ui.container.addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style"))},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(b){var c,d=b.target,e=this._ui;if(this._isOpen){if(d!==e.container[0]){if(c=a(d),!a.contains(e.container[0],d))return a(this.document[0].activeElement).one("focus",a.proxy(function(){this._safelyBlur(d)},this)),e.focusElement.focus(),b.preventDefault(),b.stopImmediatePropagation(),!1;e.focusElement[0]===e.container[0]&&(e.focusElement=c)}this._ignoreResizeEvents()}},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:a+"inherit"},_applyTransition:function(b){return b&&(this._ui.container.removeClass(this._fallbackTransition),"none"!==b&&(this._fallbackTransition=a.mobile._maybeDegradeTransition(b),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))),this},_setOptions:function(a){var b=this.options,d=this.element,e=this._ui.screen;return a.wrapperClass!==c&&this._ui.container.removeClass(b.wrapperClass).addClass(a.wrapperClass),a.theme!==c&&d.removeClass(this._themeClassFromOption("ui-body-",b.theme)).addClass(this._themeClassFromOption("ui-body-",a.theme)),a.overlayTheme!==c&&(e.removeClass(this._themeClassFromOption("ui-overlay-",b.overlayTheme)).addClass(this._themeClassFromOption("ui-overlay-",a.overlayTheme)),this._isOpen&&e.addClass("in")),a.shadow!==c&&d.toggleClass("ui-overlay-shadow",a.shadow),a.corners!==c&&d.toggleClass("ui-corner-all",a.corners),a.transition!==c&&(this._currentTransition||this._applyTransition(a.transition)),a.tolerance!==c&&this._setTolerance(a.tolerance),a.disabled!==c&&a.disabled&&this.close(),this._super(a)},_setTolerance:function(b){var d,e={t:30,r:15,b:30,l:15};if(b!==c)switch(d=String(b).split(","),a.each(d,function(a,b){d[a]=parseInt(b,10)}),d.length){case 1:isNaN(d[0])||(e.t=e.r=e.b=e.l=d[0]);break;case 2:isNaN(d[0])||(e.t=e.b=d[0]),isNaN(d[1])||(e.l=e.r=d[1]);break;case 4:isNaN(d[0])||(e.t=d[0]),isNaN(d[1])||(e.r=d[1]),isNaN(d[2])||(e.b=d[2]),isNaN(d[3])||(e.l=d[3])}return this._tolerance=e,this},_clampPopupWidth:function(a){var b,c=e(this.window),d={x:this._tolerance.l,y:c.y+this._tolerance.t,cx:c.cx-this._tolerance.l-this._tolerance.r,cy:c.cy-this._tolerance.t-this._tolerance.b};return a||this._ui.container.css("max-width",d.cx),b={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},{rc:d,menuSize:b}},_calculateFinalLocation:function(a,b){var c,e=b.rc,f=b.menuSize;return c={left:d(e.cx,f.cx,e.x,a.x),top:d(e.cy,f.cy,e.y,a.y)},c.top=Math.max(0,c.top),c.top-=Math.min(c.top,Math.max(0,c.top+f.cy-this.document.height())),c},_placementCoords:function(a){return this._calculateFinalLocation(a,this._clampPopupWidth())},_createPrerequisites:function(b,c,d){var e,f=this;e={screen:a.Deferred(),container:a.Deferred()},e.screen.then(function(){e===f._prerequisites&&b()}),e.container.then(function(){e===f._prerequisites&&c()}),a.when(e.screen,e.container).done(function(){e===f._prerequisites&&(f._prerequisites=null,d())}),f._prerequisites=e},_animate:function(b){return this._ui.screen.removeClass(b.classToRemove).addClass(b.screenClassToAdd),b.prerequisites.screen.resolve(),b.transition&&"none"!==b.transition&&(b.applyTransition&&this._applyTransition(b.transition),this._fallbackTransition)?void this._ui.container.addClass(b.containerClassToAdd).removeClass(b.classToRemove).animationComplete(a.proxy(b.prerequisites.container,"resolve")):(this._ui.container.removeClass(b.classToRemove),void b.prerequisites.container.resolve())},_desiredCoords:function(b){var c,d=null,f=e(this.window),g=b.x,h=b.y,i=b.positionTo;if(i&&"origin"!==i)if("window"===i)g=f.cx/2+f.x,h=f.cy/2+f.y;else{try{d=a(i)}catch(j){d=null}d&&(d.filter(":visible"),0===d.length&&(d=null))}return d&&(c=d.offset(),g=c.left+d.outerWidth()/2,h=c.top+d.outerHeight()/2),("number"!==a.type(g)||isNaN(g))&&(g=f.cx/2+f.x),("number"!==a.type(h)||isNaN(h))&&(h=f.cy/2+f.y),{x:g,y:h}},_reposition:function(a){a={x:a.x,y:a.y,positionTo:a.positionTo},this._trigger("beforeposition",c,a),this._ui.container.offset(this._placementCoords(this._desiredCoords(a)))},reposition:function(a){this._isOpen&&this._reposition(a)},_safelyBlur:function(b){b!==this.window[0]&&"body"!==b.nodeName.toLowerCase()&&a(b).blur()},_openPrerequisitesComplete:function(){var b=this.element.attr("id"),c=this._ui.container.find(":focusable").first();this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),a.contains(this._ui.container[0],this.document[0].activeElement)||this._safelyBlur(this.document[0].activeElement),c.length>0&&(this._ui.focusElement=c),this._ignoreResizeEvents(),b&&this.document.find("[aria-haspopup='true'][aria-owns='"+b+"']").attr("aria-expanded",!0),this._trigger("afteropen")},_open:function(b){var c=a.extend({},this.options,b),d=function(){var a=navigator.userAgent,b=a.match(/AppleWebKit\/([0-9\.]+)/),c=!!b&&b[1],d=a.match(/Android (\d+(?:\.\d+))/),e=!!d&&d[1],f=a.indexOf("Chrome")>-1;return null!==d&&"4.0"===e&&c&&c>534.13&&!f?!0:!1}();this._createPrerequisites(a.noop,a.noop,a.proxy(this,"_openPrerequisitesComplete")),this._currentTransition=c.transition,this._applyTransition(c.transition),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-truncate"),this._reposition(c),this._ui.container.removeClass("ui-popup-hidden"),this.options.overlayTheme&&d&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:c.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prerequisites:this._prerequisites})},_closePrerequisiteScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrerequisiteContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style")},_closePrerequisitesDone:function(){var b=this._ui.container,d=this.element.attr("id");a.mobile.popup.active=c,a(":focus",b[0]).add(b[0]).blur(),d&&this.document.find("[aria-haspopup='true'][aria-owns='"+d+"']").attr("aria-expanded",!1),this._trigger("afterclose")},_close:function(b){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrerequisites(a.proxy(this,"_closePrerequisiteScreen"),a.proxy(this,"_closePrerequisiteContainer"),a.proxy(this,"_closePrerequisitesDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:b?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prerequisites:this._prerequisites})},_unenhance:function(){this.options.enhanced||(this._setOptions({theme:a.mobile.popup.prototype.options.theme}),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all ui-body-inherit"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove())},_destroy:function(){return a.mobile.popup.active===this?(this.element.one("popupafterclose",a.proxy(this,"_unenhance")),this.close()):this._unenhance(),this},_closePopup:function(c,d){var e,f,g=this.options,h=!1;c&&c.isDefaultPrevented()||a.mobile.popup.active!==this||(b.scrollTo(0,this._scrollTop),c&&"pagebeforechange"===c.type&&d&&(e="string"==typeof d.toPage?d.toPage:d.toPage.jqmData("url"),e=a.mobile.path.parseUrl(e),f=e.pathname+e.search+e.hash,this._myUrl!==a.mobile.path.makeUrlAbsolute(f)?h=!0:c.preventDefault()),this.window.off(g.closeEvents),this.element.undelegate(g.closeLinkSelector,g.closeLinkEvents),this._close(h))},_bindContainerClose:function(){this.window.on(this.options.closeEvents,a.proxy(this,"_closePopup"))},widget:function(){return this._ui.container},open:function(b){var c,d,e,f,g,h,i=this,j=this.options;return a.mobile.popup.active||j.disabled?this:(a.mobile.popup.active=this,this._scrollTop=this.window.scrollTop(),j.history?(h=a.mobile.navigate.history,d=a.mobile.dialogHashKey,e=a.mobile.activePage,f=e?e.hasClass("ui-dialog"):!1,this._myUrl=c=h.getActive().url,(g=c.indexOf(d)>-1&&!f&&h.activeIndex>0)?(i._open(b),i._bindContainerClose(),this):(-1!==c.indexOf(d)||f?c=a.mobile.path.parseLocation().hash+d:c+=c.indexOf("#")>-1?d:"#"+d,this.window.one("beforenavigate",function(a){a.preventDefault(),i._open(b),i._bindContainerClose()}),this.urlAltered=!0,a.mobile.navigate(c,{role:"dialog"}),this)):(i._open(b),i._bindContainerClose(),i.element.delegate(j.closeLinkSelector,j.closeLinkEvents,function(a){i.close(),a.preventDefault()}),this))},close:function(){return a.mobile.popup.active!==this?this:(this._scrollTop=this.window.scrollTop(),this.options.history&&this.urlAltered?(a.mobile.back(),this.urlAltered=!1):this._closePopup(),this)}}),a.mobile.popup.handleLink=function(b){var c,d=a.mobile.path,e=a(d.hashToSelector(d.parseUrl(b.attr("href")).hash)).first();e.length>0&&e.data("mobile-popup")&&(c=b.offset(),e.popup("open",{x:c.left+b.outerWidth()/2,y:c.top+b.outerHeight()/2,transition:b.jqmData("transition"),positionTo:b.jqmData("position-to")})),setTimeout(function(){b.removeClass(a.mobile.activeBtnClass)},300)},a.mobile.document.on("pagebeforechange",function(b,c){"popup"===c.options.role&&(a.mobile.popup.handleLink(c.options.link),b.preventDefault())})}(a),function(a,b){var d=".ui-disabled,.ui-state-disabled,.ui-li-divider,.ui-screen-hidden,:jqmData(role='placeholder')",e=function(a,b,c){var e=a[c+"All"]().not(d).first();e.length&&(b.blur().attr("tabindex","-1"),e.find("a").first().focus())};a.widget("mobile.selectmenu",a.mobile.selectmenu,{_create:function(){var a=this.options;return a.nativeMenu=a.nativeMenu||this.element.parents(":jqmData(role='popup'),:mobile-popup").length>0,this._super()},_handleSelectFocus:function(){this.element.blur(),this.button.focus()},_handleKeydown:function(a){this._super(a),this._handleButtonVclickKeydown(a)},_handleButtonVclickKeydown:function(b){this.options.disabled||this.isOpen||this.options.nativeMenu||("vclick"===b.type||b.keyCode&&(b.keyCode===a.mobile.keyCode.ENTER||b.keyCode===a.mobile.keyCode.SPACE))&&(this._decideFormat(),"overlay"===this.menuType?this.button.attr("href","#"+this.popupId).attr("data-"+(a.mobile.ns||"")+"rel","popup"):this.button.attr("href","#"+this.dialogId).attr("data-"+(a.mobile.ns||"")+"rel","dialog"),this.isOpen=!0)},_handleListFocus:function(b){var c="focusin"===b.type?{tabindex:"0",event:"vmouseover"}:{tabindex:"-1",event:"vmouseout"};a(b.target).attr("tabindex",c.tabindex).trigger(c.event)},_handleListKeydown:function(b){var c=a(b.target),d=c.closest("li");switch(b.keyCode){case 38:return e(d,c,"prev"),!1;case 40:return e(d,c,"next"),!1;case 13:case 32:return c.trigger("click"),!1}},_handleMenuPageHide:function(){this._delayedTrigger(),this.thisPage.page("bindRemove")},_handleHeaderCloseClick:function(){return"overlay"===this.menuType?(this.close(),!1):void 0},_handleListItemClick:function(b){var c=a(b.target).closest("li"),d=this.select[0].selectedIndex,e=a.mobile.getAttribute(c,"option-index"),f=this._selectOptions().eq(e)[0];f.selected=this.isMultiple?!f.selected:!0,this.isMultiple&&c.find("a").toggleClass("ui-checkbox-on",f.selected).toggleClass("ui-checkbox-off",!f.selected),this.isMultiple||d===e||(this._triggerChange=!0),this.isMultiple?(this.select.trigger("change"),this.list.find("li:not(.ui-li-divider)").eq(e).find("a").first().focus()):this.close(),b.preventDefault()},build:function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this.options;return v.nativeMenu?this._super():(c=this.selectId,d=c+"-listbox",e=c+"-dialog",f=this.label,g=this.element.closest(".ui-page"),h=this.element[0].multiple,i=c+"-menu",j=v.theme?" data-"+a.mobile.ns+"theme='"+v.theme+"'":"",k=v.overlayTheme||v.theme||null,l=k?" data-"+a.mobile.ns+"overlay-theme='"+k+"'":"",m=v.dividerTheme&&h?" data-"+a.mobile.ns+"divider-theme='"+v.dividerTheme+"'":"",n=a("<div data-"+a.mobile.ns+"role='dialog' class='ui-selectmenu' id='"+e+"'"+j+l+"><div data-"+a.mobile.ns+"role='header'><div class='ui-title'></div></div><div data-"+a.mobile.ns+"role='content'></div></div>"),o=a("<div"+j+l+" id='"+d+"' class='ui-selectmenu'></div>").insertAfter(this.select).popup(),p=a("<ul class='ui-selectmenu-list' id='"+i+"' role='listbox' aria-labelledby='"+this.buttonId+"'"+j+m+"></ul>").appendTo(o),q=a("<div class='ui-header ui-bar-"+(v.theme?v.theme:"inherit")+"'></div>").prependTo(o),r=a("<h1 class='ui-title'></h1>").appendTo(q),this.isMultiple&&(u=a("<a>",{role:"button",text:v.closeText,href:"#","class":"ui-btn ui-corner-all ui-btn-left ui-btn-icon-notext ui-icon-delete"}).appendTo(q)),a.extend(this,{selectId:c,menuId:i,popupId:d,dialogId:e,thisPage:g,menuPage:n,label:f,isMultiple:h,theme:v.theme,listbox:o,list:p,header:q,headerTitle:r,headerClose:u,menuPageContent:s,menuPageClose:t,placeholder:""}),this.refresh(),this._origTabIndex===b&&(this._origTabIndex=null===this.select[0].getAttribute("tabindex")?!1:this.select.attr("tabindex")),this.select.attr("tabindex","-1"),this._on(this.select,{focus:"_handleSelectFocus"}),this._on(this.button,{vclick:"_handleButtonVclickKeydown"}),this.list.attr("role","listbox"),this._on(this.list,{focusin:"_handleListFocus",focusout:"_handleListFocus",keydown:"_handleListKeydown","click li:not(.ui-disabled,.ui-state-disabled,.ui-li-divider)":"_handleListItemClick"}),this._on(this.menuPage,{pagehide:"_handleMenuPageHide"}),this._on(this.listbox,{popupafterclose:"_popupClosed"}),this.isMultiple&&this._on(this.headerClose,{click:"_handleHeaderCloseClick"}),this)},_popupClosed:function(){this.close(),this._delayedTrigger()},_delayedTrigger:function(){this._triggerChange&&this.element.trigger("change"),this._triggerChange=!1},_isRebuildRequired:function(){var a=this.list.find("li"),b=this._selectOptions().not(".ui-screen-hidden");return b.text()!==a.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(b){var c,d;return this.options.nativeMenu?this._super(b):(c=this,(b||this._isRebuildRequired())&&c._buildList(),d=this.selectedIndices(),c.setButtonText(),c.setButtonCount(),void c.list.find("li:not(.ui-li-divider)").find("a").removeClass(a.mobile.activeBtnClass).end().attr("aria-selected",!1).each(function(b){var e=a(this);a.inArray(b,d)>-1?(e.attr("aria-selected",!0),c.isMultiple?e.find("a").removeClass("ui-checkbox-off").addClass("ui-checkbox-on"):e.hasClass("ui-screen-hidden")?e.next().find("a").addClass(a.mobile.activeBtnClass):e.find("a").addClass(a.mobile.activeBtnClass)):c.isMultiple&&e.find("a").removeClass("ui-checkbox-on").addClass("ui-checkbox-off")}))},close:function(){if(!this.options.disabled&&this.isOpen){var a=this;"page"===a.menuType?(a.menuPage.dialog("close"),a.list.appendTo(a.listbox)):a.listbox.popup("close"),a._focusButton(),a.isOpen=!1}},open:function(){this.button.click()},_focusMenuItem:function(){var b=this.list.find("a."+a.mobile.activeBtnClass);0===b.length&&(b=this.list.find("li:not("+d+") a.ui-btn")),b.first().focus()},_decideFormat:function(){var b=this,c=this.window,d=b.list.parent(),e=d.outerHeight(),f=c.scrollTop(),g=b.button.offset().top,h=c.height();e>h-80||!a.support.scrollTop?(b.menuPage.appendTo(a.mobile.pageContainer).page(),b.menuPageContent=b.menuPage.find(".ui-content"),b.menuPageClose=b.menuPage.find(".ui-header a"),b.thisPage.unbind("pagehide.remove"),0===f&&g>h&&b.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",g)}),b.menuPage.one({pageshow:a.proxy(this,"_focusMenuItem"),pagehide:a.proxy(this,"close")}),b.menuType="page",b.menuPageContent.append(b.list),b.menuPage.find("div .ui-title").text(b.label.getEncodedText()||b.placeholder)):(b.menuType="overlay",b.listbox.one({popupafteropen:a.proxy(this,"_focusMenuItem")}))},_buildList:function(){var b,d,e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=this.options,s=this.placeholder,t=!0,u="false",v="data-"+a.mobile.ns,w=v+"option-index",x=v+"icon",y=v+"role",z=v+"placeholder",A=c.createDocumentFragment(),B=!1;for(q.list.empty().filter(".ui-listview").listview("destroy"),b=this._selectOptions(),d=b.length,e=this.select[0],g=0;d>g;g++,B=!1)h=b[g],i=a(h),i.hasClass("ui-screen-hidden")||(j=h.parentNode,m=[],k=i.text(),l=c.createElement("a"),l.setAttribute("href","#"),l.appendChild(c.createTextNode(k)),j!==e&&"optgroup"===j.nodeName.toLowerCase()&&(n=j.getAttribute("label"),n!==f&&(o=c.createElement("li"),o.setAttribute(y,"list-divider"),o.setAttribute("role","option"),o.setAttribute("tabindex","-1"),o.appendChild(c.createTextNode(n)),A.appendChild(o),f=n)),!t||h.getAttribute("value")&&0!==k.length&&!i.jqmData("placeholder")||(t=!1,B=!0,null===h.getAttribute(z)&&(this._removePlaceholderAttr=!0),h.setAttribute(z,!0),r.hidePlaceholderMenuItems&&m.push("ui-screen-hidden"),s!==k&&(s=q.placeholder=k)),p=c.createElement("li"),h.disabled&&(m.push("ui-state-disabled"),p.setAttribute("aria-disabled",!0)),p.setAttribute(w,g),p.setAttribute(x,u),B&&p.setAttribute(z,!0),p.className=m.join(" "),p.setAttribute("role","option"),l.setAttribute("tabindex","-1"),this.isMultiple&&a(l).addClass("ui-btn ui-checkbox-off ui-btn-icon-right"),p.appendChild(l),A.appendChild(p));q.list[0].appendChild(A),this.isMultiple||s.length?this.headerTitle.text(this.placeholder):this.header.addClass("ui-screen-hidden"),q.list.listview()},_button:function(){return this.options.nativeMenu?this._super():a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.options.nativeMenu||(this.close(),this._origTabIndex!==b&&(this._origTabIndex!==!1?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+a.mobile.ns+"placeholder"),this.listbox.remove(),this.menuPage.remove()),this._super()}})}(a),function(a,b){function c(a,b){var c=b?b:[];return c.push("ui-btn"),a.theme&&c.push("ui-btn-"+a.theme),a.icon&&(c=c.concat(["ui-icon-"+a.icon,"ui-btn-icon-"+a.iconpos]),a.iconshadow&&c.push("ui-shadow-icon")),a.inline&&c.push("ui-btn-inline"),a.shadow&&c.push("ui-shadow"),a.corners&&c.push("ui-corner-all"),a.mini&&c.push("ui-mini"),c}function d(a){var c,d,e,g=!1,h=!0,i={icon:"",inline:!1,shadow:!1,corners:!1,iconshadow:!1,mini:!1},j=[];for(a=a.split(" "),c=0;c<a.length;c++)e=!0,d=f[a[c]],d!==b?(e=!1,i[d]=!0):0===a[c].indexOf("ui-btn-icon-")?(e=!1,h=!1,i.iconpos=a[c].substring(12)):0===a[c].indexOf("ui-icon-")?(e=!1,i.icon=a[c].substring(8)):0===a[c].indexOf("ui-btn-")&&8===a[c].length?(e=!1,i.theme=a[c].substring(7)):"ui-btn"===a[c]&&(e=!1,g=!0),e&&j.push(a[c]);return h&&(i.icon=""),{options:i,unknownClasses:j,alreadyEnhanced:g}}function e(a){return"-"+a.toLowerCase()}var f={"ui-shadow":"shadow","ui-corner-all":"corners","ui-btn-inline":"inline","ui-shadow-icon":"iconshadow","ui-mini":"mini"},g=function(){var c=a.mobile.getAttribute.apply(this,arguments);return null==c?b:c},h=/[A-Z]/g;a.fn.buttonMarkup=function(f,i){var j,k,l,m,n,o=a.fn.buttonMarkup.defaults;for(j=0;j<this.length;j++){if(l=this[j],k=i?{alreadyEnhanced:!1,unknownClasses:[]}:d(l.className),m=a.extend({},k.alreadyEnhanced?k.options:{},f),!k.alreadyEnhanced)for(n in o)m[n]===b&&(m[n]=g(l,n.replace(h,e)));l.className=c(a.extend({},o,m),k.unknownClasses).join(" "),"button"!==l.tagName.toLowerCase()&&l.setAttribute("role","button")}return this},a.fn.buttonMarkup.defaults={icon:"",iconpos:"left",theme:null,inline:!1,shadow:!0,corners:!0,iconshadow:!1,mini:!1},a.extend(a.fn.buttonMarkup,{initSelector:"a:jqmData(role='button'), .ui-bar > a, .ui-bar > :jqmData(role='controlgroup') > a, button:not(:jqmData(role='navbar') button)"})}(a),function(a,b){a.widget("mobile.controlgroup",a.extend({options:{enhanced:!1,theme:null,shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1},_create:function(){var b=this.element,c=this.options,d=a.mobile.page.prototype.keepNativeSelector();a.fn.buttonMarkup&&this.element.find(a.fn.buttonMarkup.initSelector).not(d).buttonMarkup(),a.each(this._childWidgets,a.proxy(function(b,c){a.mobile[c]&&this.element.find(a.mobile[c].initSelector).not(d)[c]()},this)),a.extend(this,{_ui:null,_initialRefresh:!0}),this._ui=c.enhanced?{groupLegend:b.children(".ui-controlgroup-label").children(),childWrapper:b.children(".ui-controlgroup-controls")}:this._enhance()},_childWidgets:["checkboxradio","selectmenu","button"],_themeClassFromOption:function(a){return a?"none"===a?"":"ui-group-theme-"+a:""},_enhance:function(){var b=this.element,c=this.options,d={groupLegend:b.children("legend"),childWrapper:b.addClass("ui-controlgroup ui-controlgroup-"+("horizontal"===c.type?"horizontal":"vertical")+" "+this._themeClassFromOption(c.theme)+" "+(c.corners?"ui-corner-all ":"")+(c.mini?"ui-mini ":"")).wrapInner("<div class='ui-controlgroup-controls "+(c.shadow===!0?"ui-shadow":"")+"'></div>").children()};return d.groupLegend.length>0&&a("<div role='heading' class='ui-controlgroup-label'></div>").append(d.groupLegend).prependTo(b),d},_init:function(){this.refresh()},_setOptions:function(a){var c,d,e=this.element;return a.type!==b&&(e.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+("horizontal"===a.type?"horizontal":"vertical")),c=!0),a.theme!==b&&e.removeClass(this._themeClassFromOption(this.options.theme)).addClass(this._themeClassFromOption(a.theme)),a.corners!==b&&e.toggleClass("ui-corner-all",a.corners),a.mini!==b&&e.toggleClass("ui-mini",a.mini),a.shadow!==b&&this._ui.childWrapper.toggleClass("ui-shadow",a.shadow),a.excludeInvisible!==b&&(this.options.excludeInvisible=a.excludeInvisible,c=!0),d=this._super(a),c&&this.refresh(),d},container:function(){return this._ui.childWrapper},refresh:function(){var b=this.container(),c=b.find(".ui-btn").not(".ui-slider-handle"),d=this._initialRefresh;a.mobile.checkboxradio&&b.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(c,this.options.excludeInvisible?this._getVisibles(c,d):c,d),this._initialRefresh=!1},_destroy:function(){var a,b,c=this.options;return c.enhanced?this:(a=this._ui,b=this.element.removeClass("ui-controlgroup ui-controlgroup-horizontal ui-controlgroup-vertical ui-corner-all ui-mini "+this._themeClassFromOption(c.theme)).find(".ui-btn").not(".ui-slider-handle"),this._removeFirstLastClasses(b),a.groupLegend.unwrap(),void a.childWrapper.children().unwrap())}},a.mobile.behaviors.addFirstLastClasses))}(a),function(a,b){a.widget("mobile.toolbar",{initSelector:":jqmData(role='footer'), :jqmData(role='header')",options:{theme:null,addBackBtn:!1,backBtnTheme:null,backBtnText:"Back"},_create:function(){var b,c,d=this.element.is(":jqmData(role='header')")?"header":"footer",e=this.element.closest(".ui-page");0===e.length&&(e=!1,this._on(this.document,{pageshow:"refresh"})),a.extend(this,{role:d,page:e,leftbtn:b,rightbtn:c}),this.element.attr("role","header"===d?"banner":"contentinfo").addClass("ui-"+d),this.refresh(),this._setOptions(this.options)},_setOptions:function(a){if(a.addBackBtn!==b&&this._updateBackButton(),null!=a.backBtnTheme&&this.element.find(".ui-toolbar-back-btn").addClass("ui-btn ui-btn-"+a.backBtnTheme),a.backBtnText!==b&&this.element.find(".ui-toolbar-back-btn .ui-btn-text").text(a.backBtnText),a.theme!==b){var c=this.options.theme?this.options.theme:"inherit",d=a.theme?a.theme:"inherit";this.element.removeClass("ui-bar-"+c).addClass("ui-bar-"+d)}this._super(a)},refresh:function(){"header"===this.role&&this._addHeaderButtonClasses(),this.page||(this._setRelative(),"footer"===this.role?this.element.appendTo("body"):"header"===this.role&&this._updateBackButton()),this._addHeadingClasses(),this._btnMarkup()},_setRelative:function(){a("[data-"+a.mobile.ns+"role='page']").css({position:"relative"})},_btnMarkup:function(){this.element.children("a").filter(":not([data-"+a.mobile.ns+"role='none'])").attr("data-"+a.mobile.ns+"role","button"),this.element.trigger("create")},_addHeaderButtonClasses:function(){var a=this.element.children("a, button");this.leftbtn=a.hasClass("ui-btn-left")&&!a.hasClass("ui-toolbar-back-btn"),this.rightbtn=a.hasClass("ui-btn-right"),this.leftbtn=this.leftbtn||a.eq(0).not(".ui-btn-right,.ui-toolbar-back-btn").addClass("ui-btn-left").length,this.rightbtn=this.rightbtn||a.eq(1).addClass("ui-btn-right").length},_updateBackButton:function(){var b,c=this.options,d=c.backBtnTheme||c.theme;b=this._backButton=this._backButton||{},this.options.addBackBtn&&"header"===this.role&&a(".ui-page").length>1&&(this.page?this.page[0].getAttribute("data-"+a.mobile.ns+"url")!==a.mobile.path.stripHash(location.hash):a.mobile.navigate&&a.mobile.navigate.history&&a.mobile.navigate.history.activeIndex>0)&&!this.leftbtn?b.attached||(this.backButton=b.element=(b.element||a("<a role='button' href='javascript:void(0);' class='ui-btn ui-corner-all ui-shadow ui-btn-left "+(d?"ui-btn-"+d+" ":"")+"ui-toolbar-back-btn ui-icon-carat-l ui-btn-icon-left' data-"+a.mobile.ns+"rel='back'>"+c.backBtnText+"</a>")).prependTo(this.element),b.attached=!0):b.element&&(b.element.detach(),b.attached=!1)},_addHeadingClasses:function(){this.element.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})},_destroy:function(){var a;this.element.children("h1, h2, h3, h4, h5, h6").removeClass("ui-title").removeAttr("role").removeAttr("aria-level"),"header"===this.role&&(this.element.children("a, button").removeClass("ui-btn-left ui-btn-right ui-btn ui-shadow ui-corner-all"),this.backButton&&this.backButton.remove()),a=this.options.theme?this.options.theme:"inherit",this.element.removeClass("ui-bar-"+a),this.element.removeClass("ui-"+this.role).removeAttr("role")}})}(a),function(a,b){a.widget("mobile.toolbar",a.mobile.toolbar,{options:{position:null,visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-flipswitch, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!a.support.fixedPosition}},_create:function(){this._super(),this.pagecontainer=a(":mobile-pagecontainer"),"fixed"!==this.options.position||this.options.supportBlacklist()||this._makeFixed()},_makeFixed:function(){this.element.addClass("ui-"+this.role+"-fixed"),this.updatePagePadding(),this._addTransitionClass(),this._bindPageEvents(),this._bindToggleHandlers()},_setOptions:function(c){if("fixed"===c.position&&"fixed"!==this.options.position&&this._makeFixed(),"fixed"===this.options.position&&!this.options.supportBlacklist()){var d=this.page?this.page:a(".ui-page-active").length>0?a(".ui-page-active"):a(".ui-page").eq(0);c.fullscreen!==b&&(c.fullscreen?(this.element.addClass("ui-"+this.role+"-fullscreen"),d.addClass("ui-page-"+this.role+"-fullscreen")):(this.element.removeClass("ui-"+this.role+"-fullscreen"),d.removeClass("ui-page-"+this.role+"-fullscreen").addClass("ui-page-"+this.role+"-fixed")))}this._super(c)},_addTransitionClass:function(){var a=this.options.transition;a&&"none"!==a&&("slide"===a&&(a=this.element.hasClass("ui-header")?"slidedown":"slideup"),this.element.addClass(a))},_bindPageEvents:function(){var a=this.page?this.element.closest(".ui-page"):this.document;this._on(a,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var b=this.options;b.disablePageZoom&&a.mobile.zoom.disable(!0),b.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this.page?this.page:".ui-page-active")},_handlePageShow:function(){this.updatePagePadding(this.page?this.page:".ui-page-active"),this.options.updatePagePadding&&this._on(this.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(b,c){var d,e,f,g,h=this.options;h.disablePageZoom&&a.mobile.zoom.enable(!0),h.updatePagePadding&&this._off(this.window,"throttledresize"),h.trackPersistentToolbars&&(d=a(".ui-footer-fixed:jqmData(id)",this.page),e=a(".ui-header-fixed:jqmData(id)",this.page),f=d.length&&c.nextPage&&a(".ui-footer-fixed:jqmData(id='"+d.jqmData("id")+"')",c.nextPage)||a(),g=e.length&&c.nextPage&&a(".ui-header-fixed:jqmData(id='"+e.jqmData("id")+"')",c.nextPage)||a(),(f.length||g.length)&&(f.add(g).appendTo(a.mobile.pageContainer),c.nextPage.one("pageshow",function(){g.prependTo(this),f.appendTo(this)})))},_visible:!0,updatePagePadding:function(c){var d=this.element,e="header"===this.role,f=parseFloat(d.css(e?"top":"bottom"));this.options.fullscreen||(c=c&&c.type===b&&c||this.page||d.closest(".ui-page"),c=this.page?this.page:".ui-page-active",a(c).css("padding-"+(e?"top":"bottom"),d.outerHeight()+f))},_useTransition:function(b){var c=this.window,d=this.element,e=c.scrollTop(),f=d.height(),g=this.page?d.closest(".ui-page").height():a(".ui-page-active").height(),h=a.mobile.getScreenHeight();return!b&&(this.options.transition&&"none"!==this.options.transition&&("header"===this.role&&!this.options.fullscreen&&e>f||"footer"===this.role&&!this.options.fullscreen&&g-f>e+h)||this.options.fullscreen)},show:function(a){var b="ui-fixed-hidden",c=this.element;this._useTransition(a)?c.removeClass("out "+b).addClass("in").animationComplete(function(){c.removeClass("in")}):c.removeClass(b),this._visible=!0},hide:function(a){var b="ui-fixed-hidden",c=this.element,d="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(a)?c.addClass(d).removeClass("in").animationComplete(function(){c.addClass(b).removeClass(d)}):c.addClass(b).removeClass(d),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var b,c,d=this,e=d.options,f=!0,g=this.page?this.page:a(".ui-page");g.bind("vclick",function(b){e.tapToggle&&!a(b.target).closest(e.tapToggleBlacklist).length&&d.toggle()}).bind("focusin focusout",function(g){screen.width<1025&&a(g.target).is(e.hideDuringFocus)&&!a(g.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==g.type||f?"focusin"===g.type&&f&&(clearTimeout(b),f=!1,c=setTimeout(function(){d.hide()},0)):(f=!0,clearTimeout(c),b=setTimeout(function(){d.show()},0)))})},_setRelative:function(){"fixed"!==this.options.position&&a("[data-"+a.mobile.ns+"role='page']").css({position:"relative"})},_destroy:function(){var b,c,d,e,f,g=this.pagecontainer.pagecontainer("getActivePage");this._super(),"fixed"===this.options.position&&(d=a("body>.ui-"+this.role+"-fixed").add(g.find(".ui-"+this.options.role+"-fixed")).not(this.element).length>0,f=a("body>.ui-"+this.role+"-fixed").add(g.find(".ui-"+this.options.role+"-fullscreen")).not(this.element).length>0,c="ui-header-fixed ui-footer-fixed ui-header-fullscreen in out ui-footer-fullscreen fade slidedown slideup ui-fixed-hidden",this.element.removeClass(c),f||(b="ui-page-"+this.role+"-fullscreen"),d||(e="header"===this.role,b+=" ui-page-"+this.role+"-fixed",g.css("padding-"+(e?"top":"bottom"),"")),g.removeClass(b))
}})}(a),function(a){a.widget("mobile.toolbar",a.mobile.toolbar,{_makeFixed:function(){this._super(),this._workarounds()},_workarounds:function(){var a=navigator.userAgent,b=navigator.platform,c=a.match(/AppleWebKit\/([0-9]+)/),d=!!c&&c[1],e=null,f=this;if(b.indexOf("iPhone")>-1||b.indexOf("iPad")>-1||b.indexOf("iPod")>-1)e="ios";else{if(!(a.indexOf("Android")>-1))return;e="android"}if("ios"===e)f._bindScrollWorkaround();else{if(!("android"===e&&d&&534>d))return;f._bindScrollWorkaround(),f._bindListThumbWorkaround()}},_viewportOffset:function(){var a=this.element,b=a.hasClass("ui-header"),c=Math.abs(a.offset().top-this.window.scrollTop());return b||(c=Math.round(c-this.window.height()+a.outerHeight())-60),c},_bindScrollWorkaround:function(){var a=this;this._on(this.window,{scrollstop:function(){var b=a._viewportOffset();b>2&&a._visible&&a._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var b=parseFloat(a(".ui-page-active").css("padding-bottom"));a(".ui-page-active").css("padding-bottom",b+1+"px"),setTimeout(function(){a(".ui-page-active").css("padding-bottom",b+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(a),function(a,b){function c(){var a=e.clone(),b=a.eq(0),c=a.eq(1),d=c.children();return{arEls:c.add(b),gd:b,ct:c,ar:d}}var d=a.mobile.browser.oldIE&&a.mobile.browser.oldIE<=8,e=a("<div class='ui-popup-arrow-guide'></div><div class='ui-popup-arrow-container"+(d?" ie":"")+"'><div class='ui-popup-arrow'></div></div>");a.widget("mobile.popup",a.mobile.popup,{options:{arrow:""},_create:function(){var a,b=this._super();return this.options.arrow&&(this._ui.arrow=a=this._addArrow()),b},_addArrow:function(){var a,b=this.options,d=c();return a=this._themeClassFromOption("ui-body-",b.theme),d.ar.addClass(a+(b.shadow?" ui-overlay-shadow":"")),d.arEls.hide().appendTo(this.element),d},_unenhance:function(){var a=this._ui.arrow;return a&&a.arEls.remove(),this._super()},_tryAnArrow:function(a,b,c,d,e){var f,g,h,i={},j={};return d.arFull[a.dimKey]>d.guideDims[a.dimKey]?e:(i[a.fst]=c[a.fst]+(d.arHalf[a.oDimKey]+d.menuHalf[a.oDimKey])*a.offsetFactor-d.contentBox[a.fst]+(d.clampInfo.menuSize[a.oDimKey]-d.contentBox[a.oDimKey])*a.arrowOffsetFactor,i[a.snd]=c[a.snd],f=d.result||this._calculateFinalLocation(i,d.clampInfo),g={x:f.left,y:f.top},j[a.fst]=g[a.fst]+d.contentBox[a.fst]+a.tipOffset,j[a.snd]=Math.max(f[a.prop]+d.guideOffset[a.prop]+d.arHalf[a.dimKey],Math.min(f[a.prop]+d.guideOffset[a.prop]+d.guideDims[a.dimKey]-d.arHalf[a.dimKey],c[a.snd])),h=Math.abs(c.x-j.x)+Math.abs(c.y-j.y),(!e||h<e.diff)&&(j[a.snd]-=d.arHalf[a.dimKey]+f[a.prop]+d.contentBox[a.snd],e={dir:b,diff:h,result:f,posProp:a.prop,posVal:j[a.snd]}),e)},_getPlacementState:function(a){var b,c,d=this._ui.arrow,e={clampInfo:this._clampPopupWidth(!a),arFull:{cx:d.ct.width(),cy:d.ct.height()},guideDims:{cx:d.gd.width(),cy:d.gd.height()},guideOffset:d.gd.offset()};return b=this.element.offset(),d.gd.css({left:0,top:0,right:0,bottom:0}),c=d.gd.offset(),e.contentBox={x:c.left-b.left,y:c.top-b.top,cx:d.gd.width(),cy:d.gd.height()},d.gd.removeAttr("style"),e.guideOffset={left:e.guideOffset.left-b.left,top:e.guideOffset.top-b.top},e.arHalf={cx:e.arFull.cx/2,cy:e.arFull.cy/2},e.menuHalf={cx:e.clampInfo.menuSize.cx/2,cy:e.clampInfo.menuSize.cy/2},e},_placementCoords:function(b){var c,e,f,g,h,i=this.options.arrow,j=this._ui.arrow;return j?(j.arEls.show(),h={},c=this._getPlacementState(!0),f={l:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:1,tipOffset:-c.arHalf.cx,arrowOffsetFactor:0},r:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:-1,tipOffset:c.arHalf.cx+c.contentBox.cx,arrowOffsetFactor:1},b:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:-1,tipOffset:c.arHalf.cy+c.contentBox.cy,arrowOffsetFactor:1},t:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:1,tipOffset:-c.arHalf.cy,arrowOffsetFactor:0}},a.each((i===!0?"l,t,r,b":i).split(","),a.proxy(function(a,d){e=this._tryAnArrow(f[d],d,b,c,e)},this)),e?(j.ct.removeClass("ui-popup-arrow-l ui-popup-arrow-t ui-popup-arrow-r ui-popup-arrow-b").addClass("ui-popup-arrow-"+e.dir).removeAttr("style").css(e.posProp,e.posVal).show(),d||(g=this.element.offset(),h[f[e.dir].fst]=j.ct.offset(),h[f[e.dir].snd]={left:g.left+c.contentBox.x,top:g.top+c.contentBox.y}),e.result):(j.arEls.hide(),this._super(b))):this._super(b)},_setOptions:function(a){var c,d=this.options.theme,e=this._ui.arrow,f=this._super(a);if(a.arrow!==b){if(!e&&a.arrow)return void(this._ui.arrow=this._addArrow());e&&!a.arrow&&(e.arEls.remove(),this._ui.arrow=null)}return e=this._ui.arrow,e&&(a.theme!==b&&(d=this._themeClassFromOption("ui-body-",d),c=this._themeClassFromOption("ui-body-",a.theme),e.ar.removeClass(d).addClass(c)),a.shadow!==b&&e.ar.toggleClass("ui-overlay-shadow",a.shadow)),f},_destroy:function(){var a=this._ui.arrow;return a&&a.arEls.remove(),this._super()}})}(a),function(a,c){a.widget("mobile.panel",{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pageContainer:"ui-panel-page-container",pageWrapper:"ui-panel-wrapper",pageFixedToolbar:"ui-panel-fixed-toolbar",pageContentPrefix:"ui-panel-page-content",animate:"ui-panel-animate"},animate:!0,theme:null,position:"left",dismissible:!0,display:"reveal",swipeClose:!0,positionFixed:!1},_closeLink:null,_parentPage:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbars:null,_create:function(){var b=this.element,c=b.closest(".ui-page, :jqmData(role='page')");a.extend(this,{_closeLink:b.find(":jqmData(rel='close')"),_parentPage:c.length>0?c:!1,_openedPage:null,_page:this._getPage,_panelInner:this._getPanelInner(),_fixedToolbars:this._getFixedToolbars}),"overlay"!==this.options.display&&this._getWrapper(),this._addPanelClasses(),a.support.cssTransform3d&&this.options.animate&&this.element.addClass(this.options.classes.animate),this._bindUpdateLayout(),this._bindCloseEvents(),this._bindLinkListeners(),this._bindPageEvents(),this.options.dismissible&&this._createModal(),this._bindSwipeEvents()},_getPanelInner:function(){var a=this.element.find("."+this.options.classes.panelInner);return 0===a.length&&(a=this.element.children().wrapAll("<div class='"+this.options.classes.panelInner+"' />").parent()),a},_createModal:function(){var b=this,c=b._parentPage?b._parentPage.parent():b.element.parent();b._modal=a("<div class='"+b.options.classes.modal+"'></div>").on("mousedown",function(){b.close()}).appendTo(c)},_getPage:function(){var b=this._openedPage||this._parentPage||a("."+a.mobile.activePageClass);return b},_getWrapper:function(){var a=this._page().find("."+this.options.classes.pageWrapper);0===a.length&&(a=this._page().children(".ui-header:not(.ui-header-fixed), .ui-content:not(.ui-popup), .ui-footer:not(.ui-footer-fixed)").wrapAll("<div class='"+this.options.classes.pageWrapper+"'></div>").parent()),this._wrapper=a},_getFixedToolbars:function(){var b=a("body").children(".ui-header-fixed, .ui-footer-fixed"),c=this._page().find(".ui-header-fixed, .ui-footer-fixed"),d=b.add(c).addClass(this.options.classes.pageFixedToolbar);return d},_getPosDisplayClasses:function(a){return a+"-position-"+this.options.position+" "+a+"-display-"+this.options.display},_getPanelClasses:function(){var a=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed+" ui-body-"+(this.options.theme?this.options.theme:"inherit");return this.options.positionFixed&&(a+=" "+this.options.classes.panelFixed),a},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_handleCloseClick:function(a){a.isDefaultPrevented()||this.close()},_bindCloseEvents:function(){this._on(this._closeLink,{click:"_handleCloseClick"}),this._on({"click a:jqmData(ajax='false')":"_handleCloseClick"})},_positionPanel:function(b){var c=this,d=c._panelInner.outerHeight(),e=d>a.mobile.getScreenHeight();e||!c.options.positionFixed?(e&&(c._unfixPanel(),a.mobile.resetActivePageHeight(d)),b&&this.window[0].scrollTo(0,a.mobile.defaultHomeScroll)):c._fixPanel()},_bindFixListener:function(){this._on(a(b),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(a(b),"throttledresize")},_unfixPanel:function(){this.options.positionFixed&&a.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){this.options.positionFixed&&a.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var a=this;a.element.on("updatelayout",function(){a._open&&a._positionPanel()})},_bindLinkListeners:function(){this._on("body",{"click a":"_handleClick"})},_handleClick:function(b){var d,e=this.element.attr("id");b.currentTarget.href.split("#")[1]===e&&e!==c&&(b.preventDefault(),d=a(b.target),d.hasClass("ui-btn")&&(d.addClass(a.mobile.activeBtnClass),this.element.one("panelopen panelclose",function(){d.removeClass(a.mobile.activeBtnClass)})),this.toggle())},_bindSwipeEvents:function(){var a=this,b=a._modal?a.element.add(a._modal):a.element;a.options.swipeClose&&("left"===a.options.position?b.on("swipeleft.panel",function(){a.close()}):b.on("swiperight.panel",function(){a.close()}))},_bindPageEvents:function(){var a=this;this.document.on("panelbeforeopen",function(b){a._open&&b.target!==a.element[0]&&a.close()}).on("keyup.panel",function(b){27===b.keyCode&&a._open&&a.close()}),this._parentPage||"overlay"===this.options.display||this._on(this.document,{pageshow:function(){this._openedPage=null,this._getWrapper()}}),a._parentPage?this.document.on("pagehide",":jqmData(role='page')",function(){a._open&&a.close(!0)}):this.document.on("pagebeforehide",function(){a._open&&a.close(!0)})},_open:!1,_pageContentOpenClasses:null,_modalOpenClasses:null,open:function(b){if(!this._open){var c=this,d=c.options,e=function(){c._off(c.document,"panelclose"),c._page().jqmData("panel","open"),a.support.cssTransform3d&&d.animate&&"overlay"!==d.display&&(c._wrapper.addClass(d.classes.animate),c._fixedToolbars().addClass(d.classes.animate)),!b&&a.support.cssTransform3d&&d.animate?(c._wrapper||c.element).animationComplete(f,"transition"):setTimeout(f,0),d.theme&&"overlay"!==d.display&&c._page().parent().addClass(d.classes.pageContainer+"-themed "+d.classes.pageContainer+"-"+d.theme),c.element.removeClass(d.classes.panelClosed).addClass(d.classes.panelOpen),c._positionPanel(!0),c._pageContentOpenClasses=c._getPosDisplayClasses(d.classes.pageContentPrefix),"overlay"!==d.display&&(c._page().parent().addClass(d.classes.pageContainer),c._wrapper.addClass(c._pageContentOpenClasses),c._fixedToolbars().addClass(c._pageContentOpenClasses)),c._modalOpenClasses=c._getPosDisplayClasses(d.classes.modal)+" "+d.classes.modalOpen,c._modal&&c._modal.addClass(c._modalOpenClasses).height(Math.max(c._modal.height(),c.document.height()))},f=function(){c._open&&("overlay"!==d.display&&(c._wrapper.addClass(d.classes.pageContentPrefix+"-open"),c._fixedToolbars().addClass(d.classes.pageContentPrefix+"-open")),c._bindFixListener(),c._trigger("open"),c._openedPage=c._page())};c._trigger("beforeopen"),"open"===c._page().jqmData("panel")?c._on(c.document,{panelclose:e}):e(),c._open=!0}},close:function(b){if(this._open){var c=this,d=this.options,e=function(){c.element.removeClass(d.classes.panelOpen),"overlay"!==d.display&&(c._wrapper.removeClass(c._pageContentOpenClasses),c._fixedToolbars().removeClass(c._pageContentOpenClasses)),!b&&a.support.cssTransform3d&&d.animate?(c._wrapper||c.element).animationComplete(f,"transition"):setTimeout(f,0),c._modal&&c._modal.removeClass(c._modalOpenClasses).height("")},f=function(){d.theme&&"overlay"!==d.display&&c._page().parent().removeClass(d.classes.pageContainer+"-themed "+d.classes.pageContainer+"-"+d.theme),c.element.addClass(d.classes.panelClosed),"overlay"!==d.display&&(c._page().parent().removeClass(d.classes.pageContainer),c._wrapper.removeClass(d.classes.pageContentPrefix+"-open"),c._fixedToolbars().removeClass(d.classes.pageContentPrefix+"-open")),a.support.cssTransform3d&&d.animate&&"overlay"!==d.display&&(c._wrapper.removeClass(d.classes.animate),c._fixedToolbars().removeClass(d.classes.animate)),c._fixPanel(),c._unbindFixListener(),a.mobile.resetActivePageHeight(),c._page().jqmRemoveData("panel"),c._trigger("close"),c._openedPage=null};c._trigger("beforeclose"),e(),c._open=!1}},toggle:function(){this[this._open?"close":"open"]()},_destroy:function(){var b,c=this.options,d=a("body > :mobile-panel").length+a.mobile.activePage.find(":mobile-panel").length>1;"overlay"!==c.display&&(b=a("body > :mobile-panel").add(a.mobile.activePage.find(":mobile-panel")),0===b.not(".ui-panel-display-overlay").not(this.element).length&&this._wrapper.children().unwrap(),this._open&&(this._fixedToolbars().removeClass(c.classes.pageContentPrefix+"-open"),a.support.cssTransform3d&&c.animate&&this._fixedToolbars().removeClass(c.classes.animate),this._page().parent().removeClass(c.classes.pageContainer),c.theme&&this._page().parent().removeClass(c.classes.pageContainer+"-themed "+c.classes.pageContainer+"-"+c.theme))),d||this.document.off("panelopen panelclose"),this._open&&this._page().jqmRemoveData("panel"),this._panelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),c.classes.panelOpen,c.classes.animate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._modal&&this._modal.remove()}})}(a),function(a,b){a.widget("mobile.table",{options:{classes:{table:"ui-table"},enhanced:!1},_create:function(){this.options.enhanced||this.element.addClass(this.options.classes.table),a.extend(this,{headers:b,allHeaders:b}),this._refresh(!0)},_setHeaders:function(){var a=this.element.find("thead tr");this.headers=this.element.find("tr:eq(0)").children(),this.allHeaders=this.headers.add(a.children())},refresh:function(){this._refresh()},rebuild:a.noop,_refresh:function(){var b=this.element,c=b.find("thead tr");this._setHeaders(),c.each(function(){var d=0;a(this).children().each(function(){var e,f=parseInt(this.getAttribute("colspan"),10),g=":nth-child("+(d+1)+")";if(this.setAttribute("data-"+a.mobile.ns+"colstart",d+1),f)for(e=0;f-1>e;e++)d++,g+=", :nth-child("+(d+1)+")";a(this).jqmData("cells",b.find("tr").not(c.eq(0)).not(this).children(g)),d++})})}})}(a),function(a){a.widget("mobile.table",a.mobile.table,{options:{mode:"columntoggle",columnBtnTheme:null,columnPopupTheme:null,columnBtnText:"Columns...",classes:a.extend(a.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"})},_create:function(){this._super(),"columntoggle"===this.options.mode&&(a.extend(this,{_menu:null}),this.options.enhanced?(this._menu=a(this.document[0].getElementById(this._id()+"-popup")).children().first(),this._addToggles(this._menu,!0)):(this._menu=this._enhanceColToggle(),this.element.addClass(this.options.classes.columnToggleTable)),this._setupEvents(),this._setToggleState())},_id:function(){return this.element.attr("id")||this.widgetName+this.uuid},_setupEvents:function(){this._on(this.window,{throttledresize:"_setToggleState"}),this._on(this._menu,{"change input":"_menuInputChange"})},_addToggles:function(b,c){var d,e=0,f=this.options,g=b.controlgroup("container");c?d=b.find("input"):g.empty(),this.headers.not("td").each(function(){var b,h,i=a(this),j=a.mobile.getAttribute(this,"priority");j&&(h=i.add(i.jqmData("cells")),h.addClass(f.classes.priorityPrefix+j),b=(c?d.eq(e++):a("<label><input type='checkbox' checked />"+(i.children("abbr").first().attr("title")||i.text())+"</label>").appendTo(g).children(0).checkboxradio({theme:f.columnPopupTheme})).jqmData("header",i).jqmData("cells",h),i.jqmData("input",b))}),c||b.controlgroup("refresh")},_menuInputChange:function(b){var c=a(b.target),d=c[0].checked;c.jqmData("cells").toggleClass("ui-table-cell-hidden",!d).toggleClass("ui-table-cell-visible",d)},_unlockCells:function(a){a.removeClass("ui-table-cell-hidden ui-table-cell-visible")},_enhanceColToggle:function(){var b,c,d,e,f=this.element,g=this.options,h=a.mobile.ns,i=this.document[0].createDocumentFragment();return b=this._id()+"-popup",c=a("<a href='#"+b+"' class='"+g.classes.columnBtn+" ui-btn ui-btn-"+(g.columnBtnTheme||"a")+" ui-corner-all ui-shadow ui-mini' data-"+h+"rel='popup'>"+g.columnBtnText+"</a>"),d=a("<div class='"+g.classes.popup+"' id='"+b+"'></div>"),e=a("<fieldset></fieldset>").controlgroup(),this._addToggles(e,!1),e.appendTo(d),i.appendChild(d[0]),i.appendChild(c[0]),f.before(i),d.popup(),e},rebuild:function(){this._super(),"columntoggle"===this.options.mode&&this._refresh(!1)},_refresh:function(b){var c,d,e;if(this._super(b),!b&&"columntoggle"===this.options.mode)for(c=this.headers,d=[],this._menu.find("input").each(function(){var b=a(this),e=b.jqmData("header"),f=c.index(e[0]);f>-1&&!b.prop("checked")&&d.push(f)}),this._unlockCells(this.element.find(".ui-table-cell-hidden, .ui-table-cell-visible")),this._addToggles(this._menu,b),e=d.length-1;e>-1;e--)c.eq(d[e]).jqmData("input").prop("checked",!1).checkboxradio("refresh").trigger("change")},_setToggleState:function(){this._menu.find("input").each(function(){var b=a(this);this.checked="table-cell"===b.jqmData("cells").eq(0).css("display"),b.checkboxradio("refresh")})},_destroy:function(){this._super()}})}(a),function(a){a.widget("mobile.table",a.mobile.table,{options:{mode:"reflow",classes:a.extend(a.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"})},_create:function(){this._super(),"reflow"===this.options.mode&&(this.options.enhanced||(this.element.addClass(this.options.classes.reflowTable),this._updateReflow()))},rebuild:function(){this._super(),"reflow"===this.options.mode&&this._refresh(!1)},_refresh:function(a){this._super(a),a||"reflow"!==this.options.mode||this._updateReflow()},_updateReflow:function(){var b=this,c=this.options;a(b.allHeaders.get().reverse()).each(function(){var d,e,f=a(this).jqmData("cells"),g=a.mobile.getAttribute(this,"colstart"),h=f.not(this).filter("thead th").length&&" ui-table-cell-label-top",i=a(this).clone().contents();i.length>0&&(h?(d=parseInt(this.getAttribute("colspan"),10),e="",d&&(e="td:nth-child("+d+"n + "+g+")"),b._addLabels(f.filter(e),c.classes.cellLabels+h,i)):b._addLabels(f,c.classes.cellLabels,i))})},_addLabels:function(b,c,d){1===d.length&&"abbr"===d[0].nodeName.toLowerCase()&&(d=d.eq(0).attr("title")),b.not(":has(b."+c+")").prepend(a("<b class='"+c+"'></b>").append(d))}})}(a),function(a,c){var d=function(b,c){return-1===(""+(a.mobile.getAttribute(this,"filtertext")||a(this).text())).toLowerCase().indexOf(c)};a.widget("mobile.filterable",{initSelector:":jqmData(filter='true')",options:{filterReveal:!1,filterCallback:d,enhanced:!1,input:null,children:"> li, > option, > optgroup option, > tbody tr, > .ui-controlgroup-controls > .ui-btn, > .ui-controlgroup-controls > .ui-checkbox, > .ui-controlgroup-controls > .ui-radio"},_create:function(){var b=this.options;a.extend(this,{_search:null,_timer:0}),this._setInput(b.input),b.enhanced||this._filterItems((this._search&&this._search.val()||"").toLowerCase())},_onKeyUp:function(){var c,d,e=this._search;if(e){if(c=e.val().toLowerCase(),d=a.mobile.getAttribute(e[0],"lastval")+"",d&&d===c)return;this._timer&&(b.clearTimeout(this._timer),this._timer=0),this._timer=this._delay(function(){return this._trigger("beforefilter",null,{input:e})===!1?!1:(e[0].setAttribute("data-"+a.mobile.ns+"lastval",c),this._filterItems(c),void(this._timer=0))},250)}},_getFilterableItems:function(){var b=this.element,c=this.options.children,d=c?a.isFunction(c)?c():c.nodeName?a(c):c.jquery?c:this.element.find(c):{length:0};return 0===d.length&&(d=b.children()),d},_filterItems:function(b){var c,e,f,g,h=[],i=[],j=this.options,k=this._getFilterableItems();if(null!=b)for(e=j.filterCallback||d,f=k.length,c=0;f>c;c++)g=e.call(k[c],c,b)?i:h,g.push(k[c]);0===i.length?k[j.filterReveal&&0===b.length?"addClass":"removeClass"]("ui-screen-hidden"):(a(i).addClass("ui-screen-hidden"),a(h).removeClass("ui-screen-hidden")),this._refreshChildWidget(),this._trigger("filter",null,{items:k})},_refreshChildWidget:function(){var b,c,d=["collapsibleset","selectmenu","controlgroup","listview"];for(c=d.length-1;c>-1;c--)b=d[c],a.mobile[b]&&(b=this.element.data("mobile-"+b),b&&a.isFunction(b.refresh)&&b.refresh())},_setInput:function(c){var d=this._search;this._timer&&(b.clearTimeout(this._timer),this._timer=0),d&&(this._off(d,"keyup change input"),d=null),c&&(d=c.jquery?c:c.nodeName?a(c):this.document.find(c),this._on(d,{keydown:"_onKeyDown",keypress:"_onKeyPress",keyup:"_onKeyUp",change:"_onKeyUp",input:"_onKeyUp"})),this._search=d},_onKeyDown:function(b){b.keyCode===a.ui.keyCode.ENTER&&(b.preventDefault(),this._preventKeyPress=!0)},_onKeyPress:function(a){this._preventKeyPress&&(a.preventDefault(),this._preventKeyPress=!1)},_setOptions:function(a){var b=!(a.filterReveal===c&&a.filterCallback===c&&a.children===c);this._super(a),a.input!==c&&(this._setInput(a.input),b=!0),b&&this.refresh()},_destroy:function(){var a=this.options,b=this._getFilterableItems();a.enhanced?b.toggleClass("ui-screen-hidden",a.filterReveal):b.removeClass("ui-screen-hidden")},refresh:function(){this._timer&&(b.clearTimeout(this._timer),this._timer=0),this._filterItems((this._search&&this._search.val()||"").toLowerCase())}})}(a),function(a,b){var c=function(a,b){return function(c){b.call(this,c),a._syncTextInputOptions(c)}},d=/(^|\s)ui-li-divider(\s|$)/,e=a.mobile.filterable.prototype.options.filterCallback;a.mobile.filterable.prototype.options.filterCallback=function(a,b){return!this.className.match(d)&&e.call(this,a,b)},a.widget("mobile.filterable",a.mobile.filterable,{options:{filterPlaceholder:"Filter items...",filterTheme:null},_create:function(){var b,c,d=this.element,e=["collapsibleset","selectmenu","controlgroup","listview"],f={};for(this._super(),a.extend(this,{_widget:null}),b=e.length-1;b>-1;b--)if(c=e[b],a.mobile[c]){if(this._setWidget(d.data("mobile-"+c)))break;f[c+"create"]="_handleCreate"}this._widget||this._on(d,f)},_handleCreate:function(a){this._setWidget(this.element.data("mobile-"+a.type.substring(0,a.type.length-6)))},_trigger:function(a,b,c){return this._widget&&"mobile-listview"===this._widget.widgetFullName&&"beforefilter"===a&&this._widget._trigger("beforefilter",b,c),this._super(a,b,c)},_setWidget:function(a){return!this._widget&&a&&(this._widget=a,this._widget._setOptions=c(this,this._widget._setOptions)),this._widget&&(this._syncTextInputOptions(this._widget.options),"listview"===this._widget.widgetName&&(this._widget.options.hideDividers=!0,this._widget.element.listview("refresh"))),!!this._widget},_isSearchInternal:function(){return this._search&&this._search.jqmData("ui-filterable-"+this.uuid+"-internal")},_setInput:function(b){var c=this.options,d=!0,e={};if(!b){if(this._isSearchInternal())return;d=!1,b=a("<input data-"+a.mobile.ns+"type='search' placeholder='"+c.filterPlaceholder+"'></input>").jqmData("ui-filterable-"+this.uuid+"-internal",!0),a("<form class='ui-filterable'></form>").append(b).submit(function(a){a.preventDefault(),b.blur()}).insertBefore(this.element),a.mobile.textinput&&(null!=this.options.filterTheme&&(e.theme=c.filterTheme),b.textinput(e))}this._super(b),this._isSearchInternal()&&d&&this._search.attr("placeholder",this.options.filterPlaceholder)},_setOptions:function(c){var d=this._super(c);return c.filterPlaceholder!==b&&this._isSearchInternal()&&this._search.attr("placeholder",c.filterPlaceholder),c.filterTheme!==b&&this._search&&a.mobile.textinput&&this._search.textinput("option","theme",c.filterTheme),d},_refreshChildWidget:function(){this._refreshingChildWidget=!0,this._superApply(arguments),this._refreshingChildWidget=!1},refresh:function(){this._refreshingChildWidget||this._superApply(arguments)},_destroy:function(){this._isSearchInternal()&&this._search.remove(),this._super()},_syncTextInputOptions:function(c){var d,e={};if(this._isSearchInternal()&&a.mobile.textinput){for(d in a.mobile.textinput.prototype.options)c[d]!==b&&(e[d]="theme"===d&&null!=this.options.filterTheme?this.options.filterTheme:c[d]);this._search.textinput("option",e)}}}),a.widget("mobile.listview",a.mobile.listview,{options:{filter:!1},_create:function(){return this.options.filter!==!0||this.element.data("mobile-filterable")||this.element.filterable(),this._super()},refresh:function(){var a;this._superApply(arguments),this.options.filter===!0&&(a=this.element.data("mobile-filterable"),a&&a.refresh())}})}(a),function(a,b){function c(){return++e}function d(a){return a.hash.length>1&&decodeURIComponent(a.href.replace(f,""))===decodeURIComponent(location.href.replace(f,""))}var e=0,f=/#.*$/;a.widget("ui.tabs",{version:"fadf2b312a05040436451c64bbfaf4814bc62c56",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,c=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",c.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),c.active=this._initialActive(),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(c.active):a(),this._refresh(),this.active.length&&this.load(c.active)},_initialActive:function(){var b=this.options.active,c=this.options.collapsible,d=location.hash.substring(1);return null===b&&(d&&this.tabs.each(function(c,e){return a(e).attr("aria-controls")===d?(b=c,!1):void 0}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===b||-1===b)&&(b=this.tabs.length?0:!1)),b!==!1&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&(b=c?!1:0)),!c&&b===!1&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(this.document[0].activeElement).closest("li"),d=this.tabs.index(c),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d);case a.ui.keyCode.ENTER:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d===this.options.active?!1:d);default:return}b.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,e),b.ctrlKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(b,c){function d(){return b>e&&(b=0),0>b&&(b=e),b}for(var e=this.tabs.length-1;-1!==a.inArray(d(),this.options.disabled);)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?void this._activate(b):"disabled"===a?void this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b)))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+c()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)}),this._processTabs(),b.active!==!1&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=a(),this.anchors.each(function(c,e){var f,g,h,i=a(e).uniqueId().attr("id"),j=a(e).closest("li"),k=j.attr("aria-controls");d(e)?(f=e.hash,g=b.element.find(b._sanitizeSelector(f))):(h=b._tabId(j),f="#"+h,g=b.element.find(f),g.length||(g=b._createPanel(h),g.insertAfter(b.panels[c-1]||b.tablist)),g.attr("aria-live","polite")),g.length&&(b.panels=b.panels.add(g)),k&&j.data("ui-tabs-aria-controls",k),j.attr({"aria-controls":f.substring(1),"aria-labelledby":i}),g.attr("aria-labelledby",i)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c,d=0;c=this.tabs[d];d++)b===!0||-1!==a.inArray(d,b)?a(c).addClass("ui-state-disabled").attr("aria-disabled","true"):a(c).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b},_setupEvents:function(b){var c={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)
}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault(),f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===!1||(c.active=h?!1:this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),j.length||i.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k))},_toggle:function(b,c){function d(){f.running=!1,f._trigger("activate",b,c)}function e(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.show(),d())}var f=this,g=c.newPanel,h=c.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h.hide(),e()),h.attr({"aria-expanded":"false","aria-hidden":"true"}),c.oldTab.attr("aria-selected","false"),g.length&&h.length?c.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr({"aria-expanded":"true","aria-hidden":"false"}),c.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return b===!1?a():this.tabs.eq(b)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(c){var d=this.options.disabled;d!==!1&&(c===b?d=!1:(c=this._getIndex(c),d=a.isArray(d)?a.map(d,function(a){return a!==c?a:null}):a.map(this.tabs,function(a,b){return b!==c?b:null})),this._setupDisabled(d))},disable:function(c){var d=this.options.disabled;if(d!==!0){if(c===b)d=!0;else{if(c=this._getIndex(c),-1!==a.inArray(c,d))return;d=a.isArray(d)?a.merge([c],d).sort():[c]}this._setupDisabled(d)}},load:function(b,c){b=this._getIndex(b);var e=this,f=this.tabs.eq(b),g=f.find(".ui-tabs-anchor"),h=this._getPanelForTab(f),i={tab:f,panel:h};d(g[0])||(this.xhr=a.ajax(this._ajaxSettings(g,c,i)),this.xhr&&"canceled"!==this.xhr.statusText&&(f.addClass("ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){h.html(a),e._trigger("load",c,i)},1)}).complete(function(a,b){setTimeout(function(){"abort"===b&&e.panels.stop(!1,!0),f.removeClass("ui-tabs-loading"),h.removeAttr("aria-busy"),a===e.xhr&&delete e.xhr},1)})))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href"),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}})}(a),function(){}(a),function(a,b){function c(a){e=a.originalEvent,i=e.accelerationIncludingGravity,f=Math.abs(i.x),g=Math.abs(i.y),h=Math.abs(i.z),!b.orientation&&(f>7||(h>6&&8>g||8>h&&g>6)&&f>5)?d.enabled&&d.disable():d.enabled||d.enable()}a.mobile.iosorientationfixEnabled=!0;var d,e,f,g,h,i,j=navigator.userAgent;return/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(j)&&j.indexOf("AppleWebKit")>-1?(d=a.mobile.zoom,void a.mobile.document.on("mobileinit",function(){a.mobile.iosorientationfixEnabled&&a.mobile.window.bind("orientationchange.iosorientationfix",d.enable).bind("devicemotion.iosorientationfix",c)})):void(a.mobile.iosorientationfixEnabled=!1)}(a,this),function(a,b,d){function e(){f.removeClass("ui-mobile-rendering")}var f=a("html"),g=a.mobile.window;a(b.document).trigger("mobileinit"),a.mobile.gradeA()&&(a.mobile.ajaxBlacklist&&(a.mobile.ajaxEnabled=!1),f.addClass("ui-mobile ui-mobile-rendering"),setTimeout(e,5e3),a.extend(a.mobile,{initializePage:function(){var b=a.mobile.path,f=a(":jqmData(role='page'), :jqmData(role='dialog')"),h=b.stripHash(b.stripQueryParams(b.parseLocation().hash)),i=a.mobile.path.parseLocation(),j=h?c.getElementById(h):d;f.length||(f=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0)),f.each(function(){var c=a(this);c[0].getAttribute("data-"+a.mobile.ns+"url")||c.attr("data-"+a.mobile.ns+"url",c.attr("id")||b.convertUrlToDataUrl(i.pathname+i.search))}),a.mobile.firstPage=f.first(),a.mobile.pageContainer=a.mobile.firstPage.parent().addClass("ui-mobile-viewport").pagecontainer(),a.mobile.navreadyDeferred.resolve(),g.trigger("pagecontainercreate"),a.mobile.loading("show"),e(),a.mobile.hashListeningEnabled&&a.mobile.path.isHashValid(location.hash)&&(a(j).is(":jqmData(role='page')")||a.mobile.path.isPath(h)||h===a.mobile.dialogHashKey)?a.event.special.navigate.isPushStateEnabled()?(a.mobile.navigate.history.stack=[],a.mobile.navigate(a.mobile.path.isPath(location.hash)?location.hash:location.href)):g.trigger("hashchange",[!0]):(a.event.special.navigate.isPushStateEnabled()&&a.mobile.navigate.navigator.squash(b.parseLocation().href),a.mobile.changePage(a.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),a(function(){a.support.inlineSVG(),a.mobile.hideUrlBar&&b.scrollTo(0,1),a.mobile.defaultHomeScroll=a.support.scrollTop&&1!==a.mobile.window.scrollTop()?1:0,a.mobile.autoInitializePage&&a.mobile.initializePage(),a.mobile.hideUrlBar&&g.load(a.mobile.silentScroll),a.support.cssPointerEvents||a.mobile.document.delegate(".ui-state-disabled,.ui-disabled","vclick",function(a){a.preventDefault(),a.stopImmediatePropagation()})}))}(a,this)});

; browserify_shim__define__module__export__(typeof $.mobile != "undefined" ? $.mobile : window.$.mobile);

}).call(global, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"jquery":14}],14:[function(require,module,exports){
(function (global){(function (){
(function browserifyShim(module, exports, define, browserify_shim__define__module__export__) {
/*! jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.1",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b=a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C="undefined",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=N.replace("w","w#"),P="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",Q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||"string"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(",")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=ib(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&q.push("[*^$]="+M+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+M+"*(?:value|"+L+")"),a.querySelectorAll(":checked").length||q.push(":checked")}),ib(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||"")||fb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)return I.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ib(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||jb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||jb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute("disabled")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K="undefined",L;for(L in m(k))break;k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;
if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function ab(){return!0}function bb(){return!1}function cb(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==cb()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===cb()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ab:bb):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:bb,isPropagationStopped:bb,isImmediatePropagationStopped:bb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ab,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ab,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ab,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=bb;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=bb),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function db(a){var b=eb.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var eb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fb=/ jQuery\d+="(?:null|\d+)"/g,gb=new RegExp("<(?:"+eb+")[\\s/>]","i"),hb=/^\s+/,ib=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jb=/<([\w:]+)/,kb=/<tbody/i,lb=/<|&#?\w+;/,mb=/<(?:script|style|link)/i,nb=/checked\s*(?:[^=]|=\s*.checked.)/i,ob=/^$|\/(?:java|ecma)script/i,pb=/^true\/(.*)/,qb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sb=db(y),tb=sb.appendChild(y.createElement("div"));rb.optgroup=rb.option,rb.tbody=rb.tfoot=rb.colgroup=rb.caption=rb.thead,rb.th=rb.td;function ub(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ub(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function vb(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wb(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xb(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function yb(a){var b=pb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function zb(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function Ab(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Bb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xb(b).text=a.text,yb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!gb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(tb.innerHTML=a.outerHTML,tb.removeChild(f=tb.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ub(f),h=ub(a),g=0;null!=(e=h[g]);++g)d[g]&&Bb(e,d[g]);if(b)if(c)for(h=h||ub(a),d=d||ub(f),g=0;null!=(e=h[g]);g++)Ab(e,d[g]);else Ab(a,f);return d=ub(f,"script"),d.length>0&&zb(d,!i&&ub(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=db(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(lb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(jb.exec(f)||["",""])[1].toLowerCase(),l=rb[i]||rb._default,h.innerHTML=l[1]+f.replace(ib,"<$1></$2>")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&hb.test(f)&&p.push(b.createTextNode(hb.exec(f)[0])),!k.tbody){f="table"!==i||kb.test(f)?"<table>"!==l[1]||kb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(ub(p,"input"),vb),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ub(o.appendChild(f),"script"),g&&zb(h),c)){e=0;while(f=h[e++])ob.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ub(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&zb(ub(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ub(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fb,""):void 0;if(!("string"!=typeof a||mb.test(a)||!k.htmlSerialize&&gb.test(a)||!k.leadingWhitespace&&hb.test(a)||rb[(jb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ib,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ub(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ub(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&nb.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ub(i,"script"),xb),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ub(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,yb),j=0;f>j;j++)d=g[j],ob.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qb,"")));i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Cb,Db={};function Eb(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fb(a){var b=y,c=Db[a];return c||(c=Eb(a,b),"none"!==c&&c||(Cb=(Cb||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Cb[0].contentWindow||Cb[0].contentDocument).document,b.write(),b.close(),c=Eb(a,b),Cb.detach()),Db[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Gb=/^margin/,Hb=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ib,Jb,Kb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ib=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Hb.test(g)&&Gb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ib=function(a){return a.currentStyle},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Hb.test(g)&&!Kb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Lb(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Mb=/alpha\([^)]*\)/i,Nb=/opacity\s*=\s*([^)]*)/,Ob=/^(none|table(?!-c[ea]).+)/,Pb=new RegExp("^("+S+")(.*)$","i"),Qb=new RegExp("^([+-])=("+S+")","i"),Rb={position:"absolute",visibility:"hidden",display:"block"},Sb={letterSpacing:"0",fontWeight:"400"},Tb=["Webkit","O","Moz","ms"];function Ub(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Tb.length;while(e--)if(b=Tb[e]+c,b in a)return b;return d}function Vb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fb(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Wb(a,b,c){var d=Pb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function Yb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ib(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Jb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Hb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xb(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Jb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ub(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Qb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ub(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Jb(a,b,d)),"normal"===f&&b in Sb&&(f=Sb[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Ob.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Rb,function(){return Yb(a,b,d)}):Yb(a,b,d):void 0},set:function(a,c,d){var e=d&&Ib(a);return Wb(a,c,d?Xb(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Mb.test(f)?f.replace(Mb,e):f+" "+e)}}),m.cssHooks.marginRight=Lb(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Jb,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Gb.test(a)||(m.cssHooks[a+b].set=Wb)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ib(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Vb(this,!0)},hide:function(){return Vb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Zb(a,b,c,d,e){return new Zb.prototype.init(a,b,c,d,e)}m.Tween=Zb,Zb.prototype={constructor:Zb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")
},cur:function(){var a=Zb.propHooks[this.prop];return a&&a.get?a.get(this):Zb.propHooks._default.get(this)},run:function(a){var b,c=Zb.propHooks[this.prop];return this.pos=b=this.options.duration?m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Zb.propHooks._default.set(this),this}},Zb.prototype.init.prototype=Zb.prototype,Zb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Zb.propHooks.scrollTop=Zb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Zb.prototype.init,m.fx.step={};var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cc=/queueHooks$/,dc=[ic],ec={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bc.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bc.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fc(){return setTimeout(function(){$b=void 0}),$b=m.now()}function gc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function hc(a,b,c){for(var d,e=(ec[b]||[]).concat(ec["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ic(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fb(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fb(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ac.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))"inline"===("none"===j?Fb(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=hc(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function jc(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kc(a,b,c){var d,e,f=0,g=dc.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$b||fc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||fc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jc(k,j.opts.specialEasing);g>f;f++)if(d=dc[f].call(j,a,k,j.opts))return d;return m.map(k,hc,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kc,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kc(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gc(b,!0),a,d,e)}}),m.each({slideDown:gc("show"),slideUp:gc("hide"),slideToggle:gc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($b=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$b=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_b||(_b=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_b),_b=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lc=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lc,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mc,nc,oc=m.expr.attrHandle,pc=/^(?:checked|selected)$/i,qc=k.getSetAttribute,rc=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nc:mc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rc&&qc||!pc.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qc?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nc={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rc&&qc||!pc.test(c)?a.setAttribute(!qc&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=oc[b]||m.find.attr;oc[b]=rc&&qc||!pc.test(b)?function(a,b,d){var e,f;return d||(f=oc[b],oc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,oc[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rc&&qc||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):mc&&mc.set(a,b,c)}}),qc||(mc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},oc.id=oc.name=oc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mc.set},m.attrHooks.contenteditable={set:function(a,b,c){mc.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sc=/^(?:input|select|textarea|button|object)$/i,tc=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sc.test(a.nodeName)||tc.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var uc=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(uc," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vc=m.now(),wc=/\?/,xc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yc,zc,Ac=/#.*$/,Bc=/([?&])_=[^&]*/,Cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ec=/^(?:GET|HEAD)$/,Fc=/^\/\//,Gc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hc={},Ic={},Jc="*/".concat("*");try{zc=location.href}catch(Kc){zc=y.createElement("a"),zc.href="",zc=zc.href}yc=Gc.exec(zc.toLowerCase())||[];function Lc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mc(a,b,c,d){var e={},f=a===Ic;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nc(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Oc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zc,type:"GET",isLocal:Dc.test(yc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nc(Nc(a,m.ajaxSettings),b):Nc(m.ajaxSettings,a)},ajaxPrefilter:Lc(Hc),ajaxTransport:Lc(Ic),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cc.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zc)+"").replace(Ac,"").replace(Fc,yc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yc[1]&&c[2]===yc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yc[3]||("http:"===yc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mc(Hc,k,b,v),2===t)return v;h=k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Ec.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bc.test(e)?e.replace(Bc,"$1_="+vc++):e+(wc.test(e)?"&":"?")+"_="+vc++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mc(Ic,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Oc(k,v,c)),u=Pc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qc=/%20/g,Rc=/\[\]$/,Sc=/\r?\n/g,Tc=/^(?:submit|button|image|reset|file)$/i,Uc=/^(?:input|select|textarea|keygen)/i;function Vc(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rc.test(a)?d(a,e):Vc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)Vc(a+"["+e+"]",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vc(c,a[c],b,e);return d.join("&").replace(Qc,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Uc.test(this.nodeName)&&!Tc.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sc,"\r\n")}}):{name:b.name,value:c.replace(Sc,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zc()||$c()}:Zc;var Wc=0,Xc={},Yc=m.ajaxSettings.xhr();a.ActiveXObject&&m(a).on("unload",function(){for(var a in Xc)Xc[a](void 0,!0)}),k.cors=!!Yc&&"withCredentials"in Yc,Yc=k.ajax=!!Yc,Yc&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xc[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zc(){try{return new a.XMLHttpRequest}catch(b){}}function $c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _c=[],ad=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_c.pop()||m.expando+"_"+vc++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ad.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ad.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ad,"$1"+e):b.jsonp!==!1&&(b.url+=(wc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_c.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bd=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bd)return bd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cd=a.document.documentElement;function dd(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dd(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cd;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position"))a=a.offsetParent;return a||cd})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dd(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=Lb(k.pixelPosition,function(a,c){return c?(c=Jb(a,b),Hb.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ed=a.jQuery,fd=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fd),b&&a.jQuery===m&&(a.jQuery=ed),m},typeof b===K&&(a.jQuery=a.$=m),m});

; browserify_shim__define__module__export__(typeof $ != "undefined" ? $ : window.$);

}).call(global, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}]},{},[8])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvQHN0cmlwZS9zdHJpcGUtanMvZGlzdC9zdHJpcGUuanMiLCJub2RlX21vZHVsZXMvZW1haWxqcy1jb20vc291cmNlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2VtYWlsanMtY29tL3NvdXJjZS9tb2RlbHMvRW1haWxKU1Jlc3BvbnNlU3RhdHVzLmpzIiwibm9kZV9tb2R1bGVzL2VtYWlsanMtY29tL3NvdXJjZS9zZXJ2aWNlcy91aS9VSS5qcyIsIm5vZGVfbW9kdWxlcy9qcy1jb29raWUvc3JjL2pzLmNvb2tpZS5qcyIsInNyYy9zY3JpcHRzL2NhcnQuanMiLCJzcmMvc2NyaXB0cy9kYXRhc3RvcmUuanMiLCJzcmMvc2NyaXB0cy9pbmRleC5qcyIsInNyYy9zY3JpcHRzL3BheW1lbnQuanMiLCJzcmMvc2NyaXB0cy91c2VyLmpzIiwic3JjL3NjcmlwdHMvdXRpbHMuanMiLCJzcmMvc2NyaXB0cy92ZW5kb3JsaXN0LmpzIiwidmVuZG9yL2pxdWVyeS5tb2JpbGUtMS40LjUvanF1ZXJ5Lm1vYmlsZS0xLjQuNS5taW4uanMiLCJ2ZW5kb3IvanF1ZXJ5L2pxdWVyeS0xLjExLjEvanF1ZXJ5LTEuMTEuMS5taW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25LQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdGNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2haQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIFYzX1VSTCA9ICdodHRwczovL2pzLnN0cmlwZS5jb20vdjMnO1xudmFyIFYzX1VSTF9SRUdFWCA9IC9eaHR0cHM6XFwvXFwvanNcXC5zdHJpcGVcXC5jb21cXC92M1xcLz8oXFw/LiopPyQvO1xudmFyIEVYSVNUSU5HX1NDUklQVF9NRVNTQUdFID0gJ2xvYWRTdHJpcGUuc2V0TG9hZFBhcmFtZXRlcnMgd2FzIGNhbGxlZCBidXQgYW4gZXhpc3RpbmcgU3RyaXBlLmpzIHNjcmlwdCBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgZG9jdW1lbnQ7IGV4aXN0aW5nIHNjcmlwdCBwYXJhbWV0ZXJzIHdpbGwgYmUgdXNlZCc7XG52YXIgZmluZFNjcmlwdCA9IGZ1bmN0aW9uIGZpbmRTY3JpcHQoKSB7XG4gIHZhciBzY3JpcHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInNjcmlwdFtzcmNePVxcXCJcIi5jb25jYXQoVjNfVVJMLCBcIlxcXCJdXCIpKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHNjcmlwdHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc2NyaXB0ID0gc2NyaXB0c1tpXTtcblxuICAgIGlmICghVjNfVVJMX1JFR0VYLnRlc3Qoc2NyaXB0LnNyYykpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHJldHVybiBzY3JpcHQ7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbnZhciBpbmplY3RTY3JpcHQgPSBmdW5jdGlvbiBpbmplY3RTY3JpcHQocGFyYW1zKSB7XG4gIHZhciBxdWVyeVN0cmluZyA9IHBhcmFtcyAmJiAhcGFyYW1zLmFkdmFuY2VkRnJhdWRTaWduYWxzID8gJz9hZHZhbmNlZEZyYXVkU2lnbmFscz1mYWxzZScgOiAnJztcbiAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHQuc3JjID0gXCJcIi5jb25jYXQoVjNfVVJMKS5jb25jYXQocXVlcnlTdHJpbmcpO1xuICB2YXIgaGVhZE9yQm9keSA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keTtcblxuICBpZiAoIWhlYWRPckJvZHkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGRvY3VtZW50LmJvZHkgbm90IHRvIGJlIG51bGwuIFN0cmlwZS5qcyByZXF1aXJlcyBhIDxib2R5PiBlbGVtZW50LicpO1xuICB9XG5cbiAgaGVhZE9yQm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICByZXR1cm4gc2NyaXB0O1xufTtcblxudmFyIHJlZ2lzdGVyV3JhcHBlciA9IGZ1bmN0aW9uIHJlZ2lzdGVyV3JhcHBlcihzdHJpcGUsIHN0YXJ0VGltZSkge1xuICBpZiAoIXN0cmlwZSB8fCAhc3RyaXBlLl9yZWdpc3RlcldyYXBwZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBzdHJpcGUuX3JlZ2lzdGVyV3JhcHBlcih7XG4gICAgbmFtZTogJ3N0cmlwZS1qcycsXG4gICAgdmVyc2lvbjogXCIxLjExLjBcIixcbiAgICBzdGFydFRpbWU6IHN0YXJ0VGltZVxuICB9KTtcbn07XG5cbnZhciBzdHJpcGVQcm9taXNlID0gbnVsbDtcbnZhciBsb2FkU2NyaXB0ID0gZnVuY3Rpb24gbG9hZFNjcmlwdChwYXJhbXMpIHtcbiAgLy8gRW5zdXJlIHRoYXQgd2Ugb25seSBhdHRlbXB0IHRvIGxvYWQgU3RyaXBlLmpzIGF0IG1vc3Qgb25jZVxuICBpZiAoc3RyaXBlUHJvbWlzZSAhPT0gbnVsbCkge1xuICAgIHJldHVybiBzdHJpcGVQcm9taXNlO1xuICB9XG5cbiAgc3RyaXBlUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFJlc29sdmUgdG8gbnVsbCB3aGVuIGltcG9ydGVkIHNlcnZlciBzaWRlLiBUaGlzIG1ha2VzIHRoZSBtb2R1bGVcbiAgICAgIC8vIHNhZmUgdG8gaW1wb3J0IGluIGFuIGlzb21vcnBoaWMgY29kZSBiYXNlLlxuICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAod2luZG93LlN0cmlwZSAmJiBwYXJhbXMpIHtcbiAgICAgIGNvbnNvbGUud2FybihFWElTVElOR19TQ1JJUFRfTUVTU0FHRSk7XG4gICAgfVxuXG4gICAgaWYgKHdpbmRvdy5TdHJpcGUpIHtcbiAgICAgIHJlc29sdmUod2luZG93LlN0cmlwZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHZhciBzY3JpcHQgPSBmaW5kU2NyaXB0KCk7XG5cbiAgICAgIGlmIChzY3JpcHQgJiYgcGFyYW1zKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihFWElTVElOR19TQ1JJUFRfTUVTU0FHRSk7XG4gICAgICB9IGVsc2UgaWYgKCFzY3JpcHQpIHtcbiAgICAgICAgc2NyaXB0ID0gaW5qZWN0U2NyaXB0KHBhcmFtcyk7XG4gICAgICB9XG5cbiAgICAgIHNjcmlwdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAod2luZG93LlN0cmlwZSkge1xuICAgICAgICAgIHJlc29sdmUod2luZG93LlN0cmlwZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignU3RyaXBlLmpzIG5vdCBhdmFpbGFibGUnKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBTdHJpcGUuanMnKSk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gc3RyaXBlUHJvbWlzZTtcbn07XG52YXIgaW5pdFN0cmlwZSA9IGZ1bmN0aW9uIGluaXRTdHJpcGUobWF5YmVTdHJpcGUsIGFyZ3MsIHN0YXJ0VGltZSkge1xuICBpZiAobWF5YmVTdHJpcGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBzdHJpcGUgPSBtYXliZVN0cmlwZS5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICByZWdpc3RlcldyYXBwZXIoc3RyaXBlLCBzdGFydFRpbWUpO1xuICByZXR1cm4gc3RyaXBlO1xufTtcblxuLy8gb3duIHNjcmlwdCBpbmplY3Rpb24uXG5cbnZhciBzdHJpcGVQcm9taXNlJDEgPSBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGxvYWRTY3JpcHQobnVsbCk7XG59KTtcbnZhciBsb2FkQ2FsbGVkID0gZmFsc2U7XG5zdHJpcGVQcm9taXNlJDFbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyKSB7XG4gIGlmICghbG9hZENhbGxlZCkge1xuICAgIGNvbnNvbGUud2FybihlcnIpO1xuICB9XG59KTtcbnZhciBsb2FkU3RyaXBlID0gZnVuY3Rpb24gbG9hZFN0cmlwZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGxvYWRDYWxsZWQgPSB0cnVlO1xuICB2YXIgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgcmV0dXJuIHN0cmlwZVByb21pc2UkMS50aGVuKGZ1bmN0aW9uIChtYXliZVN0cmlwZSkge1xuICAgIHJldHVybiBpbml0U3RyaXBlKG1heWJlU3RyaXBlLCBhcmdzLCBzdGFydFRpbWUpO1xuICB9KTtcbn07XG5cbmV4cG9ydHMubG9hZFN0cmlwZSA9IGxvYWRTdHJpcGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRW1haWxKU1Jlc3BvbnNlU3RhdHVzID0gZXhwb3J0cy5zZW5kRm9ybSA9IGV4cG9ydHMuc2VuZCA9IGV4cG9ydHMuaW5pdCA9IHZvaWQgMDtcbnZhciBFbWFpbEpTUmVzcG9uc2VTdGF0dXNfMSA9IHJlcXVpcmUoXCIuL21vZGVscy9FbWFpbEpTUmVzcG9uc2VTdGF0dXNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJFbWFpbEpTUmVzcG9uc2VTdGF0dXNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIEVtYWlsSlNSZXNwb25zZVN0YXR1c18xLkVtYWlsSlNSZXNwb25zZVN0YXR1czsgfSB9KTtcbnZhciBVSV8xID0gcmVxdWlyZShcIi4vc2VydmljZXMvdWkvVUlcIik7XG52YXIgX3VzZXJJRCA9IG51bGw7XG52YXIgX29yaWdpbiA9ICdodHRwczovL2FwaS5lbWFpbGpzLmNvbSc7XG5mdW5jdGlvbiBzZW5kUG9zdCh1cmwsIGRhdGEsIGhlYWRlcnMpIHtcbiAgICBpZiAoaGVhZGVycyA9PT0gdm9pZCAwKSB7IGhlYWRlcnMgPSB7fTsgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciByZXNwb25zZVN0YXR1cyA9IG5ldyBFbWFpbEpTUmVzcG9uc2VTdGF0dXNfMS5FbWFpbEpTUmVzcG9uc2VTdGF0dXMoZXZlbnQudGFyZ2V0KTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZVN0YXR1cy5zdGF0dXMgPT09IDIwMCB8fCByZXNwb25zZVN0YXR1cy50ZXh0ID09PSAnT0snKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZVN0YXR1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWplY3QocmVzcG9uc2VTdGF0dXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVtYWlsSlNSZXNwb25zZVN0YXR1c18xLkVtYWlsSlNSZXNwb25zZVN0YXR1cyhldmVudC50YXJnZXQpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHhoci5vcGVuKCdQT1NUJywgdXJsLCB0cnVlKTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGhlYWRlcnMpIHtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgaGVhZGVyc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICB4aHIuc2VuZChkYXRhKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGFwcGVuZEdvb2dsZUNhcHRjaGEodGVtcGxhdGVQcmFtcykge1xuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ctcmVjYXB0Y2hhLXJlc3BvbnNlJyk7XG4gICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC52YWx1ZSkge1xuICAgICAgICB0ZW1wbGF0ZVByYW1zWydnLXJlY2FwdGNoYS1yZXNwb25zZSddID0gZWxlbWVudC52YWx1ZTtcbiAgICB9XG4gICAgZWxlbWVudCA9IG51bGw7XG4gICAgcmV0dXJuIHRlbXBsYXRlUHJhbXM7XG59XG5mdW5jdGlvbiBmaXhJZFNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgaWYgKHNlbGVjdG9yWzBdICE9PSAnIycgJiYgc2VsZWN0b3JbMF0gIT09ICcuJykge1xuICAgICAgICByZXR1cm4gJyMnICsgc2VsZWN0b3I7XG4gICAgfVxuICAgIHJldHVybiBzZWxlY3Rvcjtcbn1cbi8qKlxuICogSW5pdGlhdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJRCAtIHNldCB0aGUgRW1haWxKUyB1c2VyIElEXG4gKiBAcGFyYW0ge3N0cmluZ30gb3JpZ2luIC0gc2V0IHRoZSBFbWFpbEpTIG9yaWdpblxuICovXG5mdW5jdGlvbiBpbml0KHVzZXJJRCwgb3JpZ2luKSB7XG4gICAgX3VzZXJJRCA9IHVzZXJJRDtcbiAgICBfb3JpZ2luID0gb3JpZ2luIHx8ICdodHRwczovL2FwaS5lbWFpbGpzLmNvbSc7XG59XG5leHBvcnRzLmluaXQgPSBpbml0O1xuLyoqXG4gKiBTZW5kIGEgdGVtcGxhdGUgdG8gdGhlIHNwZWNpZmljIEVtYWlsSlMgc2VydmljZVxuICogQHBhcmFtIHtzdHJpbmd9IHNlcnZpY2VJRCAtIHRoZSBFbWFpbEpTIHNlcnZpY2UgSURcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZUlEIC0gdGhlIEVtYWlsSlMgdGVtcGxhdGUgSURcbiAqIEBwYXJhbSB7T2JqZWN0fSB0ZW1wbGF0ZVByYW1zIC0gdGhlIHRlbXBsYXRlIHBhcmFtcywgd2hhdCB3aWxsIGJlIHNldCB0byB0aGUgRW1haWxKUyB0ZW1wbGF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJRCAtIHRoZSBFbWFpbEpTIHVzZXIgSURcbiAqIEByZXR1cm5zIHtQcm9taXNlPEVtYWlsSlNSZXNwb25zZVN0YXR1cz59XG4gKi9cbmZ1bmN0aW9uIHNlbmQoc2VydmljZUlELCB0ZW1wbGF0ZUlELCB0ZW1wbGF0ZVByYW1zLCB1c2VySUQpIHtcbiAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBsaWJfdmVyc2lvbjogJzIuNi40JyxcbiAgICAgICAgdXNlcl9pZDogdXNlcklEIHx8IF91c2VySUQsXG4gICAgICAgIHNlcnZpY2VfaWQ6IHNlcnZpY2VJRCxcbiAgICAgICAgdGVtcGxhdGVfaWQ6IHRlbXBsYXRlSUQsXG4gICAgICAgIHRlbXBsYXRlX3BhcmFtczogYXBwZW5kR29vZ2xlQ2FwdGNoYSh0ZW1wbGF0ZVByYW1zKVxuICAgIH07XG4gICAgcmV0dXJuIHNlbmRQb3N0KF9vcmlnaW4gKyAnL2FwaS92MS4wL2VtYWlsL3NlbmQnLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpLCB7XG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICB9KTtcbn1cbmV4cG9ydHMuc2VuZCA9IHNlbmQ7XG4vKipcbiAqIFNlbmQgYSBmb3JtIHRoZSBzcGVjaWZpYyBFbWFpbEpTIHNlcnZpY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZXJ2aWNlSUQgLSB0aGUgRW1haWxKUyBzZXJ2aWNlIElEXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGVJRCAtIHRoZSBFbWFpbEpTIHRlbXBsYXRlIElEXG4gKiBAcGFyYW0ge3N0cmluZyB8IEhUTUxGb3JtRWxlbWVudH0gZm9ybSAtIHRoZSBmb3JtIGVsZW1lbnQgb3Igc2VsZWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySUQgLSB0aGUgRW1haWxKUyB1c2VyIElEXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxFbWFpbEpTUmVzcG9uc2VTdGF0dXM+fVxuICovXG5mdW5jdGlvbiBzZW5kRm9ybShzZXJ2aWNlSUQsIHRlbXBsYXRlSUQsIGZvcm0sIHVzZXJJRCkge1xuICAgIGlmICh0eXBlb2YgZm9ybSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZml4SWRTZWxlY3Rvcihmb3JtKSk7XG4gICAgfVxuICAgIGlmICghZm9ybSB8fCBmb3JtLm5vZGVOYW1lICE9PSAnRk9STScpIHtcbiAgICAgICAgdGhyb3cgJ0V4cGVjdGVkIHRoZSBIVE1MIGZvcm0gZWxlbWVudCBvciB0aGUgc3R5bGUgc2VsZWN0b3Igb2YgZm9ybSc7XG4gICAgfVxuICAgIFVJXzEuVUkucHJvZ3Jlc3NTdGF0ZShmb3JtKTtcbiAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XG4gICAgZm9ybURhdGEuYXBwZW5kKCdsaWJfdmVyc2lvbicsICcyLjYuNCcpO1xuICAgIGZvcm1EYXRhLmFwcGVuZCgnc2VydmljZV9pZCcsIHNlcnZpY2VJRCk7XG4gICAgZm9ybURhdGEuYXBwZW5kKCd0ZW1wbGF0ZV9pZCcsIHRlbXBsYXRlSUQpO1xuICAgIGZvcm1EYXRhLmFwcGVuZCgndXNlcl9pZCcsIHVzZXJJRCB8fCBfdXNlcklEKTtcbiAgICByZXR1cm4gc2VuZFBvc3QoX29yaWdpbiArICcvYXBpL3YxLjAvZW1haWwvc2VuZC1mb3JtJywgZm9ybURhdGEpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBVSV8xLlVJLnN1Y2Nlc3NTdGF0ZShmb3JtKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBVSV8xLlVJLmVycm9yU3RhdGUoZm9ybSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfSk7XG59XG5leHBvcnRzLnNlbmRGb3JtID0gc2VuZEZvcm07XG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gICAgaW5pdDogaW5pdCxcbiAgICBzZW5kOiBzZW5kLFxuICAgIHNlbmRGb3JtOiBzZW5kRm9ybVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5FbWFpbEpTUmVzcG9uc2VTdGF0dXMgPSB2b2lkIDA7XG52YXIgRW1haWxKU1Jlc3BvbnNlU3RhdHVzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVtYWlsSlNSZXNwb25zZVN0YXR1cyhodHRwUmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBodHRwUmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICB0aGlzLnRleHQgPSBodHRwUmVzcG9uc2UucmVzcG9uc2VUZXh0O1xuICAgIH1cbiAgICByZXR1cm4gRW1haWxKU1Jlc3BvbnNlU3RhdHVzO1xufSgpKTtcbmV4cG9ydHMuRW1haWxKU1Jlc3BvbnNlU3RhdHVzID0gRW1haWxKU1Jlc3BvbnNlU3RhdHVzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlVJID0gdm9pZCAwO1xudmFyIFVJID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVJKCkge1xuICAgIH1cbiAgICBVSS5jbGVhckFsbCA9IGZ1bmN0aW9uIChmb3JtKSB7XG4gICAgICAgIGZvcm0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLlBST0dSRVNTKTtcbiAgICAgICAgZm9ybS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuRE9ORSk7XG4gICAgICAgIGZvcm0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkVSUk9SKTtcbiAgICB9O1xuICAgIFVJLnByb2dyZXNzU3RhdGUgPSBmdW5jdGlvbiAoZm9ybSkge1xuICAgICAgICB0aGlzLmNsZWFyQWxsKGZvcm0pO1xuICAgICAgICBmb3JtLmNsYXNzTGlzdC5hZGQodGhpcy5QUk9HUkVTUyk7XG4gICAgfTtcbiAgICBVSS5zdWNjZXNzU3RhdGUgPSBmdW5jdGlvbiAoZm9ybSkge1xuICAgICAgICBmb3JtLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5QUk9HUkVTUyk7XG4gICAgICAgIGZvcm0uY2xhc3NMaXN0LmFkZCh0aGlzLkRPTkUpO1xuICAgIH07XG4gICAgVUkuZXJyb3JTdGF0ZSA9IGZ1bmN0aW9uIChmb3JtKSB7XG4gICAgICAgIGZvcm0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLlBST0dSRVNTKTtcbiAgICAgICAgZm9ybS5jbGFzc0xpc3QuYWRkKHRoaXMuRVJST1IpO1xuICAgIH07XG4gICAgVUkuUFJPR1JFU1MgPSAnZW1haWxqcy1zZW5kaW5nJztcbiAgICBVSS5ET05FID0gJ2VtYWlsanMtc3VjY2Vzcyc7XG4gICAgVUkuRVJST1IgPSAnZW1haWxqcy1lcnJvcic7XG4gICAgcmV0dXJuIFVJO1xufSgpKTtcbmV4cG9ydHMuVUkgPSBVSTtcbiIsIi8qIVxuICogSmF2YVNjcmlwdCBDb29raWUgdjIuMi4xXG4gKiBodHRwczovL2dpdGh1Yi5jb20vanMtY29va2llL2pzLWNvb2tpZVxuICpcbiAqIENvcHlyaWdodCAyMDA2LCAyMDE1IEtsYXVzIEhhcnRsICYgRmFnbmVyIEJyYWNrXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqL1xuOyhmdW5jdGlvbiAoZmFjdG9yeSkge1xuXHR2YXIgcmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyO1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKGZhY3RvcnkpO1xuXHRcdHJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlciA9IHRydWU7XG5cdH1cblx0aWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRcdHJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlciA9IHRydWU7XG5cdH1cblx0aWYgKCFyZWdpc3RlcmVkSW5Nb2R1bGVMb2FkZXIpIHtcblx0XHR2YXIgT2xkQ29va2llcyA9IHdpbmRvdy5Db29raWVzO1xuXHRcdHZhciBhcGkgPSB3aW5kb3cuQ29va2llcyA9IGZhY3RvcnkoKTtcblx0XHRhcGkubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHdpbmRvdy5Db29raWVzID0gT2xkQ29va2llcztcblx0XHRcdHJldHVybiBhcGk7XG5cdFx0fTtcblx0fVxufShmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIGV4dGVuZCAoKSB7XG5cdFx0dmFyIGkgPSAwO1xuXHRcdHZhciByZXN1bHQgPSB7fTtcblx0XHRmb3IgKDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGF0dHJpYnV0ZXMgPSBhcmd1bWVudHNbIGkgXTtcblx0XHRcdGZvciAodmFyIGtleSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdHJlc3VsdFtrZXldID0gYXR0cmlidXRlc1trZXldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0ZnVuY3Rpb24gZGVjb2RlIChzKSB7XG5cdFx0cmV0dXJuIHMucmVwbGFjZSgvKCVbMC05QS1aXXsyfSkrL2csIGRlY29kZVVSSUNvbXBvbmVudCk7XG5cdH1cblxuXHRmdW5jdGlvbiBpbml0IChjb252ZXJ0ZXIpIHtcblx0XHRmdW5jdGlvbiBhcGkoKSB7fVxuXG5cdFx0ZnVuY3Rpb24gc2V0IChrZXksIHZhbHVlLCBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGF0dHJpYnV0ZXMgPSBleHRlbmQoe1xuXHRcdFx0XHRwYXRoOiAnLydcblx0XHRcdH0sIGFwaS5kZWZhdWx0cywgYXR0cmlidXRlcyk7XG5cblx0XHRcdGlmICh0eXBlb2YgYXR0cmlidXRlcy5leHBpcmVzID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRhdHRyaWJ1dGVzLmV4cGlyZXMgPSBuZXcgRGF0ZShuZXcgRGF0ZSgpICogMSArIGF0dHJpYnV0ZXMuZXhwaXJlcyAqIDg2NGUrNSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFdlJ3JlIHVzaW5nIFwiZXhwaXJlc1wiIGJlY2F1c2UgXCJtYXgtYWdlXCIgaXMgbm90IHN1cHBvcnRlZCBieSBJRVxuXHRcdFx0YXR0cmlidXRlcy5leHBpcmVzID0gYXR0cmlidXRlcy5leHBpcmVzID8gYXR0cmlidXRlcy5leHBpcmVzLnRvVVRDU3RyaW5nKCkgOiAnJztcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFyIHJlc3VsdCA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcblx0XHRcdFx0aWYgKC9eW1xce1xcW10vLnRlc3QocmVzdWx0KSkge1xuXHRcdFx0XHRcdHZhbHVlID0gcmVzdWx0O1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlKSB7fVxuXG5cdFx0XHR2YWx1ZSA9IGNvbnZlcnRlci53cml0ZSA/XG5cdFx0XHRcdGNvbnZlcnRlci53cml0ZSh2YWx1ZSwga2V5KSA6XG5cdFx0XHRcdGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcodmFsdWUpKVxuXHRcdFx0XHRcdC5yZXBsYWNlKC8lKDIzfDI0fDI2fDJCfDNBfDNDfDNFfDNEfDJGfDNGfDQwfDVCfDVEfDVFfDYwfDdCfDdEfDdDKS9nLCBkZWNvZGVVUklDb21wb25lbnQpO1xuXG5cdFx0XHRrZXkgPSBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGtleSkpXG5cdFx0XHRcdC5yZXBsYWNlKC8lKDIzfDI0fDI2fDJCfDVFfDYwfDdDKS9nLCBkZWNvZGVVUklDb21wb25lbnQpXG5cdFx0XHRcdC5yZXBsYWNlKC9bXFwoXFwpXS9nLCBlc2NhcGUpO1xuXG5cdFx0XHR2YXIgc3RyaW5naWZpZWRBdHRyaWJ1dGVzID0gJyc7XG5cdFx0XHRmb3IgKHZhciBhdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0aWYgKCFhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0c3RyaW5naWZpZWRBdHRyaWJ1dGVzICs9ICc7ICcgKyBhdHRyaWJ1dGVOYW1lO1xuXHRcdFx0XHRpZiAoYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ29uc2lkZXJzIFJGQyA2MjY1IHNlY3Rpb24gNS4yOlxuXHRcdFx0XHQvLyAuLi5cblx0XHRcdFx0Ly8gMy4gIElmIHRoZSByZW1haW5pbmcgdW5wYXJzZWQtYXR0cmlidXRlcyBjb250YWlucyBhICV4M0IgKFwiO1wiKVxuXHRcdFx0XHQvLyAgICAgY2hhcmFjdGVyOlxuXHRcdFx0XHQvLyBDb25zdW1lIHRoZSBjaGFyYWN0ZXJzIG9mIHRoZSB1bnBhcnNlZC1hdHRyaWJ1dGVzIHVwIHRvLFxuXHRcdFx0XHQvLyBub3QgaW5jbHVkaW5nLCB0aGUgZmlyc3QgJXgzQiAoXCI7XCIpIGNoYXJhY3Rlci5cblx0XHRcdFx0Ly8gLi4uXG5cdFx0XHRcdHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSAnPScgKyBhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdLnNwbGl0KCc7JylbMF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAoZG9jdW1lbnQuY29va2llID0ga2V5ICsgJz0nICsgdmFsdWUgKyBzdHJpbmdpZmllZEF0dHJpYnV0ZXMpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGdldCAoa2V5LCBqc29uKSB7XG5cdFx0XHRpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHZhciBqYXIgPSB7fTtcblx0XHRcdC8vIFRvIHByZXZlbnQgdGhlIGZvciBsb29wIGluIHRoZSBmaXJzdCBwbGFjZSBhc3NpZ24gYW4gZW1wdHkgYXJyYXlcblx0XHRcdC8vIGluIGNhc2UgdGhlcmUgYXJlIG5vIGNvb2tpZXMgYXQgYWxsLlxuXHRcdFx0dmFyIGNvb2tpZXMgPSBkb2N1bWVudC5jb29raWUgPyBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsgJykgOiBbXTtcblx0XHRcdHZhciBpID0gMDtcblxuXHRcdFx0Zm9yICg7IGkgPCBjb29raWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhciBwYXJ0cyA9IGNvb2tpZXNbaV0uc3BsaXQoJz0nKTtcblx0XHRcdFx0dmFyIGNvb2tpZSA9IHBhcnRzLnNsaWNlKDEpLmpvaW4oJz0nKTtcblxuXHRcdFx0XHRpZiAoIWpzb24gJiYgY29va2llLmNoYXJBdCgwKSA9PT0gJ1wiJykge1xuXHRcdFx0XHRcdGNvb2tpZSA9IGNvb2tpZS5zbGljZSgxLCAtMSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHZhciBuYW1lID0gZGVjb2RlKHBhcnRzWzBdKTtcblx0XHRcdFx0XHRjb29raWUgPSAoY29udmVydGVyLnJlYWQgfHwgY29udmVydGVyKShjb29raWUsIG5hbWUpIHx8XG5cdFx0XHRcdFx0XHRkZWNvZGUoY29va2llKTtcblxuXHRcdFx0XHRcdGlmIChqc29uKSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRjb29raWUgPSBKU09OLnBhcnNlKGNvb2tpZSk7XG5cdFx0XHRcdFx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGphcltuYW1lXSA9IGNvb2tpZTtcblxuXHRcdFx0XHRcdGlmIChrZXkgPT09IG5hbWUpIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAoZSkge31cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGtleSA/IGphcltrZXldIDogamFyO1xuXHRcdH1cblxuXHRcdGFwaS5zZXQgPSBzZXQ7XG5cdFx0YXBpLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdHJldHVybiBnZXQoa2V5LCBmYWxzZSAvKiByZWFkIGFzIHJhdyAqLyk7XG5cdFx0fTtcblx0XHRhcGkuZ2V0SlNPTiA9IGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdHJldHVybiBnZXQoa2V5LCB0cnVlIC8qIHJlYWQgYXMganNvbiAqLyk7XG5cdFx0fTtcblx0XHRhcGkucmVtb3ZlID0gZnVuY3Rpb24gKGtleSwgYXR0cmlidXRlcykge1xuXHRcdFx0c2V0KGtleSwgJycsIGV4dGVuZChhdHRyaWJ1dGVzLCB7XG5cdFx0XHRcdGV4cGlyZXM6IC0xXG5cdFx0XHR9KSk7XG5cdFx0fTtcblxuXHRcdGFwaS5kZWZhdWx0cyA9IHt9O1xuXG5cdFx0YXBpLndpdGhDb252ZXJ0ZXIgPSBpbml0O1xuXG5cdFx0cmV0dXJuIGFwaTtcblx0fVxuXG5cdHJldHVybiBpbml0KGZ1bmN0aW9uICgpIHt9KTtcbn0pKTtcbiIsInZhciBjb29raWUgPSByZXF1aXJlKCdqcy1jb29raWUnKVxuXG5jb25zdCBDQVJUX1NUT1JBR0VfS0VZID0gJ2NhcnQnO1xuXG4vLyBUT0RPIHJlbW92ZSBtb2NrIGRhdGFcbi8vIGNvbnN0IElOSVRJQUxfQ0FSVF9TVEFURSA9IHtcbi8vICAgICB2ZW5kb3I6IHtcbi8vICAgICAgICAgdmVuZG9yTmFtZTogJ0J1cmdlcnMgQWhveSEnLFxuLy8gICAgICAgICBkZWxpdmVyeVRpbWU6ICczMCAtIDQwIG1pbnMnXG4vLyAgICAgfSxcbi8vICAgICBpdGVtczogW1xuLy8gICAgICAgICB7XG4vLyAgICAgICAgICAgICBpdGVtTmFtZTogJ1RvbSBZdW1wIFNvdXAnLFxuLy8gICAgICAgICAgICAgaXRlbVByaWNlOiA0MDAsXG4vLyAgICAgICAgICAgICBxdWFudGl0eTogMSxcbi8vICAgICAgICAgICAgIG5vdGVzOiBcIkxlc3Mgc3BpY3lcIixcbi8vICAgICAgICAgfVxuLy8gICAgIF1cbi8vIH07XG5cbmNvbnN0IElOSVRJQUxfQ0FSVF9TVEFURSA9IE9iamVjdC5mcmVlemUoe1xuICAgIHZlbmRvcjoge1xuICAgIH0sXG4gICAgaXRlbXM6IFtcbiAgICBdLFxuICAgIHBheW1lbnRNZXRob2Q6ICdjYXNoJ1xufSk7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyBJTiBFQUNIIEZVTkNUSU9OLCBETyBOT1QgRk9SR0VUIFRPIFJFVFJJRVZFIFRIRSBDQVJUIElORk8gRlJPTSBMT0NBTCBTVE9SQUdFXG4gICAgLy8gQU5EIEFMU08gVE8gU0FWRSBJVCBBVCBUSEUgRU5EXG5cbiAgICByZXR1cm4ge1xuICAgICAgICAvLyB0aGlzIG9iamVjdCBpcyB0aGUgcHVibGljIEFQSSBhY2Nlc3NpYmxlIHRvIG90aGVyIG1vZHVsZXNcbiAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gZW1wdHkgY2FydCBhdCBpbml0aWFsaXphdGlvbiB3aXRoIG5vIHJlc3RhdXJhbnQgc2V0XG4gICAgICAgICAgICBpZiAoIWNvb2tpZS5nZXRKU09OKENBUlRfU1RPUkFHRV9LRVkpKSB7XG4gICAgICAgICAgICAgICAgY29va2llLnNldChDQVJUX1NUT1JBR0VfS0VZLCBJTklUSUFMX0NBUlRfU1RBVEUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzdW1tYXJ5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEpTT04gc3RydWN0dXJlIG9mIHN1bW1hcnlcbiAgICAgICAgICAgICAqIFxuICAgICAgICAgICAgICogaXRlbXM6IFtcbiAgICAgICAgICAgICAqICAgICAge1xuICAgICAgICAgICAgICogICAgICAgICAgaXRlbVRpdGxlOiBcIm5hbWUgb2YgdGhlIGl0ZW1cIixcbiAgICAgICAgICAgICAqICAgICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICAgICAgICogICAgICAgICAgaXRlbVByaWNlOiA0MDAsXG4gICAgICAgICAgICAgKiAgICAgIH1cbiAgICAgICAgICAgICAqIF1cbiAgICAgICAgICAgICAqIFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICByZXR1cm4gY29va2llLmdldEpTT04oQ0FSVF9TVE9SQUdFX0tFWSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZEl0ZW1Ub0NhcnQ6IGZ1bmN0aW9uICh7IHZlbmRvciwgaXRlbSB9KSB7XG4gICAgICAgICAgICBjb25zdCBjYXJ0ID0gY29va2llLmdldEpTT04oQ0FSVF9TVE9SQUdFX0tFWSk7XG5cbiAgICAgICAgICAgIC8vIGlmIHZlbmRvciBpcyBzZXRcbiAgICAgICAgICAgIGlmIChjYXJ0LnZlbmRvci52ZW5kb3JOYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgdXNlciBpcyB0eXJpbmcgdG8gYWRkIGl0ZW0gZnJvbSBzYW1lIHZlbmRvclxuICAgICAgICAgICAgICAgIGlmIChjYXJ0LnZlbmRvci52ZW5kb3JOYW1lID09PSB2ZW5kb3IudmVuZG9yTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgaXRlbSBhbmQgcmV0dXJuIHRydWUgZm9yIHN1Y2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgY2FydC5pdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBjb29raWUuc2V0KENBUlRfU1RPUkFHRV9LRVksIGNhcnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbHNlIHJldHVybiBmYWxzZSB3aXRoIGVycm9yIG1lc3NhZ2UgaW5kaWNhdGUgd2h5XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgWW91IG1heSBvbmx5IG9yZGVyIGl0ZW1zIGZyb20gb25lIHZlbmRvciBhdCBhIHRpbWUuIFxuICAgICAgICAgICAgICAgICAgICBZb3UgaGF2ZSBjdXJyZW50bHkgY2hvc2VuICR7Y2FydC52ZW5kb3IudmVuZG9yTmFtZX0uYFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgY2FydFxuICAgICAgICAgICAgICAgIC8vIFZFUlkgSU1QT1JUQU5UOiB1c2luZyBKU09OIHNlcmlhbGl6YXRpb24gZm9sbG93IHdpdGggSlNPTiBkZXNlcmlhbGl6YXRpb24gZm9yIGRlZXAgY29weVxuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSB0aGVyZSBpcyBhIGJ1ZyB3aGVyZSB3aGVuIHlvdSBhZGQgYSBuZXcgaXRlbSBhbmQgdHJ5IGNsZWFyaW5nIHRoZSBjYXJ0IGl0IHdvbid0IHdvcmssIFxuICAgICAgICAgICAgICAgIC8vIGJlY2F1c2UgdGhlIElOSVRJQUxfQ0FSVF9TVEFURSBvYmplY3QgaGFzIGdvdHRlbiB1cGRhdGVkIGJ5IGEgcmVmZXJlbmNlIHBhc3NlZCB0byBhbm90aGVyIG5hbWVkIHZhcmlhYmxlXG4gICAgICAgICAgICAgICAgLy8gUmVmZXIgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzYxNDIyMzMyLzc4MDM5NzUgZm9yIG1vcmVcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdDYXJ0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShJTklUSUFMX0NBUlRfU1RBVEUpKSAvLyBSZXNldCBjYXJ0XG4gICAgICAgICAgICAgICAgbmV3Q2FydC52ZW5kb3IgPSB2ZW5kb3I7IC8vIEluaXRpYWxpemUgdmVuZG9yIGRldGFpbHNcbiAgICAgICAgICAgICAgICBuZXdDYXJ0Lml0ZW1zLnB1c2goaXRlbSkgLy8gQWRkIGl0ZW0gdG8gY2FydFxuICAgICAgICAgICAgICAgIGNvb2tpZS5zZXQoQ0FSVF9TVE9SQUdFX0tFWSwgbmV3Q2FydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFyQ2FydDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NsZWFyaW5nIGNhcnQuLi4nKTtcbiAgICAgICAgICAgIGNvb2tpZS5zZXQoQ0FSVF9TVE9SQUdFX0tFWSwgSU5JVElBTF9DQVJUX1NUQVRFKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0UGF5bWVudE1ldGhvZDogZnVuY3Rpb24gKHBheW1lbnRNZXRob2QpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDYXJ0ID0gY29va2llLmdldEpTT04oQ0FSVF9TVE9SQUdFX0tFWSk7XG4gICAgICAgICAgICBjdXJyZW50Q2FydC5wYXltZW50TWV0aG9kID0gcGF5bWVudE1ldGhvZDtcbiAgICAgICAgICAgIGNvb2tpZS5zZXQoQ0FSVF9TVE9SQUdFX0tFWSwgY3VycmVudENhcnQpO1xuICAgICAgICB9XG4gICAgfVxufSgpIiwiLy8gY29uc3QgdXNlciA9IHJlcXVpcmUoJy4vdXNlcicpO1xuXG5jb25zdCBkYXRhID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgdmVuZG9yczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcInZlbmRvcklkXCI6IFwidjFcIixcbiAgICAgICAgICAgIFwidmVuZG9ySW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfbGlzdF92aWV3X2ltYWdlcy9idXJnZXJzX2Fob3V5LmpwZ1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JOYW1lXCI6IFwiQnVyZ2VycyBBaG91eSFcIixcbiAgICAgICAgICAgIFwidmVuZG9yQ2F0ZXJnb3JpZXNcIjogW1xuICAgICAgICAgICAgICAgIFwiQnVyZ2Vyc1wiLFxuICAgICAgICAgICAgICAgIFwiQW1lcmljYW5cIlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdWYWx1ZVwiOiA0LjYsXG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JOb09mUmF0aW5nc1wiOiAxMDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxvY2F0aW9uXCI6IFwiQ29sb21ibyAzXCIsXG4gICAgICAgICAgICBcImRlbGl2ZXJ5VGltZVwiOiBcIjI1LTMwIG1pbnNcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvdG9tX3l1bV9zb3VwLmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBcInYxaTFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtVGl0bGVcIjogXCJUb20gWXVtIFNvdXBcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogXCJQaWNrZWQgZnJvbSB0aGUgZnJlc2ggdmVnZXRhYmxlcyBhbmQgZmlzaCBmcm9tIHRoZSB3aXRoIHNwZWNpYWwgQ2hpY2tlbiBCcm90aC5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjYsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiA0N1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiA4MDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvY3Jpc3B5X2NoaWNrZW5fYnVyZ2VyLmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBcInYxaTJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtVGl0bGVcIjogXCJDcmlzcHkgQ2hpY2tlbiBCdXJnZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogXCJDcmlzcHksIENoaWNreSwgQ3Jpc3B5IENoaWNrZW4gQnVyZ2VyLiBJdOKAmXMgcHJldHR5IG11Y2ggc2VsZi1leHBsYW5hdG9yeS5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjAsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiAxMFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiA0NTBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvaGF3YWlpYW5fYnVyZ2VyLmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBcInYxaTNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtVGl0bGVcIjogXCJIYXdhaWlhbiBCdXJnZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogXCJZZXMhIFBpbmVhcHBsZXMgZ28gb24gYnVyZ2VycyB0b28uIERvbuKAmXQgbGV0IG90aGVycyB0ZWxsIHlvdSBvdGhlcndpc2UuXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nVmFsdWVcIjogNC44LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtTm9PZlJhdGluZ3NcIjogNDVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUHJpY2VcIjogNjAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ2ZW5kb3JJZFwiOiBcInYyXCIsXG4gICAgICAgICAgICBcInZlbmRvckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX2xpc3Rfdmlld19pbWFnZXMvcGl6emFfcGFscGF0aGEuanBnXCIsXG4gICAgICAgICAgICBcInZlbmRvck5hbWVcIjogXCJQaXp6YSBQYWxwYXRoYVwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDYXRlcmdvcmllc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJJdGFsaWFuXCIsXG4gICAgICAgICAgICAgICAgXCJBbWVyaWNhblwiLFxuICAgICAgICAgICAgICAgIFwiUGl6emFcIlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdWYWx1ZVwiOiA0LjgsXG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JOb09mUmF0aW5nc1wiOiA5OVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibG9jYXRpb25cIjogXCJDb2xvbWJvIDVcIixcbiAgICAgICAgICAgIFwiZGVsaXZlcnlUaW1lXCI6IFwiMTUtMjAgbWluc1wiLFxuICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9wYWdlX2ltYWdlcy9jaGVlc2VfbG92ZXJzX3BpenphLmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBcInYyaTFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtVGl0bGVcIjogXCJDaGVlc2UgTG92ZXJzIFBpenphXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbURlc2NyaXB0aW9uXCI6IFwiUmljaCB0b21hdG8gc2F1Y2Ugd2l0aCBhIHRyaXBsZSBsYXllciBvZiBtb3p6YXJlbGxhIGNoZWVzZS5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiA1NVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiA1MDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvY2hpY2tlbl9iYWNvbl9waXp6YS5qcGdcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSWRcIjogXCJ2MmkyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVRpdGxlXCI6IFwiQ2hpY2tlbiBCYWNvbiBQaXp6YVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIkNoaWNrZW4gYmFjb24sIG9uaW9ucyAmIGdyZWVuIGNoaWxsaWVzIHdpdGggYSBkb3VibGUgbGF5ZXIgb2YgbW96emFyZWxsYSBjaGVlc2UuXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nVmFsdWVcIjogNC45LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtTm9PZlJhdGluZ3NcIjogOTBcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUHJpY2VcIjogMzAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX3BhZ2VfaW1hZ2VzL2RldmlsbGVkX2NoaWNrZW5fcGl6emEuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjJpM1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIkRldmlsbGVkIENoaWNrZW4gUGl6emFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogXCJEZXZpbGxlZCBjaGlja2VuIGluIHNwaWN5IHNhdWNlIHdpdGggYSBkb3VibGUgbGF5ZXIgb2YgbW96emFyZWxsYSBjaGVlc2UuXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nVmFsdWVcIjogNC4xLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtTm9PZlJhdGluZ3NcIjogNzVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUHJpY2VcIjogNDcwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ2ZW5kb3JJZFwiOiBcInYzXCIsXG4gICAgICAgICAgICBcInZlbmRvckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX2xpc3Rfdmlld19pbWFnZXMvYmF0aHVpX3BvbF9zYW1ib2xhaS5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIkJhdGh1aSBQb2wgU2FtYm9sYWlcIixcbiAgICAgICAgICAgIFwidmVuZG9yQ2F0ZXJnb3JpZXNcIjogW1xuICAgICAgICAgICAgICAgIFwiUmljZVwiLFxuICAgICAgICAgICAgICAgIFwiU3JpIExhbmthblwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICBcInZlbmRvclJhdGluZ1ZhbHVlXCI6IDQuNSxcbiAgICAgICAgICAgICAgICBcInZlbmRvck5vT2ZSYXRpbmdzXCI6IDE1MFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibG9jYXRpb25cIjogXCJDb2xvbWJvIDdcIixcbiAgICAgICAgICAgIFwiZGVsaXZlcnlUaW1lXCI6IFwiNS0xMCBtaW5zXCIsXG4gICAgICAgICAgICBcIml0ZW1zXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX3BhZ2VfaW1hZ2VzL3ByYXduX2N1cnJ5X2FuZF9yaWNlLmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBcInYzaTFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtVGl0bGVcIjogXCJQcmF3biBDdXJyeSBhbmQgUmljZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIlByYXduIGN1cnJ5IHByZXBhcmVkIHRvIHNwZWNpYWwgR29hIHJlY2lwZSB3aXRoIHRoaWNrIGNvY29udXQgZ3JhdnkuXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nVmFsdWVcIjogNC4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtTm9PZlJhdGluZ3NcIjogMjFcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUHJpY2VcIjogNTc1XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX3BhZ2VfaW1hZ2VzL2Zpc2hfcmljZV9hbmRfY3VycnkuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjNpMlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIkZpc2ggUmljZSBhbmQgQ3VycnlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogXCJUaGFsYXBhdGggRmlzaCwgNCBjdXJyaWVzIGFuZCBwYXBhZGFtIGVuaHJpY2hlZCB3aXRoIHRoZSBTcmkgTGFua2FuIHRhc3RlLlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ1ZhbHVlXCI6IDQuMixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbU5vT2ZSYXRpbmdzXCI6IDIxXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVByaWNlXCI6IDU3NVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9wYWdlX2ltYWdlcy9jaGlja2VuX3JpY2VfYW5kX2N1cnJ5LmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBcInYzaTNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtVGl0bGVcIjogXCJDaGlja2VuIFJpY2UgYW5kIEN1cnJ5XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbURlc2NyaXB0aW9uXCI6IFwiV2l0aCA0IGN1cnJpZXMgYW5kIHBhcGFkYW0gbWl4ZWQgd2l0aCBTcmkgTGFua2FuIHNwaWNlcy5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjQsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiA2NVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiAzNTBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ2ZW5kb3JJZFwiOiBcInY0XCIsXG4gICAgICAgICAgICBcInZlbmRvckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX2xpc3Rfdmlld19pbWFnZXMvdGhlX2ltcGFzdGEuanBnXCIsXG4gICAgICAgICAgICBcInZlbmRvck5hbWVcIjogXCJUaGUgSW1wYXN0YVwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDYXRlcmdvcmllc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJQYXN0YVwiLFxuICAgICAgICAgICAgICAgIFwiSXRhbGlhblwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICBcInZlbmRvclJhdGluZ1ZhbHVlXCI6IDQuMSxcbiAgICAgICAgICAgICAgICBcInZlbmRvck5vT2ZSYXRpbmdzXCI6IDgyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsb2NhdGlvblwiOiBcIkNvbG9tYm8gMVwiLFxuICAgICAgICAgICAgXCJkZWxpdmVyeVRpbWVcIjogXCIyNS00MCBtaW5zXCIsXG4gICAgICAgICAgICBcIml0ZW1zXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX3BhZ2VfaW1hZ2VzL2JydXNjaGV0dGFfcGFzdGEuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjRpMVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIkJydXNoY2V0dGEgUGFzdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogXCJUaGlzIEJydXNjaGV0dGEgUGFzdGEgd2l0aCBmcmVzaCB0b21hdG9lcywgYmFzaWwsIGdhcmxpYywgYW5kIG9saXZlIG9pbC5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjAsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiAxMFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiAzNzVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvY2hlZXNlX3Bhc3RhLmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBcInY0aTJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtVGl0bGVcIjogXCJDaGVlc2UgUGFzdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogXCJKdXN0IHJlbWVtYmVyIHRoYXQgYSBzaW5nbGUgaXMgYSBkb3VibGUgYW5kIGEgZG91YmxlIGlzIGEgdHJpcGxlIGF0IENoaWNhZ2/igJlzIEF1IENoZXZhbC5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjcsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiAyMVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiAyMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvY3JlYW15X3RvbWF0b19hbmRfc3BpbmFjaF9wYXN0YS5qcGdcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSWRcIjogXCJ2NGkzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVRpdGxlXCI6IFwiQ3JlYW15IFRvbWF0byBhbmQgU3BpbmFjaCBQYXN0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIldpdGggc3BlY2lhbCBwZXN0byBzYXVjZSBhbmQgbW96emFyZWxsYSBjaGVlc2UuXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nVmFsdWVcIjogMy41LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtTm9PZlJhdGluZ3NcIjogMTVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUHJpY2VcIjogMjMwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidmVuZG9ySWRcIjogXCJ2NVwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JJbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9saXN0X3ZpZXdfaW1hZ2VzL3RoYWlfdGFuaWMuanBnXCIsXG4gICAgICAgICAgICBcInZlbmRvck5hbWVcIjogXCJUaGFpIFRhbmljXCIsXG4gICAgICAgICAgICBcInZlbmRvckNhdGVyZ29yaWVzXCI6IFtcbiAgICAgICAgICAgICAgICBcIlNvdXBcIixcbiAgICAgICAgICAgICAgICBcIlNhbGFkXCIsXG4gICAgICAgICAgICAgICAgXCJUaGFpXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInZlbmRvclJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nVmFsdWVcIjogNC45LFxuICAgICAgICAgICAgICAgIFwidmVuZG9yTm9PZlJhdGluZ3NcIjogMjlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxvY2F0aW9uXCI6IFwiQ29sb21ibyAxXCIsXG4gICAgICAgICAgICBcImRlbGl2ZXJ5VGltZVwiOiBcIjIwLTM1IG1pbnNcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInZlbmRvcklkXCI6IFwidjZcIixcbiAgICAgICAgICAgIFwidmVuZG9ySW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfbGlzdF92aWV3X2ltYWdlcy9waXRhX3Bhbi5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIlBpdGEgUGFuXCIsXG4gICAgICAgICAgICBcInZlbmRvckNhdGVyZ29yaWVzXCI6IFtcbiAgICAgICAgICAgICAgICBcIkJ1cmdlcnNcIixcbiAgICAgICAgICAgICAgICBcIk1lZGl0ZXJyZW5lYW5cIixcbiAgICAgICAgICAgICAgICBcIlRoYWlcIlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdWYWx1ZVwiOiA0LjMsXG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JOb09mUmF0aW5nc1wiOiAxMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibG9jYXRpb25cIjogXCJDb2xvbWJvIDFcIixcbiAgICAgICAgICAgIFwiZGVsaXZlcnlUaW1lXCI6IFwiMTItMTUgbWluc1wiLFxuICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG5cbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidmVuZG9ySWRcIjogXCJ2N1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JJbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9saXN0X3ZpZXdfaW1hZ2VzL2hvcHBlcnNfYW5kX2JldHJheWFscy5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIkhvcHBlcnMgYW5kIEJldHJheWFsc1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDYXRlcmdvcmllc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJIb3BwZXJzXCIsXG4gICAgICAgICAgICAgICAgXCJTcmkgTGFua2FuXCIsXG4gICAgICAgICAgICAgICAgXCJJbmRpYW5cIlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdWYWx1ZVwiOiAzLjksXG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JOb09mUmF0aW5nc1wiOiA4NFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibG9jYXRpb25cIjogXCJDb2xvbWJvIDFcIixcbiAgICAgICAgICAgIFwiZGVsaXZlcnlUaW1lXCI6IFwiMjItMzUgbWluc1wiLFxuICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG5cbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidmVuZG9ySWRcIjogXCJ2OFwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JJbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9saXN0X3ZpZXdfaW1hZ2VzL2N1dGllX3BpZXNfYW5kX2N1cGNha2VzLmpwZ1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JOYW1lXCI6IFwiQ3V0aWUgUGllcyBhbmQgQ3VwY2FrZXNcIixcbiAgICAgICAgICAgIFwidmVuZG9yQ2F0ZXJnb3JpZXNcIjogW1xuICAgICAgICAgICAgICAgIFwiQ3VwY2FrZXNcIixcbiAgICAgICAgICAgICAgICBcIlN3ZWV0XCIsXG4gICAgICAgICAgICAgICAgXCJTb3VyXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInZlbmRvclJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nVmFsdWVcIjogNC40LFxuICAgICAgICAgICAgICAgIFwidmVuZG9yTm9PZlJhdGluZ3NcIjogOTdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxvY2F0aW9uXCI6IFwiQ29sb21ibyAxXCIsXG4gICAgICAgICAgICBcImRlbGl2ZXJ5VGltZVwiOiBcIjM1LTUwIG1pbnNcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInZlbmRvcklkXCI6IFwidjlcIixcbiAgICAgICAgICAgIFwidmVuZG9ySW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfbGlzdF92aWV3X2ltYWdlcy90aWtrYS1rX2ludGEuanBnXCIsXG4gICAgICAgICAgICBcInZlbmRvck5hbWVcIjogXCJUaWtrYS1rIEludGFcIixcbiAgICAgICAgICAgIFwidmVuZG9yQ2F0ZXJnb3JpZXNcIjogW1xuICAgICAgICAgICAgICAgIFwiUGFyYXRoYVwiLFxuICAgICAgICAgICAgICAgIFwiSW5kaWFuXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInZlbmRvclJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nVmFsdWVcIjogNC45LFxuICAgICAgICAgICAgICAgIFwidmVuZG9yTm9PZlJhdGluZ3NcIjogMjAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsb2NhdGlvblwiOiBcIkNvbG9tYm8gMVwiLFxuICAgICAgICAgICAgXCJkZWxpdmVyeVRpbWVcIjogXCI0MC00NSBtaW5zXCIsXG4gICAgICAgICAgICBcIml0ZW1zXCI6IFtcblxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ2ZW5kb3JJZFwiOiBcInYxMFwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JJbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9saXN0X3ZpZXdfaW1hZ2VzL3RoZV9jb2RmYXRoZXIuanBnXCIsXG4gICAgICAgICAgICBcInZlbmRvck5hbWVcIjogXCJUaGUgQ29kZmF0aGVyXCIsXG4gICAgICAgICAgICBcInZlbmRvckNhdGVyZ29yaWVzXCI6IFtcbiAgICAgICAgICAgICAgICBcIkNoaXBzXCIsXG4gICAgICAgICAgICAgICAgXCJGcmllZCBGaXNoXCIsXG4gICAgICAgICAgICAgICAgXCJBbWVyaWNhblwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICBcInZlbmRvclJhdGluZ1ZhbHVlXCI6IDMuNSxcbiAgICAgICAgICAgICAgICBcInZlbmRvck5vT2ZSYXRpbmdzXCI6IDczXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsb2NhdGlvblwiOiBcIkNvbG9tYm8gMVwiLFxuICAgICAgICAgICAgXCJkZWxpdmVyeVRpbWVcIjogXCI1LTE1IG1pbnNcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInZlbmRvcklkXCI6IFwidjExXCIsXG4gICAgICAgICAgICBcInZlbmRvckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX2xpc3Rfdmlld19pbWFnZXMvdGhlX3RpcHN5X2Nvdy5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIlRoZSBUaXBzeSBDb3dcIixcbiAgICAgICAgICAgIFwidmVuZG9yQ2F0ZXJnb3JpZXNcIjogW1xuICAgICAgICAgICAgICAgIFwiQ29ja3RhaWxzXCIsXG4gICAgICAgICAgICAgICAgXCJTbW9vdGhpZXNcIixcbiAgICAgICAgICAgICAgICBcIkp1aWNlXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInZlbmRvclJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nVmFsdWVcIjogNS4wLFxuICAgICAgICAgICAgICAgIFwidmVuZG9yTm9PZlJhdGluZ3NcIjogNTVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxvY2F0aW9uXCI6IFwiQ29sb21ibyAxXCIsXG4gICAgICAgICAgICBcImRlbGl2ZXJ5VGltZVwiOiBcIjEwLTMwIG1pbnNcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInZlbmRvcklkXCI6IFwidjEyXCIsXG4gICAgICAgICAgICBcInZlbmRvckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX2xpc3Rfdmlld19pbWFnZXMvdGhlX2RhaXJ5X2dvZG1vdGhlci5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIlRoZSBEYWlyeSBHb2Rtb3RoZXJcIixcbiAgICAgICAgICAgIFwidmVuZG9yQ2F0ZXJnb3JpZXNcIjogW1xuICAgICAgICAgICAgICAgIFwiRGFpcnlcIixcbiAgICAgICAgICAgICAgICBcIk1pbGtcIixcbiAgICAgICAgICAgICAgICBcIlNtb290aGllc1wiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICBcInZlbmRvclJhdGluZ1ZhbHVlXCI6IDQuMCxcbiAgICAgICAgICAgICAgICBcInZlbmRvck5vT2ZSYXRpbmdzXCI6IDY3XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsb2NhdGlvblwiOiBcIkNvbG9tYm8gMVwiLFxuICAgICAgICAgICAgXCJkZWxpdmVyeVRpbWVcIjogXCIyMC01MCBtaW5zXCIsXG4gICAgICAgICAgICBcIml0ZW1zXCI6IFtcblxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICBdLFxuICAgIGxlYWRlcmJvYXJkOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwiSWhhbiBMZWx3YWxhXCIsXG4gICAgICAgICAgICBwb2ludHM6IDI1MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcIlZpbnVsYSBVdGhzYXJhXCIsXG4gICAgICAgICAgICBwb2ludHM6IDMwMFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcIlRoZW51a2EgUGVyZXJhXCIsXG4gICAgICAgICAgICBwb2ludHM6IDI2MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcIkRlc2hhbiBLb3N3YXR0ZVwiLFxuICAgICAgICAgICAgcG9pbnRzOiAyODBcbiAgICAgICAgfSxcbiAgICBdXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0QWxsVmVuZG9yczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudmVuZG9ycztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U3BlY2lmaWNWZW5kb3I6IGZ1bmN0aW9uICh2ZW5kb3JJZCkge1xuICAgICAgICAgICAgLy8gcmV0dXJucyB2ZW5kb3IgZGV0YWlscyBmb3IgcHJvdmlkZWQgdmVuZG9ySWRcbiAgICAgICAgICAgIGNvbnN0IHZlbmRvciA9IGRhdGEudmVuZG9ycy5maW5kKHZlbmRvciA9PiB2ZW5kb3IudmVuZG9ySWQgPT09IHZlbmRvcklkKTtcbiAgICAgICAgICAgIHJldHVybiB2ZW5kb3I7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFNwZWNpZmljSXRlbTogZnVuY3Rpb24gKGl0ZW1JZCkge1xuICAgICAgICAgICAgLy8gcmV0dXJuIGl0ZW0gZGV0YWlscyBmb3IgcHJvdmlkZWQgaXRlbUlkXG4gICAgICAgICAgICBjb25zdCBhbGxWZW5kb3JzSXRlbXMgPSBkYXRhLnZlbmRvcnMuZmxhdE1hcCh2ZW5kb3IgPT4gdmVuZG9yLml0ZW1zKVxuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGFsbFZlbmRvcnNJdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5pdGVtSWQgPT09IGl0ZW1JZCk7XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0VmVuZG9ySWRGcm9tVmVuZG9yTmFtZTogZnVuY3Rpb24gKHZlbmRvck5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHZlbmRvciA9IGRhdGEudmVuZG9ycy5maW5kKHZlbmRvciA9PiB2ZW5kb3IudmVuZG9yTmFtZSA9PT0gdmVuZG9yTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gdmVuZG9yLnZlbmRvcklkO1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVWZW5kb3JBbmRJdGVtUmF0aW5nczogZnVuY3Rpb24gKHZlbmRvcklkLCB2ZW5kb3JSYXRpbmcsIGl0ZW1UaXRsZXMsIHJhdGluZ3MpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZXMgdGhlIHZlbmRvciByYXRpbmdzIGFuZCBpdGVtIHJhdGluZ3MgYWNjb3JkaW5nbHkuXG5cbiAgICAgICAgICAgIC8vIFJldHJpZXZlIHRoZSB2ZW5kb3IgdXNpbmcgdGhlIHZlbmRvciBJZCBzbyB0aGF0IGl0IGNhbiBiZSB1cGRhdGVkLlxuICAgICAgICAgICAgY29uc3QgdmVuZG9yID0gZGF0YS52ZW5kb3JzLmZpbmQodmVuZG9yID0+IHZlbmRvci52ZW5kb3JJZCA9PT0gdmVuZG9ySWQpO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHZlbmRvciByYXRpbmdzIGFuZCBpbmNyZWFzZSB0aGUgY291bnQgb2Ygbm86IG9mIHJhdGVkIHBlb3BsZS5cbiAgICAgICAgICAgIHZlbmRvci52ZW5kb3JSYXRpbmdzLnZlbmRvclJhdGluZ1ZhbHVlID0gKHBhcnNlRmxvYXQodmVuZG9yLnZlbmRvclJhdGluZ3MudmVuZG9yUmF0aW5nVmFsdWUgKiB2ZW5kb3IudmVuZG9yUmF0aW5ncy52ZW5kb3JOb09mUmF0aW5ncykgKyBwYXJzZUZsb2F0KHZlbmRvclJhdGluZykpIC8gKHZlbmRvci52ZW5kb3JSYXRpbmdzLnZlbmRvck5vT2ZSYXRpbmdzICsgMSk7XG4gICAgICAgICAgICB2ZW5kb3IudmVuZG9yUmF0aW5ncy52ZW5kb3JOb09mUmF0aW5ncyA9IHZlbmRvci52ZW5kb3JSYXRpbmdzLnZlbmRvck5vT2ZSYXRpbmdzICsgMTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSByYXRpbmdzIG9mIHRoZSB2ZW5kb3IncyBpdGVtcy5cbiAgICAgICAgICAgIHZhciB1cGRhdGVkVmVuZG9yQW5kSXRlbVJhdGluZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbVRpdGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZlbmRvci5pdGVtcy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBpZiB0aGUgaXRlbSBuYW1lcyBtYXRjaC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uaXRlbVRpdGxlLnJlcGxhY2UoL1xccy9nLCBcIlwiKSA9PT0gaXRlbVRpdGxlc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFZlbmRvckFuZEl0ZW1SYXRpbmdzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbUltYWdlTG9jYXRpb25cIjogaXRlbS5pdGVtSW1hZ2VMb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBpdGVtLml0ZW1JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBpdGVtLml0ZW1UaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBpdGVtLml0ZW1EZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nVmFsdWVcIjogKHBhcnNlRmxvYXQoaXRlbS5pdGVtUmF0aW5ncy5pdGVtUmF0aW5nVmFsdWUgKiBpdGVtLml0ZW1SYXRpbmdzLml0ZW1Ob09mUmF0aW5ncykgKyBwYXJzZUZsb2F0KHJhdGluZ3NbaV0pKSAvIChpdGVtLml0ZW1SYXRpbmdzLml0ZW1Ob09mUmF0aW5ncyArIDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiBpdGVtLml0ZW1SYXRpbmdzLml0ZW1Ob09mUmF0aW5ncyArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVByaWNlXCI6IGl0ZW0uaXRlbVByaWNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVsc2UgY2hlY2sgaWYgdGhlIGl0ZW0gaXMgYWxyZWFkeSB0aGVyZSBhbmQgYWRkIGl0IGlmIGl0IGlzIG5vdCB0aGVyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkVmVuZG9yQW5kSXRlbVJhdGluZ3MuZmluZCh1cGRhdGVkSXRlbSA9PiB1cGRhdGVkSXRlbS5pdGVtSWQgPT09IGl0ZW0uaXRlbUlkKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFZlbmRvckFuZEl0ZW1SYXRpbmdzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1JbWFnZUxvY2F0aW9uXCI6IGl0ZW0uaXRlbUltYWdlTG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IGl0ZW0uaXRlbUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBpdGVtLml0ZW1UaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogaXRlbS5pdGVtRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nVmFsdWVcIjogaXRlbS5pdGVtUmF0aW5ncy5pdGVtUmF0aW5nVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiBpdGVtLml0ZW1SYXRpbmdzLml0ZW1Ob09mUmF0aW5nc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiBpdGVtLml0ZW1QcmljZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2ZW5kb3IuaXRlbXMgPSB1cGRhdGVkVmVuZG9yQW5kSXRlbVJhdGluZ3M7XG5cbiAgICAgICAgICAgIC8vIENIZWNrIGlmIHRoZSB1cGRhdGUgd2FzIHN1Y2Nlc3NmdWxsLlxuICAgICAgICAgICAgdmFyIHRlc3QgPSBkYXRhLnZlbmRvcnMuZmluZCh2ZW5kb3IgPT4gdmVuZG9yLnZlbmRvcklkID09PSB2ZW5kb3JJZCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVwZGF0ZWQgVmVuZG9yOlwiLCB0ZXN0KTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0TGVhZGVyYm9hcmQ6IGZ1bmN0aW9uICh7IHBvaW50cyB9KSB7XG4gICAgICAgICAgICBjb25zdCBsb2dnZWRJblVzZXIgPSB7IG5hbWU6IFwiWW91XCIsIHBvaW50cyB9O1xuICAgICAgICAgICAgY29uc3QgbGVhZGVyYm9hcmRXaXRoTG9nZ2VkSW5Vc2VyID0gWy4uLmRhdGEubGVhZGVyYm9hcmQsIGxvZ2dlZEluVXNlcl07XG4gICAgICAgICAgICByZXR1cm4gbGVhZGVyYm9hcmRXaXRoTG9nZ2VkSW5Vc2VyLnNvcnQoKHVzZXIxLCB1c2VyMikgPT4gdXNlcjIucG9pbnRzIC0gdXNlcjEucG9pbnRzKVxuICAgICAgICB9XG4gICAgfVxufSgpIiwidmFyICQgPSByZXF1aXJlKCdqcXVlcnknKVxuJC5tb2JpbGUgPSByZXF1aXJlKCdqcXVlcnktbW9iaWxlJylcblxudmFyIGNhcnQgPSByZXF1aXJlKCcuL2NhcnQnKTtcbmNhcnQuaW5pdCgpO1xuXG52YXIgdXNlciA9IHJlcXVpcmUoJy4vdXNlcicpXG51c2VyLmluaXQoKTtcblxudmFyIGRhdGFzdG9yZSA9IHJlcXVpcmUoJy4vZGF0YXN0b3JlJylcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpXG5cbnZhciBwYXltZW50ID0gcmVxdWlyZSgnLi9wYXltZW50JylcblxudmFyIHZlbmRvcmxpc3QgPSByZXF1aXJlKCcuL3ZlbmRvcmxpc3QnKVxuXG52YXIgc3RyaXBlID0gcmVxdWlyZSgnQHN0cmlwZS9zdHJpcGUtanMnKTtcblxudmFyIGVtYWlsanMgPSByZXF1aXJlKCdlbWFpbGpzLWNvbScpO1xuZW1haWxqcy5pbml0KCd1c2VyXzlxSG1mVUNocUJLVDJTTmdoUTF2MScpO1xuXG53aW5kb3cuYXBwID0ge1xuICAgIGNhcnQsXG4gICAgdXNlcixcbiAgICBkYXRhc3RvcmUsXG4gICAgdXRpbHMsXG4gICAgcGF5bWVudCxcbiAgICBzdHJpcGUsXG4gICAgdmVuZG9ybGlzdCxcbiAgICBlbWFpbGpzXG59XG5cbi8qKlxuICogUmVtb3ZlIGZvbGxvd2luZyBzY3JpcHRzIChhdHRhY2hlZCB0byB0aGUgd2luZG93KSBiZWZvcmUgaGlkaW5nIHRoZSBjdXJyZW50IHBhZ2UgdG8gbG9hZCB0aGUgbmV4dC5cbiAqIFNpbmNlIHdlIGFyZSB1c2luZyBBSkFYIG5hdmlnYXRpb24gYmV0d2VlbiB0aGUgcGFnZXMsIHRoZXNlIHNjcmlwdHMgd2lsbCB0aHJvd24gdXMgYW4gZXJyb3IgXG4gKiBpbmRpY2F0aW5nIHRoYXQgd2UgYXJlIHRyeWluZyB0byBsb2FkIHRoZSBzY3JpcHRzIG11bHRwbGUgdGltZXMuXG4gKiBUaGUgY29kZSBnaXZlbiBiZWxvdyBwcmV2ZW50cyB0aGF0IGlzc3VlIGJ5IHJlc2V0dGluZyB0aGUgc291cmNlIGNvZGUgc2V0IG9uIHRoZSB3aW5kb3dcbiAqIGVhY2ggdGltZSB0aGUgcmVzcGVjdGl2ZSBzY3JpcHQgaXMgbG9hZGVkLlxuICovXG4kKGRvY3VtZW50KS5vbihcInBhZ2Vjb250YWluZXJiZWZvcmVoaWRlXCIsIGZ1bmN0aW9uIChldmVudCwgdWkpIHtcbiAgICBjb25zb2xlLmxvZygnUGFnZSBnb2luZyB0byBoaWRlIC4uLiByZW1vdmluZyBHb29nbGUgTWFwcyBzY3JpcHRzJylcbiAgICB3aW5kb3cuZ29vZ2xlID0gdW5kZWZpbmVkO1xuICAgIHdpbmRvdy5TdHJpcGUgPSB1bmRlZmluZWQ7XG59KVxuXG5jb25zdCBzY3JlZW5EaW1lbnMgPSB7XG4gICAgaVBhZDogMTAyNFxufVxuXG5jb25zdCBuYXZpZ2F0aW9uUGFuZWxCbG9ja2VkU2NyZWVucyA9IFtcImxhbmRpbmdcIiwgXCJ2ZW5kb3Itc3Rvcmllc1wiLCBcInZlbmRvci1yYXRpbmdcIiwgXCJpdGVtLXJhdGluZ1wiLFxuICAgIFwib3JkZXItaW4tcHJvZ3Jlc3MtcGFnZVwiLCBcImRlbGl2ZXJ5LWluLXByb2dyZXNzLXBhZ2VcIl07XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBvcGVucyB0aGUgbmF2aWdhdGlvbiBwYW5lbCBwcm9ncmFtYXRpY2FsbHlcbiAqIGlmIHRoZSBzY3JlZW4gd2lkdGggaXMgYWJvdmUgdGhlIHNwZWNpZmllZCBzaXplXG4gKiBcbiAqIFJlZmVyIGh0dHBzOi8vZm9ydW0uanF1ZXJ5LmNvbS90b3BpYy9yZXNwb25zaXZlLXBhbmVsLWRlbW8tYnJva2VuLWhvdy10by1rZWVwLWEtcGFuZWwtb3Blbi1vbi1hLWxhcmdlLXdpbmRvd1xuICovXG5jb25zdCBldmFsdWF0ZVBhbmVsT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgd2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcbiAgICBpZiAod2lkdGggPj0gc2NyZWVuRGltZW5zLmlQYWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ09wZW5pbmcgbmF2aWdhdGlvbiBwYW5lbCcpO1xuICAgICAgICAkKFwiI25hdmlnYXRpb24tbWVudVwiKS5wYW5lbChcIm9wZW5cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgJChcIiNuYXZpZ2F0aW9uLW1lbnVcIikucGFuZWwoXCJjbG9zZVwiKTtcbiAgICB9XG59XG5cbi8qKlxuICogaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9kZW1vcy5qcXVlcnltb2JpbGUuY29tL2Jsb2IvbWFzdGVyLzEuNC41L3BhbmVsLWV4dGVybmFsL2luZGV4Lmh0bWxcbiAqL1xuJChkb2N1bWVudCkub24oXCJwYWdlY29udGFpbmVyY3JlYXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkLmdldChcIm5hdmlnYXRpb25fc2lkZV9iYXIuaHRtbFwiLCBmdW5jdGlvbiAobWFya3VwKSB7XG4gICAgICAgIC8vIEFkZCB0aGUgcGFuZWwgdG8gdGhlIGJvZHlcbiAgICAgICAgJCgnYm9keScpLmFwcGVuZChtYXJrdXApO1xuXG4gICAgICAgIC8vIE1hbnVhbGx5IGluaXRpYWxpemUgdGhlIHBhbmVsXG4gICAgICAgICQoXCJib2R5PltkYXRhLXJvbGU9J3BhbmVsJ11cIikuZW5oYW5jZVdpdGhpbigpLnBhbmVsKCk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVBhZ2UgPSAkKFwiOm1vYmlsZS1wYWdlY29udGFpbmVyXCIpLnBhZ2Vjb250YWluZXIoXCJnZXRBY3RpdmVQYWdlXCIpWzBdO1xuICAgICAgICBjb25zdCBzaG91bGRTaG93UGFuZWwgPSAhbmF2aWdhdGlvblBhbmVsQmxvY2tlZFNjcmVlbnMuaW5jbHVkZXMoYWN0aXZlUGFnZS5pZCk7XG4gICAgICAgIGlmIChzaG91bGRTaG93UGFuZWwpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGFnYWluIHdoZW4gd2UgbmF2aWdhdGUgdG8gYW5vdGhlciBwYWdlXG4gICAgICAgICAgICBldmFsdWF0ZVBhbmVsT3BlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCgnYm9keScpLm9uKFwicGFnZWNvbnRhaW5lcmNoYW5nZVwiLCBmdW5jdGlvbiAoZXZlbnQsIHVpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5hdmlnYXRpbmcgdG8gcGFnZTpcIiwgdWkudG9QYWdlWzBdLmlkKTtcbiAgICAgICAgICAgIGlmICghbmF2aWdhdGlvblBhbmVsQmxvY2tlZFNjcmVlbnMuaW5jbHVkZXModWkudG9QYWdlWzBdLmlkKSkge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGFnYWluIHdoZW4gd2UgbmF2aWdhdGUgdG8gYW5vdGhlciBwYWdlXG4gICAgICAgICAgICAgICAgZXZhbHVhdGVQYW5lbE9wZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICAkKHdpbmRvdykub24oXCJyZXNpemVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgYWdhaW4gd2hlbiB0aGUgd2luZG93IGdldHMgcmVzaXplZCAobWF5YmUgZHVlIHRvIGNoYW5nZSBpbiBzY3JlZW4gb3JpZW50YXRpb24pXG4gICAgICAgICAgICBjb25zdCBhY3RpdmVQYWdlID0gJChcIjptb2JpbGUtcGFnZWNvbnRhaW5lclwiKS5wYWdlY29udGFpbmVyKFwiZ2V0QWN0aXZlUGFnZVwiKVswXTtcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZFNob3dQYW5lbCA9ICFuYXZpZ2F0aW9uUGFuZWxCbG9ja2VkU2NyZWVucy5pbmNsdWRlcyhhY3RpdmVQYWdlLmlkKTtcbiAgICAgICAgICAgIGlmIChzaG91bGRTaG93UGFuZWwpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBhZ2FpbiB3aGVuIHdlIG5hdmlnYXRlIHRvIGFub3RoZXIgcGFnZVxuICAgICAgICAgICAgICAgIGV2YWx1YXRlUGFuZWxPcGVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSlcbn0pXG4iLCJjb25zdCAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5cbmNvbnN0IFNFQ1JFVF9LRVkgPSAnc2tfdGVzdF81MUkzYzhXQllzWGdSWGc0c3VJUzZXQ1JNTWNmTXNOZ29wV29renVxaUtYU282cG1WWDAweklrN1VwNnVrZGpaTEVZNllmcGNsSjFsQVVDQktwbDZZNGZlNjAwQ2ZORTU4NFAnO1xuXG5jb25zdCBwb3N0VG9TdHJpcGVBUEkgPSBmdW5jdGlvbiAoeyB1cmwsIGRhdGEsIHN1Y2Nlc3MsIGVycm9yIH0pIHtcbiAgICByZXR1cm4gJC5hamF4KHtcbiAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24gKHhocikge1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7U0VDUkVUX0tFWX1gKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vYXBpLnN0cmlwZS5jb20vdjEvXCIgKyB1cmwsXG4gICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICBkYXRhLFxuICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgIHN1Y2Nlc3MsXG4gICAgICAgIGVycm9yLFxuICAgIH0pXG59XG5cbmNvbnN0IGdldEZyb21TdHJpcGVBUEkgPSBmdW5jdGlvbiAoeyB1cmwsIHF1ZXJ5UGFyYW1zLCBzdWNjZXNzLCBlcnJvciB9KSB7XG4gICAgcmV0dXJuICQuYWpheCh7XG4gICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICh4aHIpIHtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke1NFQ1JFVF9LRVl9YCk7XG4gICAgICAgIH0sXG4gICAgICAgIHVybDogXCJodHRwczovL2FwaS5zdHJpcGUuY29tL3YxL1wiICsgdXJsLFxuICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICBkYXRhOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICBzdWNjZXNzLFxuICAgICAgICBlcnJvcixcbiAgICB9KVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGVTZXNzaW9uVG9TYXZlQ2FyZERldGFpbHM6IGZ1bmN0aW9uIChvcHRpb25zLCBzdWNjZXNzLCBlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHBvc3RUb1N0cmlwZUFQSSh7XG4gICAgICAgICAgICAgICAgdXJsOiAnY2hlY2tvdXQvc2Vzc2lvbnMnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bWVudF9tZXRob2RfdHlwZXM6IFsnY2FyZCddLFxuICAgICAgICAgICAgICAgICAgICBtb2RlOiAnc2V0dXAnLCAvLyBvbmx5IHNldHVwIHRoZSBwYXltZW50IG1ldGhvZCwgd2l0aG91dCBjaGFyZ2luZyBhbnkgaW5pdGlhbCBwYXltZW50XG4gICAgICAgICAgICAgICAgICAgIC4uLm9wdGlvbnNcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIGdldEFsbENhcmRzRm9yQ3VzdG9tZXI6IGZ1bmN0aW9uIChzdWNjZXNzLCBlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgbG9nZ2VkSW5Vc2VyID0gcmVxdWlyZSgnLi91c2VyJykuZ2V0UGF5bWVudERldGFpbHMoKTtcblxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfbWV0aG9kcy9saXN0P2xhbmc9Y3VybFxuICAgICAgICAgICAgcmV0dXJuIGdldEZyb21TdHJpcGVBUEkoe1xuICAgICAgICAgICAgICAgIHVybDogJ3BheW1lbnRfbWV0aG9kcycsXG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXI6IGxvZ2dlZEluVXNlci5zdHJpcGVfY3VzdG9tZXJfaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjYXJkJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzcyxcbiAgICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZUNhcmQ6IGZ1bmN0aW9uIChjYXJkSWQsIHN1Y2Nlc3MsIGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gcG9zdFRvU3RyaXBlQVBJKHtcbiAgICAgICAgICAgICAgICB1cmw6IGBwYXltZW50X21ldGhvZHMvJHtjYXJkSWR9L2RldGFjaGAsXG4gICAgICAgICAgICAgICAgc3VjY2VzcyxcbiAgICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZUNoZWNrb3V0U2Vzc2lvbihvcHRpb25zLCBzdWNjZXNzLCBlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgbG9nZ2VkSW5Vc2VyID0gcmVxdWlyZSgnLi91c2VyJykuZ2V0UGF5bWVudERldGFpbHMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHBvc3RUb1N0cmlwZUFQSSh7XG4gICAgICAgICAgICAgICAgdXJsOiAnY2hlY2tvdXQvc2Vzc2lvbnMnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjdXN0b21lcjogbG9nZ2VkSW5Vc2VyLnN0cmlwZV9jdXN0b21lcl9pZCxcbiAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxufSgpIiwiY29uc3QgY29va2llID0gcmVxdWlyZSgnanMtY29va2llJyk7XG5jb25zdCBkYXRhc3RvcmUgPSByZXF1aXJlKCcuL2RhdGFzdG9yZScpO1xuXG5jb25zdCBVU0VSID0gXCJ1c2VyXCI7XG5cbmNvbnN0IERFRkFVTFRfVVNFUiA9IHtcbiAgICBwcm9maWxlOiB7XG4gICAgICAgIG5hbWU6IFwiSm9obiBEb2VcIixcbiAgICAgICAgcG9pbnRzOiAyNzAsXG4gICAgfSxcbiAgICBwYXltZW50OiB7XG4gICAgICAgIHN0cmlwZV9jdXN0b21lcl9pZDogJ2N1c19JaFd3eG9wRU50bEkxUCcsXG4gICAgfSxcbiAgICBsb2NhdGlvbjoge1xuICAgICAgICBkaXNwbGF5OiBcIkRlbGthbmRhLCBOdWdlZ29kYVwiLFxuICAgIH0sXG4gICAgZmF2b3JpdGVzOiB7XG4gICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgdmVuZG9yczogW10sXG4gICAgfVxufVxuXG5jb25zdCBvcmRlcnMgPSB7XG4gICAgcGFzdE9yZGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcInBhc3RPcmRlcklkXCI6IFwib3JkMVwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDb3ZlckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvcGFzdF9vcmRlcnMvcGFzdF9vcmRlcl9jb3Zlcl9pbWFnZS5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTG9nb0ltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvc3Rvcmllc19pbWFnZXMvc3RvcnktYmlnLnBuZ1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JOYW1lXCI6IFwiQnVyZ2VycyBBaG91eSFcIixcbiAgICAgICAgICAgIFwibm9PZk9yZGVyZWRJdGVtc1wiOiAzLFxuICAgICAgICAgICAgXCJwcmljZVwiOiAxMDAwLFxuICAgICAgICAgICAgXCJkYXRlXCI6IFwiT2N0IDEwIGF0IDEyOjEyIFBNXCIsXG4gICAgICAgICAgICBcInZlbmRvclJhdGluZ1wiOiAwLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDb21tZW50XCI6IFwiXCIsXG4gICAgICAgICAgICBcIm9yZGVyZWRJdGVtc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1OYW1lXCI6IFwiSGF3YWlpYW4gQnVyZ2VyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwicXVhbnRpdHlcIjogMixcbiAgICAgICAgICAgICAgICAgICAgXCJyYXRpbmdcIjogMCxcbiAgICAgICAgICAgICAgICAgICAgXCJjb21tZW50XCI6IFwiXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtTmFtZVwiOiBcIlB1ZGRpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgXCJxdWFudGl0eVwiOiAyLFxuICAgICAgICAgICAgICAgICAgICBcInJhdGluZ1wiOiAwLFxuICAgICAgICAgICAgICAgICAgICBcImNvbW1lbnRcIjogXCJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1OYW1lXCI6IFwiU3BlY2lhbCBDaGlsbGkgU2F1Y2VcIixcbiAgICAgICAgICAgICAgICAgICAgXCJxdWFudGl0eVwiOiAxLFxuICAgICAgICAgICAgICAgICAgICBcInJhdGluZ1wiOiAwLFxuICAgICAgICAgICAgICAgICAgICBcImNvbW1lbnRcIjogXCJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJwYXN0T3JkZXJJZFwiOiBcIm9yZDJcIixcbiAgICAgICAgICAgIFwidmVuZG9yQ292ZXJJbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3Bhc3Rfb3JkZXJzL3Bhc3Rfb3JkZXJfY292ZXJfaW1hZ2UuanBnXCIsXG4gICAgICAgICAgICBcInZlbmRvckxvZ29JbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3N0b3JpZXNfaW1hZ2VzL3N0b3J5LWJpZy5wbmdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIkJ1cmdlcnMgQWhvdXkhXCIsXG4gICAgICAgICAgICBcIm5vT2ZPcmRlcmVkSXRlbXNcIjogMSxcbiAgICAgICAgICAgIFwicHJpY2VcIjogNTAwLFxuICAgICAgICAgICAgXCJkYXRlXCI6IFwiT2N0IDAxIGF0IDA4OjMwIFBNXCIsXG4gICAgICAgICAgICBcInZlbmRvclJhdGluZ1wiOiA0LFxuICAgICAgICAgICAgXCJ2ZW5kb3JDb21tZW50XCI6IFwiVGhlIGZvb2QgaXMgZ3JlYXQgYnV0IHRoZSBxdWFudGl0eSBpcyBub3QgZW5vdWdoLlwiLFxuICAgICAgICAgICAgXCJvcmRlcmVkSXRlbXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtTmFtZVwiOiBcIkZpc2ggYW5kIENoaXBzIEJ1cmdlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInF1YW50aXR5XCI6IDIsXG4gICAgICAgICAgICAgICAgICAgIFwicmF0aW5nXCI6IDQsXG4gICAgICAgICAgICAgICAgICAgIFwiY29tbWVudFwiOiBcIkdyZWF0IGZvb2QuIFBsZWFzZSBpbmNyZWFzZSBvbiB0aGUgcXVhbnRpdHkgYSBiaXQuXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgIF1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgRkFWT1JJVEVfVFlQRVM6IHtcbiAgICAgICAgICAgIElURU06ICdpdGVtJyxcbiAgICAgICAgICAgIFZFTkRPUjogJ3ZlbmRvcicsXG4gICAgICAgIH0sXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghY29va2llLmdldChVU0VSKSkgeyAvLyBTZXQgY29va2llIG9ubHkgaWYgbm90IGFscmVhZHkgc2V0XG4gICAgICAgICAgICAgICAgY29va2llLnNldChVU0VSLCBERUZBVUxUX1VTRVIpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZUxvY2F0aW9uOiBmdW5jdGlvbiAoeyB1cGRhdGVkTG9jYXRpb24gfSkge1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGNvb2tpZS5nZXRKU09OKFVTRVIpO1xuICAgICAgICAgICAgdXNlci5sb2NhdGlvbi5kaXNwbGF5ID0gdXBkYXRlZExvY2F0aW9uO1xuICAgICAgICAgICAgY29va2llLnNldChVU0VSLCB1c2VyKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBnZXREZXRhaWxzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29va2llLmdldEpTT04oVVNFUilcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0UGF5bWVudERldGFpbHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb29raWUuZ2V0SlNPTihVU0VSKS5wYXltZW50XG4gICAgICAgIH0sXG4gICAgICAgIGdldEFsbE9yZGVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG9yZGVycy5wYXN0T3JkZXJzO1xuICAgICAgICB9LFxuICAgICAgICBnZXRTcGVjaWZpY09yZGVyOiBmdW5jdGlvbiAocGFzdE9yZGVySWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9yZGVyID0gb3JkZXJzLnBhc3RPcmRlcnMuZmluZChvcmRlciA9PiBvcmRlci5wYXN0T3JkZXJJZCA9PSBwYXN0T3JkZXJJZCk7XG4gICAgICAgICAgICByZXR1cm4gb3JkZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEZhdm9yaXRlczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGV0IHsgdmVuZG9ycywgaXRlbXMgfSA9IGNvb2tpZS5nZXRKU09OKFVTRVIpLmZhdm9yaXRlcztcbiAgICAgICAgICAgIHZlbmRvcnMgPSB2ZW5kb3JzLm1hcCh2ZW5kb3IgPT4gdmVuZG9yLnZlbmRvcklkKTtcbiAgICAgICAgICAgIGl0ZW1zID0gaXRlbXMubWFwKGl0ZW0gPT4gaXRlbS5pdGVtSWQpO1xuXG4gICAgICAgICAgICBjb25zdCBmYXZvcml0ZVZlbmRvcnMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGZhdm9yaXRlSXRlbXMgPSBbXTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCB2ZW5kb3Igb2YgZGF0YXN0b3JlLmdldEFsbFZlbmRvcnMoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZlbmRvcnNJdGVtcyA9IHZlbmRvci5pdGVtcztcbiAgICAgICAgICAgICAgICBpZiAodmVuZG9ycy5pbmNsdWRlcyh2ZW5kb3IudmVuZG9ySWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhdm9yaXRlVmVuZG9ycy5wdXNoKHZlbmRvcik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmVuZG9yc0l0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtcy5pbmNsdWRlcyhpdGVtLml0ZW1JZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhdm9yaXRlSXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICBpZiAodmVuZG9ycy5sZW5ndGggPT0gZmF2b3JpdGVWZW5kb3JzLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgICBpdGVtcy5sZW5ndGggPT0gZmF2b3JpdGVJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4geyB2ZW5kb3JzOiBmYXZvcml0ZVZlbmRvcnMsIGl0ZW1zOiBmYXZvcml0ZUl0ZW1zIH07XG4gICAgICAgIH0sXG4gICAgICAgIGlzSXRlbUZhdm9yaXRlOiBmdW5jdGlvbiAodHlwZSwgZmF2b3JpdGVJdGVtKSB7XG4gICAgICAgICAgICBjb25zdCBsb2dnZWRJblVzZXIgPSBjb29raWUuZ2V0SlNPTihVU0VSKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRGYXZvcml0ZXMgPSBsb2dnZWRJblVzZXIuZmF2b3JpdGVzO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMuRkFWT1JJVEVfVFlQRVMuVkVORE9SOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudEZhdm9yaXRlc1sndmVuZG9ycyddXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZEluZGV4KHZlbmRvciA9PiB2ZW5kb3IudmVuZG9ySWQgPT09IGZhdm9yaXRlSXRlbS52ZW5kb3JJZCkgPiAtMTtcblxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5GQVZPUklURV9UWVBFUy5JVEVNOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudEZhdm9yaXRlc1snaXRlbXMnXVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmRJbmRleChpID0+IGkuaXRlbUlkID09PSBmYXZvcml0ZUl0ZW0uaXRlbUlkKSA+IC0xO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG4gICAgICAgIGFkZEZhdm9yaXRlOiBmdW5jdGlvbiAodHlwZSwgZmF2b3JpdGVJdGVtKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQWRkaW5nIGZhdm9yaXRlIC4uLicpO1xuXG4gICAgICAgICAgICAvLyBSZXRyaWV2ZSBkZXRhaWxzIGZyb20gY29va2llXG4gICAgICAgICAgICBjb25zdCBsb2dnZWRJblVzZXIgPSBjb29raWUuZ2V0SlNPTihVU0VSKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRGYXZvcml0ZXMgPSBsb2dnZWRJblVzZXIuZmF2b3JpdGVzO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgZmF2b3JpdGVzXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMuRkFWT1JJVEVfVFlQRVMuVkVORE9SOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1ZlbmRvckFscmVhZHlNYXJrZWRGYXZvcml0ZSA9IGN1cnJlbnRGYXZvcml0ZXNbJ3ZlbmRvcnMnXS5maW5kKGkgPT4gaS52ZW5kb3JJZCA9PT0gZmF2b3JpdGVJdGVtLnZlbmRvcklkKVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmVuZG9yQWxyZWFkeU1hcmtlZEZhdm9yaXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHZlbmRvcklkIH0gPSBmYXZvcml0ZUl0ZW07XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RmF2b3JpdGVzWyd2ZW5kb3JzJ10ucHVzaCh7IHZlbmRvcklkIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5GQVZPUklURV9UWVBFUy5JVEVNOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0l0ZW1BbHJlYWR5TWFya2VkRmF2b3JpdGUgPSBjdXJyZW50RmF2b3JpdGVzWydpdGVtcyddLmZpbmQoaSA9PiBpLml0ZW1JZCA9PT0gZmF2b3JpdGVJdGVtLml0ZW1JZClcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0l0ZW1BbHJlYWR5TWFya2VkRmF2b3JpdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgaXRlbUlkIH0gPSBmYXZvcml0ZUl0ZW07XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RmF2b3JpdGVzWydpdGVtcyddLnB1c2goeyBpdGVtSWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld0Zhdm9yaXRlcyA9IGN1cnJlbnRGYXZvcml0ZXM7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkVXNlciA9IHsgLi4ubG9nZ2VkSW5Vc2VyLCBmYXZvcml0ZXM6IG5ld0Zhdm9yaXRlcyB9O1xuXG4gICAgICAgICAgICAvLyBTZXQgdGhlIGNvb2tpZVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1VwZGF0ZWQgVXNlciAuLi4nLCB1cGRhdGVkVXNlcik7XG4gICAgICAgICAgICBjb29raWUuc2V0KFVTRVIsIHVwZGF0ZWRVc2VyKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlRmF2b3JpdGU6IGZ1bmN0aW9uICh0eXBlLCBmYXZvcml0ZUl0ZW0pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZW1vdmluZyBmYXZvcml0ZSAuLi4nKTtcblxuICAgICAgICAgICAgLy8gUmV0cmlldmUgZGV0YWlscyBmcm9tIGNvb2tpZVxuICAgICAgICAgICAgY29uc3QgbG9nZ2VkSW5Vc2VyID0gY29va2llLmdldEpTT04oVVNFUik7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RmF2b3JpdGVzID0gbG9nZ2VkSW5Vc2VyLmZhdm9yaXRlcztcblxuICAgICAgICAgICAgLy8gVXBkYXRlIGZhdm9yaXRlc1xuICAgICAgICAgICAgdmFyIG5ld0Zhdm9yaXRlcyA9IHt9O1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09IHRoaXMuRkFWT1JJVEVfVFlQRVMuVkVORE9SKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudEZhdm9yaXRlc1sndmVuZG9ycyddID0gY3VycmVudEZhdm9yaXRlc1sndmVuZG9ycyddLmZpbHRlcihpID0+IGkudmVuZG9ySWQgIT0gZmF2b3JpdGVJdGVtLnZlbmRvcklkKTtcbiAgICAgICAgICAgICAgICBuZXdGYXZvcml0ZXMgPSB7IC4uLmN1cnJlbnRGYXZvcml0ZXMgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gdGhpcy5GQVZPUklURV9UWVBFUy5JVEVNKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudEZhdm9yaXRlc1snaXRlbXMnXSA9IGN1cnJlbnRGYXZvcml0ZXNbJ2l0ZW1zJ10uZmlsdGVyKGkgPT4gaS5pdGVtSWQgIT0gZmF2b3JpdGVJdGVtLml0ZW1JZCk7XG4gICAgICAgICAgICAgICAgbmV3RmF2b3JpdGVzID0geyAuLi5jdXJyZW50RmF2b3JpdGVzIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0geyAuLi5sb2dnZWRJblVzZXIsIGZhdm9yaXRlczogbmV3RmF2b3JpdGVzIH07XG5cbiAgICAgICAgICAgIC8vIFNldCB0aGUgY29va2llXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVXBkYXRlZCBVc2VyIC4uLicsIHVwZGF0ZWRVc2VyKTtcbiAgICAgICAgICAgIGNvb2tpZS5zZXQoVVNFUiwgdXBkYXRlZFVzZXIpO1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVTcGVjaWZpY09yZGVyOiBmdW5jdGlvbiAocGFzdE9yZGVySWQsIHVwZGF0ZWRWZW5kb3JSYXRpbmcsIHVwZGF0ZWRWZW5kb3JDb21tZW50LFxuICAgICAgICAgICAgdXBkYXRlZEl0ZW1OYW1lcywgdXBkYXRlSXRlbVJhdGluZ3MsIHVwZGF0ZWRJdGVtQ29tbWVudHMpIHtcblxuICAgICAgICAgICAgY29uc3Qgb3JkZXIgPSBvcmRlcnMucGFzdE9yZGVycy5maW5kKG9yZGVyID0+IG9yZGVyLnBhc3RPcmRlcklkID09IHBhc3RPcmRlcklkKTtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdmVuZG9yIHJhdGluZyBhbmQgY29tbWVudC5cbiAgICAgICAgICAgIG9yZGVyLnZlbmRvclJhdGluZyA9IHVwZGF0ZWRWZW5kb3JSYXRpbmdcbiAgICAgICAgICAgIG9yZGVyLnZlbmRvckNvbW1lbnQgPSB1cGRhdGVkVmVuZG9yQ29tbWVudFxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGl0ZW0gcmFpbmdzIGFuZCBjb21tZW50cy5cbiAgICAgICAgICAgIHZhciB1cGRhdGVkT3JkZXJJdGVtcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1cGRhdGVkSXRlbU5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgb3JkZXIub3JkZXJlZEl0ZW1zLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uaXRlbU5hbWUucmVwbGFjZSgvXFxzL2csIFwiXCIpID09PSB1cGRhdGVkSXRlbU5hbWVzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkT3JkZXJJdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1OYW1lXCI6IGl0ZW0uaXRlbU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJxdWFudGl0eVwiOiBpdGVtLnF1YW50aXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicmF0aW5nXCI6IHVwZGF0ZUl0ZW1SYXRpbmdzW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29tbWVudFwiOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFwiY29tbWVudFwiOiB1cGRhdGVkSXRlbUNvbW1lbnRzW2ldIC8vIFRPRE8gLSBDb21tZW50cyBwYXJ0IFRoZW51a2FcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcmRlci5vcmRlcmVkSXRlbXMgPSB1cGRhdGVkT3JkZXJJdGVtcztcblxuICAgICAgICAgICAgdmFyIHRlc3QgPSBvcmRlcnMucGFzdE9yZGVycy5maW5kKG9yZGVyID0+IG9yZGVyLnBhc3RPcmRlcklkID09IHBhc3RPcmRlcklkKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXBkYXRlZCBPcmRlcjpcIiwgdGVzdCk7XG4gICAgICAgIH1cbiAgICB9XG59KClcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHBhcnNlVXJsRm9yUXVlcnlQYXJhbXM6IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1TdHJpbmcgPSB1cmwuc3BsaXQoJz8nKVsxXVxuICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5UGFyYW1TdHJpbmcgJiYgcXVlcnlQYXJhbVN0cmluZy5zcGxpdCgnJicpLnJlZHVjZSgoYWNjLCBwYXJhbSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleV92YWx1ZSA9IHBhcmFtLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgICAgICAgICBhY2Nba2V5X3ZhbHVlWzBdXSA9IGtleV92YWx1ZVsxXVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9LCB7fSkgfHwge307XG4gICAgICAgIH1cbiAgICB9XG59KCk7IiwiY29uc3QgdXNlciA9IHJlcXVpcmUoJy4vdXNlcicpO1xuXG5jb25zdCBkYXRhID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgdmVuZG9yczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcInZlbmRvcklkXCI6IFwidjFcIixcbiAgICAgICAgICAgIFwidmVuZG9ySW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfbGlzdF92aWV3X2ltYWdlcy9idXJnZXJzX2Fob3V5LmpwZ1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JOYW1lXCI6IFwiQnVyZ2VycyBBaG91eSFcIixcbiAgICAgICAgICAgIFwidmVuZG9yQ2F0ZXJnb3JpZXNcIjogW1xuICAgICAgICAgICAgICAgIFwiQnVyZ2Vyc1wiLFxuICAgICAgICAgICAgICAgIFwiQW1lcmljYW5cIlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdWYWx1ZVwiOiAyLjYsXG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JOb09mUmF0aW5nc1wiOiAxMDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxvY2F0aW9uXCI6IFwiQ29sb21ibyAzXCIsXG4gICAgICAgICAgICBcImRlbGl2ZXJ5VGltZVwiOiBcIjI1LTMwIG1pbnNcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvdG9tX3l1bV9zb3VwLmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBcInYxaTFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtVGl0bGVcIjogXCJUb20gWXVtIFNvdXBcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogXCJQaWNrZWQgZnJvbSB0aGUgZnJlc2ggdmVnZXRhYmxlcyBhbmQgZmlzaCBmcm9tIHRoZSB3aXRoIHNwZWNpYWwgQ2hpY2tlbiBCcm90aC5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjYsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiA0N1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiA4MDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvY3Jpc3B5X2NoaWNrZW5fYnVyZ2VyLmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBcInYxaTJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtVGl0bGVcIjogXCJDcmlzcHkgQ2hpY2tlbiBCdXJnZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogXCJDcmlzcHksIENoaWNreSwgQ3Jpc3B5IENoaWNrZW4gQnVyZ2VyLiBJdOKAmXMgcHJldHR5IG11Y2ggc2VsZi1leHBsYW5hdG9yeS5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjAsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiAxMFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiA0NTBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvaGF3YWlpYW5fYnVyZ2VyLmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBcInYxaTNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtVGl0bGVcIjogXCJIYXdhaWlhbiBCdXJnZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogXCJZZXMhIFBpbmVhcHBsZXMgZ28gb24gYnVyZ2VycyB0b28uIERvbuKAmXQgbGV0IG90aGVycyB0ZWxsIHlvdSBvdGhlcndpc2UuXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nVmFsdWVcIjogNC44LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtTm9PZlJhdGluZ3NcIjogNDVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUHJpY2VcIjogNjAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ2ZW5kb3JJZFwiOiBcInYyXCIsXG4gICAgICAgICAgICBcInZlbmRvckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX2xpc3Rfdmlld19pbWFnZXMvcGl6emFfcGFscGF0aGEuanBnXCIsXG4gICAgICAgICAgICBcInZlbmRvck5hbWVcIjogXCJQaXp6YSBQYWxwYXRoYVwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDYXRlcmdvcmllc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJJdGFsaWFuXCIsXG4gICAgICAgICAgICAgICAgXCJBbWVyaWNhblwiLFxuICAgICAgICAgICAgICAgIFwiUGl6emFcIlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdWYWx1ZVwiOiA0LjgsXG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JOb09mUmF0aW5nc1wiOiA5OVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibG9jYXRpb25cIjogXCJDb2xvbWJvIDVcIixcbiAgICAgICAgICAgIFwiZGVsaXZlcnlUaW1lXCI6IFwiMTUtMjAgbWluc1wiLFxuICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9wYWdlX2ltYWdlcy9jaGVlc2VfbG92ZXJzX3BpenphLmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBcInYyaTFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtVGl0bGVcIjogXCJDaGVlc2UgTG92ZXJzIFBpenphXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbURlc2NyaXB0aW9uXCI6IFwiUmljaCB0b21hdG8gc2F1Y2Ugd2l0aCBhIHRyaXBsZSBsYXllciBvZiBtb3p6YXJlbGxhIGNoZWVzZS5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiA1NVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiA1MDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvY2hpY2tlbl9iYWNvbl9waXp6YS5qcGdcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSWRcIjogXCJ2MmkyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVRpdGxlXCI6IFwiQ2hpY2tlbiBCYWNvbiBQaXp6YVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIkNoaWNrZW4gYmFjb24sIG9uaW9ucyAmIGdyZWVuIGNoaWxsaWVzIHdpdGggYSBkb3VibGUgbGF5ZXIgb2YgbW96emFyZWxsYSBjaGVlc2UuXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nVmFsdWVcIjogNC45LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtTm9PZlJhdGluZ3NcIjogOTBcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUHJpY2VcIjogMzAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX3BhZ2VfaW1hZ2VzL2RldmlsbGVkX2NoaWNrZW5fcGl6emEuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjJpM1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIkRldmlsbGVkIENoaWNrZW4gUGl6emFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogXCJEZXZpbGxlZCBjaGlja2VuIGluIHNwaWN5IHNhdWNlIHdpdGggYSBkb3VibGUgbGF5ZXIgb2YgbW96emFyZWxsYSBjaGVlc2UuXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nVmFsdWVcIjogNC4xLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtTm9PZlJhdGluZ3NcIjogNzVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUHJpY2VcIjogNDcwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ2ZW5kb3JJZFwiOiBcInYzXCIsXG4gICAgICAgICAgICBcInZlbmRvckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX2xpc3Rfdmlld19pbWFnZXMvYmF0aHVpX3BvbF9zYW1ib2xhaS5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIkJhdGh1aSBQb2wgU2FtYm9sYWlcIixcbiAgICAgICAgICAgIFwidmVuZG9yQ2F0ZXJnb3JpZXNcIjogW1xuICAgICAgICAgICAgICAgIFwiUmljZVwiLFxuICAgICAgICAgICAgICAgIFwiU3JpIExhbmthblwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICBcInZlbmRvclJhdGluZ1ZhbHVlXCI6IDQuNSxcbiAgICAgICAgICAgICAgICBcInZlbmRvck5vT2ZSYXRpbmdzXCI6IDE1MFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibG9jYXRpb25cIjogXCJDb2xvbWJvIDdcIixcbiAgICAgICAgICAgIFwiZGVsaXZlcnlUaW1lXCI6IFwiNS0xMCBtaW5zXCIsXG4gICAgICAgICAgICBcIml0ZW1zXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX3BhZ2VfaW1hZ2VzL3ByYXduX2N1cnJ5X2FuZF9yaWNlLmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBcInYzaTFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtVGl0bGVcIjogXCJQcmF3biBDdXJyeSBhbmQgUmljZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIlByYXduIGN1cnJ5IHByZXBhcmVkIHRvIHNwZWNpYWwgR29hIHJlY2lwZSB3aXRoIHRoaWNrIGNvY29udXQgZ3JhdnkuXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nVmFsdWVcIjogNC4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtTm9PZlJhdGluZ3NcIjogMjFcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUHJpY2VcIjogNTc1XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX3BhZ2VfaW1hZ2VzL2Zpc2hfcmljZV9hbmRfY3VycnkuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjNpMlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIkZpc2ggUmljZSBhbmQgQ3VycnlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogXCJUaGFsYXBhdGggRmlzaCwgNCBjdXJyaWVzIGFuZCBwYXBhZGFtIGVuaHJpY2hlZCB3aXRoIHRoZSBTcmkgTGFua2FuIHRhc3RlLlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ1ZhbHVlXCI6IDQuMixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbU5vT2ZSYXRpbmdzXCI6IDIxXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVByaWNlXCI6IDU3NVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9wYWdlX2ltYWdlcy9jaGlja2VuX3JpY2VfYW5kX2N1cnJ5LmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBcInYzaTNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtVGl0bGVcIjogXCJDaGlja2VuIFJpY2UgYW5kIEN1cnJ5XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbURlc2NyaXB0aW9uXCI6IFwiV2l0aCA0IGN1cnJpZXMgYW5kIHBhcGFkYW0gbWl4ZWQgd2l0aCBTcmkgTGFua2FuIHNwaWNlcy5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjQsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiA2NVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiAzNTBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ2ZW5kb3JJZFwiOiBcInY0XCIsXG4gICAgICAgICAgICBcInZlbmRvckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX2xpc3Rfdmlld19pbWFnZXMvdGhlX2ltcGFzdGEuanBnXCIsXG4gICAgICAgICAgICBcInZlbmRvck5hbWVcIjogXCJUaGUgSW1wYXN0YVwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDYXRlcmdvcmllc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJQYXN0YVwiLFxuICAgICAgICAgICAgICAgIFwiSXRhbGlhblwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICBcInZlbmRvclJhdGluZ1ZhbHVlXCI6IDMuMSxcbiAgICAgICAgICAgICAgICBcInZlbmRvck5vT2ZSYXRpbmdzXCI6IDgyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsb2NhdGlvblwiOiBcIkNvbG9tYm8gMVwiLFxuICAgICAgICAgICAgXCJkZWxpdmVyeVRpbWVcIjogXCI0MC01MCBtaW5zXCIsXG4gICAgICAgICAgICBcIml0ZW1zXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX3BhZ2VfaW1hZ2VzL2JydXNjaGV0dGFfcGFzdGEuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjRpMVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIkJydXNoY2V0dGEgUGFzdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogXCJUaGlzIEJydXNjaGV0dGEgUGFzdGEgd2l0aCBmcmVzaCB0b21hdG9lcywgYmFzaWwsIGdhcmxpYywgYW5kIG9saXZlIG9pbC5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjAsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiAxMFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiAzNzVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvY2hlZXNlX3Bhc3RhLmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBcInY0aTJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtVGl0bGVcIjogXCJDaGVlc2UgUGFzdGFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogXCJKdXN0IHJlbWVtYmVyIHRoYXQgYSBzaW5nbGUgaXMgYSBkb3VibGUgYW5kIGEgZG91YmxlIGlzIGEgdHJpcGxlIGF0IENoaWNhZ2/igJlzIEF1IENoZXZhbC5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjcsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiAyMVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiAyMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvY3JlYW15X3RvbWF0b19hbmRfc3BpbmFjaF9wYXN0YS5qcGdcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSWRcIjogXCJ2NGkzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVRpdGxlXCI6IFwiQ3JlYW15IFRvbWF0byBhbmQgU3BpbmFjaCBQYXN0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIldpdGggc3BlY2lhbCBwZXN0byBzYXVjZSBhbmQgbW96emFyZWxsYSBjaGVlc2UuXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nVmFsdWVcIjogMy41LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtTm9PZlJhdGluZ3NcIjogMTVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUHJpY2VcIjogMjMwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidmVuZG9ySWRcIjogXCJ2NVwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JJbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9saXN0X3ZpZXdfaW1hZ2VzL3RoYWlfdGFuaWMuanBnXCIsXG4gICAgICAgICAgICBcInZlbmRvck5hbWVcIjogXCJUaGFpIFRhbmljXCIsXG4gICAgICAgICAgICBcInZlbmRvckNhdGVyZ29yaWVzXCI6IFtcbiAgICAgICAgICAgICAgICBcIlNvdXBcIixcbiAgICAgICAgICAgICAgICBcIlNhbGFkXCIsXG4gICAgICAgICAgICAgICAgXCJUaGFpXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInZlbmRvclJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nVmFsdWVcIjogMy45LFxuICAgICAgICAgICAgICAgIFwidmVuZG9yTm9PZlJhdGluZ3NcIjogMjlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxvY2F0aW9uXCI6IFwiQ29sb21ibyAxXCIsXG4gICAgICAgICAgICBcImRlbGl2ZXJ5VGltZVwiOiBcIjIwLTMwIG1pbnNcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInZlbmRvcklkXCI6IFwidjZcIixcbiAgICAgICAgICAgIFwidmVuZG9ySW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfbGlzdF92aWV3X2ltYWdlcy9waXRhX3Bhbi5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIlBpdGEgUGFuXCIsXG4gICAgICAgICAgICBcInZlbmRvckNhdGVyZ29yaWVzXCI6IFtcbiAgICAgICAgICAgICAgICBcIkJ1cmdlcnNcIixcbiAgICAgICAgICAgICAgICBcIk1lZGl0ZXJyZW5lYW5cIixcbiAgICAgICAgICAgICAgICBcIlRoYWlcIlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdWYWx1ZVwiOiAyLjMsXG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JOb09mUmF0aW5nc1wiOiAxMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibG9jYXRpb25cIjogXCJDb2xvbWJvIDFcIixcbiAgICAgICAgICAgIFwiZGVsaXZlcnlUaW1lXCI6IFwiMTItMTUgbWluc1wiLFxuICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG5cbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidmVuZG9ySWRcIjogXCJ2N1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JJbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9saXN0X3ZpZXdfaW1hZ2VzL2hvcHBlcnNfYW5kX2JldHJheWFscy5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIkhvcHBlcnMgYW5kIEJldHJheWFsc1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDYXRlcmdvcmllc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJIb3BwZXJzXCIsXG4gICAgICAgICAgICAgICAgXCJTcmkgTGFua2FuXCIsXG4gICAgICAgICAgICAgICAgXCJJbmRpYW5cIlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdWYWx1ZVwiOiAxLjksXG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JOb09mUmF0aW5nc1wiOiA4NFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibG9jYXRpb25cIjogXCJDb2xvbWJvIDFcIixcbiAgICAgICAgICAgIFwiZGVsaXZlcnlUaW1lXCI6IFwiMzUtNDAgbWluc1wiLFxuICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG5cbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidmVuZG9ySWRcIjogXCJ2OFwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JJbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9saXN0X3ZpZXdfaW1hZ2VzL2N1dGllX3BpZXNfYW5kX2N1cGNha2VzLmpwZ1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JOYW1lXCI6IFwiQ3V0aWUgUGllcyBhbmQgQ3VwY2FrZXNcIixcbiAgICAgICAgICAgIFwidmVuZG9yQ2F0ZXJnb3JpZXNcIjogW1xuICAgICAgICAgICAgICAgIFwiQ3VwY2FrZXNcIixcbiAgICAgICAgICAgICAgICBcIlN3ZWV0XCIsXG4gICAgICAgICAgICAgICAgXCJTb3VyXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInZlbmRvclJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nVmFsdWVcIjogMy40LFxuICAgICAgICAgICAgICAgIFwidmVuZG9yTm9PZlJhdGluZ3NcIjogOTdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxvY2F0aW9uXCI6IFwiQ29sb21ibyAxXCIsXG4gICAgICAgICAgICBcImRlbGl2ZXJ5VGltZVwiOiBcIjUwLTU1IG1pbnNcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInZlbmRvcklkXCI6IFwidjlcIixcbiAgICAgICAgICAgIFwidmVuZG9ySW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfbGlzdF92aWV3X2ltYWdlcy90aWtrYS1rX2ludGEuanBnXCIsXG4gICAgICAgICAgICBcInZlbmRvck5hbWVcIjogXCJUaWtrYS1rIEludGFcIixcbiAgICAgICAgICAgIFwidmVuZG9yQ2F0ZXJnb3JpZXNcIjogW1xuICAgICAgICAgICAgICAgIFwiUGFyYXRoYVwiLFxuICAgICAgICAgICAgICAgIFwiSW5kaWFuXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInZlbmRvclJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nVmFsdWVcIjogMy45LFxuICAgICAgICAgICAgICAgIFwidmVuZG9yTm9PZlJhdGluZ3NcIjogMjAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsb2NhdGlvblwiOiBcIkNvbG9tYm8gMVwiLFxuICAgICAgICAgICAgXCJkZWxpdmVyeVRpbWVcIjogXCI0NS01MCBtaW5zXCIsXG4gICAgICAgICAgICBcIml0ZW1zXCI6IFtcblxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ2ZW5kb3JJZFwiOiBcInYxMFwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JJbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9saXN0X3ZpZXdfaW1hZ2VzL3RoZV9jb2RmYXRoZXIuanBnXCIsXG4gICAgICAgICAgICBcInZlbmRvck5hbWVcIjogXCJUaGUgQ29kZmF0aGVyXCIsXG4gICAgICAgICAgICBcInZlbmRvckNhdGVyZ29yaWVzXCI6IFtcbiAgICAgICAgICAgICAgICBcIkNoaXBzXCIsXG4gICAgICAgICAgICAgICAgXCJGcmllZCBGaXNoXCIsXG4gICAgICAgICAgICAgICAgXCJBbWVyaWNhblwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICBcInZlbmRvclJhdGluZ1ZhbHVlXCI6IDUuNSxcbiAgICAgICAgICAgICAgICBcInZlbmRvck5vT2ZSYXRpbmdzXCI6IDczXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsb2NhdGlvblwiOiBcIkNvbG9tYm8gMVwiLFxuICAgICAgICAgICAgXCJkZWxpdmVyeVRpbWVcIjogXCI1LTE1IG1pbnNcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInZlbmRvcklkXCI6IFwidjExXCIsXG4gICAgICAgICAgICBcInZlbmRvckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX2xpc3Rfdmlld19pbWFnZXMvdGhlX3RpcHN5X2Nvdy5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIlRoZSBUaXBzeSBDb3dcIixcbiAgICAgICAgICAgIFwidmVuZG9yQ2F0ZXJnb3JpZXNcIjogW1xuICAgICAgICAgICAgICAgIFwiQ29ja3RhaWxzXCIsXG4gICAgICAgICAgICAgICAgXCJTbW9vdGhpZXNcIixcbiAgICAgICAgICAgICAgICBcIkp1aWNlXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInZlbmRvclJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nVmFsdWVcIjogNS4wLFxuICAgICAgICAgICAgICAgIFwidmVuZG9yTm9PZlJhdGluZ3NcIjogNTVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxvY2F0aW9uXCI6IFwiQ29sb21ibyAxXCIsXG4gICAgICAgICAgICBcImRlbGl2ZXJ5VGltZVwiOiBcIjEwLTE1IG1pbnNcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInZlbmRvcklkXCI6IFwidjEyXCIsXG4gICAgICAgICAgICBcInZlbmRvckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX2xpc3Rfdmlld19pbWFnZXMvdGhlX2RhaXJ5X2dvZG1vdGhlci5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIlRoZSBEYWlyeSBHb2Rtb3RoZXJcIixcbiAgICAgICAgICAgIFwidmVuZG9yQ2F0ZXJnb3JpZXNcIjogW1xuICAgICAgICAgICAgICAgIFwiRGFpcnlcIixcbiAgICAgICAgICAgICAgICBcIk1pbGtcIixcbiAgICAgICAgICAgICAgICBcIlNtb290aGllc1wiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICBcInZlbmRvclJhdGluZ1ZhbHVlXCI6IDUuNixcbiAgICAgICAgICAgICAgICBcInZlbmRvck5vT2ZSYXRpbmdzXCI6IDY3XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsb2NhdGlvblwiOiBcIkNvbG9tYm8gMVwiLFxuICAgICAgICAgICAgXCJkZWxpdmVyeVRpbWVcIjogXCI1NS02MCBtaW5zXCIsXG4gICAgICAgICAgICBcIml0ZW1zXCI6IFtcblxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICBdLFxuICAgIGxlYWRlcmJvYXJkOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwiSWhhbiBMZWx3YWxhXCIsXG4gICAgICAgICAgICBwb2ludHM6IDI1MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcIlZpbnVsYSBVdGhzYXJhXCIsXG4gICAgICAgICAgICBwb2ludHM6IDMwMFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcIlRoZW51a2EgUGVyZXJhXCIsXG4gICAgICAgICAgICBwb2ludHM6IDI2MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcIkRlc2hhbiBLb3N3YXR0ZVwiLFxuICAgICAgICAgICAgcG9pbnRzOiAyODBcbiAgICAgICAgfSxcbiAgICBdXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0QWxsVmVuZG9yczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudmVuZG9ycztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U3BlY2lmaWNWZW5kb3I6IGZ1bmN0aW9uICh2ZW5kb3JJZCkge1xuICAgICAgICAgICAgLy8gcmV0dXJucyB2ZW5kb3IgZGV0YWlscyBmb3IgcHJvdmlkZWQgdmVuZG9ySWRcbiAgICAgICAgICAgIGNvbnN0IHZlbmRvciA9IGRhdGEudmVuZG9ycy5maW5kKHZlbmRvciA9PiB2ZW5kb3IudmVuZG9ySWQgPT09IHZlbmRvcklkKTtcbiAgICAgICAgICAgIHJldHVybiB2ZW5kb3I7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFNwZWNpZmljSXRlbTogZnVuY3Rpb24gKGl0ZW1JZCkge1xuICAgICAgICAgICAgLy8gcmV0dXJuIGl0ZW0gZGV0YWlscyBmb3IgcHJvdmlkZWQgaXRlbUlkXG4gICAgICAgICAgICBjb25zdCBhbGxWZW5kb3JzSXRlbXMgPSBkYXRhLnZlbmRvcnMuZmxhdE1hcCh2ZW5kb3IgPT4gdmVuZG9yLml0ZW1zKVxuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGFsbFZlbmRvcnNJdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5pdGVtSWQgPT09IGl0ZW1JZCk7XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0TGVhZGVyYm9hcmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcG9pbnRzIH0gPSB1c2VyLmdldERldGFpbHMoKS5wcm9maWxlO1xuICAgICAgICAgICAgY29uc3QgbG9nZ2VkSW5Vc2VyID0geyBuYW1lOiBcIllvdVwiLCBwb2ludHMgfTtcbiAgICAgICAgICAgIGNvbnN0IGxlYWRlcmJvYXJkV2l0aExvZ2dlZEluVXNlciA9IFsuLi5kYXRhLmxlYWRlcmJvYXJkLCBsb2dnZWRJblVzZXJdO1xuICAgICAgICAgICAgcmV0dXJuIGxlYWRlcmJvYXJkV2l0aExvZ2dlZEluVXNlci5zb3J0KCh1c2VyMSwgdXNlcjIpID0+IHVzZXIyLnBvaW50cyAtIHVzZXIxLnBvaW50cylcbiAgICAgICAgfVxuICAgIH1cbn0oKSIsIihmdW5jdGlvbiBicm93c2VyaWZ5U2hpbShtb2R1bGUsIGV4cG9ydHMsIGRlZmluZSwgYnJvd3NlcmlmeV9zaGltX19kZWZpbmVfX21vZHVsZV9fZXhwb3J0X18pIHtcblxuOyBnbG9iYWwuJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG4vKiEgalF1ZXJ5IE1vYmlsZSAxLjQuNSB8IEdpdCBIRUFEaGFzaDogNjhlNTVlNyA8PiAyMDE0LTEwLTMxVDE3OjMzOjMwWiB8IChjKSAyMDEwLCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uLCBJbmMuIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovXG5cbiFmdW5jdGlvbihhLGIsYyl7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJqcXVlcnlcIl0sZnVuY3Rpb24oZCl7cmV0dXJuIGMoZCxhLGIpLGQubW9iaWxlfSk6YyhhLmpRdWVyeSxhLGIpfSh0aGlzLGRvY3VtZW50LGZ1bmN0aW9uKGEsYixjKXshZnVuY3Rpb24oYSl7YS5tb2JpbGU9e319KGEpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZChiLGMpe3ZhciBkLGYsZyxoPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImFyZWFcIj09PWg/KGQ9Yi5wYXJlbnROb2RlLGY9ZC5uYW1lLGIuaHJlZiYmZiYmXCJtYXBcIj09PWQubm9kZU5hbWUudG9Mb3dlckNhc2UoKT8oZz1hKFwiaW1nW3VzZW1hcD0jXCIrZitcIl1cIilbMF0sISFnJiZlKGcpKTohMSk6KC9pbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdC8udGVzdChoKT8hYi5kaXNhYmxlZDpcImFcIj09PWg/Yi5ocmVmfHxjOmMpJiZlKGIpfWZ1bmN0aW9uIGUoYil7cmV0dXJuIGEuZXhwci5maWx0ZXJzLnZpc2libGUoYikmJiFhKGIpLnBhcmVudHMoKS5hZGRCYWNrKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuXCJoaWRkZW5cIj09PWEuY3NzKHRoaXMsXCJ2aXNpYmlsaXR5XCIpfSkubGVuZ3RofXZhciBmPTAsZz0vXnVpLWlkLVxcZCskLzthLnVpPWEudWl8fHt9LGEuZXh0ZW5kKGEudWkse3ZlcnNpb246XCJjMGFiNzEwNTZiOTM2NjI3ZThhNzgyMWYwM2MwNDRhZWM2MjgwYTQwXCIsa2V5Q29kZTp7QkFDS1NQQUNFOjgsQ09NTUE6MTg4LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixMRUZUOjM3LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsUklHSFQ6MzksU1BBQ0U6MzIsVEFCOjksVVA6Mzh9fSksYS5mbi5leHRlbmQoe2ZvY3VzOmZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihjLGQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBjP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EoYikuZm9jdXMoKSxkJiZkLmNhbGwoYil9LGMpfSk6Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fShhLmZuLmZvY3VzKSxzY3JvbGxQYXJlbnQ6ZnVuY3Rpb24oKXt2YXIgYjtyZXR1cm4gYj1hLnVpLmllJiYvKHN0YXRpY3xyZWxhdGl2ZSkvLnRlc3QodGhpcy5jc3MoXCJwb3NpdGlvblwiKSl8fC9hYnNvbHV0ZS8udGVzdCh0aGlzLmNzcyhcInBvc2l0aW9uXCIpKT90aGlzLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4vKHJlbGF0aXZlfGFic29sdXRlfGZpeGVkKS8udGVzdChhLmNzcyh0aGlzLFwicG9zaXRpb25cIikpJiYvKGF1dG98c2Nyb2xsKS8udGVzdChhLmNzcyh0aGlzLFwib3ZlcmZsb3dcIikrYS5jc3ModGhpcyxcIm92ZXJmbG93LXlcIikrYS5jc3ModGhpcyxcIm92ZXJmbG93LXhcIikpfSkuZXEoMCk6dGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuLyhhdXRvfHNjcm9sbCkvLnRlc3QoYS5jc3ModGhpcyxcIm92ZXJmbG93XCIpK2EuY3NzKHRoaXMsXCJvdmVyZmxvdy15XCIpK2EuY3NzKHRoaXMsXCJvdmVyZmxvdy14XCIpKX0pLmVxKDApLC9maXhlZC8udGVzdCh0aGlzLmNzcyhcInBvc2l0aW9uXCIpKXx8IWIubGVuZ3RoP2EodGhpc1swXS5vd25lckRvY3VtZW50fHxjKTpifSx1bmlxdWVJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmlkfHwodGhpcy5pZD1cInVpLWlkLVwiKyArK2YpfSl9LHJlbW92ZVVuaXF1ZUlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2cudGVzdCh0aGlzLmlkKSYmYSh0aGlzKS5yZW1vdmVBdHRyKFwiaWRcIil9KX19KSxhLmV4dGVuZChhLmV4cHJbXCI6XCJdLHtkYXRhOmEuZXhwci5jcmVhdGVQc2V1ZG8/YS5leHByLmNyZWF0ZVBzZXVkbyhmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuISFhLmRhdGEoYyxiKX19KTpmdW5jdGlvbihiLGMsZCl7cmV0dXJuISFhLmRhdGEoYixkWzNdKX0sZm9jdXNhYmxlOmZ1bmN0aW9uKGIpe3JldHVybiBkKGIsIWlzTmFOKGEuYXR0cihiLFwidGFiaW5kZXhcIikpKX0sdGFiYmFibGU6ZnVuY3Rpb24oYil7dmFyIGM9YS5hdHRyKGIsXCJ0YWJpbmRleFwiKSxlPWlzTmFOKGMpO3JldHVybihlfHxjPj0wKSYmZChiLCFlKX19KSxhKFwiPGE+XCIpLm91dGVyV2lkdGgoMSkuanF1ZXJ5fHxhLmVhY2goW1wiV2lkdGhcIixcIkhlaWdodFwiXSxmdW5jdGlvbihjLGQpe2Z1bmN0aW9uIGUoYixjLGQsZSl7cmV0dXJuIGEuZWFjaChmLGZ1bmN0aW9uKCl7Yy09cGFyc2VGbG9hdChhLmNzcyhiLFwicGFkZGluZ1wiK3RoaXMpKXx8MCxkJiYoYy09cGFyc2VGbG9hdChhLmNzcyhiLFwiYm9yZGVyXCIrdGhpcytcIldpZHRoXCIpKXx8MCksZSYmKGMtPXBhcnNlRmxvYXQoYS5jc3MoYixcIm1hcmdpblwiK3RoaXMpKXx8MCl9KSxjfXZhciBmPVwiV2lkdGhcIj09PWQ/W1wiTGVmdFwiLFwiUmlnaHRcIl06W1wiVG9wXCIsXCJCb3R0b21cIl0sZz1kLnRvTG93ZXJDYXNlKCksaD17aW5uZXJXaWR0aDphLmZuLmlubmVyV2lkdGgsaW5uZXJIZWlnaHQ6YS5mbi5pbm5lckhlaWdodCxvdXRlcldpZHRoOmEuZm4ub3V0ZXJXaWR0aCxvdXRlckhlaWdodDphLmZuLm91dGVySGVpZ2h0fTthLmZuW1wiaW5uZXJcIitkXT1mdW5jdGlvbihjKXtyZXR1cm4gYz09PWI/aFtcImlubmVyXCIrZF0uY2FsbCh0aGlzKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmNzcyhnLGUodGhpcyxjKStcInB4XCIpfSl9LGEuZm5bXCJvdXRlclwiK2RdPWZ1bmN0aW9uKGIsYyl7cmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIGI/aFtcIm91dGVyXCIrZF0uY2FsbCh0aGlzLGIpOnRoaXMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY3NzKGcsZSh0aGlzLGIsITAsYykrXCJweFwiKX0pfX0pLGEuZm4uYWRkQmFja3x8KGEuZm4uYWRkQmFjaz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09YT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihhKSl9KSxhKFwiPGE+XCIpLmRhdGEoXCJhLWJcIixcImFcIikucmVtb3ZlRGF0YShcImEtYlwiKS5kYXRhKFwiYS1iXCIpJiYoYS5mbi5yZW1vdmVEYXRhPWZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9iLmNhbGwodGhpcyxhLmNhbWVsQ2FzZShjKSk6Yi5jYWxsKHRoaXMpfX0oYS5mbi5yZW1vdmVEYXRhKSksYS51aS5pZT0hIS9tc2llIFtcXHcuXSsvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKSxhLnN1cHBvcnQuc2VsZWN0c3RhcnQ9XCJvbnNlbGVjdHN0YXJ0XCJpbiBjLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksYS5mbi5leHRlbmQoe2Rpc2FibGVTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iaW5kKChhLnN1cHBvcnQuc2VsZWN0c3RhcnQ/XCJzZWxlY3RzdGFydFwiOlwibW91c2Vkb3duXCIpK1wiLnVpLWRpc2FibGVTZWxlY3Rpb25cIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCl9KX0sZW5hYmxlU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5iaW5kKFwiLnVpLWRpc2FibGVTZWxlY3Rpb25cIil9LHpJbmRleDpmdW5jdGlvbihkKXtpZihkIT09YilyZXR1cm4gdGhpcy5jc3MoXCJ6SW5kZXhcIixkKTtpZih0aGlzLmxlbmd0aClmb3IodmFyIGUsZixnPWEodGhpc1swXSk7Zy5sZW5ndGgmJmdbMF0hPT1jOyl7aWYoZT1nLmNzcyhcInBvc2l0aW9uXCIpLChcImFic29sdXRlXCI9PT1lfHxcInJlbGF0aXZlXCI9PT1lfHxcImZpeGVkXCI9PT1lKSYmKGY9cGFyc2VJbnQoZy5jc3MoXCJ6SW5kZXhcIiksMTApLCFpc05hTihmKSYmMCE9PWYpKXJldHVybiBmO2c9Zy5wYXJlbnQoKX1yZXR1cm4gMH19KSxhLnVpLnBsdWdpbj17YWRkOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmPWEudWlbYl0ucHJvdG90eXBlO2ZvcihlIGluIGQpZi5wbHVnaW5zW2VdPWYucGx1Z2luc1tlXXx8W10sZi5wbHVnaW5zW2VdLnB1c2goW2MsZFtlXV0pfSxjYWxsOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGY9YS5wbHVnaW5zW2JdO2lmKGYmJihkfHxhLmVsZW1lbnRbMF0ucGFyZW50Tm9kZSYmMTEhPT1hLmVsZW1lbnRbMF0ucGFyZW50Tm9kZS5ub2RlVHlwZSkpZm9yKGU9MDtlPGYubGVuZ3RoO2UrKylhLm9wdGlvbnNbZltlXVswXV0mJmZbZV1bMV0uYXBwbHkoYS5lbGVtZW50LGMpfX19KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9ZnVuY3Rpb24oYixjKXt2YXIgZD1iLnBhcmVudCgpLGU9W10sZj1mdW5jdGlvbigpe3ZhciBiPWEodGhpcyksYz1hLm1vYmlsZS50b29sYmFyJiZiLmRhdGEoXCJtb2JpbGUtdG9vbGJhclwiKT9iLnRvb2xiYXIoXCJvcHRpb25cIik6e3Bvc2l0aW9uOmIuYXR0cihcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJwb3NpdGlvblwiKSx1cGRhdGVQYWdlUGFkZGluZzpiLmF0dHIoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1widXBkYXRlLXBhZ2UtcGFkZGluZ1wiKSE9PSExfTtyZXR1cm4hKFwiZml4ZWRcIj09PWMucG9zaXRpb24mJmMudXBkYXRlUGFnZVBhZGRpbmc9PT0hMCl9LGc9ZC5jaGlsZHJlbihcIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpXCIpLmZpbHRlcihmKSxoPWIuY2hpbGRyZW4oXCI6anFtRGF0YShyb2xlPSdoZWFkZXInKVwiKSxpPWQuY2hpbGRyZW4oXCI6anFtRGF0YShyb2xlPSdmb290ZXInKVwiKS5maWx0ZXIoZiksaj1iLmNoaWxkcmVuKFwiOmpxbURhdGEocm9sZT0nZm9vdGVyJylcIik7cmV0dXJuIDA9PT1oLmxlbmd0aCYmZy5sZW5ndGg+MCYmKGU9ZS5jb25jYXQoZy50b0FycmF5KCkpKSwwPT09ai5sZW5ndGgmJmkubGVuZ3RoPjAmJihlPWUuY29uY2F0KGkudG9BcnJheSgpKSksYS5lYWNoKGUsZnVuY3Rpb24oYixkKXtjLT1hKGQpLm91dGVySGVpZ2h0KCl9KSxNYXRoLm1heCgwLGMpfTthLmV4dGVuZChhLm1vYmlsZSx7d2luZG93OmEoYiksZG9jdW1lbnQ6YShjKSxrZXlDb2RlOmEudWkua2V5Q29kZSxiZWhhdmlvcnM6e30sc2lsZW50U2Nyb2xsOmZ1bmN0aW9uKGMpe1wibnVtYmVyXCIhPT1hLnR5cGUoYykmJihjPWEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsKSxhLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5zY3JvbGxUbygwLGMpLGEubW9iaWxlLmRvY3VtZW50LnRyaWdnZXIoXCJzaWxlbnRzY3JvbGxcIix7eDowLHk6Y30pfSwyMCksc2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSEwfSwxNTApfSxnZXRDbG9zZXN0QmFzZVVybDpmdW5jdGlvbihiKXt2YXIgYz1hKGIpLmNsb3Nlc3QoXCIudWktcGFnZVwiKS5qcW1EYXRhKFwidXJsXCIpLGQ9YS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaDtyZXR1cm4gYS5tb2JpbGUuZHluYW1pY0Jhc2VFbmFibGVkJiZjJiZhLm1vYmlsZS5wYXRoLmlzUGF0aChjKXx8KGM9ZCksYS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoYyxkKX0scmVtb3ZlQWN0aXZlTGlua0NsYXNzOmZ1bmN0aW9uKGIpeyFhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGlua3x8YS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmsuY2xvc2VzdChcIi5cIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLmxlbmd0aCYmIWJ8fGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGluaz1udWxsfSxnZXRJbmhlcml0ZWRUaGVtZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkLGU9YVswXSxmPVwiXCIsZz0vdWktKGJhcnxib2R5fG92ZXJsYXkpLShbYS16XSlcXGIvO2UmJihjPWUuY2xhc3NOYW1lfHxcIlwiLCEoYyYmKGQ9Zy5leGVjKGMpKSYmKGY9ZFsyXSkpKTspZT1lLnBhcmVudE5vZGU7cmV0dXJuIGZ8fGJ8fFwiYVwifSxlbmhhbmNlYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhhLFwiZW5oYW5jZVwiKX0saGlqYWNrYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhhLFwiYWpheFwiKX0saGF2ZVBhcmVudHM6ZnVuY3Rpb24oYixjKXtpZighYS5tb2JpbGUuaWdub3JlQ29udGVudEVuYWJsZWQpcmV0dXJuIGI7dmFyIGQsZSxmLGcsaCxpPWIubGVuZ3RoLGo9YSgpO2ZvcihnPTA7aT5nO2crKyl7Zm9yKGU9Yi5lcShnKSxmPSExLGQ9YltnXTtkOyl7aWYoaD1kLmdldEF0dHJpYnV0ZT9kLmdldEF0dHJpYnV0ZShcImRhdGEtXCIrYS5tb2JpbGUubnMrYyk6XCJcIixcImZhbHNlXCI9PT1oKXtmPSEwO2JyZWFrfWQ9ZC5wYXJlbnROb2RlfWZ8fChqPWouYWRkKGUpKX1yZXR1cm4gan0sZ2V0U2NyZWVuSGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuaW5uZXJIZWlnaHR8fGEubW9iaWxlLndpbmRvdy5oZWlnaHQoKX0scmVzZXRBY3RpdmVQYWdlSGVpZ2h0OmZ1bmN0aW9uKGIpe3ZhciBjPWEoXCIuXCIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKSxlPWMuaGVpZ2h0KCksZj1jLm91dGVySGVpZ2h0KCEwKTtiPWQoYyxcIm51bWJlclwiPT10eXBlb2YgYj9iOmEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpKSxjLmNzcyhcIm1pbi1oZWlnaHRcIixcIlwiKSxjLmhlaWdodCgpPGImJmMuY3NzKFwibWluLWhlaWdodFwiLGItKGYtZSkpfSxsb2FkaW5nOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5sb2FkaW5nLl93aWRnZXR8fGEoYS5tb2JpbGUubG9hZGVyLnByb3RvdHlwZS5kZWZhdWx0SHRtbCkubG9hZGVyKCksYz1iLmxvYWRlci5hcHBseShiLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMubG9hZGluZy5fd2lkZ2V0PWIsY319KSxhLmFkZERlcGVuZGVudHM9ZnVuY3Rpb24oYixjKXt2YXIgZD1hKGIpLGU9ZC5qcW1EYXRhKFwiZGVwZW5kZW50c1wiKXx8YSgpO2QuanFtRGF0YShcImRlcGVuZGVudHNcIixhKGUpLmFkZChjKSl9LGEuZm4uZXh0ZW5kKHtyZW1vdmVXaXRoRGVwZW5kZW50czpmdW5jdGlvbigpe2EucmVtb3ZlV2l0aERlcGVuZGVudHModGhpcyl9LGVuaGFuY2VXaXRoaW46ZnVuY3Rpb24oKXt2YXIgYixjPXt9LGQ9YS5tb2JpbGUucGFnZS5wcm90b3R5cGUua2VlcE5hdGl2ZVNlbGVjdG9yKCksZT10aGlzO2EubW9iaWxlLm5vanMmJmEubW9iaWxlLm5vanModGhpcyksYS5tb2JpbGUubGlua3MmJmEubW9iaWxlLmxpbmtzKHRoaXMpLGEubW9iaWxlLmRlZ3JhZGVJbnB1dHNXaXRoaW4mJmEubW9iaWxlLmRlZ3JhZGVJbnB1dHNXaXRoaW4odGhpcyksYS5mbi5idXR0b25NYXJrdXAmJnRoaXMuZmluZChhLmZuLmJ1dHRvbk1hcmt1cC5pbml0U2VsZWN0b3IpLm5vdChkKS5qcW1FbmhhbmNlYWJsZSgpLmJ1dHRvbk1hcmt1cCgpLGEuZm4uZmllbGRjb250YWluJiZ0aGlzLmZpbmQoXCI6anFtRGF0YShyb2xlPSdmaWVsZGNvbnRhaW4nKVwiKS5ub3QoZCkuanFtRW5oYW5jZWFibGUoKS5maWVsZGNvbnRhaW4oKSxhLmVhY2goYS5tb2JpbGUud2lkZ2V0cyxmdW5jdGlvbihiLGYpe2lmKGYuaW5pdFNlbGVjdG9yKXt2YXIgZz1hLm1vYmlsZS5lbmhhbmNlYWJsZShlLmZpbmQoZi5pbml0U2VsZWN0b3IpKTtnLmxlbmd0aD4wJiYoZz1nLm5vdChkKSksZy5sZW5ndGg+MCYmKGNbZi5wcm90b3R5cGUud2lkZ2V0TmFtZV09Zyl9fSk7Zm9yKGIgaW4gYyljW2JdW2JdKCk7cmV0dXJuIHRoaXN9LGFkZERlcGVuZGVudHM6ZnVuY3Rpb24oYil7YS5hZGREZXBlbmRlbnRzKHRoaXMsYil9LGdldEVuY29kZWRUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoXCI8YT5cIikudGV4dCh0aGlzLnRleHQoKSkuaHRtbCgpfSxqcW1FbmhhbmNlYWJsZTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5lbmhhbmNlYWJsZSh0aGlzKX0sanFtSGlqYWNrYWJsZTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oaWphY2thYmxlKHRoaXMpfX0pLGEucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24oYil7dmFyIGM9YShiKTsoYy5qcW1EYXRhKFwiZGVwZW5kZW50c1wiKXx8YSgpKS5yZW1vdmUoKSxjLnJlbW92ZSgpfSxhLmFkZERlcGVuZGVudHM9ZnVuY3Rpb24oYixjKXt2YXIgZD1hKGIpLGU9ZC5qcW1EYXRhKFwiZGVwZW5kZW50c1wiKXx8YSgpO2QuanFtRGF0YShcImRlcGVuZGVudHNcIixhKGUpLmFkZChjKSl9LGEuZmluZC5tYXRjaGVzPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChiLG51bGwsbnVsbCxjKX0sYS5maW5kLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihiLGMpe3JldHVybiBhLmZpbmQoYyxudWxsLG51bGwsW2JdKS5sZW5ndGg+MH19KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5leHRlbmQoYS5tb2JpbGUse3ZlcnNpb246XCIxLjQuNVwiLHN1YlBhZ2VVcmxLZXk6XCJ1aS1wYWdlXCIsaGlkZVVybEJhcjohMCxrZWVwTmF0aXZlOlwiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJylcIixhY3RpdmVQYWdlQ2xhc3M6XCJ1aS1wYWdlLWFjdGl2ZVwiLGFjdGl2ZUJ0bkNsYXNzOlwidWktYnRuLWFjdGl2ZVwiLGZvY3VzQ2xhc3M6XCJ1aS1mb2N1c1wiLGFqYXhFbmFibGVkOiEwLGhhc2hMaXN0ZW5pbmdFbmFibGVkOiEwLGxpbmtCaW5kaW5nRW5hYmxlZDohMCxkZWZhdWx0UGFnZVRyYW5zaXRpb246XCJmYWRlXCIsbWF4VHJhbnNpdGlvbldpZHRoOiExLG1pblNjcm9sbEJhY2s6MCxkZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjpcInBvcFwiLHBhZ2VMb2FkRXJyb3JNZXNzYWdlOlwiRXJyb3IgTG9hZGluZyBQYWdlXCIscGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZTpcImFcIixwaG9uZWdhcE5hdmlnYXRpb25FbmFibGVkOiExLGF1dG9Jbml0aWFsaXplUGFnZTohMCxwdXNoU3RhdGVFbmFibGVkOiEwLGlnbm9yZUNvbnRlbnRFbmFibGVkOiExLGJ1dHRvbk1hcmt1cDp7aG92ZXJEZWxheToyMDB9LGR5bmFtaWNCYXNlRW5hYmxlZDohMCxwYWdlQ29udGFpbmVyOmEoKSxhbGxvd0Nyb3NzRG9tYWluUGFnZXM6ITEsZGlhbG9nSGFzaEtleTpcIiZ1aS1zdGF0ZT1kaWFsb2dcIn0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7dmFyIGM9MCxkPUFycmF5LnByb3RvdHlwZS5zbGljZSxlPWEuY2xlYW5EYXRhO2EuY2xlYW5EYXRhPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYyxkPTA7bnVsbCE9KGM9YltkXSk7ZCsrKXRyeXthKGMpLnRyaWdnZXJIYW5kbGVyKFwicmVtb3ZlXCIpfWNhdGNoKGYpe31lKGIpfSxhLndpZGdldD1mdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGgsaT17fSxqPWIuc3BsaXQoXCIuXCIpWzBdO3JldHVybiBiPWIuc3BsaXQoXCIuXCIpWzFdLGU9aitcIi1cIitiLGR8fChkPWMsYz1hLldpZGdldCksYS5leHByW1wiOlwiXVtlLnRvTG93ZXJDYXNlKCldPWZ1bmN0aW9uKGIpe3JldHVybiEhYS5kYXRhKGIsZSl9LGFbal09YVtqXXx8e30sZj1hW2pdW2JdLGc9YVtqXVtiXT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl9jcmVhdGVXaWRnZXQ/dm9pZChhcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoYSxiKSk6bmV3IGcoYSxiKX0sYS5leHRlbmQoZyxmLHt2ZXJzaW9uOmQudmVyc2lvbixfcHJvdG86YS5leHRlbmQoe30sZCksX2NoaWxkQ29uc3RydWN0b3JzOltdfSksaD1uZXcgYyxoLm9wdGlvbnM9YS53aWRnZXQuZXh0ZW5kKHt9LGgub3B0aW9ucyksYS5lYWNoKGQsZnVuY3Rpb24oYixkKXtyZXR1cm4gYS5pc0Z1bmN0aW9uKGQpP3ZvaWQoaVtiXT1mdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKCl7cmV0dXJuIGMucHJvdG90eXBlW2JdLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZT1mdW5jdGlvbihhKXtyZXR1cm4gYy5wcm90b3R5cGVbYl0uYXBwbHkodGhpcyxhKX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGIsYz10aGlzLl9zdXBlcixmPXRoaXMuX3N1cGVyQXBwbHk7cmV0dXJuIHRoaXMuX3N1cGVyPWEsdGhpcy5fc3VwZXJBcHBseT1lLGI9ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fc3VwZXI9Yyx0aGlzLl9zdXBlckFwcGx5PWYsYn19KCkpOnZvaWQoaVtiXT1kKX0pLGcucHJvdG90eXBlPWEud2lkZ2V0LmV4dGVuZChoLHt3aWRnZXRFdmVudFByZWZpeDpmP2gud2lkZ2V0RXZlbnRQcmVmaXh8fGI6Yn0saSx7Y29uc3RydWN0b3I6ZyxuYW1lc3BhY2U6aix3aWRnZXROYW1lOmIsd2lkZ2V0RnVsbE5hbWU6ZX0pLGY/KGEuZWFjaChmLl9jaGlsZENvbnN0cnVjdG9ycyxmdW5jdGlvbihiLGMpe3ZhciBkPWMucHJvdG90eXBlO2Eud2lkZ2V0KGQubmFtZXNwYWNlK1wiLlwiK2Qud2lkZ2V0TmFtZSxnLGMuX3Byb3RvKX0pLGRlbGV0ZSBmLl9jaGlsZENvbnN0cnVjdG9ycyk6Yy5fY2hpbGRDb25zdHJ1Y3RvcnMucHVzaChnKSxhLndpZGdldC5icmlkZ2UoYixnKSxnfSxhLndpZGdldC5leHRlbmQ9ZnVuY3Rpb24oYyl7Zm9yKHZhciBlLGYsZz1kLmNhbGwoYXJndW1lbnRzLDEpLGg9MCxpPWcubGVuZ3RoO2k+aDtoKyspZm9yKGUgaW4gZ1toXSlmPWdbaF1bZV0sZ1toXS5oYXNPd25Qcm9wZXJ0eShlKSYmZiE9PWImJihjW2VdPWEuaXNQbGFpbk9iamVjdChmKT9hLmlzUGxhaW5PYmplY3QoY1tlXSk/YS53aWRnZXQuZXh0ZW5kKHt9LGNbZV0sZik6YS53aWRnZXQuZXh0ZW5kKHt9LGYpOmYpO3JldHVybiBjfSxhLndpZGdldC5icmlkZ2U9ZnVuY3Rpb24oYyxlKXt2YXIgZj1lLnByb3RvdHlwZS53aWRnZXRGdWxsTmFtZXx8YzthLmZuW2NdPWZ1bmN0aW9uKGcpe3ZhciBoPVwic3RyaW5nXCI9PXR5cGVvZiBnLGk9ZC5jYWxsKGFyZ3VtZW50cywxKSxqPXRoaXM7cmV0dXJuIGc9IWgmJmkubGVuZ3RoP2Eud2lkZ2V0LmV4dGVuZC5hcHBseShudWxsLFtnXS5jb25jYXQoaSkpOmcsdGhpcy5lYWNoKGg/ZnVuY3Rpb24oKXt2YXIgZCxlPWEuZGF0YSh0aGlzLGYpO3JldHVyblwiaW5zdGFuY2VcIj09PWc/KGo9ZSwhMSk6ZT9hLmlzRnVuY3Rpb24oZVtnXSkmJlwiX1wiIT09Zy5jaGFyQXQoMCk/KGQ9ZVtnXS5hcHBseShlLGkpLGQhPT1lJiZkIT09Yj8oaj1kJiZkLmpxdWVyeT9qLnB1c2hTdGFjayhkLmdldCgpKTpkLCExKTp2b2lkIDApOmEuZXJyb3IoXCJubyBzdWNoIG1ldGhvZCAnXCIrZytcIicgZm9yIFwiK2MrXCIgd2lkZ2V0IGluc3RhbmNlXCIpOmEuZXJyb3IoXCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uIFwiK2MrXCIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IGF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnXCIrZytcIidcIil9OmZ1bmN0aW9uKCl7dmFyIGI9YS5kYXRhKHRoaXMsZik7Yj9iLm9wdGlvbihnfHx7fSkuX2luaXQoKTphLmRhdGEodGhpcyxmLG5ldyBlKGcsdGhpcykpfSksan19LGEuV2lkZ2V0PWZ1bmN0aW9uKCl7fSxhLldpZGdldC5fY2hpbGRDb25zdHJ1Y3RvcnM9W10sYS5XaWRnZXQucHJvdG90eXBlPXt3aWRnZXROYW1lOlwid2lkZ2V0XCIsd2lkZ2V0RXZlbnRQcmVmaXg6XCJcIixkZWZhdWx0RWxlbWVudDpcIjxkaXY+XCIsb3B0aW9uczp7ZGlzYWJsZWQ6ITEsY3JlYXRlOm51bGx9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oYixkKXtkPWEoZHx8dGhpcy5kZWZhdWx0RWxlbWVudHx8dGhpcylbMF0sdGhpcy5lbGVtZW50PWEoZCksdGhpcy51dWlkPWMrKyx0aGlzLmV2ZW50TmFtZXNwYWNlPVwiLlwiK3RoaXMud2lkZ2V0TmFtZSt0aGlzLnV1aWQsdGhpcy5vcHRpb25zPWEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLGIpLHRoaXMuYmluZGluZ3M9YSgpLHRoaXMuaG92ZXJhYmxlPWEoKSx0aGlzLmZvY3VzYWJsZT1hKCksZCE9PXRoaXMmJihhLmRhdGEoZCx0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKGEpe2EudGFyZ2V0PT09ZCYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1hKGQuc3R5bGU/ZC5vd25lckRvY3VtZW50OmQuZG9jdW1lbnR8fGQpLHRoaXMud2luZG93PWEodGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKSx0aGlzLl9jcmVhdGUoKSx0aGlzLl90cmlnZ2VyKFwiY3JlYXRlXCIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksdGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczphLm5vb3AsX2dldENyZWF0ZUV2ZW50RGF0YTphLm5vb3AsX2NyZWF0ZTphLm5vb3AsX2luaXQ6YS5ub29wLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kZXN0cm95KCksdGhpcy5lbGVtZW50LnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0RnVsbE5hbWUpLnJlbW92ZURhdGEoYS5jYW1lbENhc2UodGhpcy53aWRnZXRGdWxsTmFtZSkpLHRoaXMud2lkZ2V0KCkudW5iaW5kKHRoaXMuZXZlbnROYW1lc3BhY2UpLnJlbW92ZUF0dHIoXCJhcmlhLWRpc2FibGVkXCIpLnJlbW92ZUNsYXNzKHRoaXMud2lkZ2V0RnVsbE5hbWUrXCItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWRcIiksdGhpcy5iaW5kaW5ncy51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1ob3ZlclwiKSx0aGlzLmZvY3VzYWJsZS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWZvY3VzXCIpfSxfZGVzdHJveTphLm5vb3Asd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sb3B0aW9uOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZixnLGg9YztpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gYS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGMpaWYoaD17fSxlPWMuc3BsaXQoXCIuXCIpLGM9ZS5zaGlmdCgpLGUubGVuZ3RoKXtmb3IoZj1oW2NdPWEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnNbY10pLGc9MDtnPGUubGVuZ3RoLTE7ZysrKWZbZVtnXV09ZltlW2ddXXx8e30sZj1mW2VbZ11dO2lmKGM9ZS5wb3AoKSxkPT09YilyZXR1cm4gZltjXT09PWI/bnVsbDpmW2NdO2ZbY109ZH1lbHNle2lmKGQ9PT1iKXJldHVybiB0aGlzLm9wdGlvbnNbY109PT1iP251bGw6dGhpcy5vcHRpb25zW2NdO2hbY109ZH1yZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyhoKSx0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXRoaXMuX3NldE9wdGlvbihiLGFbYl0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub3B0aW9uc1thXT1iLFwiZGlzYWJsZWRcIj09PWEmJih0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKHRoaXMud2lkZ2V0RnVsbE5hbWUrXCItZGlzYWJsZWRcIiwhIWIpLHRoaXMuaG92ZXJhYmxlLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtaG92ZXJcIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1mb2N1c1wiKSksdGhpc30sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoe2Rpc2FibGVkOiExfSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITB9KX0sX29uOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmPXRoaXM7XCJib29sZWFuXCIhPXR5cGVvZiBiJiYoZD1jLGM9YixiPSExKSxkPyhjPWU9YShjKSx0aGlzLmJpbmRpbmdzPXRoaXMuYmluZGluZ3MuYWRkKGMpKTooZD1jLGM9dGhpcy5lbGVtZW50LGU9dGhpcy53aWRnZXQoKSksYS5lYWNoKGQsZnVuY3Rpb24oZCxnKXtmdW5jdGlvbiBoKCl7cmV0dXJuIGJ8fGYub3B0aW9ucy5kaXNhYmxlZCE9PSEwJiYhYSh0aGlzKS5oYXNDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIpPyhcInN0cmluZ1wiPT10eXBlb2YgZz9mW2ddOmcpLmFwcGx5KGYsYXJndW1lbnRzKTp2b2lkIDB9XCJzdHJpbmdcIiE9dHlwZW9mIGcmJihoLmd1aWQ9Zy5ndWlkPWcuZ3VpZHx8aC5ndWlkfHxhLmd1aWQrKyk7dmFyIGk9ZC5tYXRjaCgvXihcXHcrKVxccyooLiopJC8pLGo9aVsxXStmLmV2ZW50TmFtZXNwYWNlLGs9aVsyXTtrP2UuZGVsZWdhdGUoayxqLGgpOmMuYmluZChqLGgpfSl9LF9vZmY6ZnVuY3Rpb24oYSxiKXtiPShifHxcIlwiKS5zcGxpdChcIiBcIikuam9pbih0aGlzLmV2ZW50TmFtZXNwYWNlK1wiIFwiKSt0aGlzLmV2ZW50TmFtZXNwYWNlLGEudW5iaW5kKGIpLnVuZGVsZWdhdGUoYil9LF9kZWxheTpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4oXCJzdHJpbmdcIj09dHlwZW9mIGE/ZFthXTphKS5hcHBseShkLGFyZ3VtZW50cyl9dmFyIGQ9dGhpcztyZXR1cm4gc2V0VGltZW91dChjLGJ8fDApfSxfaG92ZXJhYmxlOmZ1bmN0aW9uKGIpe3RoaXMuaG92ZXJhYmxlPXRoaXMuaG92ZXJhYmxlLmFkZChiKSx0aGlzLl9vbihiLHttb3VzZWVudGVyOmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcyhcInVpLXN0YXRlLWhvdmVyXCIpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWhvdmVyXCIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKGIpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZChiKSx0aGlzLl9vbihiLHtmb2N1c2luOmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcyhcInVpLXN0YXRlLWZvY3VzXCIpfSxmb2N1c291dDpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1mb2N1c1wiKX19KX0sX3RyaWdnZXI6ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZz10aGlzLm9wdGlvbnNbYl07aWYoZD1kfHx7fSxjPWEuRXZlbnQoYyksYy50eXBlPShiPT09dGhpcy53aWRnZXRFdmVudFByZWZpeD9iOnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrYikudG9Mb3dlckNhc2UoKSxjLnRhcmdldD10aGlzLmVsZW1lbnRbMF0sZj1jLm9yaWdpbmFsRXZlbnQpZm9yKGUgaW4gZillIGluIGN8fChjW2VdPWZbZV0pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihjLGQpLCEoYS5pc0Z1bmN0aW9uKGcpJiZnLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbY10uY29uY2F0KGQpKT09PSExfHxjLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19LGEuZWFjaCh7c2hvdzpcImZhZGVJblwiLGhpZGU6XCJmYWRlT3V0XCJ9LGZ1bmN0aW9uKGIsYyl7YS5XaWRnZXQucHJvdG90eXBlW1wiX1wiK2JdPWZ1bmN0aW9uKGQsZSxmKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9e2VmZmVjdDplfSk7dmFyIGcsaD1lP2U9PT0hMHx8XCJudW1iZXJcIj09dHlwZW9mIGU/YzplLmVmZmVjdHx8YzpiO2U9ZXx8e30sXCJudW1iZXJcIj09dHlwZW9mIGUmJihlPXtkdXJhdGlvbjplfSksZz0hYS5pc0VtcHR5T2JqZWN0KGUpLGUuY29tcGxldGU9ZixlLmRlbGF5JiZkLmRlbGF5KGUuZGVsYXkpLGcmJmEuZWZmZWN0cyYmYS5lZmZlY3RzLmVmZmVjdFtoXT9kW2JdKGUpOmghPT1iJiZkW2hdP2RbaF0oZS5kdXJhdGlvbixlLmVhc2luZyxmKTpkLnF1ZXVlKGZ1bmN0aW9uKGMpe2EodGhpcylbYl0oKSxmJiZmLmNhbGwoZFswXSksYygpfSl9fSl9KGEpLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD17fSxlPWEuZmluZCxmPS8oPzpcXHtbXFxzXFxTXSpcXH18XFxbW1xcc1xcU10qXFxdKSQvLGc9LzpqcW1EYXRhXFwoKFteKV0qKVxcKS9nO2EuZXh0ZW5kKGEubW9iaWxlLHtuczpcIlwiLGdldEF0dHJpYnV0ZTpmdW5jdGlvbihiLGMpe3ZhciBkO2I9Yi5qcXVlcnk/YlswXTpiLGImJmIuZ2V0QXR0cmlidXRlJiYoZD1iLmdldEF0dHJpYnV0ZShcImRhdGEtXCIrYS5tb2JpbGUubnMrYykpO3RyeXtkPVwidHJ1ZVwiPT09ZD8hMDpcImZhbHNlXCI9PT1kPyExOlwibnVsbFwiPT09ZD9udWxsOitkK1wiXCI9PT1kPytkOmYudGVzdChkKT9KU09OLnBhcnNlKGQpOmR9Y2F0Y2goZSl7fXJldHVybiBkfSxuc05vcm1hbGl6ZURpY3Q6ZCxuc05vcm1hbGl6ZTpmdW5jdGlvbihiKXtyZXR1cm4gZFtiXXx8KGRbYl09YS5jYW1lbENhc2UoYS5tb2JpbGUubnMrYikpfSxjbG9zZXN0UGFnZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvc2VzdChcIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJylcIikuZGF0YShcIm1vYmlsZS1wYWdlXCIpfX0pLGEuZm4uanFtRGF0YT1mdW5jdGlvbihiLGQpe3ZhciBlO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBiJiYoYiYmKGI9YS5tb2JpbGUubnNOb3JtYWxpemUoYikpLGU9YXJndW1lbnRzLmxlbmd0aDwyfHxkPT09Yz90aGlzLmRhdGEoYik6dGhpcy5kYXRhKGIsZCkpLGV9LGEuanFtRGF0YT1mdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGMmJihlPWEuZGF0YShiLGM/YS5tb2JpbGUubnNOb3JtYWxpemUoYyk6YyxkKSksZX0sYS5mbi5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnJlbW92ZURhdGEoYS5tb2JpbGUubnNOb3JtYWxpemUoYikpfSxhLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5yZW1vdmVEYXRhKGIsYS5tb2JpbGUubnNOb3JtYWxpemUoYykpfSxhLmZpbmQ9ZnVuY3Rpb24oYixjLGQsZil7cmV0dXJuIGIuaW5kZXhPZihcIjpqcW1EYXRhXCIpPi0xJiYoYj1iLnJlcGxhY2UoZyxcIltkYXRhLVwiKyhhLm1vYmlsZS5uc3x8XCJcIikrXCIkMV1cIikpLGUuY2FsbCh0aGlzLGIsYyxkLGYpfSxhLmV4dGVuZChhLmZpbmQsZSl9KGEsdGhpcyksZnVuY3Rpb24oYSl7dmFyIGI9L1tBLVpdL2csYz1mdW5jdGlvbihhKXtyZXR1cm5cIi1cIithLnRvTG93ZXJDYXNlKCl9O2EuZXh0ZW5kKGEuV2lkZ2V0LnByb3RvdHlwZSx7X2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgZCxlLGY9dGhpcy5lbGVtZW50WzBdLGc9e307aWYoIWEubW9iaWxlLmdldEF0dHJpYnV0ZShmLFwiZGVmYXVsdHNcIikpZm9yKGQgaW4gdGhpcy5vcHRpb25zKWU9YS5tb2JpbGUuZ2V0QXR0cmlidXRlKGYsZC5yZXBsYWNlKGIsYykpLG51bGwhPWUmJihnW2RdPWUpO3JldHVybiBnfX0pLGEubW9iaWxlLndpZGdldD1hLldpZGdldH0oYSksZnVuY3Rpb24oYSl7dmFyIGI9XCJ1aS1sb2FkZXJcIixjPWEoXCJodG1sXCIpO2Eud2lkZ2V0KFwibW9iaWxlLmxvYWRlclwiLHtvcHRpb25zOnt0aGVtZTpcImFcIix0ZXh0VmlzaWJsZTohMSxodG1sOlwiXCIsdGV4dDpcImxvYWRpbmdcIn0sZGVmYXVsdEh0bWw6XCI8ZGl2IGNsYXNzPSdcIitiK1wiJz48c3BhbiBjbGFzcz0ndWktaWNvbi1sb2FkaW5nJz48L3NwYW4+PGgxPjwvaDE+PC9kaXY+XCIsZmFrZUZpeExvYWRlcjpmdW5jdGlvbigpe3ZhciBiPWEoXCIuXCIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmZpcnN0KCk7dGhpcy5lbGVtZW50LmNzcyh7dG9wOmEuc3VwcG9ydC5zY3JvbGxUb3AmJnRoaXMud2luZG93LnNjcm9sbFRvcCgpK3RoaXMud2luZG93LmhlaWdodCgpLzJ8fGIubGVuZ3RoJiZiLm9mZnNldCgpLnRvcHx8MTAwfSl9LGNoZWNrTG9hZGVyUG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQub2Zmc2V0KCksYz10aGlzLndpbmRvdy5zY3JvbGxUb3AoKSxkPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpOyhiLnRvcDxjfHxiLnRvcC1jPmQpJiYodGhpcy5lbGVtZW50LmFkZENsYXNzKFwidWktbG9hZGVyLWZha2VmaXhcIiksdGhpcy5mYWtlRml4TG9hZGVyKCksdGhpcy53aW5kb3cudW5iaW5kKFwic2Nyb2xsXCIsdGhpcy5jaGVja0xvYWRlclBvc2l0aW9uKS5iaW5kKFwic2Nyb2xsXCIsYS5wcm94eSh0aGlzLmZha2VGaXhMb2FkZXIsdGhpcykpKX0scmVzZXRIdG1sOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lmh0bWwoYSh0aGlzLmRlZmF1bHRIdG1sKS5odG1sKCkpfSxzaG93OmZ1bmN0aW9uKGQsZSxmKXt2YXIgZyxoLGk7dGhpcy5yZXNldEh0bWwoKSxcIm9iamVjdFwiPT09YS50eXBlKGQpPyhpPWEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxkKSxkPWkudGhlbWUpOihpPXRoaXMub3B0aW9ucyxkPWR8fGkudGhlbWUpLGg9ZXx8KGkudGV4dD09PSExP1wiXCI6aS50ZXh0KSxjLmFkZENsYXNzKFwidWktbG9hZGluZ1wiKSxnPWkudGV4dFZpc2libGUsdGhpcy5lbGVtZW50LmF0dHIoXCJjbGFzc1wiLGIrXCIgdWktY29ybmVyLWFsbCB1aS1ib2R5LVwiK2QrXCIgdWktbG9hZGVyLVwiKyhnfHxlfHxkLnRleHQ/XCJ2ZXJib3NlXCI6XCJkZWZhdWx0XCIpKyhpLnRleHRvbmx5fHxmP1wiIHVpLWxvYWRlci10ZXh0b25seVwiOlwiXCIpKSxpLmh0bWw/dGhpcy5lbGVtZW50Lmh0bWwoaS5odG1sKTp0aGlzLmVsZW1lbnQuZmluZChcImgxXCIpLnRleHQoaCksdGhpcy5lbGVtZW50LmFwcGVuZFRvKGEoYS5tb2JpbGUucGFnZWNvbnRhaW5lcj9cIjptb2JpbGUtcGFnZWNvbnRhaW5lclwiOlwiYm9keVwiKSksdGhpcy5jaGVja0xvYWRlclBvc2l0aW9uKCksdGhpcy53aW5kb3cuYmluZChcInNjcm9sbFwiLGEucHJveHkodGhpcy5jaGVja0xvYWRlclBvc2l0aW9uLHRoaXMpKX0saGlkZTpmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoXCJ1aS1sb2FkaW5nXCIpLHRoaXMub3B0aW9ucy50ZXh0JiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS1sb2FkZXItZmFrZWZpeFwiKSx0aGlzLndpbmRvdy51bmJpbmQoXCJzY3JvbGxcIix0aGlzLmZha2VGaXhMb2FkZXIpLHRoaXMud2luZG93LnVuYmluZChcInNjcm9sbFwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbil9fSl9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGQpe1wiJDpub211bmdlXCI7ZnVuY3Rpb24gZShhKXtyZXR1cm4gYT1hfHxsb2NhdGlvbi5ocmVmLFwiI1wiK2EucmVwbGFjZSgvXlteI10qIz8oLiopJC8sXCIkMVwiKX12YXIgZixnPVwiaGFzaGNoYW5nZVwiLGg9YyxpPWEuZXZlbnQuc3BlY2lhbCxqPWguZG9jdW1lbnRNb2RlLGs9XCJvblwiK2cgaW4gYiYmKGo9PT1kfHxqPjcpO2EuZm5bZ109ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5iaW5kKGcsYSk6dGhpcy50cmlnZ2VyKGcpfSxhLmZuW2ddLmRlbGF5PTUwLGlbZ109YS5leHRlbmQoaVtnXSx7c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gaz8hMTp2b2lkIGEoZi5zdGFydCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIGs/ITE6dm9pZCBhKGYuc3RvcCl9fSksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGMoKXt2YXIgZD1lKCksaD1uKGopO2QhPT1qPyhtKGo9ZCxoKSxhKGIpLnRyaWdnZXIoZykpOmghPT1qJiYobG9jYXRpb24uaHJlZj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyMuKi8sXCJcIikraCksZj1zZXRUaW1lb3V0KGMsYS5mbltnXS5kZWxheSl9dmFyIGYsaT17fSxqPWUoKSxsPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxtPWwsbj1sO3JldHVybiBpLnN0YXJ0PWZ1bmN0aW9uKCl7Znx8YygpfSxpLnN0b3A9ZnVuY3Rpb24oKXtmJiZjbGVhclRpbWVvdXQoZiksZj1kfSxiLmF0dGFjaEV2ZW50JiYhYi5hZGRFdmVudExpc3RlbmVyJiYhayYmZnVuY3Rpb24oKXt2YXIgYixkO2kuc3RhcnQ9ZnVuY3Rpb24oKXtifHwoZD1hLmZuW2ddLnNyYyxkPWQmJmQrZSgpLGI9YSgnPGlmcmFtZSB0YWJpbmRleD1cIi0xXCIgdGl0bGU9XCJlbXB0eVwiLz4nKS5oaWRlKCkub25lKFwibG9hZFwiLGZ1bmN0aW9uKCl7ZHx8bShlKCkpLGMoKX0pLmF0dHIoXCJzcmNcIixkfHxcImphdmFzY3JpcHQ6MFwiKS5pbnNlcnRBZnRlcihcImJvZHlcIilbMF0uY29udGVudFdpbmRvdyxoLm9ucHJvcGVydHljaGFuZ2U9ZnVuY3Rpb24oKXt0cnl7XCJ0aXRsZVwiPT09ZXZlbnQucHJvcGVydHlOYW1lJiYoYi5kb2N1bWVudC50aXRsZT1oLnRpdGxlKX1jYXRjaChhKXt9fSl9LGkuc3RvcD1sLG49ZnVuY3Rpb24oKXtyZXR1cm4gZShiLmxvY2F0aW9uLmhyZWYpfSxtPWZ1bmN0aW9uKGMsZCl7dmFyIGU9Yi5kb2N1bWVudCxmPWEuZm5bZ10uZG9tYWluO2MhPT1kJiYoZS50aXRsZT1oLnRpdGxlLGUub3BlbigpLGYmJmUud3JpdGUoJzxzY3JpcHQ+ZG9jdW1lbnQuZG9tYWluPVwiJytmKydcIjwvc2NyaXB0PicpLGUuY2xvc2UoKSxiLmxvY2F0aW9uLmhhc2g9Yyl9fSgpLGl9KCl9KGEsdGhpcyksZnVuY3Rpb24oYSl7Yi5tYXRjaE1lZGlhPWIubWF0Y2hNZWRpYXx8ZnVuY3Rpb24oYSl7dmFyIGIsYz1hLmRvY3VtZW50RWxlbWVudCxkPWMuZmlyc3RFbGVtZW50Q2hpbGR8fGMuZmlyc3RDaGlsZCxlPWEuY3JlYXRlRWxlbWVudChcImJvZHlcIiksZj1hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGYuaWQ9XCJtcS10ZXN0LTFcIixmLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTEwMGVtXCIsZS5zdHlsZS5iYWNrZ3JvdW5kPVwibm9uZVwiLGUuYXBwZW5kQ2hpbGQoZiksZnVuY3Rpb24oYSl7cmV0dXJuIGYuaW5uZXJIVE1MPScmc2h5OzxzdHlsZSBtZWRpYT1cIicrYSsnXCI+ICNtcS10ZXN0LTEgeyB3aWR0aDogNDJweDsgfTwvc3R5bGU+JyxjLmluc2VydEJlZm9yZShlLGQpLGI9NDI9PT1mLm9mZnNldFdpZHRoLGMucmVtb3ZlQ2hpbGQoZSkse21hdGNoZXM6YixtZWRpYTphfX19KGMpLGEubW9iaWxlLm1lZGlhPWZ1bmN0aW9uKGEpe3JldHVybiBiLm1hdGNoTWVkaWEoYSkubWF0Y2hlc319KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPXt0b3VjaDpcIm9udG91Y2hlbmRcImluIGN9O2EubW9iaWxlLnN1cHBvcnQ9YS5tb2JpbGUuc3VwcG9ydHx8e30sYS5leHRlbmQoYS5zdXBwb3J0LGIpLGEuZXh0ZW5kKGEubW9iaWxlLnN1cHBvcnQsYil9KGEpLGZ1bmN0aW9uKGEpe2EuZXh0ZW5kKGEuc3VwcG9ydCx7b3JpZW50YXRpb246XCJvcmllbnRhdGlvblwiaW4gYiYmXCJvbm9yaWVudGF0aW9uY2hhbmdlXCJpbiBifSl9KGEpLGZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYixjPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSksZT0oYStcIiBcIitvLmpvaW4oYytcIiBcIikrYykuc3BsaXQoXCIgXCIpO2ZvcihiIGluIGUpaWYobltlW2JdXSE9PWQpcmV0dXJuITB9ZnVuY3Rpb24gZigpe3ZhciBjPWIsZD0hKCFjLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROU3x8IWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcInN2Z1wiKS5jcmVhdGVTVkdSZWN0fHxjLm9wZXJhJiYtMT09PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkNocm9tZVwiKSksZT1mdW5jdGlvbihiKXtiJiZkfHxhKFwiaHRtbFwiKS5hZGRDbGFzcyhcInVpLW5vc3ZnXCIpfSxmPW5ldyBjLkltYWdlO2Yub25lcnJvcj1mdW5jdGlvbigpe2UoITEpfSxmLm9ubG9hZD1mdW5jdGlvbigpe2UoMT09PWYud2lkdGgmJjE9PT1mLmhlaWdodCl9LGYuc3JjPVwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBQUFBQVAvLy95d0FBQUFBQVFBQkFBQUNBVXdBT3c9PVwifWZ1bmN0aW9uIGcoKXt2YXIgZSxmLGcsaD1cInRyYW5zZm9ybS0zZFwiLGk9YS5tb2JpbGUubWVkaWEoXCIoLVwiK28uam9pbihcIi1cIitoK1wiKSwoLVwiKStcIi1cIitoK1wiKSwoXCIraCtcIilcIik7aWYoaSlyZXR1cm4hIWk7ZT1jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZj17TW96VHJhbnNmb3JtOlwiLW1vei10cmFuc2Zvcm1cIix0cmFuc2Zvcm06XCJ0cmFuc2Zvcm1cIn0sbS5hcHBlbmQoZSk7Zm9yKGcgaW4gZillLnN0eWxlW2ddIT09ZCYmKGUuc3R5bGVbZ109XCJ0cmFuc2xhdGUzZCggMTAwcHgsIDFweCwgMXB4IClcIixpPWIuZ2V0Q29tcHV0ZWRTdHlsZShlKS5nZXRQcm9wZXJ0eVZhbHVlKGZbZ10pKTtyZXR1cm4hIWkmJlwibm9uZVwiIT09aX1mdW5jdGlvbiBoKCl7dmFyIGIsYyxkPWxvY2F0aW9uLnByb3RvY29sK1wiLy9cIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lK1widWktZGlyL1wiLGU9YShcImhlYWQgYmFzZVwiKSxmPW51bGwsZz1cIlwiO3JldHVybiBlLmxlbmd0aD9nPWUuYXR0cihcImhyZWZcIik6ZT1mPWEoXCI8YmFzZT5cIix7aHJlZjpkfSkuYXBwZW5kVG8oXCJoZWFkXCIpLGI9YShcIjxhIGhyZWY9J3Rlc3R1cmwnIC8+XCIpLnByZXBlbmRUbyhtKSxjPWJbMF0uaHJlZixlWzBdLmhyZWY9Z3x8bG9jYXRpb24ucGF0aG5hbWUsZiYmZi5yZW1vdmUoKSwwPT09Yy5pbmRleE9mKGQpfWZ1bmN0aW9uIGkoKXt2YXIgYSxkPWMuY3JlYXRlRWxlbWVudChcInhcIiksZT1jLmRvY3VtZW50RWxlbWVudCxmPWIuZ2V0Q29tcHV0ZWRTdHlsZTtyZXR1cm5cInBvaW50ZXJFdmVudHNcImluIGQuc3R5bGU/KGQuc3R5bGUucG9pbnRlckV2ZW50cz1cImF1dG9cIixkLnN0eWxlLnBvaW50ZXJFdmVudHM9XCJ4XCIsZS5hcHBlbmRDaGlsZChkKSxhPWYmJlwiYXV0b1wiPT09ZihkLFwiXCIpLnBvaW50ZXJFdmVudHMsZS5yZW1vdmVDaGlsZChkKSwhIWEpOiExfWZ1bmN0aW9uIGooKXt2YXIgYT1jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0fWZ1bmN0aW9uIGsoKXt2YXIgYT1iLGM9bmF2aWdhdG9yLnVzZXJBZ2VudCxkPW5hdmlnYXRvci5wbGF0Zm9ybSxlPWMubWF0Y2goL0FwcGxlV2ViS2l0XFwvKFswLTldKykvKSxmPSEhZSYmZVsxXSxnPWMubWF0Y2goL0Zlbm5lY1xcLyhbMC05XSspLyksaD0hIWcmJmdbMV0saT1jLm1hdGNoKC9PcGVyYSBNb2JpXFwvKFswLTldKykvKSxqPSEhaSYmaVsxXTtyZXR1cm4oZC5pbmRleE9mKFwiaVBob25lXCIpPi0xfHxkLmluZGV4T2YoXCJpUGFkXCIpPi0xfHxkLmluZGV4T2YoXCJpUG9kXCIpPi0xKSYmZiYmNTM0PmZ8fGEub3BlcmFtaW5pJiZcIltvYmplY3QgT3BlcmFNaW5pXVwiPT09e30udG9TdHJpbmcuY2FsbChhLm9wZXJhbWluaSl8fGkmJjc0NTg+anx8Yy5pbmRleE9mKFwiQW5kcm9pZFwiKT4tMSYmZiYmNTMzPmZ8fGgmJjY+aHx8XCJwYWxtR2V0UmVzb3VyY2VcImluIGImJmYmJjUzND5mfHxjLmluZGV4T2YoXCJNZWVHb1wiKT4tMSYmYy5pbmRleE9mKFwiTm9raWFCcm93c2VyLzguNS4wXCIpPi0xPyExOiEwfXZhciBsLG09YShcIjxib2R5PlwiKS5wcmVwZW5kVG8oXCJodG1sXCIpLG49bVswXS5zdHlsZSxvPVtcIldlYmtpdFwiLFwiTW96XCIsXCJPXCJdLHA9XCJwYWxtR2V0UmVzb3VyY2VcImluIGIscT1iLm9wZXJhbWluaSYmXCJbb2JqZWN0IE9wZXJhTWluaV1cIj09PXt9LnRvU3RyaW5nLmNhbGwoYi5vcGVyYW1pbmkpLHI9Yi5ibGFja2JlcnJ5JiYhZShcIi13ZWJraXQtdHJhbnNmb3JtXCIpO2EuZXh0ZW5kKGEubW9iaWxlLHticm93c2VyOnt9fSksYS5tb2JpbGUuYnJvd3Nlci5vbGRJRT1mdW5jdGlvbigpe3ZhciBhPTMsYj1jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZD1iLmFsbHx8W107ZG8gYi5pbm5lckhUTUw9XCI8IS0tW2lmIGd0IElFIFwiKyArK2ErXCJdPjxicj48IVtlbmRpZl0tLT5cIjt3aGlsZShkWzBdKTtyZXR1cm4gYT40P2E6IWF9KCksYS5leHRlbmQoYS5zdXBwb3J0LHtwdXNoU3RhdGU6XCJwdXNoU3RhdGVcImluIGhpc3RvcnkmJlwicmVwbGFjZVN0YXRlXCJpbiBoaXN0b3J5JiYhKGIubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiRmlyZWZveFwiKT49MCYmYi50b3AhPT1iKSYmLTE9PT1iLm5hdmlnYXRvci51c2VyQWdlbnQuc2VhcmNoKC9DcmlPUy8pLG1lZGlhcXVlcnk6YS5tb2JpbGUubWVkaWEoXCJvbmx5IGFsbFwiKSxjc3NQc2V1ZG9FbGVtZW50OiEhZShcImNvbnRlbnRcIiksdG91Y2hPdmVyZmxvdzohIWUoXCJvdmVyZmxvd1Njcm9sbGluZ1wiKSxjc3NUcmFuc2Zvcm0zZDpnKCksYm94U2hhZG93OiEhZShcImJveFNoYWRvd1wiKSYmIXIsZml4ZWRQb3NpdGlvbjprKCksc2Nyb2xsVG9wOihcInBhZ2VYT2Zmc2V0XCJpbiBifHxcInNjcm9sbFRvcFwiaW4gYy5kb2N1bWVudEVsZW1lbnR8fFwic2Nyb2xsVG9wXCJpbiBtWzBdKSYmIXAmJiFxLGR5bmFtaWNCYXNlVGFnOmgoKSxjc3NQb2ludGVyRXZlbnRzOmkoKSxib3VuZGluZ1JlY3Q6aigpLGlubGluZVNWRzpmfSksbS5yZW1vdmUoKSxsPWZ1bmN0aW9uKCl7dmFyIGE9Yi5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBhLmluZGV4T2YoXCJOb2tpYVwiKT4tMSYmKGEuaW5kZXhPZihcIlN5bWJpYW4vM1wiKT4tMXx8YS5pbmRleE9mKFwiU2VyaWVzNjAvNVwiKT4tMSkmJmEuaW5kZXhPZihcIkFwcGxlV2ViS2l0XCIpPi0xJiZhLm1hdGNoKC8oQnJvd3Nlck5HfE5va2lhQnJvd3NlcilcXC83XFwuWzAtM10vKX0oKSxhLm1vYmlsZS5ncmFkZUE9ZnVuY3Rpb24oKXtyZXR1cm4oYS5zdXBwb3J0Lm1lZGlhcXVlcnkmJmEuc3VwcG9ydC5jc3NQc2V1ZG9FbGVtZW50fHxhLm1vYmlsZS5icm93c2VyLm9sZElFJiZhLm1vYmlsZS5icm93c2VyLm9sZElFPj04KSYmKGEuc3VwcG9ydC5ib3VuZGluZ1JlY3R8fG51bGwhPT1hLmZuLmpxdWVyeS5tYXRjaCgvMVxcLlswLTcrXVxcLlswLTkrXT8vKSl9LGEubW9iaWxlLmFqYXhCbGFja2xpc3Q9Yi5ibGFja2JlcnJ5JiYhYi5XZWJLaXRQb2ludHx8cXx8bCxsJiZhKGZ1bmN0aW9uKCl7YShcImhlYWQgbGlua1tyZWw9J3N0eWxlc2hlZXQnXVwiKS5hdHRyKFwicmVsXCIsXCJhbHRlcm5hdGUgc3R5bGVzaGVldFwiKS5hdHRyKFwicmVsXCIsXCJzdHlsZXNoZWV0XCIpfSksYS5zdXBwb3J0LmJveFNoYWRvd3x8YShcImh0bWxcIikuYWRkQ2xhc3MoXCJ1aS1ub2JveHNoYWRvd1wiKX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYyxkPWEubW9iaWxlLndpbmRvdyxlPWZ1bmN0aW9uKCl7fTthLmV2ZW50LnNwZWNpYWwuYmVmb3JlbmF2aWdhdGU9e3NldHVwOmZ1bmN0aW9uKCl7ZC5vbihcIm5hdmlnYXRlXCIsZSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7ZC5vZmYoXCJuYXZpZ2F0ZVwiLGUpfX0sYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlPWM9e2JvdW5kOiExLHB1c2hTdGF0ZUVuYWJsZWQ6ITAsb3JpZ2luYWxFdmVudE5hbWU6Yixpc1B1c2hTdGF0ZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0LnB1c2hTdGF0ZSYmYS5tb2JpbGUucHVzaFN0YXRlRW5hYmxlZD09PSEwJiZ0aGlzLmlzSGFzaENoYW5nZUVuYWJsZWQoKX0saXNIYXNoQ2hhbmdlRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZD09PSEwfSxwb3BzdGF0ZTpmdW5jdGlvbihiKXt2YXIgYz1uZXcgYS5FdmVudChcIm5hdmlnYXRlXCIpLGU9bmV3IGEuRXZlbnQoXCJiZWZvcmVuYXZpZ2F0ZVwiKSxmPWIub3JpZ2luYWxFdmVudC5zdGF0ZXx8e307ZS5vcmlnaW5hbEV2ZW50PWIsZC50cmlnZ2VyKGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fChiLmhpc3RvcnlTdGF0ZSYmYS5leHRlbmQoZixiLmhpc3RvcnlTdGF0ZSksYy5vcmlnaW5hbEV2ZW50PWIsc2V0VGltZW91dChmdW5jdGlvbigpe2QudHJpZ2dlcihjLHtzdGF0ZTpmfSl9LDApKX0saGFzaGNoYW5nZTpmdW5jdGlvbihiKXt2YXIgYz1uZXcgYS5FdmVudChcIm5hdmlnYXRlXCIpLGU9bmV3IGEuRXZlbnQoXCJiZWZvcmVuYXZpZ2F0ZVwiKTtlLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGMub3JpZ2luYWxFdmVudD1iLGQudHJpZ2dlcihjLHtzdGF0ZTpiLmhhc2hjaGFuZ2VTdGF0ZXx8e319KSl9LHNldHVwOmZ1bmN0aW9uKCl7Yy5ib3VuZHx8KGMuYm91bmQ9ITAsYy5pc1B1c2hTdGF0ZUVuYWJsZWQoKT8oYy5vcmlnaW5hbEV2ZW50TmFtZT1cInBvcHN0YXRlXCIsZC5iaW5kKFwicG9wc3RhdGUubmF2aWdhdGVcIixjLnBvcHN0YXRlKSk6Yy5pc0hhc2hDaGFuZ2VFbmFibGVkKCkmJihjLm9yaWdpbmFsRXZlbnROYW1lPVwiaGFzaGNoYW5nZVwiLGQuYmluZChcImhhc2hjaGFuZ2UubmF2aWdhdGVcIixjLmhhc2hjaGFuZ2UpKSl9fX0oYSksZnVuY3Rpb24oYSxjKXt2YXIgZCxlLGY9XCImdWktc3RhdGU9ZGlhbG9nXCI7YS5tb2JpbGUucGF0aD1kPXt1aVN0YXRlS2V5OlwiJnVpLXN0YXRlXCIsdXJsUGFyc2VSRTovXlxccyooKCgoW146XFwvI1xcP10rOik/KD86KFxcL1xcLykoKD86KChbXjpAXFwvI1xcP10rKSg/OlxcOihbXjpAXFwvI1xcP10rKSk/KUApPygoW146XFwvI1xcP1xcXVxcW10rfFxcW1teXFwvXFxdQCM/XStcXF0pKD86XFw6KFswLTldKykpPykpPyk/KT8oKFxcLz8oPzpbXlxcL1xcPyNdK1xcLyspKikoW15cXD8jXSopKSk/KFxcP1teI10rKT8pKCMuKik/LyxnZXRMb2NhdGlvbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnBhcnNlVXJsKGF8fGxvY2F0aW9uLmhyZWYpLGM9YT9iOmxvY2F0aW9uLGQ9Yi5oYXNoO3JldHVybiBkPVwiI1wiPT09ZD9cIlwiOmQsYy5wcm90b2NvbCtiLmRvdWJsZVNsYXNoK2MuaG9zdCsoXCJcIiE9PWMucHJvdG9jb2wmJlwiL1wiIT09Yy5wYXRobmFtZS5zdWJzdHJpbmcoMCwxKT9cIi9cIjpcIlwiKStjLnBhdGhuYW1lK2Muc2VhcmNoK2R9LGdldERvY3VtZW50VXJsOmZ1bmN0aW9uKGIpe3JldHVybiBiP2EuZXh0ZW5kKHt9LGQuZG9jdW1lbnRVcmwpOmQuZG9jdW1lbnRVcmwuaHJlZn0scGFyc2VMb2NhdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlVXJsKHRoaXMuZ2V0TG9jYXRpb24oKSl9LHBhcnNlVXJsOmZ1bmN0aW9uKGIpe2lmKFwib2JqZWN0XCI9PT1hLnR5cGUoYikpcmV0dXJuIGI7dmFyIGM9ZC51cmxQYXJzZVJFLmV4ZWMoYnx8XCJcIil8fFtdO3JldHVybntocmVmOmNbMF18fFwiXCIsaHJlZk5vSGFzaDpjWzFdfHxcIlwiLGhyZWZOb1NlYXJjaDpjWzJdfHxcIlwiLGRvbWFpbjpjWzNdfHxcIlwiLHByb3RvY29sOmNbNF18fFwiXCIsZG91YmxlU2xhc2g6Y1s1XXx8XCJcIixhdXRob3JpdHk6Y1s2XXx8XCJcIix1c2VybmFtZTpjWzhdfHxcIlwiLHBhc3N3b3JkOmNbOV18fFwiXCIsaG9zdDpjWzEwXXx8XCJcIixob3N0bmFtZTpjWzExXXx8XCJcIixwb3J0OmNbMTJdfHxcIlwiLHBhdGhuYW1lOmNbMTNdfHxcIlwiLGRpcmVjdG9yeTpjWzE0XXx8XCJcIixmaWxlbmFtZTpjWzE1XXx8XCJcIixzZWFyY2g6Y1sxNl18fFwiXCIsaGFzaDpjWzE3XXx8XCJcIn19LG1ha2VQYXRoQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZjtpZihhJiZcIi9cIj09PWEuY2hhckF0KDApKXJldHVybiBhO2ZvcihhPWF8fFwiXCIsYj1iP2IucmVwbGFjZSgvXlxcL3woXFwvW15cXC9dKnxbXlxcL10rKSQvZyxcIlwiKTpcIlwiLGM9Yj9iLnNwbGl0KFwiL1wiKTpbXSxkPWEuc3BsaXQoXCIvXCIpLGU9MDtlPGQubGVuZ3RoO2UrKylzd2l0Y2goZj1kW2VdKXtjYXNlXCIuXCI6YnJlYWs7Y2FzZVwiLi5cIjpjLmxlbmd0aCYmYy5wb3AoKTticmVhaztkZWZhdWx0OmMucHVzaChmKX1yZXR1cm5cIi9cIitjLmpvaW4oXCIvXCIpfSxpc1NhbWVEb21haW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZC5wYXJzZVVybChhKS5kb21haW4udG9Mb3dlckNhc2UoKT09PWQucGFyc2VVcmwoYikuZG9tYWluLnRvTG93ZXJDYXNlKCl9LGlzUmVsYXRpdmVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuXCJcIj09PWQucGFyc2VVcmwoYSkucHJvdG9jb2x9LGlzQWJzb2x1dGVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuXCJcIiE9PWQucGFyc2VVcmwoYSkucHJvdG9jb2x9LG1ha2VVcmxBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe2lmKCFkLmlzUmVsYXRpdmVVcmwoYSkpcmV0dXJuIGE7Yj09PWMmJihiPXRoaXMuZG9jdW1lbnRCYXNlKTt2YXIgZT1kLnBhcnNlVXJsKGEpLGY9ZC5wYXJzZVVybChiKSxnPWUucHJvdG9jb2x8fGYucHJvdG9jb2wsaD1lLnByb3RvY29sP2UuZG91YmxlU2xhc2g6ZS5kb3VibGVTbGFzaHx8Zi5kb3VibGVTbGFzaCxpPWUuYXV0aG9yaXR5fHxmLmF1dGhvcml0eSxqPVwiXCIhPT1lLnBhdGhuYW1lLGs9ZC5tYWtlUGF0aEFic29sdXRlKGUucGF0aG5hbWV8fGYuZmlsZW5hbWUsZi5wYXRobmFtZSksbD1lLnNlYXJjaHx8IWomJmYuc2VhcmNofHxcIlwiLG09ZS5oYXNoO3JldHVybiBnK2graStrK2wrbX0sYWRkU2VhcmNoUGFyYW1zOmZ1bmN0aW9uKGIsYyl7dmFyIGU9ZC5wYXJzZVVybChiKSxmPVwib2JqZWN0XCI9PXR5cGVvZiBjP2EucGFyYW0oYyk6YyxnPWUuc2VhcmNofHxcIj9cIjtyZXR1cm4gZS5ocmVmTm9TZWFyY2grZysoXCI/XCIhPT1nLmNoYXJBdChnLmxlbmd0aC0xKT9cIiZcIjpcIlwiKStmKyhlLmhhc2h8fFwiXCIpfSxjb252ZXJ0VXJsVG9EYXRhVXJsOmZ1bmN0aW9uKGEpe3ZhciBjPWEsZT1kLnBhcnNlVXJsKGEpO3JldHVybiBkLmlzRW1iZWRkZWRQYWdlKGUpP2M9ZS5oYXNoLnNwbGl0KGYpWzBdLnJlcGxhY2UoL14jLyxcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLFwiXCIpOmQuaXNTYW1lRG9tYWluKGUsdGhpcy5kb2N1bWVudEJhc2UpJiYoYz1lLmhyZWZOb0hhc2gucmVwbGFjZSh0aGlzLmRvY3VtZW50QmFzZS5kb21haW4sXCJcIikuc3BsaXQoZilbMF0pLGIuZGVjb2RlVVJJQ29tcG9uZW50KGMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1jJiYoYT1kLnBhcnNlTG9jYXRpb24oKS5oYXNoKSxkLnN0cmlwSGFzaChhKS5yZXBsYWNlKC9bXlxcL10qXFwuW15cXC8qXSskLyxcIlwiKX0sc2V0OmZ1bmN0aW9uKGEpe2xvY2F0aW9uLmhhc2g9YX0saXNQYXRoOmZ1bmN0aW9uKGEpe3JldHVybi9cXC8vLnRlc3QoYSl9LGNsZWFuOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UodGhpcy5kb2N1bWVudEJhc2UuZG9tYWluLFwiXCIpfSxzdHJpcEhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXiMvLFwiXCIpfSxzdHJpcFF1ZXJ5UGFyYW1zOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1xcPy4qJC8sXCJcIil9LGNsZWFuSGFzaDpmdW5jdGlvbihhKXtyZXR1cm4gZC5zdHJpcEhhc2goYS5yZXBsYWNlKC9cXD8uKiQvLFwiXCIpLnJlcGxhY2UoZixcIlwiKSl9LGlzSGFzaFZhbGlkOmZ1bmN0aW9uKGEpe3JldHVybi9eI1teI10rJC8udGVzdChhKX0saXNFeHRlcm5hbDpmdW5jdGlvbihhKXt2YXIgYj1kLnBhcnNlVXJsKGEpO3JldHVybiEoIWIucHJvdG9jb2x8fGIuZG9tYWluLnRvTG93ZXJDYXNlKCk9PT10aGlzLmRvY3VtZW50VXJsLmRvbWFpbi50b0xvd2VyQ2FzZSgpKX0saGFzUHJvdG9jb2w6ZnVuY3Rpb24oYSl7cmV0dXJuL14oOj9cXHcrOikvLnRlc3QoYSl9LGlzRW1iZWRkZWRQYWdlOmZ1bmN0aW9uKGEpe3ZhciBiPWQucGFyc2VVcmwoYSk7cmV0dXJuXCJcIiE9PWIucHJvdG9jb2w/IXRoaXMuaXNQYXRoKGIuaGFzaCkmJmIuaGFzaCYmKGIuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZiLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoKTovXiMvLnRlc3QoYi5ocmVmKX0sc3F1YXNoOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpPXRoaXMuaXNQYXRoKGEpLGo9dGhpcy5wYXJzZVVybChhKSxrPWouaGFzaCxsPVwiXCI7cmV0dXJuIGJ8fChpP2I9ZC5nZXRMb2NhdGlvbigpOihoPWQuZ2V0RG9jdW1lbnRVcmwoITApLGI9ZC5pc1BhdGgoaC5oYXNoKT9kLnNxdWFzaChoLmhyZWYpOmguaHJlZikpLGU9aT9kLnN0cmlwSGFzaChhKTphLGU9ZC5pc1BhdGgoai5oYXNoKT9kLnN0cmlwSGFzaChqLmhhc2gpOmUsZz1lLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSxnPi0xJiYobD1lLnNsaWNlKGcpLGU9ZS5zbGljZSgwLGcpKSxjPWQubWFrZVVybEFic29sdXRlKGUsYiksZj10aGlzLnBhcnNlVXJsKGMpLnNlYXJjaCxpPygoZC5pc1BhdGgoayl8fDA9PT1rLnJlcGxhY2UoXCIjXCIsXCJcIikuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpKSYmKGs9XCJcIiksbCYmLTE9PT1rLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSYmKGsrPWwpLC0xPT09ay5pbmRleE9mKFwiI1wiKSYmXCJcIiE9PWsmJihrPVwiI1wiK2spLGM9ZC5wYXJzZVVybChjKSxjPWMucHJvdG9jb2wrYy5kb3VibGVTbGFzaCtjLmhvc3QrYy5wYXRobmFtZStmK2spOmMrPWMuaW5kZXhPZihcIiNcIik+LTE/bDpcIiNcIitsLGN9LGlzUHJlc2VydmFibGVIYXNoOmZ1bmN0aW9uKGEpe3JldHVybiAwPT09YS5yZXBsYWNlKFwiI1wiLFwiXCIpLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KX0saGFzaFRvU2VsZWN0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9XCIjXCI9PT1hLnN1YnN0cmluZygwLDEpO3JldHVybiBiJiYoYT1hLnN1YnN0cmluZygxKSksKGI/XCIjXCI6XCJcIikrYS5yZXBsYWNlKC8oWyFcIiMkJSYnKCkqKywuLzo7PD0+P0BbXFxdXmB7fH1+XSkvZyxcIlxcXFwkMVwiKX0sZ2V0RmlsZVBhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEuc3BsaXQoZilbMF19LGlzRmlyc3RQYWdlVXJsOmZ1bmN0aW9uKGIpe3ZhciBlPWQucGFyc2VVcmwoZC5tYWtlVXJsQWJzb2x1dGUoYix0aGlzLmRvY3VtZW50QmFzZSkpLGY9ZS5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudFVybC5ocmVmTm9IYXNofHx0aGlzLmRvY3VtZW50QmFzZURpZmZlcnMmJmUuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gsZz1hLm1vYmlsZS5maXJzdFBhZ2UsaD1nJiZnWzBdP2dbMF0uaWQ6YztyZXR1cm4gZiYmKCFlLmhhc2h8fFwiI1wiPT09ZS5oYXNofHxoJiZlLmhhc2gucmVwbGFjZSgvXiMvLFwiXCIpPT09aCl9LGlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0OmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmKFwiZmlsZTpcIj09PWIucHJvdG9jb2x8fFwiY29udGVudDpcIj09PWIucHJvdG9jb2wpJiYtMSE9PWMuc2VhcmNoKC9eaHR0cHM/Oi8pfX0sZC5kb2N1bWVudFVybD1kLnBhcnNlTG9jYXRpb24oKSxlPWEoXCJoZWFkXCIpLmZpbmQoXCJiYXNlXCIpLGQuZG9jdW1lbnRCYXNlPWUubGVuZ3RoP2QucGFyc2VVcmwoZC5tYWtlVXJsQWJzb2x1dGUoZS5hdHRyKFwiaHJlZlwiKSxkLmRvY3VtZW50VXJsLmhyZWYpKTpkLmRvY3VtZW50VXJsLGQuZG9jdW1lbnRCYXNlRGlmZmVycz1kLmRvY3VtZW50VXJsLmhyZWZOb0hhc2ghPT1kLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoLGQuZ2V0RG9jdW1lbnRCYXNlPWZ1bmN0aW9uKGIpe3JldHVybiBiP2EuZXh0ZW5kKHt9LGQuZG9jdW1lbnRCYXNlKTpkLmRvY3VtZW50QmFzZS5ocmVmfSxhLmV4dGVuZChhLm1vYmlsZSx7Z2V0RG9jdW1lbnRVcmw6ZC5nZXREb2N1bWVudFVybCxnZXREb2N1bWVudEJhc2U6ZC5nZXREb2N1bWVudEJhc2V9KX0oYSksZnVuY3Rpb24oYSxiKXthLm1vYmlsZS5IaXN0b3J5PWZ1bmN0aW9uKGEsYil7dGhpcy5zdGFjaz1hfHxbXSx0aGlzLmFjdGl2ZUluZGV4PWJ8fDB9LGEuZXh0ZW5kKGEubW9iaWxlLkhpc3RvcnkucHJvdG90eXBlLHtnZXRBY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLmFjdGl2ZUluZGV4XX0sZ2V0TGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMucHJldmlvdXNJbmRleF19LGdldE5leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLmFjdGl2ZUluZGV4KzFdfSxnZXRQcmV2OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5hY3RpdmVJbmRleC0xXX0sYWRkOmZ1bmN0aW9uKGEsYil7Yj1ifHx7fSx0aGlzLmdldE5leHQoKSYmdGhpcy5jbGVhckZvcndhcmQoKSxiLmhhc2gmJi0xPT09Yi5oYXNoLmluZGV4T2YoXCIjXCIpJiYoYi5oYXNoPVwiI1wiK2IuaGFzaCksYi51cmw9YSx0aGlzLnN0YWNrLnB1c2goYiksdGhpcy5hY3RpdmVJbmRleD10aGlzLnN0YWNrLmxlbmd0aC0xfSxjbGVhckZvcndhcmQ6ZnVuY3Rpb24oKXt0aGlzLnN0YWNrPXRoaXMuc3RhY2suc2xpY2UoMCx0aGlzLmFjdGl2ZUluZGV4KzEpfSxmaW5kOmZ1bmN0aW9uKGEsYixjKXtiPWJ8fHRoaXMuc3RhY2s7dmFyIGQsZSxmLGc9Yi5sZW5ndGg7Zm9yKGU9MDtnPmU7ZSsrKWlmKGQ9YltlXSwoZGVjb2RlVVJJQ29tcG9uZW50KGEpPT09ZGVjb2RlVVJJQ29tcG9uZW50KGQudXJsKXx8ZGVjb2RlVVJJQ29tcG9uZW50KGEpPT09ZGVjb2RlVVJJQ29tcG9uZW50KGQuaGFzaCkpJiYoZj1lLGMpKXJldHVybiBmO3JldHVybiBmfSxjbG9zZXN0OmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcy5hY3RpdmVJbmRleDtyZXR1cm4gYz10aGlzLmZpbmQoYSx0aGlzLnN0YWNrLnNsaWNlKDAsZCkpLGM9PT1iJiYoYz10aGlzLmZpbmQoYSx0aGlzLnN0YWNrLnNsaWNlKGQpLCEwKSxjPWM9PT1iP2M6YytkKSxjfSxkaXJlY3Q6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5jbG9zZXN0KGMudXJsKSxlPXRoaXMuYWN0aXZlSW5kZXg7ZCE9PWImJih0aGlzLmFjdGl2ZUluZGV4PWQsdGhpcy5wcmV2aW91c0luZGV4PWUpLGU+ZD8oYy5wcmVzZW50fHxjLmJhY2t8fGEubm9vcCkodGhpcy5nZXRBY3RpdmUoKSxcImJhY2tcIik6ZD5lPyhjLnByZXNlbnR8fGMuZm9yd2FyZHx8YS5ub29wKSh0aGlzLmdldEFjdGl2ZSgpLFwiZm9yd2FyZFwiKTpkPT09YiYmYy5taXNzaW5nJiZjLm1pc3NpbmcodGhpcy5nZXRBY3RpdmUoKSl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBkPWEubW9iaWxlLnBhdGgsZT1sb2NhdGlvbi5ocmVmO2EubW9iaWxlLk5hdmlnYXRvcj1mdW5jdGlvbihiKXt0aGlzLmhpc3Rvcnk9Yix0aGlzLmlnbm9yZUluaXRpYWxIYXNoQ2hhbmdlPSEwLGEubW9iaWxlLndpbmRvdy5iaW5kKHtcInBvcHN0YXRlLmhpc3RvcnlcIjphLnByb3h5KHRoaXMucG9wc3RhdGUsdGhpcyksXCJoYXNoY2hhbmdlLmhpc3RvcnlcIjphLnByb3h5KHRoaXMuaGFzaGNoYW5nZSx0aGlzKX0pfSxhLmV4dGVuZChhLm1vYmlsZS5OYXZpZ2F0b3IucHJvdG90eXBlLHtzcXVhc2g6ZnVuY3Rpb24oZSxmKXt2YXIgZyxoLGk9ZC5pc1BhdGgoZSk/ZC5zdHJpcEhhc2goZSk6ZTtyZXR1cm4gaD1kLnNxdWFzaChlKSxnPWEuZXh0ZW5kKHtoYXNoOmksdXJsOmh9LGYpLGIuaGlzdG9yeS5yZXBsYWNlU3RhdGUoZyxnLnRpdGxlfHxjLnRpdGxlLGgpLGd9LGhhc2g6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGYsZztyZXR1cm4gYz1kLnBhcnNlVXJsKGEpLGU9ZC5wYXJzZUxvY2F0aW9uKCksZS5wYXRobmFtZStlLnNlYXJjaD09PWMucGF0aG5hbWUrYy5zZWFyY2g/Zj1jLmhhc2g/Yy5oYXNoOmMucGF0aG5hbWUrYy5zZWFyY2g6ZC5pc1BhdGgoYSk/KGc9ZC5wYXJzZVVybChiKSxmPWcucGF0aG5hbWUrZy5zZWFyY2grKGQuaXNQcmVzZXJ2YWJsZUhhc2goZy5oYXNoKT9nLmhhc2gucmVwbGFjZShcIiNcIixcIlwiKTpcIlwiKSk6Zj1hLGZ9LGdvOmZ1bmN0aW9uKGUsZixnKXt2YXIgaCxpLGosayxsPWEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKTtcbmk9ZC5zcXVhc2goZSksaj10aGlzLmhhc2goZSxpKSxnJiZqIT09ZC5zdHJpcEhhc2goZC5wYXJzZUxvY2F0aW9uKCkuaGFzaCkmJih0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZT1nKSx0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITAsYi5sb2NhdGlvbi5oYXNoPWosdGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPSExLGg9YS5leHRlbmQoe3VybDppLGhhc2g6aix0aXRsZTpjLnRpdGxlfSxmKSxsJiYoaz1uZXcgYS5FdmVudChcInBvcHN0YXRlXCIpLGsub3JpZ2luYWxFdmVudD17dHlwZTpcInBvcHN0YXRlXCIsc3RhdGU6bnVsbH0sdGhpcy5zcXVhc2goZSxoKSxnfHwodGhpcy5pZ25vcmVQb3BTdGF0ZT0hMCxhLm1vYmlsZS53aW5kb3cudHJpZ2dlcihrKSkpLHRoaXMuaGlzdG9yeS5hZGQoaC51cmwsaCl9LHBvcHN0YXRlOmZ1bmN0aW9uKGIpe3ZhciBjLGY7aWYoYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXJldHVybiB0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU/KHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMSx2b2lkIGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpOnRoaXMuaWdub3JlUG9wU3RhdGU/dm9pZCh0aGlzLmlnbm9yZVBvcFN0YXRlPSExKTohYi5vcmlnaW5hbEV2ZW50LnN0YXRlJiYxPT09dGhpcy5oaXN0b3J5LnN0YWNrLmxlbmd0aCYmdGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZSYmKHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITEsbG9jYXRpb24uaHJlZj09PWUpP3ZvaWQgYi5wcmV2ZW50RGVmYXVsdCgpOihjPWQucGFyc2VMb2NhdGlvbigpLmhhc2gsIWIub3JpZ2luYWxFdmVudC5zdGF0ZSYmYz8oZj10aGlzLnNxdWFzaChjKSx0aGlzLmhpc3RvcnkuYWRkKGYudXJsLGYpLHZvaWQoYi5oaXN0b3J5U3RhdGU9ZikpOnZvaWQgdGhpcy5oaXN0b3J5LmRpcmVjdCh7dXJsOihiLm9yaWdpbmFsRXZlbnQuc3RhdGV8fHt9KS51cmx8fGMscHJlc2VudDpmdW5jdGlvbihjLGQpe2IuaGlzdG9yeVN0YXRlPWEuZXh0ZW5kKHt9LGMpLGIuaGlzdG9yeVN0YXRlLmRpcmVjdGlvbj1kfX0pKX0saGFzaGNoYW5nZTpmdW5jdGlvbihiKXt2YXIgZSxmO2lmKGEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc0hhc2hDaGFuZ2VFbmFibGVkKCkmJiFhLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCkpe2lmKHRoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlKXJldHVybiB0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZT0hMSx2b2lkIGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7ZT10aGlzLmhpc3RvcnksZj1kLnBhcnNlTG9jYXRpb24oKS5oYXNoLHRoaXMuaGlzdG9yeS5kaXJlY3Qoe3VybDpmLHByZXNlbnQ6ZnVuY3Rpb24oYyxkKXtiLmhhc2hjaGFuZ2VTdGF0ZT1hLmV4dGVuZCh7fSxjKSxiLmhhc2hjaGFuZ2VTdGF0ZS5kaXJlY3Rpb249ZH0sbWlzc2luZzpmdW5jdGlvbigpe2UuYWRkKGYse2hhc2g6Zix0aXRsZTpjLnRpdGxlfSl9fSl9fX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5uYXZpZ2F0ZT1mdW5jdGlvbihiLGMsZCl7YS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yLmdvKGIsYyxkKX0sYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeT1uZXcgYS5tb2JpbGUuSGlzdG9yeSxhLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3I9bmV3IGEubW9iaWxlLk5hdmlnYXRvcihhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5KTt2YXIgYj1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKTthLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZChiLmhyZWYse2hhc2g6Yi5oYXNofSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9e2FuaW1hdGlvbjp7fSx0cmFuc2l0aW9uOnt9fSxlPWMuY3JlYXRlRWxlbWVudChcImFcIiksZj1bXCJcIixcIndlYmtpdC1cIixcIm1vei1cIixcIm8tXCJdO2EuZWFjaChbXCJhbmltYXRpb25cIixcInRyYW5zaXRpb25cIl0sZnVuY3Rpb24oYyxnKXt2YXIgaD0wPT09Yz9nK1wiLW5hbWVcIjpnO2EuZWFjaChmLGZ1bmN0aW9uKGMsZil7cmV0dXJuIGUuc3R5bGVbYS5jYW1lbENhc2UoZitoKV0hPT1iPyhkW2ddLnByZWZpeD1mLCExKTp2b2lkIDB9KSxkW2ddLmR1cmF0aW9uPWEuY2FtZWxDYXNlKGRbZ10ucHJlZml4K2crXCItZHVyYXRpb25cIiksZFtnXS5ldmVudD1hLmNhbWVsQ2FzZShkW2ddLnByZWZpeCtnK1wiLWVuZFwiKSxcIlwiPT09ZFtnXS5wcmVmaXgmJihkW2ddLmV2ZW50PWRbZ10uZXZlbnQudG9Mb3dlckNhc2UoKSl9KSxhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnM9ZC50cmFuc2l0aW9uLnByZWZpeCE9PWIsYS5zdXBwb3J0LmNzc0FuaW1hdGlvbnM9ZC5hbmltYXRpb24ucHJlZml4IT09YixhKGUpLnJlbW92ZSgpLGEuZm4uYW5pbWF0aW9uQ29tcGxldGU9ZnVuY3Rpb24oZSxmLGcpe3ZhciBoLGksaj10aGlzLGs9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoaCksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGw9ZiYmXCJhbmltYXRpb25cIiE9PWY/XCJ0cmFuc2l0aW9uXCI6XCJhbmltYXRpb25cIjtyZXR1cm4gYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zJiZcInRyYW5zaXRpb25cIj09PWx8fGEuc3VwcG9ydC5jc3NBbmltYXRpb25zJiZcImFuaW1hdGlvblwiPT09bD8oZz09PWImJihhKHRoaXMpLmNvbnRleHQhPT1jJiYoaT0zZTMqcGFyc2VGbG9hdChhKHRoaXMpLmNzcyhkW2xdLmR1cmF0aW9uKSkpLCgwPT09aXx8aT09PWJ8fGlzTmFOKGkpKSYmKGk9YS5mbi5hbmltYXRpb25Db21wbGV0ZS5kZWZhdWx0RHVyYXRpb24pKSxoPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthKGopLm9mZihkW2xdLmV2ZW50LGspLGUuYXBwbHkoail9LGkpLGEodGhpcykub25lKGRbbF0uZXZlbnQsaykpOihzZXRUaW1lb3V0KGEucHJveHkoZSx0aGlzKSwwKSxhKHRoaXMpKX0sYS5mbi5hbmltYXRpb25Db21wbGV0ZS5kZWZhdWx0RHVyYXRpb249MWUzfShhKSxmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe2Zvcig7YSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEub3JpZ2luYWxFdmVudDspYT1hLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIGF9ZnVuY3Rpb24gZihiLGMpe3ZhciBmLGcsaCxpLGosayxsLG0sbixvPWIudHlwZTtpZihiPWEuRXZlbnQoYiksYi50eXBlPWMsZj1iLm9yaWdpbmFsRXZlbnQsZz1hLmV2ZW50LnByb3BzLG8uc2VhcmNoKC9eKG1vdXNlfGNsaWNrKS8pPi0xJiYoZz1FKSxmKWZvcihsPWcubGVuZ3RoLGk7bDspaT1nWy0tbF0sYltpXT1mW2ldO2lmKG8uc2VhcmNoKC9tb3VzZShkb3dufHVwKXxjbGljay8pPi0xJiYhYi53aGljaCYmKGIud2hpY2g9MSksLTEhPT1vLnNlYXJjaCgvXnRvdWNoLykmJihoPWUoZiksbz1oLnRvdWNoZXMsaj1oLmNoYW5nZWRUb3VjaGVzLGs9byYmby5sZW5ndGg/b1swXTpqJiZqLmxlbmd0aD9qWzBdOmQpKWZvcihtPTAsbj1DLmxlbmd0aDtuPm07bSsrKWk9Q1ttXSxiW2ldPWtbaV07cmV0dXJuIGJ9ZnVuY3Rpb24gZyhiKXtmb3IodmFyIGMsZCxlPXt9O2I7KXtjPWEuZGF0YShiLHopO2ZvcihkIGluIGMpY1tkXSYmKGVbZF09ZS5oYXNWaXJ0dWFsQmluZGluZz0hMCk7Yj1iLnBhcmVudE5vZGV9cmV0dXJuIGV9ZnVuY3Rpb24gaChiLGMpe2Zvcih2YXIgZDtiOyl7aWYoZD1hLmRhdGEoYix6KSxkJiYoIWN8fGRbY10pKXJldHVybiBiO2I9Yi5wYXJlbnROb2RlfXJldHVybiBudWxsfWZ1bmN0aW9uIGkoKXtNPSExfWZ1bmN0aW9uIGooKXtNPSEwfWZ1bmN0aW9uIGsoKXtRPTAsSy5sZW5ndGg9MCxMPSExLGooKX1mdW5jdGlvbiBsKCl7aSgpfWZ1bmN0aW9uIG0oKXtuKCksRz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Rz0wLGsoKX0sYS52bW91c2UucmVzZXRUaW1lckR1cmF0aW9uKX1mdW5jdGlvbiBuKCl7RyYmKGNsZWFyVGltZW91dChHKSxHPTApfWZ1bmN0aW9uIG8oYixjLGQpe3ZhciBlO3JldHVybihkJiZkW2JdfHwhZCYmaChjLnRhcmdldCxiKSkmJihlPWYoYyxiKSxhKGMudGFyZ2V0KS50cmlnZ2VyKGUpKSxlfWZ1bmN0aW9uIHAoYil7dmFyIGMsZD1hLmRhdGEoYi50YXJnZXQsQSk7THx8USYmUT09PWR8fChjPW8oXCJ2XCIrYi50eXBlLGIpLGMmJihjLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZiLnByZXZlbnREZWZhdWx0KCksYy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZiLnN0b3BQcm9wYWdhdGlvbigpLGMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSYmYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSkpfWZ1bmN0aW9uIHEoYil7dmFyIGMsZCxmLGg9ZShiKS50b3VjaGVzO2gmJjE9PT1oLmxlbmd0aCYmKGM9Yi50YXJnZXQsZD1nKGMpLGQuaGFzVmlydHVhbEJpbmRpbmcmJihRPVArKyxhLmRhdGEoYyxBLFEpLG4oKSxsKCksSj0hMSxmPWUoYikudG91Y2hlc1swXSxIPWYucGFnZVgsST1mLnBhZ2VZLG8oXCJ2bW91c2VvdmVyXCIsYixkKSxvKFwidm1vdXNlZG93blwiLGIsZCkpKX1mdW5jdGlvbiByKGEpe018fChKfHxvKFwidm1vdXNlY2FuY2VsXCIsYSxnKGEudGFyZ2V0KSksSj0hMCxtKCkpfWZ1bmN0aW9uIHMoYil7aWYoIU0pe3ZhciBjPWUoYikudG91Y2hlc1swXSxkPUosZj1hLnZtb3VzZS5tb3ZlRGlzdGFuY2VUaHJlc2hvbGQsaD1nKGIudGFyZ2V0KTtKPUp8fE1hdGguYWJzKGMucGFnZVgtSCk+Znx8TWF0aC5hYnMoYy5wYWdlWS1JKT5mLEomJiFkJiZvKFwidm1vdXNlY2FuY2VsXCIsYixoKSxvKFwidm1vdXNlbW92ZVwiLGIsaCksbSgpfX1mdW5jdGlvbiB0KGEpe2lmKCFNKXtqKCk7dmFyIGIsYyxkPWcoYS50YXJnZXQpO28oXCJ2bW91c2V1cFwiLGEsZCksSnx8KGI9byhcInZjbGlja1wiLGEsZCksYiYmYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKGM9ZShhKS5jaGFuZ2VkVG91Y2hlc1swXSxLLnB1c2goe3RvdWNoSUQ6USx4OmMuY2xpZW50WCx5OmMuY2xpZW50WX0pLEw9ITApKSxvKFwidm1vdXNlb3V0XCIsYSxkKSxKPSExLG0oKX19ZnVuY3Rpb24gdShiKXt2YXIgYyxkPWEuZGF0YShiLHopO2lmKGQpZm9yKGMgaW4gZClpZihkW2NdKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHYoKXt9ZnVuY3Rpb24gdyhiKXt2YXIgYz1iLnN1YnN0cigxKTtyZXR1cm57c2V0dXA6ZnVuY3Rpb24oKXt1KHRoaXMpfHxhLmRhdGEodGhpcyx6LHt9KTt2YXIgZD1hLmRhdGEodGhpcyx6KTtkW2JdPSEwLEZbYl09KEZbYl18fDApKzEsMT09PUZbYl0mJk8uYmluZChjLHApLGEodGhpcykuYmluZChjLHYpLE4mJihGLnRvdWNoc3RhcnQ9KEYudG91Y2hzdGFydHx8MCkrMSwxPT09Ri50b3VjaHN0YXJ0JiZPLmJpbmQoXCJ0b3VjaHN0YXJ0XCIscSkuYmluZChcInRvdWNoZW5kXCIsdCkuYmluZChcInRvdWNobW92ZVwiLHMpLmJpbmQoXCJzY3JvbGxcIixyKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7LS1GW2JdLEZbYl18fE8udW5iaW5kKGMscCksTiYmKC0tRi50b3VjaHN0YXJ0LEYudG91Y2hzdGFydHx8Ty51bmJpbmQoXCJ0b3VjaHN0YXJ0XCIscSkudW5iaW5kKFwidG91Y2htb3ZlXCIscykudW5iaW5kKFwidG91Y2hlbmRcIix0KS51bmJpbmQoXCJzY3JvbGxcIixyKSk7dmFyIGQ9YSh0aGlzKSxlPWEuZGF0YSh0aGlzLHopO2UmJihlW2JdPSExKSxkLnVuYmluZChjLHYpLHUodGhpcyl8fGQucmVtb3ZlRGF0YSh6KX19fXZhciB4LHksej1cInZpcnR1YWxNb3VzZUJpbmRpbmdzXCIsQT1cInZpcnR1YWxUb3VjaElEXCIsQj1cInZtb3VzZW92ZXIgdm1vdXNlZG93biB2bW91c2Vtb3ZlIHZtb3VzZXVwIHZjbGljayB2bW91c2VvdXQgdm1vdXNlY2FuY2VsXCIuc3BsaXQoXCIgXCIpLEM9XCJjbGllbnRYIGNsaWVudFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZXCIuc3BsaXQoXCIgXCIpLEQ9YS5ldmVudC5tb3VzZUhvb2tzP2EuZXZlbnQubW91c2VIb29rcy5wcm9wczpbXSxFPWEuZXZlbnQucHJvcHMuY29uY2F0KEQpLEY9e30sRz0wLEg9MCxJPTAsSj0hMSxLPVtdLEw9ITEsTT0hMSxOPVwiYWRkRXZlbnRMaXN0ZW5lclwiaW4gYyxPPWEoYyksUD0xLFE9MDtmb3IoYS52bW91c2U9e21vdmVEaXN0YW5jZVRocmVzaG9sZDoxMCxjbGlja0Rpc3RhbmNlVGhyZXNob2xkOjEwLHJlc2V0VGltZXJEdXJhdGlvbjoxNTAwfSx5PTA7eTxCLmxlbmd0aDt5KyspYS5ldmVudC5zcGVjaWFsW0JbeV1dPXcoQlt5XSk7TiYmYy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihiKXt2YXIgYyxkLGUsZixnLGgsaT1LLmxlbmd0aCxqPWIudGFyZ2V0O2lmKGkpZm9yKGM9Yi5jbGllbnRYLGQ9Yi5jbGllbnRZLHg9YS52bW91c2UuY2xpY2tEaXN0YW5jZVRocmVzaG9sZCxlPWo7ZTspe2ZvcihmPTA7aT5mO2YrKylpZihnPUtbZl0saD0wLGU9PT1qJiZNYXRoLmFicyhnLngtYyk8eCYmTWF0aC5hYnMoZy55LWQpPHh8fGEuZGF0YShlLEEpPT09Zy50b3VjaElEKXJldHVybiBiLnByZXZlbnREZWZhdWx0KCksdm9pZCBiLnN0b3BQcm9wYWdhdGlvbigpO2U9ZS5wYXJlbnROb2RlfX0sITApfShhLGIsYyksZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGUoYixjLGUsZil7dmFyIGc9ZS50eXBlO2UudHlwZT1jLGY/YS5ldmVudC50cmlnZ2VyKGUsZCxiKTphLmV2ZW50LmRpc3BhdGNoLmNhbGwoYixlKSxlLnR5cGU9Z312YXIgZj1hKGMpLGc9YS5tb2JpbGUuc3VwcG9ydC50b3VjaCxoPVwidG91Y2htb3ZlIHNjcm9sbFwiLGk9Zz9cInRvdWNoc3RhcnRcIjpcIm1vdXNlZG93blwiLGo9Zz9cInRvdWNoZW5kXCI6XCJtb3VzZXVwXCIsaz1nP1widG91Y2htb3ZlXCI6XCJtb3VzZW1vdmVcIjthLmVhY2goXCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0YXAgdGFwaG9sZCBzd2lwZSBzd2lwZWxlZnQgc3dpcGVyaWdodCBzY3JvbGxzdGFydCBzY3JvbGxzdG9wXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGIsYyl7YS5mbltjXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoYyxhKTp0aGlzLnRyaWdnZXIoYyl9LGEuYXR0ckZuJiYoYS5hdHRyRm5bY109ITApfSksYS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0PXtlbmFibGVkOiEwLHNldHVwOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhLGIpe2M9YixlKGYsYz9cInNjcm9sbHN0YXJ0XCI6XCJzY3JvbGxzdG9wXCIsYSl9dmFyIGMsZCxmPXRoaXMsZz1hKGYpO2cuYmluZChoLGZ1bmN0aW9uKGUpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkJiYoY3x8YihlLCEwKSxjbGVhclRpbWVvdXQoZCksZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YihlLCExKX0sNTApKX0pfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKGgpfX0sYS5ldmVudC5zcGVjaWFsLnRhcD17dGFwaG9sZFRocmVzaG9sZDo3NTAsZW1pdFRhcE9uVGFwaG9sZDohMCxzZXR1cDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1hKGIpLGQ9ITE7Yy5iaW5kKFwidm1vdXNlZG93blwiLGZ1bmN0aW9uKGcpe2Z1bmN0aW9uIGgoKXtjbGVhclRpbWVvdXQoayl9ZnVuY3Rpb24gaSgpe2goKSxjLnVuYmluZChcInZjbGlja1wiLGopLnVuYmluZChcInZtb3VzZXVwXCIsaCksZi51bmJpbmQoXCJ2bW91c2VjYW5jZWxcIixpKX1mdW5jdGlvbiBqKGEpe2koKSxkfHxsIT09YS50YXJnZXQ/ZCYmYS5wcmV2ZW50RGVmYXVsdCgpOmUoYixcInRhcFwiLGEpfWlmKGQ9ITEsZy53aGljaCYmMSE9PWcud2hpY2gpcmV0dXJuITE7dmFyIGssbD1nLnRhcmdldDtjLmJpbmQoXCJ2bW91c2V1cFwiLGgpLmJpbmQoXCJ2Y2xpY2tcIixqKSxmLmJpbmQoXCJ2bW91c2VjYW5jZWxcIixpKSxrPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwudGFwLmVtaXRUYXBPblRhcGhvbGR8fChkPSEwKSxlKGIsXCJ0YXBob2xkXCIsYS5FdmVudChcInRhcGhvbGRcIix7dGFyZ2V0Omx9KSl9LGEuZXZlbnQuc3BlY2lhbC50YXAudGFwaG9sZFRocmVzaG9sZCl9KX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZChcInZtb3VzZWRvd25cIikudW5iaW5kKFwidmNsaWNrXCIpLnVuYmluZChcInZtb3VzZXVwXCIpLGYudW5iaW5kKFwidm1vdXNlY2FuY2VsXCIpfX0sYS5ldmVudC5zcGVjaWFsLnN3aXBlPXtzY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkOjMwLGR1cmF0aW9uVGhyZXNob2xkOjFlMyxob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQ6MzAsdmVydGljYWxEaXN0YW5jZVRocmVzaG9sZDozMCxnZXRMb2NhdGlvbjpmdW5jdGlvbihhKXt2YXIgYz1iLnBhZ2VYT2Zmc2V0LGQ9Yi5wYWdlWU9mZnNldCxlPWEuY2xpZW50WCxmPWEuY2xpZW50WTtyZXR1cm4gMD09PWEucGFnZVkmJk1hdGguZmxvb3IoZik+TWF0aC5mbG9vcihhLnBhZ2VZKXx8MD09PWEucGFnZVgmJk1hdGguZmxvb3IoZSk+TWF0aC5mbG9vcihhLnBhZ2VYKT8oZS09YyxmLT1kKTooZjxhLnBhZ2VZLWR8fGU8YS5wYWdlWC1jKSYmKGU9YS5wYWdlWC1jLGY9YS5wYWdlWS1kKSx7eDplLHk6Zn19LHN0YXJ0OmZ1bmN0aW9uKGIpe3ZhciBjPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmIsZD1hLmV2ZW50LnNwZWNpYWwuc3dpcGUuZ2V0TG9jYXRpb24oYyk7cmV0dXJue3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltkLngsZC55XSxvcmlnaW46YShiLnRhcmdldCl9fSxzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmIsZD1hLmV2ZW50LnNwZWNpYWwuc3dpcGUuZ2V0TG9jYXRpb24oYyk7cmV0dXJue3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltkLngsZC55XX19LGhhbmRsZVN3aXBlOmZ1bmN0aW9uKGIsYyxkLGYpe2lmKGMudGltZS1iLnRpbWU8YS5ldmVudC5zcGVjaWFsLnN3aXBlLmR1cmF0aW9uVGhyZXNob2xkJiZNYXRoLmFicyhiLmNvb3Jkc1swXS1jLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLmhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZCYmTWF0aC5hYnMoYi5jb29yZHNbMV0tYy5jb29yZHNbMV0pPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS52ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkKXt2YXIgZz1iLmNvb3Jkc1swXT5jLmNvb3Jkc1swXT9cInN3aXBlbGVmdFwiOlwic3dpcGVyaWdodFwiO3JldHVybiBlKGQsXCJzd2lwZVwiLGEuRXZlbnQoXCJzd2lwZVwiLHt0YXJnZXQ6Zixzd2lwZXN0YXJ0OmIsc3dpcGVzdG9wOmN9KSwhMCksZShkLGcsYS5FdmVudChnLHt0YXJnZXQ6Zixzd2lwZXN0YXJ0OmIsc3dpcGVzdG9wOmN9KSwhMCksITB9cmV0dXJuITF9LGV2ZW50SW5Qcm9ncmVzczohMSxzZXR1cDpmdW5jdGlvbigpe3ZhciBiLGM9dGhpcyxkPWEoYyksZT17fTtiPWEuZGF0YSh0aGlzLFwibW9iaWxlLWV2ZW50c1wiKSxifHwoYj17bGVuZ3RoOjB9LGEuZGF0YSh0aGlzLFwibW9iaWxlLWV2ZW50c1wiLGIpKSxiLmxlbmd0aCsrLGIuc3dpcGU9ZSxlLnN0YXJ0PWZ1bmN0aW9uKGIpe2lmKCFhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZXZlbnRJblByb2dyZXNzKXthLmV2ZW50LnNwZWNpYWwuc3dpcGUuZXZlbnRJblByb2dyZXNzPSEwO3ZhciBkLGc9YS5ldmVudC5zcGVjaWFsLnN3aXBlLnN0YXJ0KGIpLGg9Yi50YXJnZXQsaT0hMTtlLm1vdmU9ZnVuY3Rpb24oYil7ZyYmIWIuaXNEZWZhdWx0UHJldmVudGVkKCkmJihkPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zdG9wKGIpLGl8fChpPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5oYW5kbGVTd2lwZShnLGQsYyxoKSxpJiYoYS5ldmVudC5zcGVjaWFsLnN3aXBlLmV2ZW50SW5Qcm9ncmVzcz0hMSkpLE1hdGguYWJzKGcuY29vcmRzWzBdLWQuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZCYmYi5wcmV2ZW50RGVmYXVsdCgpKX0sZS5zdG9wPWZ1bmN0aW9uKCl7aT0hMCxhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZXZlbnRJblByb2dyZXNzPSExLGYub2ZmKGssZS5tb3ZlKSxlLm1vdmU9bnVsbH0sZi5vbihrLGUubW92ZSkub25lKGosZS5zdG9wKX19LGQub24oaSxlLnN0YXJ0KX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgYixjO2I9YS5kYXRhKHRoaXMsXCJtb2JpbGUtZXZlbnRzXCIpLGImJihjPWIuc3dpcGUsZGVsZXRlIGIuc3dpcGUsYi5sZW5ndGgtLSwwPT09Yi5sZW5ndGgmJmEucmVtb3ZlRGF0YSh0aGlzLFwibW9iaWxlLWV2ZW50c1wiKSksYyYmKGMuc3RhcnQmJmEodGhpcykub2ZmKGksYy5zdGFydCksYy5tb3ZlJiZmLm9mZihrLGMubW92ZSksYy5zdG9wJiZmLm9mZihqLGMuc3RvcCkpfX0sYS5lYWNoKHtzY3JvbGxzdG9wOlwic2Nyb2xsc3RhcnRcIix0YXBob2xkOlwidGFwXCIsc3dpcGVsZWZ0Olwic3dpcGUubGVmdFwiLHN3aXBlcmlnaHQ6XCJzd2lwZS5yaWdodFwifSxmdW5jdGlvbihiLGMpe2EuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoYyxhLm5vb3ApfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKGMpfX19KX0oYSx0aGlzKSxmdW5jdGlvbihhKXthLmV2ZW50LnNwZWNpYWwudGhyb3R0bGVkcmVzaXplPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZChcInJlc2l6ZVwiLGYpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKFwicmVzaXplXCIsZil9fTt2YXIgYixjLGQsZT0yNTAsZj1mdW5jdGlvbigpe2M9KG5ldyBEYXRlKS5nZXRUaW1lKCksZD1jLWcsZD49ZT8oZz1jLGEodGhpcykudHJpZ2dlcihcInRocm90dGxlZHJlc2l6ZVwiKSk6KGImJmNsZWFyVGltZW91dChiKSxiPXNldFRpbWVvdXQoZixlLWQpKX0sZz0wfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoKXt2YXIgYT1lKCk7YSE9PWYmJihmPWEsbC50cmlnZ2VyKG0pKX12YXIgZSxmLGcsaCxpLGosayxsPWEoYiksbT1cIm9yaWVudGF0aW9uY2hhbmdlXCIsbj17MDohMCwxODA6ITB9O2Euc3VwcG9ydC5vcmllbnRhdGlvbiYmKGk9Yi5pbm5lcldpZHRofHxsLndpZHRoKCksaj1iLmlubmVySGVpZ2h0fHxsLmhlaWdodCgpLGs9NTAsZz1pPmomJmktaj5rLGg9bltiLm9yaWVudGF0aW9uXSwoZyYmaHx8IWcmJiFoKSYmKG49e1wiLTkwXCI6ITAsOTA6ITB9KSksYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlPWEuZXh0ZW5kKHt9LGEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZSx7c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYhYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLmRpc2FibGVkPyExOihmPWUoKSx2b2lkIGwuYmluZChcInRocm90dGxlZHJlc2l6ZVwiLGQpKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYhYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLmRpc2FibGVkPyExOnZvaWQgbC51bmJpbmQoXCJ0aHJvdHRsZWRyZXNpemVcIixkKX0sYWRkOmZ1bmN0aW9uKGEpe3ZhciBiPWEuaGFuZGxlcjthLmhhbmRsZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEub3JpZW50YXRpb249ZSgpLGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19KSxhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Uub3JpZW50YXRpb249ZT1mdW5jdGlvbigpe3ZhciBkPSEwLGU9Yy5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGQ9YS5zdXBwb3J0Lm9yaWVudGF0aW9uP25bYi5vcmllbnRhdGlvbl06ZSYmZS5jbGllbnRXaWR0aC9lLmNsaWVudEhlaWdodDwxLjEsZD9cInBvcnRyYWl0XCI6XCJsYW5kc2NhcGVcIn0sYS5mblttXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQobSxhKTp0aGlzLnRyaWdnZXIobSl9LGEuYXR0ckZuJiYoYS5hdHRyRm5bbV09ITApfShhLHRoaXMpLGZ1bmN0aW9uKGEpe3ZhciBiPWEoXCJoZWFkXCIpLmNoaWxkcmVuKFwiYmFzZVwiKSxjPXtlbGVtZW50OmIubGVuZ3RoP2I6YShcIjxiYXNlPlwiLHtocmVmOmEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2h9KS5wcmVwZW5kVG8oYShcImhlYWRcIikpLGxpbmtTZWxlY3RvcjpcIltzcmNdLCBsaW5rW2hyZWZdLCBhW3JlbD0nZXh0ZXJuYWwnXSwgOmpxbURhdGEoYWpheD0nZmFsc2UnKSwgYVt0YXJnZXRdXCIsc2V0OmZ1bmN0aW9uKGIpe2EubW9iaWxlLmR5bmFtaWNCYXNlRW5hYmxlZCYmYS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnJiZjLmVsZW1lbnQuYXR0cihcImhyZWZcIixhLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShiLGEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlKSl9LHJld3JpdGU6ZnVuY3Rpb24oYixkKXt2YXIgZT1hLm1vYmlsZS5wYXRoLmdldChiKTtkLmZpbmQoYy5saW5rU2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpLmlzKFwiW2hyZWZdXCIpP1wiaHJlZlwiOmEoYykuaXMoXCJbc3JjXVwiKT9cInNyY1wiOlwiYWN0aW9uXCIsZj1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKSxnPWEoYykuYXR0cihkKTtnPWcucmVwbGFjZShmLnByb3RvY29sK2YuZG91YmxlU2xhc2grZi5ob3N0K2YucGF0aG5hbWUsXCJcIiksL14oXFx3Kzp8I3xcXC8pLy50ZXN0KGcpfHxhKGMpLmF0dHIoZCxlK2cpfSl9LHJlc2V0OmZ1bmN0aW9uKCl7Yy5lbGVtZW50LmF0dHIoXCJocmVmXCIsYS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2UuaHJlZk5vU2VhcmNoKX19O2EubW9iaWxlLmJhc2U9Y30oYSksZnVuY3Rpb24oYSxiKXthLm1vYmlsZS53aWRnZXRzPXt9O3ZhciBjPWEud2lkZ2V0LGQ9YS5tb2JpbGUua2VlcE5hdGl2ZTthLndpZGdldD1mdW5jdGlvbihjKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlPWQucHJvdG90eXBlLndpZGdldE5hbWU7cmV0dXJuIGQuaW5pdFNlbGVjdG9yPWQucHJvdG90eXBlLmluaXRTZWxlY3RvciE9PWI/ZC5wcm90b3R5cGUuaW5pdFNlbGVjdG9yOlwiOmpxbURhdGEocm9sZT0nXCIrZStcIicpXCIsYS5tb2JpbGUud2lkZ2V0c1tlXT1kLGR9fShhLndpZGdldCksYS5leHRlbmQoYS53aWRnZXQsYyksYS5tb2JpbGUuZG9jdW1lbnQub24oXCJjcmVhdGVcIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5lbmhhbmNlV2l0aGluKCl9KSxhLndpZGdldChcIm1vYmlsZS5wYWdlXCIse29wdGlvbnM6e3RoZW1lOlwiYVwiLGRvbUNhY2hlOiExLGtlZXBOYXRpdmVEZWZhdWx0OmEubW9iaWxlLmtlZXBOYXRpdmUsY29udGVudFRoZW1lOm51bGwsZW5oYW5jZWQ6ITF9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oKXthLldpZGdldC5wcm90b3R5cGUuX2NyZWF0ZVdpZGdldC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdHJpZ2dlcihcImluaXRcIil9LF9jcmVhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcihcImJlZm9yZWNyZWF0ZVwiKT09PSExPyExOih0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuX2VuaGFuY2UoKSx0aGlzLl9vbih0aGlzLmVsZW1lbnQse3BhZ2ViZWZvcmVoaWRlOlwicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZFwiLHBhZ2ViZWZvcmVzaG93OlwiX2hhbmRsZVBhZ2VCZWZvcmVTaG93XCJ9KSx0aGlzLmVsZW1lbnQuZW5oYW5jZVdpdGhpbigpLHZvaWQoXCJkaWFsb2dcIj09PWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLmVsZW1lbnRbMF0sXCJyb2xlXCIpJiZhLm1vYmlsZS5kaWFsb2cmJnRoaXMuZWxlbWVudC5kaWFsb2coKSkpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBjPVwiZGF0YS1cIithLm1vYmlsZS5ucyxkPXRoaXM7dGhpcy5vcHRpb25zLnJvbGUmJnRoaXMuZWxlbWVudC5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInJvbGVcIix0aGlzLm9wdGlvbnMucm9sZSksdGhpcy5lbGVtZW50LmF0dHIoXCJ0YWJpbmRleFwiLFwiMFwiKS5hZGRDbGFzcyhcInVpLXBhZ2UgdWktcGFnZS10aGVtZS1cIit0aGlzLm9wdGlvbnMudGhlbWUpLHRoaXMuZWxlbWVudC5maW5kKFwiW1wiK2MrXCJyb2xlPSdjb250ZW50J11cIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPWEodGhpcyksZj10aGlzLmdldEF0dHJpYnV0ZShjK1widGhlbWVcIil8fGI7ZC5vcHRpb25zLmNvbnRlbnRUaGVtZT1mfHxkLm9wdGlvbnMuY29udGVudFRoZW1lfHxkLm9wdGlvbnMuZGlhbG9nJiZkLm9wdGlvbnMudGhlbWV8fFwiZGlhbG9nXCI9PT1kLmVsZW1lbnQuanFtRGF0YShcInJvbGVcIikmJmQub3B0aW9ucy50aGVtZSxlLmFkZENsYXNzKFwidWktY29udGVudFwiKSxkLm9wdGlvbnMuY29udGVudFRoZW1lJiZlLmFkZENsYXNzKFwidWktYm9keS1cIitkLm9wdGlvbnMuY29udGVudFRoZW1lKSxlLmF0dHIoXCJyb2xlXCIsXCJtYWluXCIpLmFkZENsYXNzKFwidWktY29udGVudFwiKX0pfSxiaW5kUmVtb3ZlOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuZWxlbWVudDshYy5kYXRhKFwibW9iaWxlLXBhZ2VcIikub3B0aW9ucy5kb21DYWNoZSYmYy5pcyhcIjpqcW1EYXRhKGV4dGVybmFsLXBhZ2U9J3RydWUnKVwiKSYmYy5iaW5kKFwicGFnZWhpZGUucmVtb3ZlXCIsYnx8ZnVuY3Rpb24oYixjKXtpZighYy5zYW1lUGFnZSl7dmFyIGQ9YSh0aGlzKSxlPW5ldyBhLkV2ZW50KFwicGFnZXJlbW92ZVwiKTtkLnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8ZC5yZW1vdmVXaXRoRGVwZW5kZW50cygpfX0pfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXtjLnRoZW1lIT09YiYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktcGFnZS10aGVtZS1cIit0aGlzLm9wdGlvbnMudGhlbWUpLmFkZENsYXNzKFwidWktcGFnZS10aGVtZS1cIitjLnRoZW1lKSxjLmNvbnRlbnRUaGVtZSE9PWImJnRoaXMuZWxlbWVudC5maW5kKFwiW2RhdGEtXCIrYS5tb2JpbGUubnMrXCI9J2NvbnRlbnQnXVwiKS5yZW1vdmVDbGFzcyhcInVpLWJvZHktXCIrdGhpcy5vcHRpb25zLmNvbnRlbnRUaGVtZSkuYWRkQ2xhc3MoXCJ1aS1ib2R5LVwiK2MuY29udGVudFRoZW1lKX0sX2hhbmRsZVBhZ2VCZWZvcmVTaG93OmZ1bmN0aW9uKCl7dGhpcy5zZXRDb250YWluZXJCYWNrZ3JvdW5kKCl9LHJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuY2xvc2VzdChcIjptb2JpbGUtcGFnZWNvbnRhaW5lclwiKS5wYWdlY29udGFpbmVyKHt0aGVtZTpcIm5vbmVcIn0pfSxzZXRDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC5wYXJlbnQoKS5wYWdlY29udGFpbmVyKHt0aGVtZTphfHx0aGlzLm9wdGlvbnMudGhlbWV9KX0sa2VlcE5hdGl2ZVNlbGVjdG9yOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9YS50cmltKGIua2VlcE5hdGl2ZXx8XCJcIiksZT1hLnRyaW0oYS5tb2JpbGUua2VlcE5hdGl2ZSksZj1hLnRyaW0oYi5rZWVwTmF0aXZlRGVmYXVsdCksZz1kPT09ZT9cIlwiOmUsaD1cIlwiPT09Zz9mOlwiXCI7cmV0dXJuKGM/W2NdOltdKS5jb25jYXQoZz9bZ106W10pLmNvbmNhdChoP1toXTpbXSkuam9pbihcIiwgXCIpfX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KFwibW9iaWxlLnBhZ2Vjb250YWluZXJcIix7b3B0aW9uczp7dGhlbWU6XCJhXCJ9LGluaXRTZWxlY3RvcjohMSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fdHJpZ2dlcihcImJlZm9yZWNyZWF0ZVwiKSx0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSEwLHRoaXMuX29uKHRoaXMud2luZG93LHtuYXZpZ2F0ZTpcIl9kaXNhYmxlUmVjb3JkU2Nyb2xsXCIsc2Nyb2xsc3RvcDpcIl9kZWxheWVkUmVjb3JkU2Nyb2xsXCJ9KSx0aGlzLl9vbih0aGlzLndpbmRvdyx7bmF2aWdhdGU6XCJfZmlsdGVyTmF2aWdhdGVFdmVudHNcIn0pLHRoaXMuX29uKHtwYWdlY2hhbmdlOlwiX2FmdGVyQ29udGVudENoYW5nZVwifSksdGhpcy53aW5kb3cub25lKFwibmF2aWdhdGVcIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZD0hMH0sdGhpcykpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXthLnRoZW1lIT09ZCYmXCJub25lXCIhPT1hLnRoZW1lP3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLW92ZXJsYXktXCIrdGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcyhcInVpLW92ZXJsYXktXCIrYS50aGVtZSk6YS50aGVtZSE9PWQmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLW92ZXJsYXktXCIrdGhpcy5vcHRpb25zLnRoZW1lKSx0aGlzLl9zdXBlcihhKX0sX2Rpc2FibGVSZWNvcmRTY3JvbGw6ZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSExfSxfZW5hYmxlUmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZD0hMH0sX2FmdGVyQ29udGVudENoYW5nZTpmdW5jdGlvbigpe3RoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQ9ITAsdGhpcy5fb2ZmKHRoaXMud2luZG93LFwic2Nyb2xsc3RvcFwiKSx0aGlzLl9vbih0aGlzLndpbmRvdyx7c2Nyb2xsc3RvcDpcIl9kZWxheWVkUmVjb3JkU2Nyb2xsXCJ9KX0sX3JlY29yZFNjcm9sbDpmdW5jdGlvbigpe2lmKHRoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQpe3ZhciBhLGIsYyxkPXRoaXMuX2dldEFjdGl2ZUhpc3RvcnkoKTtkJiYoYT10aGlzLl9nZXRTY3JvbGwoKSxiPXRoaXMuX2dldE1pblNjcm9sbCgpLGM9dGhpcy5fZ2V0RGVmYXVsdFNjcm9sbCgpLGQubGFzdFNjcm9sbD1iPmE/YzphKX19LF9kZWxheWVkUmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7c2V0VGltZW91dChhLnByb3h5KHRoaXMsXCJfcmVjb3JkU2Nyb2xsXCIpLDEwMCl9LF9nZXRTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCl9LF9nZXRNaW5TY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubWluU2Nyb2xsQmFja30sX2dldERlZmF1bHRTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGx9LF9maWx0ZXJOYXZpZ2F0ZUV2ZW50czpmdW5jdGlvbihiLGMpe3ZhciBkO2Iub3JpZ2luYWxFdmVudCYmYi5vcmlnaW5hbEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZD1iLm9yaWdpbmFsRXZlbnQudHlwZS5pbmRleE9mKFwiaGFzaGNoYW5nZVwiKT4tMT9jLnN0YXRlLmhhc2g6Yy5zdGF0ZS51cmwsZHx8KGQ9dGhpcy5fZ2V0SGFzaCgpKSxkJiZcIiNcIiE9PWQmJjAhPT1kLmluZGV4T2YoXCIjXCIrYS5tb2JpbGUucGF0aC51aVN0YXRlS2V5KXx8KGQ9bG9jYXRpb24uaHJlZiksdGhpcy5faGFuZGxlTmF2aWdhdGUoZCxjLnN0YXRlKSl9LF9nZXRIYXNoOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2h9LGdldEFjdGl2ZVBhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmVQYWdlfSxfZ2V0SW5pdGlhbENvbnRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZmlyc3RQYWdlfSxfZ2V0SGlzdG9yeTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5fSxfZ2V0QWN0aXZlSGlzdG9yeTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRIaXN0b3J5KCkuZ2V0QWN0aXZlKCl9LF9nZXREb2N1bWVudEJhc2U6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2V9LGJhY2s6ZnVuY3Rpb24oKXt0aGlzLmdvKC0xKX0sZm9yd2FyZDpmdW5jdGlvbigpe3RoaXMuZ28oMSl9LGdvOmZ1bmN0aW9uKGMpe2lmKGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkKWIuaGlzdG9yeS5nbyhjKTtlbHNle3ZhciBkPWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXgsZT1kK3BhcnNlSW50KGMsMTApLGY9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5zdGFja1tlXS51cmwsZz1jPj0xP1wiZm9yd2FyZFwiOlwiYmFja1wiO2EubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXg9ZSxhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnByZXZpb3VzSW5kZXg9ZCx0aGlzLmNoYW5nZShmLHtkaXJlY3Rpb246ZyxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSl9fSxfaGFuZGxlRGVzdGluYXRpb246ZnVuY3Rpb24oYil7dmFyIGM7cmV0dXJuXCJzdHJpbmdcIj09PWEudHlwZShiKSYmKGI9YS5tb2JpbGUucGF0aC5zdHJpcEhhc2goYikpLGImJihjPXRoaXMuX2dldEhpc3RvcnkoKSxiPWEubW9iaWxlLnBhdGguaXNQYXRoKGIpP2I6YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoXCIjXCIrYix0aGlzLl9nZXREb2N1bWVudEJhc2UoKSkpLGJ8fHRoaXMuX2dldEluaXRpYWxDb250ZW50KCl9LF90cmFuc2l0aW9uRnJvbUhpc3Rvcnk6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9nZXRIaXN0b3J5KCksZD1cImJhY2tcIj09PWE/Yy5nZXRMYXN0KCk6Yy5nZXRBY3RpdmUoKTtyZXR1cm4gZCYmZC50cmFuc2l0aW9ufHxifSxfaGFuZGxlRGlhbG9nOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmPXRoaXMuZ2V0QWN0aXZlUGFnZSgpO3JldHVybiBmJiYhZi5kYXRhKFwibW9iaWxlLWRpYWxvZ1wiKT8oXCJiYWNrXCI9PT1jLmRpcmVjdGlvbj90aGlzLmJhY2soKTp0aGlzLmZvcndhcmQoKSwhMSk6KGQ9Yy5wYWdlVXJsLGU9dGhpcy5fZ2V0QWN0aXZlSGlzdG9yeSgpLGEuZXh0ZW5kKGIse3JvbGU6ZS5yb2xlLHRyYW5zaXRpb246dGhpcy5fdHJhbnNpdGlvbkZyb21IaXN0b3J5KGMuZGlyZWN0aW9uLGIudHJhbnNpdGlvbikscmV2ZXJzZTpcImJhY2tcIj09PWMuZGlyZWN0aW9ufSksZCl9LF9oYW5kbGVOYXZpZ2F0ZTpmdW5jdGlvbihiLGMpe3ZhciBkPWEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGIpLGU9dGhpcy5fZ2V0SGlzdG9yeSgpLGY9MD09PWUuc3RhY2subGVuZ3RoP1wibm9uZVwiOnRoaXMuX3RyYW5zaXRpb25Gcm9tSGlzdG9yeShjLmRpcmVjdGlvbiksZz17Y2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMCxyZXZlcnNlOlwiYmFja1wiPT09Yy5kaXJlY3Rpb259O2EuZXh0ZW5kKGcsYyx7dHJhbnNpdGlvbjpmfSksZS5hY3RpdmVJbmRleD4wJiZkLmluZGV4T2YoYS5tb2JpbGUuZGlhbG9nSGFzaEtleSk+LTEmJihkPXRoaXMuX2hhbmRsZURpYWxvZyhnLGMpLGQ9PT0hMSl8fHRoaXMuX2NoYW5nZUNvbnRlbnQodGhpcy5faGFuZGxlRGVzdGluYXRpb24oZCksZyl9LF9jaGFuZ2VDb250ZW50OmZ1bmN0aW9uKGIsYyl7YS5tb2JpbGUuY2hhbmdlUGFnZShiLGMpfSxfZ2V0QmFzZTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5iYXNlfSxfZ2V0TnM6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubnN9LF9lbmhhbmNlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEucGFnZSh7cm9sZTpifSl9LF9pbmNsdWRlOmZ1bmN0aW9uKGEsYil7YS5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpLHRoaXMuX2VuaGFuY2UoYSxiLnJvbGUpLGEucGFnZShcImJpbmRSZW1vdmVcIil9LF9maW5kOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9dGhpcy5fY3JlYXRlRmlsZVVybChiKSxlPXRoaXMuX2NyZWF0ZURhdGFVcmwoYiksZj10aGlzLl9nZXRJbml0aWFsQ29udGVudCgpO3JldHVybiBjPXRoaXMuZWxlbWVudC5jaGlsZHJlbihcIltkYXRhLVwiK3RoaXMuX2dldE5zKCkrXCJ1cmw9J1wiK2EubW9iaWxlLnBhdGguaGFzaFRvU2VsZWN0b3IoZSkrXCInXVwiKSwwPT09Yy5sZW5ndGgmJmUmJiFhLm1vYmlsZS5wYXRoLmlzUGF0aChlKSYmKGM9dGhpcy5lbGVtZW50LmNoaWxkcmVuKGEubW9iaWxlLnBhdGguaGFzaFRvU2VsZWN0b3IoXCIjXCIrZSkpLmF0dHIoXCJkYXRhLVwiK3RoaXMuX2dldE5zKCkrXCJ1cmxcIixlKS5qcW1EYXRhKFwidXJsXCIsZSkpLDA9PT1jLmxlbmd0aCYmYS5tb2JpbGUucGF0aC5pc0ZpcnN0UGFnZVVybChkKSYmZiYmZi5wYXJlbnQoKS5sZW5ndGgmJihjPWEoZikpLGN9LF9nZXRMb2FkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubG9hZGluZygpfSxfc2hvd0xvYWRpbmc6ZnVuY3Rpb24oYixjLGQsZSl7dGhpcy5fbG9hZE1zZ3x8KHRoaXMuX2xvYWRNc2c9c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fZ2V0TG9hZGVyKCkubG9hZGVyKFwic2hvd1wiLGMsZCxlKSx0aGlzLl9sb2FkTXNnPTB9LHRoaXMpLGIpKX0sX2hpZGVMb2FkaW5nOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRNc2cpLHRoaXMuX2xvYWRNc2c9MCx0aGlzLl9nZXRMb2FkZXIoKS5sb2FkZXIoXCJoaWRlXCIpfSxfc2hvd0Vycm9yOmZ1bmN0aW9uKCl7dGhpcy5faGlkZUxvYWRpbmcoKSx0aGlzLl9zaG93TG9hZGluZygwLGEubW9iaWxlLnBhZ2VMb2FkRXJyb3JNZXNzYWdlVGhlbWUsYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2UsITApLHNldFRpbWVvdXQoYS5wcm94eSh0aGlzLFwiX2hpZGVMb2FkaW5nXCIpLDE1MDApfSxfcGFyc2U6ZnVuY3Rpb24oYixjKXt2YXIgZCxlPWEoXCI8ZGl2PjwvZGl2PlwiKTtyZXR1cm4gZS5nZXQoMCkuaW5uZXJIVE1MPWIsZD1lLmZpbmQoXCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpXCIpLmZpcnN0KCksZC5sZW5ndGh8fChkPWEoXCI8ZGl2IGRhdGEtXCIrdGhpcy5fZ2V0TnMoKStcInJvbGU9J3BhZ2UnPlwiKyhiLnNwbGl0KC88XFwvP2JvZHlbXj5dKj4vZ2ltKVsxXXx8XCJcIikrXCI8L2Rpdj5cIikpLGQuYXR0cihcImRhdGEtXCIrdGhpcy5fZ2V0TnMoKStcInVybFwiLHRoaXMuX2NyZWF0ZURhdGFVcmwoYykpLmF0dHIoXCJkYXRhLVwiK3RoaXMuX2dldE5zKCkrXCJleHRlcm5hbC1wYWdlXCIsITApLGR9LF9zZXRMb2FkZWRUaXRsZTpmdW5jdGlvbihiLGMpe3ZhciBkPWMubWF0Y2goLzx0aXRsZVtePl0qPihbXjxdKikvKSYmUmVnRXhwLiQxO2QmJiFiLmpxbURhdGEoXCJ0aXRsZVwiKSYmKGQ9YShcIjxkaXY+XCIrZCtcIjwvZGl2PlwiKS50ZXh0KCksYi5qcW1EYXRhKFwidGl0bGVcIixkKSl9LF9pc1Jld3JpdGFibGVCYXNlVGFnOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmR5bmFtaWNCYXNlRW5hYmxlZCYmIWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZ30sX2NyZWF0ZURhdGFVcmw6ZnVuY3Rpb24oYil7cmV0dXJuIGEubW9iaWxlLnBhdGguY29udmVydFVybFRvRGF0YVVybChiKX0sX2NyZWF0ZUZpbGVVcmw6ZnVuY3Rpb24oYil7cmV0dXJuIGEubW9iaWxlLnBhdGguZ2V0RmlsZVBhdGgoYil9LF90cmlnZ2VyV2l0aERlcHJlY2F0ZWQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuRXZlbnQoXCJwYWdlXCIrYiksZj1hLkV2ZW50KHRoaXMud2lkZ2V0TmFtZStiKTtyZXR1cm4oZHx8dGhpcy5lbGVtZW50KS50cmlnZ2VyKGUsYyksdGhpcy5fdHJpZ2dlcihiLGYsYykse2RlcHJlY2F0ZWRFdmVudDplLGV2ZW50OmZ9fSxfbG9hZFN1Y2Nlc3M6ZnVuY3Rpb24oYixjLGUsZil7dmFyIGc9dGhpcy5fY3JlYXRlRmlsZVVybChiKTtyZXR1cm4gYS5wcm94eShmdW5jdGlvbihoLGksail7dmFyIGssbD1uZXcgUmVnRXhwKFwiKDxbXj5dK1xcXFxiZGF0YS1cIit0aGlzLl9nZXROcygpK1wicm9sZT1bXFxcIiddP3BhZ2VbXFxcIiddP1tePl0qPilcIiksbT1uZXcgUmVnRXhwKFwiXFxcXGJkYXRhLVwiK3RoaXMuX2dldE5zKCkrXCJ1cmw9W1xcXCInXT8oW15cXFwiJz5dKilbXFxcIiddP1wiKTtsLnRlc3QoaCkmJlJlZ0V4cC4kMSYmbS50ZXN0KFJlZ0V4cC4kMSkmJlJlZ0V4cC4kMSYmKGc9YS5tb2JpbGUucGF0aC5nZXRGaWxlUGF0aChhKFwiPGRpdj5cIitSZWdFeHAuJDErXCI8L2Rpdj5cIikudGV4dCgpKSxnPXRoaXMud2luZG93WzBdLmVuY29kZVVSSUNvbXBvbmVudChnKSksZS5wcmVmZXRjaD09PWQmJnRoaXMuX2dldEJhc2UoKS5zZXQoZyksaz10aGlzLl9wYXJzZShoLGcpLHRoaXMuX3NldExvYWRlZFRpdGxlKGssaCksYy54aHI9aixjLnRleHRTdGF0dXM9aSxjLnBhZ2U9ayxjLmNvbnRlbnQ9ayxjLnRvUGFnZT1rLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChcImxvYWRcIixjKS5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHRoaXMuX2lzUmV3cml0YWJsZUJhc2VUYWcoKSYmayYmdGhpcy5fZ2V0QmFzZSgpLnJld3JpdGUoZyxrKSx0aGlzLl9pbmNsdWRlKGssZSksZS5zaG93TG9hZE1zZyYmdGhpcy5faGlkZUxvYWRpbmcoKSxmLnJlc29sdmUoYixlLGspKX0sdGhpcyl9LF9sb2FkRGVmYXVsdHM6e3R5cGU6XCJnZXRcIixkYXRhOmQscmVsb2FkUGFnZTohMSxyZWxvYWQ6ITEscm9sZTpkLHNob3dMb2FkTXNnOiExLGxvYWRNc2dEZWxheTo1MH0sbG9hZDpmdW5jdGlvbihiLGMpe3ZhciBlLGYsZyxoLGk9YyYmYy5kZWZlcnJlZHx8YS5EZWZlcnJlZCgpLGo9YyYmYy5yZWxvYWQ9PT1kJiZjLnJlbG9hZFBhZ2UhPT1kP3tyZWxvYWQ6Yy5yZWxvYWRQYWdlfTp7fSxrPWEuZXh0ZW5kKHt9LHRoaXMuX2xvYWREZWZhdWx0cyxjLGopLGw9bnVsbCxtPWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGIsdGhpcy5fZmluZEJhc2VXaXRoRGVmYXVsdCgpKTtyZXR1cm4gay5kYXRhJiZcImdldFwiPT09ay50eXBlJiYobT1hLm1vYmlsZS5wYXRoLmFkZFNlYXJjaFBhcmFtcyhtLGsuZGF0YSksay5kYXRhPWQpLGsuZGF0YSYmXCJwb3N0XCI9PT1rLnR5cGUmJihrLnJlbG9hZD0hMCksZT10aGlzLl9jcmVhdGVGaWxlVXJsKG0pLGY9dGhpcy5fY3JlYXRlRGF0YVVybChtKSxsPXRoaXMuX2ZpbmQobSksMD09PWwubGVuZ3RoJiZhLm1vYmlsZS5wYXRoLmlzRW1iZWRkZWRQYWdlKGUpJiYhYS5tb2JpbGUucGF0aC5pc0ZpcnN0UGFnZVVybChlKT8oaS5yZWplY3QobSxrKSxpLnByb21pc2UoKSk6KHRoaXMuX2dldEJhc2UoKS5yZXNldCgpLGwubGVuZ3RoJiYhay5yZWxvYWQ/KHRoaXMuX2VuaGFuY2UobCxrLnJvbGUpLGkucmVzb2x2ZShtLGssbCksay5wcmVmZXRjaHx8dGhpcy5fZ2V0QmFzZSgpLnNldChiKSxpLnByb21pc2UoKSk6KGg9e3VybDpiLGFic1VybDptLHRvUGFnZTpiLHByZXZQYWdlOmM/Yy5mcm9tUGFnZTpkLGRhdGFVcmw6ZixkZWZlcnJlZDppLG9wdGlvbnM6a30sZz10aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoXCJiZWZvcmVsb2FkXCIsaCksZy5kZXByZWNhdGVkRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGcuZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCk/aS5wcm9taXNlKCk6KGsuc2hvd0xvYWRNc2cmJnRoaXMuX3Nob3dMb2FkaW5nKGsubG9hZE1zZ0RlbGF5KSxrLnByZWZldGNoPT09ZCYmdGhpcy5fZ2V0QmFzZSgpLnJlc2V0KCksYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzfHxhLm1vYmlsZS5wYXRoLmlzU2FtZURvbWFpbihhLm1vYmlsZS5wYXRoLmRvY3VtZW50VXJsLG0pPyhhLmFqYXgoe3VybDplLHR5cGU6ay50eXBlLGRhdGE6ay5kYXRhLGNvbnRlbnRUeXBlOmsuY29udGVudFR5cGUsZGF0YVR5cGU6XCJodG1sXCIsc3VjY2Vzczp0aGlzLl9sb2FkU3VjY2VzcyhtLGgsayxpKSxlcnJvcjp0aGlzLl9sb2FkRXJyb3IobSxoLGssaSl9KSxpLnByb21pc2UoKSk6KGkucmVqZWN0KG0sayksaS5wcm9taXNlKCkpKSkpfSxfbG9hZEVycm9yOmZ1bmN0aW9uKGIsYyxkLGUpe3JldHVybiBhLnByb3h5KGZ1bmN0aW9uKGYsZyxoKXt0aGlzLl9nZXRCYXNlKCkuc2V0KGEubW9iaWxlLnBhdGguZ2V0KCkpLGMueGhyPWYsYy50ZXh0U3RhdHVzPWcsYy5lcnJvclRocm93bj1oO3ZhciBpPXRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChcImxvYWRmYWlsZWRcIixjKTtpLmRlcHJlY2F0ZWRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8aS5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGQuc2hvd0xvYWRNc2cmJnRoaXMuX3Nob3dFcnJvcigpLGUucmVqZWN0KGIsZCkpfSx0aGlzKX0sX2dldFRyYW5zaXRpb25IYW5kbGVyOmZ1bmN0aW9uKGIpe3JldHVybiBiPWEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uKGIpLGEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVyc1tiXXx8YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyfSxfdHJpZ2dlckNzc1RyYW5zaXRpb25FdmVudHM6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPSExO2Q9ZHx8XCJcIixjJiYoYlswXT09PWNbMF0mJihlPSEwKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoZCtcImhpZGVcIix7bmV4dFBhZ2U6Yix0b1BhZ2U6YixwcmV2UGFnZTpjLHNhbWVQYWdlOmV9LGMpKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoZCtcInNob3dcIix7cHJldlBhZ2U6Y3x8YShcIlwiKSx0b1BhZ2U6Yn0sYil9LF9jc3NUcmFuc2l0aW9uOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGc9ZC50cmFuc2l0aW9uLGg9ZC5yZXZlcnNlLGk9ZC5kZWZlcnJlZDt0aGlzLl90cmlnZ2VyQ3NzVHJhbnNpdGlvbkV2ZW50cyhiLGMsXCJiZWZvcmVcIiksdGhpcy5faGlkZUxvYWRpbmcoKSxlPXRoaXMuX2dldFRyYW5zaXRpb25IYW5kbGVyKGcpLGY9bmV3IGUoZyxoLGIsYykudHJhbnNpdGlvbigpLGYuZG9uZShhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fdHJpZ2dlckNzc1RyYW5zaXRpb25FdmVudHMoYixjKX0sdGhpcykpLGYuZG9uZShmdW5jdGlvbigpe2kucmVzb2x2ZS5hcHBseShpLGFyZ3VtZW50cyl9KX0sX3JlbGVhc2VUcmFuc2l0aW9uTG9jazpmdW5jdGlvbigpe2Y9ITEsZS5sZW5ndGg+MCYmYS5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseShudWxsLGUucG9wKCkpfSxfcmVtb3ZlQWN0aXZlTGlua0NsYXNzOmZ1bmN0aW9uKGIpe2EubW9iaWxlLnJlbW92ZUFjdGl2ZUxpbmtDbGFzcyhiKX0sX2xvYWRVcmw6ZnVuY3Rpb24oYixjLGQpe2QudGFyZ2V0PWIsZC5kZWZlcnJlZD1hLkRlZmVycmVkKCksdGhpcy5sb2FkKGIsZCksZC5kZWZlcnJlZC5kb25lKGEucHJveHkoZnVuY3Rpb24oYSxiLGQpe2Y9ITEsYi5hYnNVcmw9Yy5hYnNVcmwsdGhpcy50cmFuc2l0aW9uKGQsYyxiKX0sdGhpcykpLGQuZGVmZXJyZWQuZmFpbChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQWN0aXZlTGlua0NsYXNzKCEwKSx0aGlzLl9yZWxlYXNlVHJhbnNpdGlvbkxvY2soKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoXCJjaGFuZ2VmYWlsZWRcIixjKX0sdGhpcykpfSxfdHJpZ2dlclBhZ2VCZWZvcmVDaGFuZ2U6ZnVuY3Rpb24oYixjLGQpe3ZhciBlO3JldHVybiBjLnByZXZQYWdlPXRoaXMuYWN0aXZlUGFnZSxhLmV4dGVuZChjLHt0b1BhZ2U6YixvcHRpb25zOmR9KSxjLmFic1VybD1cInN0cmluZ1wiPT09YS50eXBlKGIpP2EubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGIsdGhpcy5fZmluZEJhc2VXaXRoRGVmYXVsdCgpKTpkLmFic1VybCxlPXRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChcImJlZm9yZWNoYW5nZVwiLGMpLGUuZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGUuZGVwcmVjYXRlZEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpPyExOiEwfSxjaGFuZ2U6ZnVuY3Rpb24oYixjKXtpZihmKXJldHVybiB2b2lkIGUudW5zaGlmdChhcmd1bWVudHMpO3ZhciBkPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHMsYyksZz17fTtkLmZyb21QYWdlPWQuZnJvbVBhZ2V8fHRoaXMuYWN0aXZlUGFnZSx0aGlzLl90cmlnZ2VyUGFnZUJlZm9yZUNoYW5nZShiLGcsZCkmJihiPWcudG9QYWdlLFwic3RyaW5nXCI9PT1hLnR5cGUoYik/KGY9ITAsdGhpcy5fbG9hZFVybChiLGcsZCkpOnRoaXMudHJhbnNpdGlvbihiLGcsZCkpfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKGIsZyxoKXt2YXIgaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2O2lmKGYpcmV0dXJuIHZvaWQgZS51bnNoaWZ0KFtiLGhdKTtpZih0aGlzLl90cmlnZ2VyUGFnZUJlZm9yZUNoYW5nZShiLGcsaCkmJihnLnByZXZQYWdlPWguZnJvbVBhZ2Usdj10aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoXCJiZWZvcmV0cmFuc2l0aW9uXCIsZyksIXYuZGVwcmVjYXRlZEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpJiYhdi5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkpe2lmKGY9ITAsYlswXSE9PWEubW9iaWxlLmZpcnN0UGFnZVswXXx8aC5kYXRhVXJsfHwoaC5kYXRhVXJsPWEubW9iaWxlLnBhdGguZG9jdW1lbnRVcmwuaHJlZk5vSGFzaCksaT1oLmZyb21QYWdlLGo9aC5kYXRhVXJsJiZhLm1vYmlsZS5wYXRoLmNvbnZlcnRVcmxUb0RhdGFVcmwoaC5kYXRhVXJsKXx8Yi5qcW1EYXRhKFwidXJsXCIpLGs9aixsPWEubW9iaWxlLnBhdGguZ2V0RmlsZVBhdGgoaiksbT1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmdldEFjdGl2ZSgpLG49MD09PWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXgsbz0wLHA9Yy50aXRsZSxxPShcImRpYWxvZ1wiPT09aC5yb2xlfHxcImRpYWxvZ1wiPT09Yi5qcW1EYXRhKFwicm9sZVwiKSkmJmIuanFtRGF0YShcImRpYWxvZ1wiKSE9PSEwLGkmJmlbMF09PT1iWzBdJiYhaC5hbGxvd1NhbWVQYWdlVHJhbnNpdGlvbilyZXR1cm4gZj0hMSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoXCJ0cmFuc2l0aW9uXCIsZyksdGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKFwiY2hhbmdlXCIsZyksdm9pZChoLmZyb21IYXNoQ2hhbmdlJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmRpcmVjdCh7dXJsOmp9KSk7Yi5wYWdlKHtyb2xlOmgucm9sZX0pLGguZnJvbUhhc2hDaGFuZ2UmJihvPVwiYmFja1wiPT09aC5kaXJlY3Rpb24/LTE6MSk7dHJ5e2MuYWN0aXZlRWxlbWVudCYmXCJib2R5XCIhPT1jLmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKT9hKGMuYWN0aXZlRWxlbWVudCkuYmx1cigpOmEoXCJpbnB1dDpmb2N1cywgdGV4dGFyZWE6Zm9jdXMsIHNlbGVjdDpmb2N1c1wiKS5ibHVyKCl9Y2F0Y2godyl7fXI9ITEscSYmbSYmKG0udXJsJiZtLnVybC5pbmRleE9mKGEubW9iaWxlLmRpYWxvZ0hhc2hLZXkpPi0xJiZ0aGlzLmFjdGl2ZVBhZ2UmJiF0aGlzLmFjdGl2ZVBhZ2UuaGFzQ2xhc3MoXCJ1aS1kaWFsb2dcIikmJmEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXg+MCYmKGguY2hhbmdlSGFzaD0hMSxyPSEwKSxqPW0udXJsfHxcIlwiLGorPSFyJiZqLmluZGV4T2YoXCIjXCIpPi0xP2EubW9iaWxlLmRpYWxvZ0hhc2hLZXk6XCIjXCIrYS5tb2JpbGUuZGlhbG9nSGFzaEtleSkscz1tP2IuanFtRGF0YShcInRpdGxlXCIpfHxiLmNoaWxkcmVuKFwiOmpxbURhdGEocm9sZT0naGVhZGVyJylcIikuZmluZChcIi51aS10aXRsZVwiKS50ZXh0KCk6cCxzJiZwPT09Yy50aXRsZSYmKHA9cyksYi5qcW1EYXRhKFwidGl0bGVcIil8fGIuanFtRGF0YShcInRpdGxlXCIscCksaC50cmFuc2l0aW9uPWgudHJhbnNpdGlvbnx8KG8mJiFuP20udHJhbnNpdGlvbjpkKXx8KHE/YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKSwhbyYmciYmKGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCkucGFnZVVybD1rKSxqJiYhaC5mcm9tSGFzaENoYW5nZSYmKCFhLm1vYmlsZS5wYXRoLmlzUGF0aChqKSYmai5pbmRleE9mKFwiI1wiKTwwJiYoaj1cIiNcIitqKSx0PXt0cmFuc2l0aW9uOmgudHJhbnNpdGlvbix0aXRsZTpwLHBhZ2VVcmw6ayxyb2xlOmgucm9sZX0saC5jaGFuZ2VIYXNoIT09ITEmJmEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkP2EubW9iaWxlLm5hdmlnYXRlKHRoaXMud2luZG93WzBdLmVuY29kZVVSSShqKSx0LCEwKTpiWzBdIT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZChqLHQpKSxjLnRpdGxlPXAsYS5tb2JpbGUuYWN0aXZlUGFnZT1iLHRoaXMuYWN0aXZlUGFnZT1iLGgucmV2ZXJzZT1oLnJldmVyc2V8fDA+byx1PWEuRGVmZXJyZWQoKSx0aGlzLl9jc3NUcmFuc2l0aW9uKGIsaSx7dHJhbnNpdGlvbjpoLnRyYW5zaXRpb24scmV2ZXJzZTpoLnJldmVyc2UsZGVmZXJyZWQ6dX0pLHUuZG9uZShhLnByb3h5KGZ1bmN0aW9uKGMsZCxlLGYsaSl7YS5tb2JpbGUucmVtb3ZlQWN0aXZlTGlua0NsYXNzKCksaC5kdXBsaWNhdGVDYWNoZWRQYWdlJiZoLmR1cGxpY2F0ZUNhY2hlZFBhZ2UucmVtb3ZlKCksaXx8YS5tb2JpbGUuZm9jdXNQYWdlKGIpLHRoaXMuX3JlbGVhc2VUcmFuc2l0aW9uTG9jaygpLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChcInRyYW5zaXRpb25cIixnKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoXCJjaGFuZ2VcIixnKX0sdGhpcykpfX0sX2ZpbmRCYXNlV2l0aERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmFjdGl2ZVBhZ2UmJmEubW9iaWxlLmdldENsb3Nlc3RCYXNlVXJsKHRoaXMuYWN0aXZlUGFnZSk7cmV0dXJuIGJ8fGEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2h9fSksYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZD1hLkRlZmVycmVkKCk7dmFyIGU9W10sZj0hMX0oYSksZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiBlKGEpe2Zvcig7YSYmKFwic3RyaW5nXCIhPXR5cGVvZiBhLm5vZGVOYW1lfHxcImFcIiE9PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7KWE9YS5wYXJlbnROb2RlO3JldHVybiBhfXZhciBmPWEuRGVmZXJyZWQoKSxnPWEuRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKCl7Zy5yZXNvbHZlKCksZz1udWxsfSxpPWEubW9iaWxlLnBhdGguZG9jdW1lbnRVcmwsaj1udWxsO2EubW9iaWxlLmxvYWRQYWdlPWZ1bmN0aW9uKGIsYyl7dmFyIGQ7cmV0dXJuIGM9Y3x8e30sZD1jLnBhZ2VDb250YWluZXJ8fGEubW9iaWxlLnBhZ2VDb250YWluZXIsYy5kZWZlcnJlZD1hLkRlZmVycmVkKCksZC5wYWdlY29udGFpbmVyKFwibG9hZFwiLGIsYyksYy5kZWZlcnJlZC5wcm9taXNlKCl9LGEubW9iaWxlLmJhY2s9ZnVuY3Rpb24oKXt2YXIgYz1iLm5hdmlnYXRvcjt0aGlzLnBob25lZ2FwTmF2aWdhdGlvbkVuYWJsZWQmJmMmJmMuYXBwJiZjLmFwcC5iYWNrSGlzdG9yeT9jLmFwcC5iYWNrSGlzdG9yeSgpOmEubW9iaWxlLnBhZ2VDb250YWluZXIucGFnZWNvbnRhaW5lcihcImJhY2tcIil9LGEubW9iaWxlLmZvY3VzUGFnZT1mdW5jdGlvbihhKXt2YXIgYj1hLmZpbmQoXCJbYXV0b2ZvY3VzXVwiKSxjPWEuZmluZChcIi51aS10aXRsZTplcSgwKVwiKTtyZXR1cm4gYi5sZW5ndGg/dm9pZCBiLmZvY3VzKCk6dm9pZChjLmxlbmd0aD9jLmZvY3VzKCk6YS5mb2N1cygpKX0sYS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb249YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb258fGZ1bmN0aW9uKGEpe3JldHVybiBhfSxhLm1vYmlsZS5jaGFuZ2VQYWdlPWZ1bmN0aW9uKGIsYyl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci5wYWdlY29udGFpbmVyKFwiY2hhbmdlXCIsYixjKX0sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cz17dHJhbnNpdGlvbjpkLHJldmVyc2U6ITEsY2hhbmdlSGFzaDohMCxmcm9tSGFzaENoYW5nZTohMSxyb2xlOmQsZHVwbGljYXRlQ2FjaGVkUGFnZTpkLHBhZ2VDb250YWluZXI6ZCxzaG93TG9hZE1zZzohMCxkYXRhVXJsOmQsZnJvbVBhZ2U6ZCxhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjohMX0sYS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHM9ZnVuY3Rpb24oKXt2YXIgYz1mdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGg9ITA7cmV0dXJuIWEubW9iaWxlLmFqYXhFbmFibGVkfHxiLmlzKFwiOmpxbURhdGEoYWpheD0nZmFsc2UnKVwiKXx8IWIuanFtSGlqYWNrYWJsZSgpLmxlbmd0aHx8Yi5hdHRyKFwidGFyZ2V0XCIpPyExOihkPWomJmouYXR0cihcImZvcm1hY3Rpb25cIil8fGIuYXR0cihcImFjdGlvblwiKSxnPShiLmF0dHIoXCJtZXRob2RcIil8fFwiZ2V0XCIpLnRvTG93ZXJDYXNlKCksZHx8KGQ9YS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwoYiksXCJnZXRcIj09PWcmJihkPWEubW9iaWxlLnBhdGgucGFyc2VVcmwoZCkuaHJlZk5vU2VhcmNoKSxkPT09YS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaCYmKGQ9aS5ocmVmTm9TZWFyY2gpKSxkPWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGQsYS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwoYikpLGEubW9iaWxlLnBhdGguaXNFeHRlcm5hbChkKSYmIWEubW9iaWxlLnBhdGguaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QoaSxkKT8hMTooY3x8KGU9Yi5zZXJpYWxpemVBcnJheSgpLGomJmpbMF0uZm9ybT09PWJbMF0mJihmPWouYXR0cihcIm5hbWVcIiksZiYmKGEuZWFjaChlLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIubmFtZT09PWY/KGY9XCJcIiwhMSk6dm9pZCAwfSksZiYmZS5wdXNoKHtuYW1lOmYsdmFsdWU6ai5hdHRyKFwidmFsdWVcIil9KSkpLGg9e3VybDpkLG9wdGlvbnM6e3R5cGU6ZyxkYXRhOmEucGFyYW0oZSksdHJhbnNpdGlvbjpiLmpxbURhdGEoXCJ0cmFuc2l0aW9uXCIpLHJldmVyc2U6XCJyZXZlcnNlXCI9PT1iLmpxbURhdGEoXCJkaXJlY3Rpb25cIikscmVsb2FkUGFnZTohMH19KSxoKSl9O2EubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKFwiZm9ybVwiLFwic3VibWl0XCIsZnVuY3Rpb24oYil7dmFyIGQ7Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGQ9YyhhKHRoaXMpKSxkJiYoYS5tb2JpbGUuY2hhbmdlUGFnZShkLnVybCxkLm9wdGlvbnMpLGIucHJldmVudERlZmF1bHQoKSkpfSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZChcInZjbGlja1wiLGZ1bmN0aW9uKGIpe3ZhciBkLGYsZz1iLnRhcmdldCxoPSExO2lmKCEoYi53aGljaD4xKSYmYS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkKXtpZihqPWEoZyksYS5kYXRhKGcsXCJtb2JpbGUtYnV0dG9uXCIpKXtpZighYyhhKGcpLmNsb3Nlc3QoXCJmb3JtXCIpLCEwKSlyZXR1cm47Zy5wYXJlbnROb2RlJiYoZz1nLnBhcmVudE5vZGUpfWVsc2V7aWYoZz1lKGcpLCFnfHxcIiNcIj09PWEubW9iaWxlLnBhdGgucGFyc2VVcmwoZy5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpfHxcIiNcIikuaGFzaClyZXR1cm47aWYoIWEoZykuanFtSGlqYWNrYWJsZSgpLmxlbmd0aClyZXR1cm59fmcuY2xhc3NOYW1lLmluZGV4T2YoXCJ1aS1saW5rLWluaGVyaXRcIik/Zy5wYXJlbnROb2RlJiYoZj1hLmRhdGEoZy5wYXJlbnROb2RlLFwiYnV0dG9uRWxlbWVudHNcIikpOmY9YS5kYXRhKGcsXCJidXR0b25FbGVtZW50c1wiKSxmP2c9Zi5vdXRlcjpoPSEwLGQ9YShnKSxoJiYoZD1kLmNsb3Nlc3QoXCIudWktYnRuXCIpKSxkLmxlbmd0aD4wJiYhZC5oYXNDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIpJiYoYS5tb2JpbGUucmVtb3ZlQWN0aXZlTGlua0NsYXNzKCEwKSxhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGluaz1kLGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSl9fSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZChcImNsaWNrXCIsZnVuY3Rpb24oYyl7aWYoYS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkJiYhYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGYsZyxoLGosayxsLG0sbj1lKGMudGFyZ2V0KSxvPWEobikscD1mdW5jdGlvbigpe2Iuc2V0VGltZW91dChmdW5jdGlvbigpe2EubW9iaWxlLnJlbW92ZUFjdGl2ZUxpbmtDbGFzcyghMCl9LDIwMCl9O2lmKGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rJiZhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGlua1swXT09PWMudGFyZ2V0LnBhcmVudE5vZGUmJnAoKSxuJiYhKGMud2hpY2g+MSkmJm8uanFtSGlqYWNrYWJsZSgpLmxlbmd0aCl7aWYoby5pcyhcIjpqcW1EYXRhKHJlbD0nYmFjaycpXCIpKXJldHVybiBhLm1vYmlsZS5iYWNrKCksITE7aWYoZj1hLm1vYmlsZS5nZXRDbG9zZXN0QmFzZVVybChvKSxnPWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKG8uYXR0cihcImhyZWZcIil8fFwiI1wiLGYpLCFhLm1vYmlsZS5hamF4RW5hYmxlZCYmIWEubW9iaWxlLnBhdGguaXNFbWJlZGRlZFBhZ2UoZykpcmV0dXJuIHZvaWQgcCgpO2lmKCEoLTE9PT1nLnNlYXJjaChcIiNcIil8fGEubW9iaWxlLnBhdGguaXNFeHRlcm5hbChnKSYmYS5tb2JpbGUucGF0aC5pc0Fic29sdXRlVXJsKGcpKSl7aWYoZz1nLnJlcGxhY2UoL1teI10qIy8sXCJcIiksIWcpcmV0dXJuIHZvaWQgYy5wcmV2ZW50RGVmYXVsdCgpO2c9YS5tb2JpbGUucGF0aC5pc1BhdGgoZyk/YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoZyxmKTphLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShcIiNcIitnLGkuaHJlZk5vSGFzaCl9aWYoaD1vLmlzKFwiW3JlbD0nZXh0ZXJuYWwnXVwiKXx8by5pcyhcIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJylcIil8fG8uaXMoXCJbdGFyZ2V0XVwiKSxqPWh8fGEubW9iaWxlLnBhdGguaXNFeHRlcm5hbChnKSYmIWEubW9iaWxlLnBhdGguaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QoaSxnKSlyZXR1cm4gdm9pZCBwKCk7az1vLmpxbURhdGEoXCJ0cmFuc2l0aW9uXCIpLGw9XCJyZXZlcnNlXCI9PT1vLmpxbURhdGEoXCJkaXJlY3Rpb25cIil8fG8uanFtRGF0YShcImJhY2tcIiksbT1vLmF0dHIoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1wicmVsXCIpfHxkLGEubW9iaWxlLmNoYW5nZVBhZ2UoZyx7dHJhbnNpdGlvbjprLHJldmVyc2U6bCxyb2xlOm0sbGluazpvfSksYy5wcmV2ZW50RGVmYXVsdCgpfX19KSxhLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZShcIi51aS1wYWdlXCIsXCJwYWdlc2hvdy5wcmVmZXRjaFwiLGZ1bmN0aW9uKCl7dmFyIGI9W107YSh0aGlzKS5maW5kKFwiYTpqcW1EYXRhKHByZWZldGNoKVwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxkPWMuYXR0cihcImhyZWZcIik7ZCYmLTE9PT1hLmluQXJyYXkoZCxiKSYmKGIucHVzaChkKSxhLm1vYmlsZS5sb2FkUGFnZShkLHtyb2xlOmMuYXR0cihcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJyZWxcIikscHJlZmV0Y2g6ITB9KSl9KX0pLGEubW9iaWxlLnBhZ2VDb250YWluZXIucGFnZWNvbnRhaW5lcigpLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoXCJwYWdlc2hvd1wiLGZ1bmN0aW9uKCl7Zz9nLmRvbmUoYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KTphLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKVxufSksYS5tb2JpbGUud2luZG93LmJpbmQoXCJ0aHJvdHRsZWRyZXNpemVcIixhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQpfSxhKGZ1bmN0aW9uKCl7Zi5yZXNvbHZlKCl9KSxcImNvbXBsZXRlXCI9PT1jLnJlYWR5U3RhdGU/aCgpOmEubW9iaWxlLndpbmRvdy5sb2FkKGgpLGEud2hlbihmLGEubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQpLmRvbmUoZnVuY3Rpb24oKXthLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cygpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUuVHJhbnNpdGlvbj1mdW5jdGlvbigpe3RoaXMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGEuZXh0ZW5kKGEubW9iaWxlLlRyYW5zaXRpb24ucHJvdG90eXBlLHt0b1ByZUNsYXNzOlwiIHVpLXBhZ2UtcHJlLWluXCIsaW5pdDpmdW5jdGlvbihiLGMsZCxlKXthLmV4dGVuZCh0aGlzLHtuYW1lOmIscmV2ZXJzZTpjLCR0bzpkLCRmcm9tOmUsZGVmZXJyZWQ6bmV3IGEuRGVmZXJyZWR9KX0sY2xlYW5Gcm9tOmZ1bmN0aW9uKCl7dGhpcy4kZnJvbS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrXCIgb3V0IGluIHJldmVyc2UgXCIrdGhpcy5uYW1lKS5oZWlnaHQoXCJcIil9LGJlZm9yZURvbmVJbjpmdW5jdGlvbigpe30sYmVmb3JlRG9uZU91dDpmdW5jdGlvbigpe30sYmVmb3JlU3RhcnRPdXQ6ZnVuY3Rpb24oKXt9LGRvbmVJbjpmdW5jdGlvbigpe3RoaXMuYmVmb3JlRG9uZUluKCksdGhpcy4kdG8ucmVtb3ZlQ2xhc3MoXCJvdXQgaW4gcmV2ZXJzZSBcIit0aGlzLm5hbWUpLmhlaWdodChcIlwiKSx0aGlzLnRvZ2dsZVZpZXdwb3J0Q2xhc3MoKSxhLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCkhPT10aGlzLnRvU2Nyb2xsJiZ0aGlzLnNjcm9sbFBhZ2UoKSx0aGlzLnNlcXVlbnRpYWx8fHRoaXMuJHRvLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyksdGhpcy5kZWZlcnJlZC5yZXNvbHZlKHRoaXMubmFtZSx0aGlzLnJldmVyc2UsdGhpcy4kdG8sdGhpcy4kZnJvbSwhMCl9LGRvbmVPdXQ6ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5iZWZvcmVEb25lT3V0KCksdGhpcy5zdGFydEluKGEsYixjLGQpfSxoaWRlSW46ZnVuY3Rpb24oYSl7dGhpcy4kdG8uY3NzKFwiei1pbmRleFwiLC0xMCksYS5jYWxsKHRoaXMpLHRoaXMuJHRvLmNzcyhcInotaW5kZXhcIixcIlwiKX0sc2Nyb2xsUGFnZTpmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExLChhLm1vYmlsZS5oaWRlVXJsQmFyfHx0aGlzLnRvU2Nyb2xsIT09YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpJiZiLnNjcm9sbFRvKDAsdGhpcy50b1Njcm9sbCksc2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSEwfSwxNTApfSxzdGFydEluOmZ1bmN0aW9uKGIsYyxkLGUpe3RoaXMuaGlkZUluKGZ1bmN0aW9uKCl7dGhpcy4kdG8uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzK3RoaXMudG9QcmVDbGFzcyksZXx8YS5tb2JpbGUuZm9jdXNQYWdlKHRoaXMuJHRvKSx0aGlzLiR0by5oZWlnaHQoYit0aGlzLnRvU2Nyb2xsKSxkfHx0aGlzLnNjcm9sbFBhZ2UoKX0pLHRoaXMuJHRvLnJlbW92ZUNsYXNzKHRoaXMudG9QcmVDbGFzcykuYWRkQ2xhc3ModGhpcy5uYW1lK1wiIGluIFwiK2MpLGQ/dGhpcy5kb25lSW4oKTp0aGlzLiR0by5hbmltYXRpb25Db21wbGV0ZShhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5kb25lSW4oKX0sdGhpcykpfSxzdGFydE91dDpmdW5jdGlvbihiLGMsZCl7dGhpcy5iZWZvcmVTdGFydE91dChiLGMsZCksdGhpcy4kZnJvbS5oZWlnaHQoYithLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCkpLmFkZENsYXNzKHRoaXMubmFtZStcIiBvdXRcIitjKX0sdG9nZ2xlVmlld3BvcnRDbGFzczpmdW5jdGlvbigpe2EubW9iaWxlLnBhZ2VDb250YWluZXIudG9nZ2xlQ2xhc3MoXCJ1aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyB2aWV3cG9ydC1cIit0aGlzLm5hbWUpfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGIsYz10aGlzLnJldmVyc2U/XCIgcmV2ZXJzZVwiOlwiXCIsZD1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxlPWEubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aCE9PSExJiZhLm1vYmlsZS53aW5kb3cud2lkdGgoKT5hLm1vYmlsZS5tYXhUcmFuc2l0aW9uV2lkdGg7cmV0dXJuIHRoaXMudG9TY3JvbGw9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5nZXRBY3RpdmUoKS5sYXN0U2Nyb2xsfHxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCxiPSFhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnN8fCFhLnN1cHBvcnQuY3NzQW5pbWF0aW9uc3x8ZXx8IXRoaXMubmFtZXx8XCJub25lXCI9PT10aGlzLm5hbWV8fE1hdGgubWF4KGEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSx0aGlzLnRvU2Nyb2xsKT5hLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uKCksdGhpcy50b2dnbGVWaWV3cG9ydENsYXNzKCksdGhpcy4kZnJvbSYmIWI/dGhpcy5zdGFydE91dChkLGMsYik6dGhpcy5kb25lT3V0KGQsYyxiLCEwKSx0aGlzLmRlZmVycmVkLnByb21pc2UoKX19KX0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS5TZXJpYWxUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5leHRlbmQoYS5tb2JpbGUuU2VyaWFsVHJhbnNpdGlvbi5wcm90b3R5cGUsYS5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUse3NlcXVlbnRpYWw6ITAsYmVmb3JlRG9uZU91dDpmdW5jdGlvbigpe3RoaXMuJGZyb20mJnRoaXMuY2xlYW5Gcm9tKCl9LGJlZm9yZVN0YXJ0T3V0OmZ1bmN0aW9uKGIsYyxkKXt0aGlzLiRmcm9tLmFuaW1hdGlvbkNvbXBsZXRlKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmRvbmVPdXQoYixjLGQpfSx0aGlzKSl9fSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLkNvbmN1cnJlbnRUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5leHRlbmQoYS5tb2JpbGUuQ29uY3VycmVudFRyYW5zaXRpb24ucHJvdG90eXBlLGEubW9iaWxlLlRyYW5zaXRpb24ucHJvdG90eXBlLHtzZXF1ZW50aWFsOiExLGJlZm9yZURvbmVJbjpmdW5jdGlvbigpe3RoaXMuJGZyb20mJnRoaXMuY2xlYW5Gcm9tKCl9LGJlZm9yZVN0YXJ0T3V0OmZ1bmN0aW9uKGEsYixjKXt0aGlzLmRvbmVPdXQoYSxiLGMpfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj1mdW5jdGlvbigpe3JldHVybiAzKmEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpfTthLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnM9e3NlcXVlbnRpYWw6YS5tb2JpbGUuU2VyaWFsVHJhbnNpdGlvbixzaW11bHRhbmVvdXM6YS5tb2JpbGUuQ29uY3VycmVudFRyYW5zaXRpb259LGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj1hLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2VxdWVudGlhbCxhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzPXt9LGEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uPWZ1bmN0aW9uKGIpe3JldHVybiBiJiYhYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2JdJiYoYj1hLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2JdKSxifSxhLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uPWEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb258fGJ9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxpcD1cImZhZGVcIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsb3c9XCJmYWRlXCJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5wb3A9XCJmYWRlXCJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNsaWRlPWEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zaW11bHRhbmVvdXMsYS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZT1cImZhZGVcIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlZG93bj1cImZhZGVcIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlZmFkZT1cImZhZGVcIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRldXA9XCJmYWRlXCJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy50dXJuPVwiZmFkZVwifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmRlZ3JhZGVJbnB1dHM9e2NvbG9yOiExLGRhdGU6ITEsZGF0ZXRpbWU6ITEsXCJkYXRldGltZS1sb2NhbFwiOiExLGVtYWlsOiExLG1vbnRoOiExLG51bWJlcjohMSxyYW5nZTpcIm51bWJlclwiLHNlYXJjaDpcInRleHRcIix0ZWw6ITEsdGltZTohMSx1cmw6ITEsd2VlazohMX0sYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5kZWdyYWRlSW5wdXRzPWEubW9iaWxlLmRlZ3JhZGVJbnB1dHMsYS5tb2JpbGUuZGVncmFkZUlucHV0c1dpdGhpbj1mdW5jdGlvbihiKXtiPWEoYiksYi5maW5kKFwiaW5wdXRcIikubm90KGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLmtlZXBOYXRpdmVTZWxlY3RvcigpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYyxkLGUsZj1hKHRoaXMpLGc9dGhpcy5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLGg9YS5tb2JpbGUuZGVncmFkZUlucHV0c1tnXXx8XCJ0ZXh0XCI7YS5tb2JpbGUuZGVncmFkZUlucHV0c1tnXSYmKGI9YShcIjxkaXY+XCIpLmh0bWwoZi5jbG9uZSgpKS5odG1sKCksYz1iLmluZGV4T2YoXCIgdHlwZT1cIik+LTEsZD1jPy9cXHMrdHlwZT1bXCInXT9cXHcrWydcIl0/LzovXFwvPz4vLGU9JyB0eXBlPVwiJytoKydcIiBkYXRhLScrYS5tb2JpbGUubnMrJ3R5cGU9XCInK2crJ1wiJysoYz9cIlwiOlwiPlwiKSxmLnJlcGxhY2VXaXRoKGIucmVwbGFjZShkLGUpKSl9KX19KGEpLGZ1bmN0aW9uKGEsYixjKXthLndpZGdldChcIm1vYmlsZS5wYWdlXCIsYS5tb2JpbGUucGFnZSx7b3B0aW9uczp7Y2xvc2VCdG46XCJsZWZ0XCIsY2xvc2VCdG5UZXh0OlwiQ2xvc2VcIixvdmVybGF5VGhlbWU6XCJhXCIsY29ybmVyczohMCxkaWFsb2c6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMub3B0aW9ucy5kaWFsb2cmJihhLmV4dGVuZCh0aGlzLHtfaW5uZXI6dGhpcy5lbGVtZW50LmNoaWxkcmVuKCksX2hlYWRlckNsb3NlQnV0dG9uOm51bGx9KSx0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuX3NldENsb3NlQnRuKHRoaXMub3B0aW9ucy5jbG9zZUJ0bikpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5vcHRpb25zLmRpYWxvZyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKFwidWktZGlhbG9nXCIpLndyYXBJbm5lcihhKFwiPGRpdi8+XCIse3JvbGU6XCJkaWFsb2dcIixcImNsYXNzXCI6XCJ1aS1kaWFsb2ctY29udGFpbiB1aS1vdmVybGF5LXNoYWRvd1wiKyh0aGlzLm9wdGlvbnMuY29ybmVycz9cIiB1aS1jb3JuZXItYWxsXCI6XCJcIil9KSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGIpe3ZhciBkLGUsZj10aGlzLm9wdGlvbnM7Yi5jb3JuZXJzIT09YyYmdGhpcy5faW5uZXIudG9nZ2xlQ2xhc3MoXCJ1aS1jb3JuZXItYWxsXCIsISFiLmNvcm5lcnMpLGIub3ZlcmxheVRoZW1lIT09YyYmYS5tb2JpbGUuYWN0aXZlUGFnZVswXT09PXRoaXMuZWxlbWVudFswXSYmKGYub3ZlcmxheVRoZW1lPWIub3ZlcmxheVRoZW1lLHRoaXMuX2hhbmRsZVBhZ2VCZWZvcmVTaG93KCkpLGIuY2xvc2VCdG5UZXh0IT09YyYmKGQ9Zi5jbG9zZUJ0bixlPWIuY2xvc2VCdG5UZXh0KSxiLmNsb3NlQnRuIT09YyYmKGQ9Yi5jbG9zZUJ0biksZCYmdGhpcy5fc2V0Q2xvc2VCdG4oZCxlKSx0aGlzLl9zdXBlcihiKX0sX2hhbmRsZVBhZ2VCZWZvcmVTaG93OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSYmdGhpcy5vcHRpb25zLmRpYWxvZz8odGhpcy5yZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kKCksdGhpcy5zZXRDb250YWluZXJCYWNrZ3JvdW5kKHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpKTp0aGlzLl9zdXBlcigpfSxfc2V0Q2xvc2VCdG46ZnVuY3Rpb24oYixjKXt2YXIgZCxlPXRoaXMuX2hlYWRlckNsb3NlQnV0dG9uO2I9XCJsZWZ0XCI9PT1iP1wibGVmdFwiOlwicmlnaHRcIj09PWI/XCJyaWdodFwiOlwibm9uZVwiLFwibm9uZVwiPT09Yj9lJiYoZS5yZW1vdmUoKSxlPW51bGwpOmU/KGUucmVtb3ZlQ2xhc3MoXCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHRcIikuYWRkQ2xhc3MoXCJ1aS1idG4tXCIrYiksYyYmZS50ZXh0KGMpKTooZD10aGlzLl9pbm5lci5maW5kKFwiOmpxbURhdGEocm9sZT0naGVhZGVyJylcIikuZmlyc3QoKSxlPWEoXCI8YT48L2E+XCIse2hyZWY6XCIjXCIsXCJjbGFzc1wiOlwidWktYnRuIHVpLWNvcm5lci1hbGwgdWktaWNvbi1kZWxldGUgdWktYnRuLWljb24tbm90ZXh0IHVpLWJ0bi1cIitifSkuYXR0cihcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJyZWxcIixcImJhY2tcIikudGV4dChjfHx0aGlzLm9wdGlvbnMuY2xvc2VCdG5UZXh0fHxcIlwiKS5wcmVwZW5kVG8oZCkpLHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uPWV9fSl9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGMpe2Eud2lkZ2V0KFwibW9iaWxlLmRpYWxvZ1wiLHtvcHRpb25zOntjbG9zZUJ0bjpcImxlZnRcIixjbG9zZUJ0blRleHQ6XCJDbG9zZVwiLG92ZXJsYXlUaGVtZTpcImFcIixjb3JuZXJzOiEwfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLl9pc0Nsb3NlYWJsZT0hMCx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZ0aGlzLmVsZW1lbnQucGFnZShcInJlbW92ZUNvbnRhaW5lckJhY2tncm91bmRcIikucGFnZShcInNldENvbnRhaW5lckJhY2tncm91bmRcIix0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lKX0sX2hhbmRsZVBhZ2VCZWZvcmVIaWRlOmZ1bmN0aW9uKCl7dGhpcy5faXNDbG9zZWFibGU9ITF9LF9oYW5kbGVWQ2xpY2tTdWJtaXQ6ZnVuY3Rpb24oYil7dmFyIGMsZD1hKGIudGFyZ2V0KS5jbG9zZXN0KFwidmNsaWNrXCI9PT1iLnR5cGU/XCJhXCI6XCJmb3JtXCIpO2QubGVuZ3RoJiYhZC5qcW1EYXRhKFwidHJhbnNpdGlvblwiKSYmKGM9e30sY1tcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJ0cmFuc2l0aW9uXCJdPShhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmdldEFjdGl2ZSgpfHx7fSkudHJhbnNpdGlvbnx8YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb24sY1tcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJkaXJlY3Rpb25cIl09XCJyZXZlcnNlXCIsZC5hdHRyKGMpKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucztiLmFkZENsYXNzKFwidWktZGlhbG9nXCIpLndyYXBJbm5lcihhKFwiPGRpdi8+XCIse3JvbGU6XCJkaWFsb2dcIixcImNsYXNzXCI6XCJ1aS1kaWFsb2ctY29udGFpbiB1aS1vdmVybGF5LXNoYWRvd1wiKyhjLmNvcm5lcnM/XCIgdWktY29ybmVyLWFsbFwiOlwiXCIpfSkpLGEuZXh0ZW5kKHRoaXMse19pc0Nsb3NlYWJsZTohMSxfaW5uZXI6Yi5jaGlsZHJlbigpLF9oZWFkZXJDbG9zZUJ1dHRvbjpudWxsfSksdGhpcy5fb24oYix7dmNsaWNrOlwiX2hhbmRsZVZDbGlja1N1Ym1pdFwiLHN1Ym1pdDpcIl9oYW5kbGVWQ2xpY2tTdWJtaXRcIixwYWdlYmVmb3Jlc2hvdzpcIl9oYW5kbGVQYWdlQmVmb3JlU2hvd1wiLHBhZ2ViZWZvcmVoaWRlOlwiX2hhbmRsZVBhZ2VCZWZvcmVIaWRlXCJ9KSx0aGlzLl9zZXRDbG9zZUJ0bihjLmNsb3NlQnRuKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGQsZSxmPXRoaXMub3B0aW9ucztiLmNvcm5lcnMhPT1jJiZ0aGlzLl9pbm5lci50b2dnbGVDbGFzcyhcInVpLWNvcm5lci1hbGxcIiwhIWIuY29ybmVycyksYi5vdmVybGF5VGhlbWUhPT1jJiZhLm1vYmlsZS5hY3RpdmVQYWdlWzBdPT09dGhpcy5lbGVtZW50WzBdJiYoZi5vdmVybGF5VGhlbWU9Yi5vdmVybGF5VGhlbWUsdGhpcy5faGFuZGxlUGFnZUJlZm9yZVNob3coKSksYi5jbG9zZUJ0blRleHQhPT1jJiYoZD1mLmNsb3NlQnRuLGU9Yi5jbG9zZUJ0blRleHQpLGIuY2xvc2VCdG4hPT1jJiYoZD1iLmNsb3NlQnRuKSxkJiZ0aGlzLl9zZXRDbG9zZUJ0bihkLGUpLHRoaXMuX3N1cGVyKGIpfSxfc2V0Q2xvc2VCdG46ZnVuY3Rpb24oYixjKXt2YXIgZCxlPXRoaXMuX2hlYWRlckNsb3NlQnV0dG9uO2I9XCJsZWZ0XCI9PT1iP1wibGVmdFwiOlwicmlnaHRcIj09PWI/XCJyaWdodFwiOlwibm9uZVwiLFwibm9uZVwiPT09Yj9lJiYoZS5yZW1vdmUoKSxlPW51bGwpOmU/KGUucmVtb3ZlQ2xhc3MoXCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHRcIikuYWRkQ2xhc3MoXCJ1aS1idG4tXCIrYiksYyYmZS50ZXh0KGMpKTooZD10aGlzLl9pbm5lci5maW5kKFwiOmpxbURhdGEocm9sZT0naGVhZGVyJylcIikuZmlyc3QoKSxlPWEoXCI8YT48L2E+XCIse3JvbGU6XCJidXR0b25cIixocmVmOlwiI1wiLFwiY2xhc3NcIjpcInVpLWJ0biB1aS1jb3JuZXItYWxsIHVpLWljb24tZGVsZXRlIHVpLWJ0bi1pY29uLW5vdGV4dCB1aS1idG4tXCIrYn0pLnRleHQoY3x8dGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dHx8XCJcIikucHJlcGVuZFRvKGQpLHRoaXMuX29uKGUse2NsaWNrOlwiY2xvc2VcIn0pKSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1lfSxjbG9zZTpmdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnk7dGhpcy5faXNDbG9zZWFibGUmJih0aGlzLl9pc0Nsb3NlYWJsZT0hMSxhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCYmYi5hY3RpdmVJbmRleD4wP2EubW9iaWxlLmJhY2soKTphLm1vYmlsZS5wYWdlQ29udGFpbmVyLnBhZ2Vjb250YWluZXIoXCJiYWNrXCIpKX19KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe3ZhciBjPS8oW0EtWl0pL2csZD1mdW5jdGlvbihhKXtyZXR1cm5cInVpLWJ0bi1pY29uLVwiKyhudWxsPT09YT9cImxlZnRcIjphKX07YS53aWRnZXQoXCJtb2JpbGUuY29sbGFwc2libGVcIix7b3B0aW9uczp7ZW5oYW5jZWQ6ITEsZXhwYW5kQ3VlVGV4dDpudWxsLGNvbGxhcHNlQ3VlVGV4dDpudWxsLGNvbGxhcHNlZDohMCxoZWFkaW5nOlwiaDEsaDIsaDMsaDQsaDUsaDYsbGVnZW5kXCIsY29sbGFwc2VkSWNvbjpudWxsLGV4cGFuZGVkSWNvbjpudWxsLGljb25wb3M6bnVsbCx0aGVtZTpudWxsLGNvbnRlbnRUaGVtZTpudWxsLGluc2V0Om51bGwsY29ybmVyczpudWxsLG1pbmk6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXthY2NvcmRpb246Yi5jbG9zZXN0KFwiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JyksOmpxbURhdGEocm9sZT0nY29sbGFwc2libGVzZXQnKVwiKyhhLm1vYmlsZS5jb2xsYXBzaWJsZXNldD9cIiwgOm1vYmlsZS1jb2xsYXBzaWJsZXNldFwiOlwiXCIpKS5hZGRDbGFzcyhcInVpLWNvbGxhcHNpYmxlLXNldFwiKX07dGhpcy5fdWk9Yyx0aGlzLl9yZW5kZXJlZE9wdGlvbnM9dGhpcy5fZ2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpLHRoaXMub3B0aW9ucy5lbmhhbmNlZD8oYy5oZWFkaW5nPXRoaXMuZWxlbWVudC5jaGlsZHJlbihcIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nXCIpLGMuY29udGVudD1jLmhlYWRpbmcubmV4dCgpLGMuYW5jaG9yPWMuaGVhZGluZy5jaGlsZHJlbigpLGMuc3RhdHVzPWMuYW5jaG9yLmNoaWxkcmVuKFwiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzXCIpKTp0aGlzLl9lbmhhbmNlKGIsYyksdGhpcy5fb24oYy5oZWFkaW5nLHt0YXA6ZnVuY3Rpb24oKXtjLmhlYWRpbmcuZmluZChcImFcIikuZmlyc3QoKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LGNsaWNrOmZ1bmN0aW9uKGEpe3RoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKCFjLmhlYWRpbmcuaGFzQ2xhc3MoXCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZFwiKSksYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCl9fSl9LF9nZXRPcHRpb25zOmZ1bmN0aW9uKGIpe3ZhciBkLGU9dGhpcy5fdWkuYWNjb3JkaW9uLGY9dGhpcy5fdWkuYWNjb3JkaW9uV2lkZ2V0O2I9YS5leHRlbmQoe30sYiksZS5sZW5ndGgmJiFmJiYodGhpcy5fdWkuYWNjb3JkaW9uV2lkZ2V0PWY9ZS5kYXRhKFwibW9iaWxlLWNvbGxhcHNpYmxlc2V0XCIpKTtmb3IoZCBpbiBiKWJbZF09bnVsbCE9YltkXT9iW2RdOmY/Zi5vcHRpb25zW2RdOmUubGVuZ3RoP2EubW9iaWxlLmdldEF0dHJpYnV0ZShlWzBdLGQucmVwbGFjZShjLFwiLSQxXCIpLnRvTG93ZXJDYXNlKCkpOm51bGwsbnVsbD09YltkXSYmKGJbZF09YS5tb2JpbGUuY29sbGFwc2libGUuZGVmYXVsdHNbZF0pO3JldHVybiBifSxfdGhlbWVDbGFzc0Zyb21PcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9cIm5vbmVcIj09PWI/XCJcIjphK2I6XCJcIn0sX2VuaGFuY2U6ZnVuY3Rpb24oYixjKXt2YXIgZSxmPXRoaXMuX3JlbmRlcmVkT3B0aW9ucyxnPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKFwidWktYm9keS1cIixmLmNvbnRlbnRUaGVtZSk7cmV0dXJuIGIuYWRkQ2xhc3MoXCJ1aS1jb2xsYXBzaWJsZSBcIisoZi5pbnNldD9cInVpLWNvbGxhcHNpYmxlLWluc2V0IFwiOlwiXCIpKyhmLmluc2V0JiZmLmNvcm5lcnM/XCJ1aS1jb3JuZXItYWxsIFwiOlwiXCIpKyhnP1widWktY29sbGFwc2libGUtdGhlbWVkLWNvbnRlbnQgXCI6XCJcIikpLGMub3JpZ2luYWxIZWFkaW5nPWIuY2hpbGRyZW4odGhpcy5vcHRpb25zLmhlYWRpbmcpLmZpcnN0KCksYy5jb250ZW50PWIud3JhcElubmVyKFwiPGRpdiBjbGFzcz0ndWktY29sbGFwc2libGUtY29udGVudCBcIitnK1wiJz48L2Rpdj5cIikuY2hpbGRyZW4oXCIudWktY29sbGFwc2libGUtY29udGVudFwiKSxjLmhlYWRpbmc9Yy5vcmlnaW5hbEhlYWRpbmcsYy5oZWFkaW5nLmlzKFwibGVnZW5kXCIpJiYoYy5oZWFkaW5nPWEoXCI8ZGl2IHJvbGU9J2hlYWRpbmcnPlwiK2MuaGVhZGluZy5odG1sKCkrXCI8L2Rpdj5cIiksYy5wbGFjZWhvbGRlcj1hKFwiPGRpdj48IS0tIHBsYWNlaG9sZGVyIGZvciBsZWdlbmQgLS0+PC9kaXY+XCIpLmluc2VydEJlZm9yZShjLm9yaWdpbmFsSGVhZGluZyksYy5vcmlnaW5hbEhlYWRpbmcucmVtb3ZlKCkpLGU9Zi5jb2xsYXBzZWQ/Zi5jb2xsYXBzZWRJY29uP1widWktaWNvbi1cIitmLmNvbGxhcHNlZEljb246XCJcIjpmLmV4cGFuZGVkSWNvbj9cInVpLWljb24tXCIrZi5leHBhbmRlZEljb246XCJcIixjLnN0YXR1cz1hKFwiPHNwYW4gY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzJz48L3NwYW4+XCIpLGMuYW5jaG9yPWMuaGVhZGluZy5kZXRhY2goKS5hZGRDbGFzcyhcInVpLWNvbGxhcHNpYmxlLWhlYWRpbmdcIikuYXBwZW5kKGMuc3RhdHVzKS53cmFwSW5uZXIoXCI8YSBocmVmPScjJyBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy10b2dnbGUnPjwvYT5cIikuZmluZChcImFcIikuZmlyc3QoKS5hZGRDbGFzcyhcInVpLWJ0biBcIisoZT9lK1wiIFwiOlwiXCIpKyhlP2QoZi5pY29ucG9zKStcIiBcIjpcIlwiKSt0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihcInVpLWJ0bi1cIixmLnRoZW1lKStcIiBcIisoZi5taW5pP1widWktbWluaSBcIjpcIlwiKSksYy5oZWFkaW5nLmluc2VydEJlZm9yZShjLmNvbnRlbnQpLHRoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKHRoaXMub3B0aW9ucy5jb2xsYXBzZWQpLGN9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9hcHBseU9wdGlvbnModGhpcy5vcHRpb25zKSx0aGlzLl9yZW5kZXJlZE9wdGlvbnM9dGhpcy5fZ2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpfSxfYXBwbHlPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBjLGUsZixnLGgsaT10aGlzLmVsZW1lbnQsaj10aGlzLl9yZW5kZXJlZE9wdGlvbnMsaz10aGlzLl91aSxsPWsuYW5jaG9yLG09ay5zdGF0dXMsbj10aGlzLl9nZXRPcHRpb25zKGEpO2EuY29sbGFwc2VkIT09YiYmdGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UoYS5jb2xsYXBzZWQpLGM9aS5oYXNDbGFzcyhcInVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZFwiKSxjP24uZXhwYW5kQ3VlVGV4dCE9PWImJm0udGV4dChuLmV4cGFuZEN1ZVRleHQpOm4uY29sbGFwc2VDdWVUZXh0IT09YiYmbS50ZXh0KG4uY29sbGFwc2VDdWVUZXh0KSxoPW4uY29sbGFwc2VkSWNvbiE9PWI/bi5jb2xsYXBzZWRJY29uIT09ITE6ai5jb2xsYXBzZWRJY29uIT09ITEsKG4uaWNvbnBvcyE9PWJ8fG4uY29sbGFwc2VkSWNvbiE9PWJ8fG4uZXhwYW5kZWRJY29uIT09YikmJihsLnJlbW92ZUNsYXNzKFtkKGouaWNvbnBvcyldLmNvbmNhdChqLmV4cGFuZGVkSWNvbj9bXCJ1aS1pY29uLVwiK2ouZXhwYW5kZWRJY29uXTpbXSkuY29uY2F0KGouY29sbGFwc2VkSWNvbj9bXCJ1aS1pY29uLVwiK2ouY29sbGFwc2VkSWNvbl06W10pLmpvaW4oXCIgXCIpKSxoJiZsLmFkZENsYXNzKFtkKG4uaWNvbnBvcyE9PWI/bi5pY29ucG9zOmouaWNvbnBvcyldLmNvbmNhdChjP1tcInVpLWljb24tXCIrKG4uY29sbGFwc2VkSWNvbiE9PWI/bi5jb2xsYXBzZWRJY29uOmouY29sbGFwc2VkSWNvbildOltcInVpLWljb24tXCIrKG4uZXhwYW5kZWRJY29uIT09Yj9uLmV4cGFuZGVkSWNvbjpqLmV4cGFuZGVkSWNvbildKS5qb2luKFwiIFwiKSkpLG4udGhlbWUhPT1iJiYoZj10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihcInVpLWJ0bi1cIixqLnRoZW1lKSxlPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKFwidWktYnRuLVwiLG4udGhlbWUpLGwucmVtb3ZlQ2xhc3MoZikuYWRkQ2xhc3MoZSkpLG4uY29udGVudFRoZW1lIT09YiYmKGY9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1ib2R5LVwiLGouY29udGVudFRoZW1lKSxlPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKFwidWktYm9keS1cIixuLmNvbnRlbnRUaGVtZSksay5jb250ZW50LnJlbW92ZUNsYXNzKGYpLmFkZENsYXNzKGUpKSxuLmluc2V0IT09YiYmKGkudG9nZ2xlQ2xhc3MoXCJ1aS1jb2xsYXBzaWJsZS1pbnNldFwiLG4uaW5zZXQpLGc9ISghbi5pbnNldHx8IW4uY29ybmVycyYmIWouY29ybmVycykpLG4uY29ybmVycyE9PWImJihnPSEoIW4uY29ybmVyc3x8IW4uaW5zZXQmJiFqLmluc2V0KSksZyE9PWImJmkudG9nZ2xlQ2xhc3MoXCJ1aS1jb3JuZXItYWxsXCIsZyksbi5taW5pIT09YiYmbC50b2dnbGVDbGFzcyhcInVpLW1pbmlcIixuLm1pbmkpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt0aGlzLl9hcHBseU9wdGlvbnMoYSksdGhpcy5fc3VwZXIoYSksdGhpcy5fcmVuZGVyZWRPcHRpb25zPXRoaXMuX2dldE9wdGlvbnModGhpcy5vcHRpb25zKX0sX2hhbmRsZUV4cGFuZENvbGxhcHNlOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuX3JlbmRlcmVkT3B0aW9ucyxkPXRoaXMuX3VpO2Quc3RhdHVzLnRleHQoYj9jLmV4cGFuZEN1ZVRleHQ6Yy5jb2xsYXBzZUN1ZVRleHQpLGQuaGVhZGluZy50b2dnbGVDbGFzcyhcInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkXCIsYikuZmluZChcImFcIikuZmlyc3QoKS50b2dnbGVDbGFzcyhcInVpLWljb24tXCIrYy5leHBhbmRlZEljb24sIWIpLnRvZ2dsZUNsYXNzKFwidWktaWNvbi1cIitjLmNvbGxhcHNlZEljb24sYnx8Yy5leHBhbmRlZEljb249PT1jLmNvbGxhcHNlZEljb24pLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSx0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoXCJ1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWRcIixiKSxkLmNvbnRlbnQudG9nZ2xlQ2xhc3MoXCJ1aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZFwiLGIpLmF0dHIoXCJhcmlhLWhpZGRlblwiLGIpLnRyaWdnZXIoXCJ1cGRhdGVsYXlvdXRcIiksdGhpcy5vcHRpb25zLmNvbGxhcHNlZD1iLHRoaXMuX3RyaWdnZXIoYj9cImNvbGxhcHNlXCI6XCJleHBhbmRcIil9LGV4cGFuZDpmdW5jdGlvbigpe3RoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKCExKX0sY29sbGFwc2U6ZnVuY3Rpb24oKXt0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZSghMCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdWksYj10aGlzLm9wdGlvbnM7Yi5lbmhhbmNlZHx8KGEucGxhY2Vob2xkZXI/KGEub3JpZ2luYWxIZWFkaW5nLmluc2VydEJlZm9yZShhLnBsYWNlaG9sZGVyKSxhLnBsYWNlaG9sZGVyLnJlbW92ZSgpLGEuaGVhZGluZy5yZW1vdmUoKSk6KGEuc3RhdHVzLnJlbW92ZSgpLGEuaGVhZGluZy5yZW1vdmVDbGFzcyhcInVpLWNvbGxhcHNpYmxlLWhlYWRpbmcgdWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWRcIikuY2hpbGRyZW4oKS5jb250ZW50cygpLnVud3JhcCgpKSxhLmFuY2hvci5jb250ZW50cygpLnVud3JhcCgpLGEuY29udGVudC5jb250ZW50cygpLnVud3JhcCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLWNvbGxhcHNpYmxlIHVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZCB1aS1jb2xsYXBzaWJsZS10aGVtZWQtY29udGVudCB1aS1jb2xsYXBzaWJsZS1pbnNldCB1aS1jb3JuZXItYWxsXCIpKX19KSxhLm1vYmlsZS5jb2xsYXBzaWJsZS5kZWZhdWx0cz17ZXhwYW5kQ3VlVGV4dDpcIiBjbGljayB0byBleHBhbmQgY29udGVudHNcIixjb2xsYXBzZUN1ZVRleHQ6XCIgY2xpY2sgdG8gY29sbGFwc2UgY29udGVudHNcIixjb2xsYXBzZWRJY29uOlwicGx1c1wiLGNvbnRlbnRUaGVtZTpcImluaGVyaXRcIixleHBhbmRlZEljb246XCJtaW51c1wiLGljb25wb3M6XCJsZWZ0XCIsaW5zZXQ6ITAsY29ybmVyczohMCx0aGVtZTpcImluaGVyaXRcIixtaW5pOiExfX0oYSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXt2YXIgZCxlPWIubGVuZ3RoLGY9W107Zm9yKGQ9MDtlPmQ7ZCsrKWJbZF0uY2xhc3NOYW1lLm1hdGNoKGMpfHxmLnB1c2goYltkXSk7cmV0dXJuIGEoZil9dmFyIGM9L1xcYnVpLXNjcmVlbi1oaWRkZW5cXGIvO2EubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzPXtfZ2V0VmlzaWJsZXM6ZnVuY3Rpb24oYSxjKXt2YXIgZDtyZXR1cm4gYz9kPWIoYSk6KGQ9YS5maWx0ZXIoXCI6dmlzaWJsZVwiKSwwPT09ZC5sZW5ndGgmJihkPWIoYSkpKSxkfSxfYWRkRmlyc3RMYXN0Q2xhc3NlczpmdW5jdGlvbihhLGIsYyl7YS5yZW1vdmVDbGFzcyhcInVpLWZpcnN0LWNoaWxkIHVpLWxhc3QtY2hpbGRcIiksYi5lcSgwKS5hZGRDbGFzcyhcInVpLWZpcnN0LWNoaWxkXCIpLmVuZCgpLmxhc3QoKS5hZGRDbGFzcyhcInVpLWxhc3QtY2hpbGRcIiksY3x8dGhpcy5lbGVtZW50LnRyaWdnZXIoXCJ1cGRhdGVsYXlvdXRcIil9LF9yZW1vdmVGaXJzdExhc3RDbGFzc2VzOmZ1bmN0aW9uKGEpe2EucmVtb3ZlQ2xhc3MoXCJ1aS1maXJzdC1jaGlsZCB1aS1sYXN0LWNoaWxkXCIpfX19KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGM9XCI6bW9iaWxlLWNvbGxhcHNpYmxlLCBcIithLm1vYmlsZS5jb2xsYXBzaWJsZS5pbml0U2VsZWN0b3I7YS53aWRnZXQoXCJtb2JpbGUuY29sbGFwc2libGVzZXRcIixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOlwiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JyksOmpxbURhdGEocm9sZT0nY29sbGFwc2libGVzZXQnKVwiLG9wdGlvbnM6YS5leHRlbmQoe2VuaGFuY2VkOiExfSxhLm1vYmlsZS5jb2xsYXBzaWJsZS5kZWZhdWx0cyksX2hhbmRsZUNvbGxhcHNpYmxlRXhwYW5kOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmNsb3Nlc3QoXCIudWktY29sbGFwc2libGVcIik7Yy5wYXJlbnQoKS5pcyhcIjptb2JpbGUtY29sbGFwc2libGVzZXQsIDpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpXCIpJiZjLnNpYmxpbmdzKFwiLnVpLWNvbGxhcHNpYmxlOm5vdCgudWktY29sbGFwc2libGUtY29sbGFwc2VkKVwiKS5jb2xsYXBzaWJsZShcImNvbGxhcHNlXCIpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zO2EuZXh0ZW5kKHRoaXMse19jbGFzc2VzOlwiXCJ9KSxjLmVuaGFuY2VkfHwoYi5hZGRDbGFzcyhcInVpLWNvbGxhcHNpYmxlLXNldCBcIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihcInVpLWdyb3VwLXRoZW1lLVwiLGMudGhlbWUpK1wiIFwiKyhjLmNvcm5lcnMmJmMuaW5zZXQ/XCJ1aS1jb3JuZXItYWxsIFwiOlwiXCIpKSx0aGlzLmVsZW1lbnQuZmluZChhLm1vYmlsZS5jb2xsYXBzaWJsZS5pbml0U2VsZWN0b3IpLmNvbGxhcHNpYmxlKCkpLHRoaXMuX29uKGIse2NvbGxhcHNpYmxlZXhwYW5kOlwiX2hhbmRsZUNvbGxhcHNpYmxlRXhwYW5kXCJ9KX0sX3RoZW1lQ2xhc3NGcm9tT3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/XCJub25lXCI9PT1iP1wiXCI6YStiOlwiXCJ9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaCghMCksdGhpcy5lbGVtZW50LmNoaWxkcmVuKGMpLmZpbHRlcihcIjpqcW1EYXRhKGNvbGxhcHNlZD0nZmFsc2UnKVwiKS5jb2xsYXBzaWJsZShcImV4cGFuZFwiKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGMsZCxlPXRoaXMuZWxlbWVudCxmPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKFwidWktZ3JvdXAtdGhlbWUtXCIsYS50aGVtZSk7cmV0dXJuIGYmJmUucmVtb3ZlQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1ncm91cC10aGVtZS1cIix0aGlzLm9wdGlvbnMudGhlbWUpKS5hZGRDbGFzcyhmKSxhLmluc2V0IT09YiYmKGQ9ISghYS5pbnNldHx8IWEuY29ybmVycyYmIXRoaXMub3B0aW9ucy5jb3JuZXJzKSksYS5jb3JuZXJzIT09YiYmKGQ9ISghYS5jb3JuZXJzfHwhYS5pbnNldCYmIXRoaXMub3B0aW9ucy5pbnNldCkpLGQhPT1iJiZlLnRvZ2dsZUNsYXNzKFwidWktY29ybmVyLWFsbFwiLGQpLGM9dGhpcy5fc3VwZXIoYSksdGhpcy5lbGVtZW50LmNoaWxkcmVuKFwiOm1vYmlsZS1jb2xsYXBzaWJsZVwiKS5jb2xsYXBzaWJsZShcInJlZnJlc2hcIiksY30sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQ7dGhpcy5fcmVtb3ZlRmlyc3RMYXN0Q2xhc3NlcyhhLmNoaWxkcmVuKGMpKSxhLnJlbW92ZUNsYXNzKFwidWktY29sbGFwc2libGUtc2V0IHVpLWNvcm5lci1hbGwgXCIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1ncm91cC10aGVtZS1cIix0aGlzLm9wdGlvbnMudGhlbWUpKS5jaGlsZHJlbihcIjptb2JpbGUtY29sbGFwc2libGVcIikuY29sbGFwc2libGUoXCJkZXN0cm95XCIpfSxfcmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgZD10aGlzLmVsZW1lbnQuY2hpbGRyZW4oYyk7dGhpcy5lbGVtZW50LmZpbmQoYS5tb2JpbGUuY29sbGFwc2libGUuaW5pdFNlbGVjdG9yKS5ub3QoXCIudWktY29sbGFwc2libGVcIikuY29sbGFwc2libGUoKSx0aGlzLl9hZGRGaXJzdExhc3RDbGFzc2VzKGQsdGhpcy5fZ2V0VmlzaWJsZXMoZCxiKSxiKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2goITEpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKX0oYSksZnVuY3Rpb24oYSl7YS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRDbGFzcyhcInVpLWZpZWxkLWNvbnRhaW5cIil9fShhKSxmdW5jdGlvbihhKXthLmZuLmdyaWQ9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjLGQsZT1hKHRoaXMpLGY9YS5leHRlbmQoe2dyaWQ6bnVsbH0sYiksZz1lLmNoaWxkcmVuKCksaD17c29sbzoxLGE6MixiOjMsYzo0LGQ6NX0saT1mLmdyaWQ7aWYoIWkpaWYoZy5sZW5ndGg8PTUpZm9yKGQgaW4gaCloW2RdPT09Zy5sZW5ndGgmJihpPWQpO2Vsc2UgaT1cImFcIixlLmFkZENsYXNzKFwidWktZ3JpZC1kdW9cIik7Yz1oW2ldLGUuYWRkQ2xhc3MoXCJ1aS1ncmlkLVwiK2kpLGcuZmlsdGVyKFwiOm50aC1jaGlsZChcIitjK1wibisxKVwiKS5hZGRDbGFzcyhcInVpLWJsb2NrLWFcIiksYz4xJiZnLmZpbHRlcihcIjpudGgtY2hpbGQoXCIrYytcIm4rMilcIikuYWRkQ2xhc3MoXCJ1aS1ibG9jay1iXCIpLGM+MiYmZy5maWx0ZXIoXCI6bnRoLWNoaWxkKFwiK2MrXCJuKzMpXCIpLmFkZENsYXNzKFwidWktYmxvY2stY1wiKSxjPjMmJmcuZmlsdGVyKFwiOm50aC1jaGlsZChcIitjK1wibis0KVwiKS5hZGRDbGFzcyhcInVpLWJsb2NrLWRcIiksYz40JiZnLmZpbHRlcihcIjpudGgtY2hpbGQoXCIrYytcIm4rNSlcIikuYWRkQ2xhc3MoXCJ1aS1ibG9jay1lXCIpfSl9fShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KFwibW9iaWxlLm5hdmJhclwiLHtvcHRpb25zOntpY29ucG9zOlwidG9wXCIsZ3JpZDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5lbGVtZW50LGU9ZC5maW5kKFwiYSwgYnV0dG9uXCIpLGY9ZS5maWx0ZXIoXCI6anFtRGF0YShpY29uKVwiKS5sZW5ndGg/dGhpcy5vcHRpb25zLmljb25wb3M6YjtkLmFkZENsYXNzKFwidWktbmF2YmFyXCIpLmF0dHIoXCJyb2xlXCIsXCJuYXZpZ2F0aW9uXCIpLmZpbmQoXCJ1bFwiKS5qcW1FbmhhbmNlYWJsZSgpLmdyaWQoe2dyaWQ6dGhpcy5vcHRpb25zLmdyaWR9KSxlLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcyxcImljb25cIiksYz1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcyxcInRoZW1lXCIpLGQ9XCJ1aS1idG5cIjtjJiYoZCs9XCIgdWktYnRuLVwiK2MpLGImJihkKz1cIiB1aS1pY29uLVwiK2IrXCIgdWktYnRuLWljb24tXCIrZiksYSh0aGlzKS5hZGRDbGFzcyhkKX0pLGQuZGVsZWdhdGUoXCJhXCIsXCJ2Y2xpY2tcIixmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5oYXNDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIpfHxiLmhhc0NsYXNzKFwidWktZGlzYWJsZWRcIil8fGIuaGFzQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfHwoZS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYShjKS5vbmUoXCJwYWdlaGlkZVwiLGZ1bmN0aW9uKCl7Yi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KSl9KSxkLmNsb3Nlc3QoXCIudWktcGFnZVwiKS5iaW5kKFwicGFnZWJlZm9yZXNob3dcIixmdW5jdGlvbigpe2UuZmlsdGVyKFwiLnVpLXN0YXRlLXBlcnNpc3RcIikuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPWEubW9iaWxlLmdldEF0dHJpYnV0ZTthLndpZGdldChcIm1vYmlsZS5saXN0dmlld1wiLGEuZXh0ZW5kKHtvcHRpb25zOnt0aGVtZTpudWxsLGNvdW50VGhlbWU6bnVsbCxkaXZpZGVyVGhlbWU6bnVsbCxpY29uOlwiY2FyYXQtclwiLHNwbGl0SWNvbjpcImNhcmF0LXJcIixzcGxpdFRoZW1lOm51bGwsY29ybmVyczohMCxzaGFkb3c6ITAsaW5zZXQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9XCJcIjtiKz1hLm9wdGlvbnMuaW5zZXQ/XCIgdWktbGlzdHZpZXctaW5zZXRcIjpcIlwiLGEub3B0aW9ucy5pbnNldCYmKGIrPWEub3B0aW9ucy5jb3JuZXJzP1wiIHVpLWNvcm5lci1hbGxcIjpcIlwiLGIrPWEub3B0aW9ucy5zaGFkb3c/XCIgdWktc2hhZG93XCI6XCJcIiksYS5lbGVtZW50LmFkZENsYXNzKFwiIHVpLWxpc3R2aWV3XCIrYiksYS5yZWZyZXNoKCEwKX0sX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9e307Zm9yKGVbY109ZVtkXT0hMDthOyl7aWYoZVthLm5vZGVOYW1lXSlyZXR1cm4gYTthPWFbYl19cmV0dXJuIG51bGx9LF9hZGRUaHVtYkNsYXNzZXM6ZnVuY3Rpb24oYil7dmFyIGMsZCxlPWIubGVuZ3RoO2ZvcihjPTA7ZT5jO2MrKylkPWEodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZShiW2NdLmZpcnN0Q2hpbGQsXCJuZXh0U2libGluZ1wiLFwiaW1nXCIsXCJJTUdcIikpLGQubGVuZ3RoJiZhKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoZFswXS5wYXJlbnROb2RlLFwicGFyZW50Tm9kZVwiLFwibGlcIixcIkxJXCIpKS5hZGRDbGFzcyhkLmhhc0NsYXNzKFwidWktbGktaWNvblwiKT9cInVpLWxpLWhhcy1pY29uXCI6XCJ1aS1saS1oYXMtdGh1bWJcIil9LF9nZXRDaGlsZHJlbkJ5VGFnTmFtZTpmdW5jdGlvbihiLGMsZCl7dmFyIGU9W10sZj17fTtmb3IoZltjXT1mW2RdPSEwLGI9Yi5maXJzdENoaWxkO2I7KWZbYi5ub2RlTmFtZV0mJmUucHVzaChiKSxiPWIubmV4dFNpYmxpbmc7cmV0dXJuIGEoZSl9LF9iZWZvcmVMaXN0dmlld1JlZnJlc2g6YS5ub29wLF9hZnRlckxpc3R2aWV3UmVmcmVzaDphLm5vb3AscmVmcmVzaDpmdW5jdGlvbihjKXt2YXIgZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdix3LHg9dGhpcy5vcHRpb25zLHk9dGhpcy5lbGVtZW50LHo9ISFhLm5vZGVOYW1lKHlbMF0sXCJvbFwiKSxBPXkuYXR0cihcInN0YXJ0XCIpLEI9e30sQz15LmZpbmQoXCIudWktbGktY291bnRcIiksRD1iKHlbMF0sXCJjb3VudHRoZW1lXCIpfHx0aGlzLm9wdGlvbnMuY291bnRUaGVtZSxFPUQ/XCJ1aS1ib2R5LVwiK0Q6XCJ1aS1ib2R5LWluaGVyaXRcIjtmb3IoeC50aGVtZSYmeS5hZGRDbGFzcyhcInVpLWdyb3VwLXRoZW1lLVwiK3gudGhlbWUpLHomJihBfHwwPT09QSkmJihuPXBhcnNlSW50KEEsMTApLTEseS5jc3MoXCJjb3VudGVyLXJlc2V0XCIsXCJsaXN0bnVtYmVyaW5nIFwiK24pKSx0aGlzLl9iZWZvcmVMaXN0dmlld1JlZnJlc2goKSx3PXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKHlbMF0sXCJsaVwiLFwiTElcIiksZT0wLGY9dy5sZW5ndGg7Zj5lO2UrKylnPXcuZXEoZSksaD1cIlwiLChjfHxnWzBdLmNsYXNzTmFtZS5zZWFyY2goL1xcYnVpLWxpLXN0YXRpY1xcYnxcXGJ1aS1saS1kaXZpZGVyXFxiLyk8MCkmJihsPXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKGdbMF0sXCJhXCIsXCJBXCIpLG09XCJsaXN0LWRpdmlkZXJcIj09PWIoZ1swXSxcInJvbGVcIikscD1nLmF0dHIoXCJ2YWx1ZVwiKSxpPWIoZ1swXSxcInRoZW1lXCIpLGwubGVuZ3RoJiZsWzBdLmNsYXNzTmFtZS5zZWFyY2goL1xcYnVpLWJ0blxcYi8pPDAmJiFtPyhqPWIoZ1swXSxcImljb25cIiksaz1qPT09ITE/ITE6anx8eC5pY29uLGwucmVtb3ZlQ2xhc3MoXCJ1aS1saW5rXCIpLGQ9XCJ1aS1idG5cIixpJiYoZCs9XCIgdWktYnRuLVwiK2kpLGwubGVuZ3RoPjE/KGg9XCJ1aS1saS1oYXMtYWx0XCIscT1sLmxhc3QoKSxyPWIocVswXSxcInRoZW1lXCIpfHx4LnNwbGl0VGhlbWV8fGIoZ1swXSxcInRoZW1lXCIsITApLHM9cj9cIiB1aS1idG4tXCIrcjpcIlwiLHQ9YihxWzBdLFwiaWNvblwiKXx8YihnWzBdLFwiaWNvblwiKXx8eC5zcGxpdEljb24sdT1cInVpLWJ0biB1aS1idG4taWNvbi1ub3RleHQgdWktaWNvbi1cIit0K3MscS5hdHRyKFwidGl0bGVcIixhLnRyaW0ocS5nZXRFbmNvZGVkVGV4dCgpKSkuYWRkQ2xhc3ModSkuZW1wdHkoKSxsPWwuZmlyc3QoKSk6ayYmKGQrPVwiIHVpLWJ0bi1pY29uLXJpZ2h0IHVpLWljb24tXCIrayksbC5hZGRDbGFzcyhkKSk6bT8odj1iKGdbMF0sXCJ0aGVtZVwiKXx8eC5kaXZpZGVyVGhlbWV8fHgudGhlbWUsaD1cInVpLWxpLWRpdmlkZXIgdWktYmFyLVwiKyh2P3Y6XCJpbmhlcml0XCIpLGcuYXR0cihcInJvbGVcIixcImhlYWRpbmdcIikpOmwubGVuZ3RoPD0wJiYoaD1cInVpLWxpLXN0YXRpYyB1aS1ib2R5LVwiKyhpP2k6XCJpbmhlcml0XCIpKSx6JiZwJiYobz1wYXJzZUludChwLDEwKS0xLGcuY3NzKFwiY291bnRlci1yZXNldFwiLFwibGlzdG51bWJlcmluZyBcIitvKSkpLEJbaF18fChCW2hdPVtdKSxCW2hdLnB1c2goZ1swXSk7Zm9yKGggaW4gQilhKEJbaF0pLmFkZENsYXNzKGgpO0MuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY2xvc2VzdChcImxpXCIpLmFkZENsYXNzKFwidWktbGktaGFzLWNvdW50XCIpfSksRSYmQy5ub3QoXCJbY2xhc3MqPSd1aS1ib2R5LSddXCIpLmFkZENsYXNzKEUpLHRoaXMuX2FkZFRodW1iQ2xhc3Nlcyh3KSx0aGlzLl9hZGRUaHVtYkNsYXNzZXMody5maW5kKFwiLnVpLWJ0blwiKSksdGhpcy5fYWZ0ZXJMaXN0dmlld1JlZnJlc2goKSx0aGlzLl9hZGRGaXJzdExhc3RDbGFzc2VzKHcsdGhpcy5fZ2V0VmlzaWJsZXModyxjKSxjKX19LGEubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzKSl9KGEpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYil7dmFyIGM9YS50cmltKGIudGV4dCgpKXx8bnVsbDtyZXR1cm4gYz9jPWMuc2xpY2UoMCwxKS50b1VwcGVyQ2FzZSgpOm51bGx9YS53aWRnZXQoXCJtb2JpbGUubGlzdHZpZXdcIixhLm1vYmlsZS5saXN0dmlldyx7b3B0aW9uczp7YXV0b2RpdmlkZXJzOiExLGF1dG9kaXZpZGVyc1NlbGVjdG9yOmJ9LF9iZWZvcmVMaXN0dmlld1JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuYXV0b2RpdmlkZXJzJiYodGhpcy5fcmVwbGFjZURpdmlkZXJzKCksdGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpKX0sX3JlcGxhY2VEaXZpZGVyczpmdW5jdGlvbigpe3ZhciBiLGQsZSxmLGcsaD1udWxsLGk9dGhpcy5lbGVtZW50O2ZvcihpLmNoaWxkcmVuKFwibGk6anFtRGF0YShyb2xlPSdsaXN0LWRpdmlkZXInKVwiKS5yZW1vdmUoKSxkPWkuY2hpbGRyZW4oXCJsaVwiKSxiPTA7YjxkLmxlbmd0aDtiKyspZT1kW2JdLGY9dGhpcy5vcHRpb25zLmF1dG9kaXZpZGVyc1NlbGVjdG9yKGEoZSkpLGYmJmghPT1mJiYoZz1jLmNyZWF0ZUVsZW1lbnQoXCJsaVwiKSxnLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUoZikpLGcuc2V0QXR0cmlidXRlKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInJvbGVcIixcImxpc3QtZGl2aWRlclwiKSxlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGcsZSkpLGg9Zn19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGI9LyhefFxccyl1aS1saS1kaXZpZGVyKCR8XFxzKS8sYz0vKF58XFxzKXVpLXNjcmVlbi1oaWRkZW4oJHxcXHMpLzthLndpZGdldChcIm1vYmlsZS5saXN0dmlld1wiLGEubW9iaWxlLmxpc3R2aWV3LHtvcHRpb25zOntoaWRlRGl2aWRlcnM6ITF9LF9hZnRlckxpc3R2aWV3UmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhLGQsZSxmPSEwO2lmKHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKSx0aGlzLm9wdGlvbnMuaGlkZURpdmlkZXJzKWZvcihhPXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKHRoaXMuZWxlbWVudFswXSxcImxpXCIsXCJMSVwiKSxkPWEubGVuZ3RoLTE7ZD4tMTtkLS0pZT1hW2RdLGUuY2xhc3NOYW1lLm1hdGNoKGIpPyhmJiYoZS5jbGFzc05hbWU9ZS5jbGFzc05hbWUrXCIgdWktc2NyZWVuLWhpZGRlblwiKSxmPSEwKTplLmNsYXNzTmFtZS5tYXRjaChjKXx8KGY9ITEpfX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5ub2pzPWZ1bmN0aW9uKGIpe2EoXCI6anFtRGF0YShyb2xlPSdub2pzJylcIixiKS5hZGRDbGFzcyhcInVpLW5vanNcIil9fShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0PXtfaGFuZGxlRm9ybVJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fb24odGhpcy5lbGVtZW50LmNsb3Nlc3QoXCJmb3JtXCIpLHtyZXNldDpmdW5jdGlvbigpe3RoaXMuX2RlbGF5KFwiX3Jlc2V0XCIpfX0pfX19KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGM9YS5tb2JpbGUucGF0aC5oYXNoVG9TZWxlY3RvcjthLndpZGdldChcIm1vYmlsZS5jaGVja2JveHJhZGlvXCIsYS5leHRlbmQoe2luaXRTZWxlY3RvcjpcImlucHV0Om5vdCggOmpxbURhdGEocm9sZT0nZmxpcHN3aXRjaCcgKSApW3R5cGU9J2NoZWNrYm94J10saW5wdXRbdHlwZT0ncmFkaW8nXTpub3QoIDpqcW1EYXRhKHJvbGU9J2ZsaXBzd2l0Y2gnICkpXCIsb3B0aW9uczp7dGhlbWU6XCJpbmhlcml0XCIsbWluaTohMSx3cmFwcGVyQ2xhc3M6bnVsbCxlbmhhbmNlZDohMSxpY29ucG9zOlwibGVmdFwifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zLGQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5qcW1EYXRhKGIpfHxhLmNsb3Nlc3QoXCJmb3JtLCBmaWVsZHNldFwiKS5qcW1EYXRhKGIpfSxlPXRoaXMub3B0aW9ucy5lbmhhbmNlZD97ZWxlbWVudDp0aGlzLmVsZW1lbnQuc2libGluZ3MoXCJsYWJlbFwiKSxpc1BhcmVudDohMX06dGhpcy5fZmluZExhYmVsKCksZj1iWzBdLnR5cGUsZz1cInVpLVwiK2YrXCItb25cIixoPVwidWktXCIrZitcIi1vZmZcIjsoXCJjaGVja2JveFwiPT09Znx8XCJyYWRpb1wiPT09ZikmJih0aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ITApLGMuaWNvbnBvcz1kKGIsXCJpY29ucG9zXCIpfHxlLmVsZW1lbnQuYXR0cihcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJpY29ucG9zXCIpfHxjLmljb25wb3MsYy5taW5pPWQoYixcIm1pbmlcIil8fGMubWluaSxhLmV4dGVuZCh0aGlzLHtpbnB1dDpiLGxhYmVsOmUuZWxlbWVudCxsYWJlbElzUGFyZW50OmUuaXNQYXJlbnQsaW5wdXR0eXBlOmYsY2hlY2tlZENsYXNzOmcsdW5jaGVja2VkQ2xhc3M6aH0pLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLHRoaXMuX29uKGUuZWxlbWVudCx7dm1vdXNlb3ZlcjpcIl9oYW5kbGVMYWJlbFZNb3VzZU92ZXJcIix2Y2xpY2s6XCJfaGFuZGxlTGFiZWxWQ2xpY2tcIn0pLHRoaXMuX29uKGIse3Ztb3VzZWRvd246XCJfY2FjaGVWYWxzXCIsdmNsaWNrOlwiX2hhbmRsZUlucHV0VkNsaWNrXCIsZm9jdXM6XCJfaGFuZGxlSW5wdXRGb2N1c1wiLGJsdXI6XCJfaGFuZGxlSW5wdXRCbHVyXCJ9KSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLnJlZnJlc2goKSl9LF9maW5kTGFiZWw6ZnVuY3Rpb24oKXt2YXIgYixkLGUsZj10aGlzLmVsZW1lbnQsZz1mWzBdLmxhYmVscztyZXR1cm4gZyYmZy5sZW5ndGg+MD8oZD1hKGdbMF0pLGU9YS5jb250YWlucyhkWzBdLGZbMF0pKTooYj1mLmNsb3Nlc3QoXCJsYWJlbFwiKSxlPWIubGVuZ3RoPjAsZD1lP2I6YSh0aGlzLmRvY3VtZW50WzBdLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGFiZWxcIikpLmZpbHRlcihcIltmb3I9J1wiK2MoZlswXS5pZCkrXCInXVwiKS5maXJzdCgpKSx7ZWxlbWVudDpkLGlzUGFyZW50OmV9fSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMubGFiZWwuYWRkQ2xhc3MoXCJ1aS1idG4gdWktY29ybmVyLWFsbFwiKSx0aGlzLmxhYmVsSXNQYXJlbnQ/dGhpcy5pbnB1dC5hZGQodGhpcy5sYWJlbCkud3JhcEFsbCh0aGlzLl93cmFwcGVyKCkpOih0aGlzLmVsZW1lbnQud3JhcCh0aGlzLl93cmFwcGVyKCkpLHRoaXMuZWxlbWVudC5wYXJlbnQoKS5wcmVwZW5kKHRoaXMubGFiZWwpKSx0aGlzLl9zZXRPcHRpb25zKHt0aGVtZTp0aGlzLm9wdGlvbnMudGhlbWUsaWNvbnBvczp0aGlzLm9wdGlvbnMuaWNvbnBvcyxtaW5pOnRoaXMub3B0aW9ucy5taW5pfSl9LF93cmFwcGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGEoXCI8ZGl2IGNsYXNzPSdcIisodGhpcy5vcHRpb25zLndyYXBwZXJDbGFzcz90aGlzLm9wdGlvbnMud3JhcHBlckNsYXNzOlwiXCIpK1wiIHVpLVwiK3RoaXMuaW5wdXR0eXBlKyh0aGlzLm9wdGlvbnMuZGlzYWJsZWQ/XCIgdWktc3RhdGUtZGlzYWJsZWRcIjpcIlwiKStcIicgPjwvZGl2PlwiKX0sX2hhbmRsZUlucHV0Rm9jdXM6ZnVuY3Rpb24oKXt0aGlzLmxhYmVsLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxfaGFuZGxlSW5wdXRCbHVyOmZ1bmN0aW9uKCl7dGhpcy5sYWJlbC5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sX2hhbmRsZUlucHV0VkNsaWNrOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnByb3AoXCJjaGVja2VkXCIsdGhpcy5lbGVtZW50LmlzKFwiOmNoZWNrZWRcIikpLHRoaXMuX2dldElucHV0U2V0KCkubm90KHRoaXMuZWxlbWVudCkucHJvcChcImNoZWNrZWRcIiwhMSksdGhpcy5fdXBkYXRlQWxsKCEwKX0sX2hhbmRsZUxhYmVsVk1vdXNlT3ZlcjpmdW5jdGlvbihhKXt0aGlzLmxhYmVsLnBhcmVudCgpLmhhc0NsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIikmJmEuc3RvcFByb3BhZ2F0aW9uKCl9LF9oYW5kbGVMYWJlbFZDbGljazpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVsZW1lbnQ7cmV0dXJuIGIuaXMoXCI6ZGlzYWJsZWRcIik/dm9pZCBhLnByZXZlbnREZWZhdWx0KCk6KHRoaXMuX2NhY2hlVmFscygpLGIucHJvcChcImNoZWNrZWRcIixcInJhZGlvXCI9PT10aGlzLmlucHV0dHlwZSYmITB8fCFiLnByb3AoXCJjaGVja2VkXCIpKSxiLnRyaWdnZXJIYW5kbGVyKFwiY2xpY2tcIiksdGhpcy5fZ2V0SW5wdXRTZXQoKS5ub3QoYikucHJvcChcImNoZWNrZWRcIiwhMSksdGhpcy5fdXBkYXRlQWxsKCksITEpfSxfY2FjaGVWYWxzOmZ1bmN0aW9uKCl7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcImNhY2hlVmFsXCIsdGhpcy5jaGVja2VkKX0pfSxfZ2V0SW5wdXRTZXQ6ZnVuY3Rpb24oKXt2YXIgYixkLGU9dGhpcy5lbGVtZW50WzBdLGY9ZS5uYW1lLGc9ZS5mb3JtLGg9dGhpcy5lbGVtZW50LnBhcmVudHMoKS5sYXN0KCkuZ2V0KDApLGk9dGhpcy5lbGVtZW50O3JldHVybiBmJiZcInJhZGlvXCI9PT10aGlzLmlucHV0dHlwZSYmaCYmKGI9XCJpbnB1dFt0eXBlPSdyYWRpbyddW25hbWU9J1wiK2MoZikrXCInXVwiLGc/KGQ9Zy5nZXRBdHRyaWJ1dGUoXCJpZFwiKSxkJiYoaT1hKGIrXCJbZm9ybT0nXCIrYyhkKStcIiddXCIsaCkpLGk9YShnKS5maW5kKGIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiB0aGlzLmZvcm09PT1nfSkuYWRkKGkpKTppPWEoYixoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5mb3JtfSkpLGl9LF91cGRhdGVBbGw6ZnVuY3Rpb24oYil7dmFyIGM9dGhpczt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpOyF0aGlzLmNoZWNrZWQmJlwiY2hlY2tib3hcIiE9PWMuaW5wdXR0eXBlfHxifHxkLnRyaWdnZXIoXCJjaGFuZ2VcIil9KS5jaGVja2JveHJhZGlvKFwicmVmcmVzaFwiKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9oYXNJY29uOmZ1bmN0aW9uKCl7dmFyIGIsYyxkPWEubW9iaWxlLmNvbnRyb2xncm91cDtyZXR1cm4gZCYmKGI9dGhpcy5lbGVtZW50LmNsb3Nlc3QoXCI6bW9iaWxlLWNvbnRyb2xncm91cCxcIitkLnByb3RvdHlwZS5pbml0U2VsZWN0b3IpLGIubGVuZ3RoPjApPyhjPWEuZGF0YShiWzBdLFwibW9iaWxlLWNvbnRyb2xncm91cFwiKSxcImhvcml6b250YWxcIiE9PShjP2Mub3B0aW9ucy50eXBlOmIuYXR0cihcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJ0eXBlXCIpKSk6ITB9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnRbMF0uY2hlY2tlZCxjPWEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLGQ9XCJ1aS1idG4taWNvbi1cIit0aGlzLm9wdGlvbnMuaWNvbnBvcyxlPVtdLGY9W107dGhpcy5faGFzSWNvbigpPyhmLnB1c2goYyksZS5wdXNoKGQpKTooZi5wdXNoKGQpLChiP2U6ZikucHVzaChjKSksYj8oZS5wdXNoKHRoaXMuY2hlY2tlZENsYXNzKSxmLnB1c2godGhpcy51bmNoZWNrZWRDbGFzcykpOihlLnB1c2godGhpcy51bmNoZWNrZWRDbGFzcyksZi5wdXNoKHRoaXMuY2hlY2tlZENsYXNzKSksdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIsdGhpcy5lbGVtZW50LnByb3AoXCJkaXNhYmxlZFwiKSksdGhpcy5sYWJlbC5hZGRDbGFzcyhlLmpvaW4oXCIgXCIpKS5yZW1vdmVDbGFzcyhmLmpvaW4oXCIgXCIpKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWwucGFyZW50KCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMubGFiZWwsZD10aGlzLm9wdGlvbnMsZT10aGlzLndpZGdldCgpLGY9dGhpcy5faGFzSWNvbigpO2EuZGlzYWJsZWQhPT1iJiYodGhpcy5pbnB1dC5wcm9wKFwiZGlzYWJsZWRcIiwhIWEuZGlzYWJsZWQpLGUudG9nZ2xlQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiLCEhYS5kaXNhYmxlZCkpLGEubWluaSE9PWImJmUudG9nZ2xlQ2xhc3MoXCJ1aS1taW5pXCIsISFhLm1pbmkpLGEudGhlbWUhPT1iJiZjLnJlbW92ZUNsYXNzKFwidWktYnRuLVwiK2QudGhlbWUpLmFkZENsYXNzKFwidWktYnRuLVwiK2EudGhlbWUpLGEud3JhcHBlckNsYXNzIT09YiYmZS5yZW1vdmVDbGFzcyhkLndyYXBwZXJDbGFzcykuYWRkQ2xhc3MoYS53cmFwcGVyQ2xhc3MpLGEuaWNvbnBvcyE9PWImJmY/Yy5yZW1vdmVDbGFzcyhcInVpLWJ0bi1pY29uLVwiK2QuaWNvbnBvcykuYWRkQ2xhc3MoXCJ1aS1idG4taWNvbi1cIithLmljb25wb3MpOmZ8fGMucmVtb3ZlQ2xhc3MoXCJ1aS1idG4taWNvbi1cIitkLmljb25wb3MpLHRoaXMuX3N1cGVyKGEpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KFwibW9iaWxlLmJ1dHRvblwiLHtpbml0U2VsZWN0b3I6XCJpbnB1dFt0eXBlPSdidXR0b24nXSwgaW5wdXRbdHlwZT0nc3VibWl0J10sIGlucHV0W3R5cGU9J3Jlc2V0J11cIixvcHRpb25zOnt0aGVtZTpudWxsLGljb246bnVsbCxpY29ucG9zOlwibGVmdFwiLGljb25zaGFkb3c6ITEsY29ybmVyczohMCxzaGFkb3c6ITAsaW5saW5lOm51bGwsbWluaTpudWxsLHdyYXBwZXJDbGFzczpudWxsLGVuaGFuY2VkOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmlzKFwiOmRpc2FibGVkXCIpJiYodGhpcy5vcHRpb25zLmRpc2FibGVkPSEwKSx0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuX2VuaGFuY2UoKSxhLmV4dGVuZCh0aGlzLHt3cmFwcGVyOnRoaXMuZWxlbWVudC5wYXJlbnQoKX0pLHRoaXMuX29uKHtmb2N1czpmdW5jdGlvbigpe3RoaXMud2lkZ2V0KCkuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXt0aGlzLndpZGdldCgpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMucmVmcmVzaCghMCl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LndyYXAodGhpcy5fYnV0dG9uKCkpfSxfYnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9dGhpcy5fZ2V0SWNvbkNsYXNzZXModGhpcy5vcHRpb25zKTtyZXR1cm4gYShcIjxkaXYgY2xhc3M9J3VpLWJ0biB1aS1pbnB1dC1idG5cIisoYi53cmFwcGVyQ2xhc3M/XCIgXCIrYi53cmFwcGVyQ2xhc3M6XCJcIikrKGIudGhlbWU/XCIgdWktYnRuLVwiK2IudGhlbWU6XCJcIikrKGIuY29ybmVycz9cIiB1aS1jb3JuZXItYWxsXCI6XCJcIikrKGIuc2hhZG93P1wiIHVpLXNoYWRvd1wiOlwiXCIpKyhiLmlubGluZT9cIiB1aS1idG4taW5saW5lXCI6XCJcIikrKGIubWluaT9cIiB1aS1taW5pXCI6XCJcIikrKGIuZGlzYWJsZWQ/XCIgdWktc3RhdGUtZGlzYWJsZWRcIjpcIlwiKSsoYz9cIiBcIitjOlwiXCIpK1wiJyA+XCIrdGhpcy5lbGVtZW50LnZhbCgpK1wiPC9kaXY+XCIpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53cmFwcGVyfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy53cmFwcGVyKSx0aGlzLndyYXBwZXIucmVtb3ZlKCl9LF9nZXRJY29uQ2xhc3NlczpmdW5jdGlvbihhKXtyZXR1cm4gYS5pY29uP1widWktaWNvbi1cIithLmljb24rKGEuaWNvbnNoYWRvdz9cIiB1aS1zaGFkb3ctaWNvblwiOlwiXCIpK1wiIHVpLWJ0bi1pY29uLVwiK2EuaWNvbnBvczpcIlwifSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXt2YXIgZD10aGlzLndpZGdldCgpO2MudGhlbWUhPT1iJiZkLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy50aGVtZSkuYWRkQ2xhc3MoXCJ1aS1idG4tXCIrYy50aGVtZSksYy5jb3JuZXJzIT09YiYmZC50b2dnbGVDbGFzcyhcInVpLWNvcm5lci1hbGxcIixjLmNvcm5lcnMpLGMuc2hhZG93IT09YiYmZC50b2dnbGVDbGFzcyhcInVpLXNoYWRvd1wiLGMuc2hhZG93KSxjLmlubGluZSE9PWImJmQudG9nZ2xlQ2xhc3MoXCJ1aS1idG4taW5saW5lXCIsYy5pbmxpbmUpLGMubWluaSE9PWImJmQudG9nZ2xlQ2xhc3MoXCJ1aS1taW5pXCIsYy5taW5pKSxjLmRpc2FibGVkIT09YiYmKHRoaXMuZWxlbWVudC5wcm9wKFwiZGlzYWJsZWRcIixjLmRpc2FibGVkKSxkLnRvZ2dsZUNsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIixjLmRpc2FibGVkKSksKGMuaWNvbiE9PWJ8fGMuaWNvbnNoYWRvdyE9PWJ8fGMuaWNvbnBvcyE9PWIpJiZkLnJlbW92ZUNsYXNzKHRoaXMuX2dldEljb25DbGFzc2VzKHRoaXMub3B0aW9ucykpLmFkZENsYXNzKHRoaXMuX2dldEljb25DbGFzc2VzKGEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxjKSkpLHRoaXMuX3N1cGVyKGMpfSxyZWZyZXNoOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9dGhpcy5lbGVtZW50LnByb3AoXCJkaXNhYmxlZFwiKTt0aGlzLm9wdGlvbnMuaWNvbiYmXCJub3RleHRcIj09PXRoaXMub3B0aW9ucy5pY29ucG9zJiZ0aGlzLmVsZW1lbnQuYXR0cihcInRpdGxlXCIpJiZ0aGlzLmVsZW1lbnQuYXR0cihcInRpdGxlXCIsdGhpcy5lbGVtZW50LnZhbCgpKSxifHwoYz10aGlzLmVsZW1lbnQuZGV0YWNoKCksYSh0aGlzLndyYXBwZXIpLnRleHQodGhpcy5lbGVtZW50LnZhbCgpKS5hcHBlbmQoYykpLHRoaXMub3B0aW9ucy5kaXNhYmxlZCE9PWQmJnRoaXMuX3NldE9wdGlvbnMoe2Rpc2FibGVkOmR9KX19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGI9YShcIm1ldGFbbmFtZT12aWV3cG9ydF1cIiksYz1iLmF0dHIoXCJjb250ZW50XCIpLGQ9YytcIixtYXhpbXVtLXNjYWxlPTEsIHVzZXItc2NhbGFibGU9bm9cIixlPWMrXCIsbWF4aW11bS1zY2FsZT0xMCwgdXNlci1zY2FsYWJsZT15ZXNcIixmPS8odXNlci1zY2FsYWJsZVtcXHNdKj1bXFxzXSpubyl8KG1heGltdW0tc2NhbGVbXFxzXSo9W1xcc10qMSlbJCxcXHNdLy50ZXN0KGMpO2EubW9iaWxlLnpvb209YS5leHRlbmQoe30se2VuYWJsZWQ6IWYsbG9ja2VkOiExLGRpc2FibGU6ZnVuY3Rpb24oYyl7Znx8YS5tb2JpbGUuem9vbS5sb2NrZWR8fChiLmF0dHIoXCJjb250ZW50XCIsZCksYS5tb2JpbGUuem9vbS5lbmFibGVkPSExLGEubW9iaWxlLnpvb20ubG9ja2VkPWN8fCExKX0sZW5hYmxlOmZ1bmN0aW9uKGMpe2Z8fGEubW9iaWxlLnpvb20ubG9ja2VkJiZjIT09ITB8fChiLmF0dHIoXCJjb250ZW50XCIsZSksYS5tb2JpbGUuem9vbS5lbmFibGVkPSEwLGEubW9iaWxlLnpvb20ubG9ja2VkPSExKX0scmVzdG9yZTpmdW5jdGlvbigpe2Z8fChiLmF0dHIoXCJjb250ZW50XCIsYyksYS5tb2JpbGUuem9vbS5lbmFibGVkPSEwKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldChcIm1vYmlsZS50ZXh0aW5wdXRcIix7aW5pdFNlbGVjdG9yOlwiaW5wdXRbdHlwZT0ndGV4dCddLGlucHV0W3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpLGlucHV0W3R5cGU9J251bWJlciddLDpqcW1EYXRhKHR5cGU9J251bWJlcicpLGlucHV0W3R5cGU9J3Bhc3N3b3JkJ10saW5wdXRbdHlwZT0nZW1haWwnXSxpbnB1dFt0eXBlPSd1cmwnXSxpbnB1dFt0eXBlPSd0ZWwnXSx0ZXh0YXJlYSxpbnB1dFt0eXBlPSd0aW1lJ10saW5wdXRbdHlwZT0nZGF0ZSddLGlucHV0W3R5cGU9J21vbnRoJ10saW5wdXRbdHlwZT0nd2VlayddLGlucHV0W3R5cGU9J2RhdGV0aW1lJ10saW5wdXRbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSxpbnB1dFt0eXBlPSdjb2xvciddLGlucHV0Om5vdChbdHlwZV0pLGlucHV0W3R5cGU9J2ZpbGUnXVwiLG9wdGlvbnM6e3RoZW1lOm51bGwsY29ybmVyczohMCxtaW5pOiExLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiQXBwbGVXZWJLaXRcIik+LTEsd3JhcHBlckNsYXNzOlwiXCIsZW5oYW5jZWQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz10aGlzLmVsZW1lbnQuaXMoXCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpXCIpLGQ9XCJURVhUQVJFQVwiPT09dGhpcy5lbGVtZW50WzBdLnRhZ05hbWUsZT10aGlzLmVsZW1lbnQuaXMoXCJbZGF0YS1cIisoYS5tb2JpbGUubnN8fFwiXCIpK1widHlwZT0ncmFuZ2UnXVwiKSxmPSh0aGlzLmVsZW1lbnQuaXMoXCJpbnB1dFwiKXx8dGhpcy5lbGVtZW50LmlzKFwiW2RhdGEtXCIrKGEubW9iaWxlLm5zfHxcIlwiKStcInR5cGU9J3NlYXJjaCddXCIpKSYmIWU7dGhpcy5lbGVtZW50LnByb3AoXCJkaXNhYmxlZFwiKSYmKGIuZGlzYWJsZWQ9ITApLGEuZXh0ZW5kKHRoaXMse2NsYXNzZXM6dGhpcy5fY2xhc3Nlc0Zyb21PcHRpb25zKCksaXNTZWFyY2g6Yyxpc1RleHRhcmVhOmQsaXNSYW5nZTplLGlucHV0TmVlZHNXcmFwOmZ9KSx0aGlzLl9hdXRvQ29ycmVjdCgpLGIuZW5oYW5jZWR8fHRoaXMuX2VuaGFuY2UoKSx0aGlzLl9vbih7Zm9jdXM6XCJfaGFuZGxlRm9jdXNcIixibHVyOlwiX2hhbmRsZUJsdXJcIn0pfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5zZXRPcHRpb25zKHtkaXNhYmxlZDp0aGlzLmVsZW1lbnQuaXMoXCI6ZGlzYWJsZWRcIil9KX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt2YXIgYT1bXTt0aGlzLmlzVGV4dGFyZWEmJmEucHVzaChcInVpLWlucHV0LXRleHRcIiksKHRoaXMuaXNUZXh0YXJlYXx8dGhpcy5pc1JhbmdlKSYmYS5wdXNoKFwidWktc2hhZG93LWluc2V0XCIpLHRoaXMuaW5wdXROZWVkc1dyYXA/dGhpcy5lbGVtZW50LndyYXAodGhpcy5fd3JhcCgpKTphPWEuY29uY2F0KHRoaXMuY2xhc3NlcyksdGhpcy5lbGVtZW50LmFkZENsYXNzKGEuam9pbihcIiBcIikpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnB1dE5lZWRzV3JhcD90aGlzLmVsZW1lbnQucGFyZW50KCk6dGhpcy5lbGVtZW50fSxfY2xhc3Nlc0Zyb21PcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9W107cmV0dXJuIGIucHVzaChcInVpLWJvZHktXCIrKG51bGw9PT1hLnRoZW1lP1wiaW5oZXJpdFwiOmEudGhlbWUpKSxhLmNvcm5lcnMmJmIucHVzaChcInVpLWNvcm5lci1hbGxcIiksYS5taW5pJiZiLnB1c2goXCJ1aS1taW5pXCIpLGEuZGlzYWJsZWQmJmIucHVzaChcInVpLXN0YXRlLWRpc2FibGVkXCIpLGEud3JhcHBlckNsYXNzJiZiLnB1c2goYS53cmFwcGVyQ2xhc3MpLGJcbn0sX3dyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gYShcIjxkaXYgY2xhc3M9J1wiKyh0aGlzLmlzU2VhcmNoP1widWktaW5wdXQtc2VhcmNoIFwiOlwidWktaW5wdXQtdGV4dCBcIikrdGhpcy5jbGFzc2VzLmpvaW4oXCIgXCIpK1wiIHVpLXNoYWRvdy1pbnNldCc+PC9kaXY+XCIpfSxfYXV0b0NvcnJlY3Q6ZnVuY3Rpb24oKXtcInVuZGVmaW5lZFwiPT10eXBlb2YgdGhpcy5lbGVtZW50WzBdLmF1dG9jb3JyZWN0fHxhLnN1cHBvcnQudG91Y2hPdmVyZmxvd3x8KHRoaXMuZWxlbWVudFswXS5zZXRBdHRyaWJ1dGUoXCJhdXRvY29ycmVjdFwiLFwib2ZmXCIpLHRoaXMuZWxlbWVudFswXS5zZXRBdHRyaWJ1dGUoXCJhdXRvY29tcGxldGVcIixcIm9mZlwiKSl9LF9oYW5kbGVCbHVyOmZ1bmN0aW9uKCl7dGhpcy53aWRnZXQoKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKSx0aGlzLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5lbmFibGUoITApfSxfaGFuZGxlRm9jdXM6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKSx0aGlzLndpZGdldCgpLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYz10aGlzLndpZGdldCgpO3RoaXMuX3N1cGVyKGEpLChhLmRpc2FibGVkIT09Ynx8YS5taW5pIT09Ynx8YS5jb3JuZXJzIT09Ynx8YS50aGVtZSE9PWJ8fGEud3JhcHBlckNsYXNzIT09YikmJihjLnJlbW92ZUNsYXNzKHRoaXMuY2xhc3Nlcy5qb2luKFwiIFwiKSksdGhpcy5jbGFzc2VzPXRoaXMuX2NsYXNzZXNGcm9tT3B0aW9ucygpLGMuYWRkQ2xhc3ModGhpcy5jbGFzc2VzLmpvaW4oXCIgXCIpKSksYS5kaXNhYmxlZCE9PWImJnRoaXMuZWxlbWVudC5wcm9wKFwiZGlzYWJsZWRcIiwhIWEuZGlzYWJsZWQpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZHx8KHRoaXMuaW5wdXROZWVkc1dyYXAmJnRoaXMuZWxlbWVudC51bndyYXAoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS1pbnB1dC10ZXh0IFwiK3RoaXMuY2xhc3Nlcy5qb2luKFwiIFwiKSkpfX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KFwibW9iaWxlLnNsaWRlclwiLGEuZXh0ZW5kKHtpbml0U2VsZWN0b3I6XCJpbnB1dFt0eXBlPSdyYW5nZSddLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpLCA6anFtRGF0YShyb2xlPSdzbGlkZXInKVwiLHdpZGdldEV2ZW50UHJlZml4Olwic2xpZGVcIixvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxjb3JuZXJzOiEwLG1pbmk6ITEsaGlnaGxpZ2h0OiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGUsZixnLGgsaSxqLGssbCxtLG4sbz10aGlzLHA9dGhpcy5lbGVtZW50LHE9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGEubW9iaWxlLmdldEF0dHJpYnV0ZShwWzBdLFwidGhlbWVcIikscj1xP1wiIHVpLWJhci1cIitxOlwiIHVpLWJhci1pbmhlcml0XCIscz10aGlzLm9wdGlvbnMuY29ybmVyc3x8cC5qcW1EYXRhKFwiY29ybmVyc1wiKT9cIiB1aS1jb3JuZXItYWxsXCI6XCJcIix0PXRoaXMub3B0aW9ucy5taW5pfHxwLmpxbURhdGEoXCJtaW5pXCIpP1wiIHVpLW1pbmlcIjpcIlwiLHU9cFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHY9XCJzZWxlY3RcIj09PXUsdz1wLnBhcmVudCgpLmlzKFwiOmpxbURhdGEocm9sZT0ncmFuZ2VzbGlkZXInKVwiKSx4PXY/XCJ1aS1zbGlkZXItc3dpdGNoXCI6XCJcIix5PXAuYXR0cihcImlkXCIpLHo9YShcIltmb3I9J1wiK3krXCInXVwiKSxBPXouYXR0cihcImlkXCIpfHx5K1wiLWxhYmVsXCIsQj12PzA6cGFyc2VGbG9hdChwLmF0dHIoXCJtaW5cIikpLEM9dj9wLmZpbmQoXCJvcHRpb25cIikubGVuZ3RoLTE6cGFyc2VGbG9hdChwLmF0dHIoXCJtYXhcIikpLEQ9Yi5wYXJzZUZsb2F0KHAuYXR0cihcInN0ZXBcIil8fDEpLEU9Yy5jcmVhdGVFbGVtZW50KFwiYVwiKSxGPWEoRSksRz1jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksSD1hKEcpLEk9dGhpcy5vcHRpb25zLmhpZ2hsaWdodCYmIXY/ZnVuY3Rpb24oKXt2YXIgYj1jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGIuY2xhc3NOYW1lPVwidWktc2xpZGVyLWJnIFwiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLGEoYikucHJlcGVuZFRvKEgpfSgpOiExO2lmKHouYXR0cihcImlkXCIsQSksdGhpcy5pc1RvZ2dsZVN3aXRjaD12LEUuc2V0QXR0cmlidXRlKFwiaHJlZlwiLFwiI1wiKSxHLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImFwcGxpY2F0aW9uXCIpLEcuY2xhc3NOYW1lPVt0aGlzLmlzVG9nZ2xlU3dpdGNoP1widWktc2xpZGVyIHVpLXNsaWRlci10cmFjayB1aS1zaGFkb3ctaW5zZXQgXCI6XCJ1aS1zbGlkZXItdHJhY2sgdWktc2hhZG93LWluc2V0IFwiLHgscixzLHRdLmpvaW4oXCJcIiksRS5jbGFzc05hbWU9XCJ1aS1zbGlkZXItaGFuZGxlXCIsRy5hcHBlbmRDaGlsZChFKSxGLmF0dHIoe3JvbGU6XCJzbGlkZXJcIixcImFyaWEtdmFsdWVtaW5cIjpCLFwiYXJpYS12YWx1ZW1heFwiOkMsXCJhcmlhLXZhbHVlbm93XCI6dGhpcy5fdmFsdWUoKSxcImFyaWEtdmFsdWV0ZXh0XCI6dGhpcy5fdmFsdWUoKSx0aXRsZTp0aGlzLl92YWx1ZSgpLFwiYXJpYS1sYWJlbGxlZGJ5XCI6QX0pLGEuZXh0ZW5kKHRoaXMse3NsaWRlcjpILGhhbmRsZTpGLGNvbnRyb2w6cCx0eXBlOnUsc3RlcDpELG1heDpDLG1pbjpCLHZhbHVlYmc6SSxpc1Jhbmdlc2xpZGVyOncsZHJhZ2dpbmc6ITEsYmVmb3JlU3RhcnQ6bnVsbCx1c2VyTW9kaWZpZWQ6ITEsbW91c2VNb3ZlZDohMX0pLHYpe2ZvcihrPXAuYXR0cihcInRhYmluZGV4XCIpLGsmJkYuYXR0cihcInRhYmluZGV4XCIsaykscC5hdHRyKFwidGFiaW5kZXhcIixcIi0xXCIpLmZvY3VzKGZ1bmN0aW9uKCl7YSh0aGlzKS5ibHVyKCksRi5mb2N1cygpfSksZj1jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZi5jbGFzc05hbWU9XCJ1aS1zbGlkZXItaW5uZXJvZmZzZXRcIixnPTAsaD1HLmNoaWxkTm9kZXMubGVuZ3RoO2g+ZztnKyspZi5hcHBlbmRDaGlsZChHLmNoaWxkTm9kZXNbZ10pO2ZvcihHLmFwcGVuZENoaWxkKGYpLEYuYWRkQ2xhc3MoXCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nXCIpLGU9cC5maW5kKFwib3B0aW9uXCIpLGk9MCxqPWUubGVuZ3RoO2o+aTtpKyspbD1pP1wiYVwiOlwiYlwiLG09aT9cIiBcIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzczpcIlwiLG49Yy5jcmVhdGVFbGVtZW50KFwic3BhblwiKSxuLmNsYXNzTmFtZT1bXCJ1aS1zbGlkZXItbGFiZWwgdWktc2xpZGVyLWxhYmVsLVwiLGwsbV0uam9pbihcIlwiKSxuLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImltZ1wiKSxuLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUoZVtpXS5pbm5lckhUTUwpKSxhKG4pLnByZXBlbmRUbyhIKTtvLl9sYWJlbHM9YShcIi51aS1zbGlkZXItbGFiZWxcIixIKX1wLmFkZENsYXNzKHY/XCJ1aS1zbGlkZXItc3dpdGNoXCI6XCJ1aS1zbGlkZXItaW5wdXRcIiksdGhpcy5fb24ocCx7Y2hhbmdlOlwiX2NvbnRyb2xDaGFuZ2VcIixrZXl1cDpcIl9jb250cm9sS2V5dXBcIixibHVyOlwiX2NvbnRyb2xCbHVyXCIsdm1vdXNldXA6XCJfY29udHJvbFZNb3VzZVVwXCJ9KSxILmJpbmQoXCJ2bW91c2Vkb3duXCIsYS5wcm94eSh0aGlzLl9zbGlkZXJWTW91c2VEb3duLHRoaXMpKS5iaW5kKFwidmNsaWNrXCIsITEpLHRoaXMuX29uKGMse3Ztb3VzZW1vdmU6XCJfcHJldmVudERvY3VtZW50RHJhZ1wifSksdGhpcy5fb24oSC5hZGQoYykse3Ztb3VzZXVwOlwiX3NsaWRlclZNb3VzZVVwXCJ9KSxILmluc2VydEFmdGVyKHApLHZ8fHd8fChmPXRoaXMub3B0aW9ucy5taW5pP1wiPGRpdiBjbGFzcz0ndWktc2xpZGVyIHVpLW1pbmknPlwiOlwiPGRpdiBjbGFzcz0ndWktc2xpZGVyJz5cIixwLmFkZChIKS53cmFwQWxsKGYpKSx0aGlzLl9vbih0aGlzLmhhbmRsZSx7dm1vdXNlZG93bjpcIl9oYW5kbGVWTW91c2VEb3duXCIsa2V5ZG93bjpcIl9oYW5kbGVLZXlkb3duXCIsa2V5dXA6XCJfaGFuZGxlS2V5dXBcIn0pLHRoaXMuaGFuZGxlLmJpbmQoXCJ2Y2xpY2tcIiwhMSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKGQsZCwhMCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2EudGhlbWUhPT1kJiZ0aGlzLl9zZXRUaGVtZShhLnRoZW1lKSxhLnRyYWNrVGhlbWUhPT1kJiZ0aGlzLl9zZXRUcmFja1RoZW1lKGEudHJhY2tUaGVtZSksYS5jb3JuZXJzIT09ZCYmdGhpcy5fc2V0Q29ybmVycyhhLmNvcm5lcnMpLGEubWluaSE9PWQmJnRoaXMuX3NldE1pbmkoYS5taW5pKSxhLmhpZ2hsaWdodCE9PWQmJnRoaXMuX3NldEhpZ2hsaWdodChhLmhpZ2hsaWdodCksYS5kaXNhYmxlZCE9PWQmJnRoaXMuX3NldERpc2FibGVkKGEuZGlzYWJsZWQpLHRoaXMuX3N1cGVyKGEpfSxfY29udHJvbENoYW5nZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcihcImNvbnRyb2xjaGFuZ2VcIixhKT09PSExPyExOnZvaWQodGhpcy5tb3VzZU1vdmVkfHx0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSwhMCkpfSxfY29udHJvbEtleXVwOmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCksITAsITApfSxfY29udHJvbEJsdXI6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSwhMCl9LF9jb250cm9sVk1vdXNlVXA6ZnVuY3Rpb24oKXt0aGlzLl9jaGVja2VkUmVmcmVzaCgpfSxfaGFuZGxlVk1vdXNlRG93bjpmdW5jdGlvbigpe3RoaXMuaGFuZGxlLmZvY3VzKCl9LF9oYW5kbGVLZXlkb3duOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuX3ZhbHVlKCk7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCl7c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6Yi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2tleVNsaWRpbmd8fCh0aGlzLl9rZXlTbGlkaW5nPSEwLHRoaXMuaGFuZGxlLmFkZENsYXNzKFwidWktc3RhdGUtYWN0aXZlXCIpKX1zd2l0Y2goYi5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTp0aGlzLnJlZnJlc2godGhpcy5taW4pO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6dGhpcy5yZWZyZXNoKHRoaXMubWF4KTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlJJR0hUOnRoaXMucmVmcmVzaChjK3RoaXMuc3RlcCk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDp0aGlzLnJlZnJlc2goYy10aGlzLnN0ZXApfX19LF9oYW5kbGVLZXl1cDpmdW5jdGlvbigpe3RoaXMuX2tleVNsaWRpbmcmJih0aGlzLl9rZXlTbGlkaW5nPSExLHRoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtYWN0aXZlXCIpKX0sX3NsaWRlclZNb3VzZURvd246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8MSE9PWEud2hpY2gmJjAhPT1hLndoaWNoJiZhLndoaWNoIT09ZD8hMTp0aGlzLl90cmlnZ2VyKFwiYmVmb3Jlc3RhcnRcIixhKT09PSExPyExOih0aGlzLmRyYWdnaW5nPSEwLHRoaXMudXNlck1vZGlmaWVkPSExLHRoaXMubW91c2VNb3ZlZD0hMSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiYodGhpcy5iZWZvcmVTdGFydD10aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCksdGhpcy5yZWZyZXNoKGEpLHRoaXMuX3RyaWdnZXIoXCJzdGFydFwiKSwhMSl9LF9zbGlkZXJWTW91c2VVcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRyYWdnaW5nPyh0aGlzLmRyYWdnaW5nPSExLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJih0aGlzLmhhbmRsZS5hZGRDbGFzcyhcInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmdcIiksdGhpcy5yZWZyZXNoKHRoaXMubW91c2VNb3ZlZD90aGlzLnVzZXJNb2RpZmllZD8wPT09dGhpcy5iZWZvcmVTdGFydD8xOjA6dGhpcy5iZWZvcmVTdGFydDowPT09dGhpcy5iZWZvcmVTdGFydD8xOjApKSx0aGlzLm1vdXNlTW92ZWQ9ITEsdGhpcy5fdHJpZ2dlcihcInN0b3BcIiksITEpOnZvaWQgMH0sX3ByZXZlbnREb2N1bWVudERyYWc6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoXCJkcmFnXCIsYSk9PT0hMT8hMTp0aGlzLmRyYWdnaW5nJiYhdGhpcy5vcHRpb25zLmRpc2FibGVkPyh0aGlzLm1vdXNlTW92ZWQ9ITAsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmdGhpcy5oYW5kbGUucmVtb3ZlQ2xhc3MoXCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nXCIpLHRoaXMucmVmcmVzaChhKSx0aGlzLnVzZXJNb2RpZmllZD10aGlzLmJlZm9yZVN0YXJ0IT09dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgsITEpOnZvaWQgMH0sX2NoZWNrZWRSZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZSE9PXRoaXMuX3ZhbHVlKCkmJnRoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpKX0sX3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNUb2dnbGVTd2l0Y2g/dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXg6cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQudmFsKCkpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goZCwhMSwhMCl9LHJlZnJlc2g6ZnVuY3Rpb24oYixkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbixvLHAscSxyLHMsdCx1LHYsdyx4LHksej10aGlzLEE9YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMuZWxlbWVudFswXSxcInRoZW1lXCIpLEI9dGhpcy5vcHRpb25zLnRoZW1lfHxBLEM9Qj9cIiB1aS1idG4tXCIrQjpcIlwiLEQ9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fEEsRT1EP1wiIHVpLWJhci1cIitEOlwiIHVpLWJhci1pbmhlcml0XCIsRj10aGlzLm9wdGlvbnMuY29ybmVycz9cIiB1aS1jb3JuZXItYWxsXCI6XCJcIixHPXRoaXMub3B0aW9ucy5taW5pP1wiIHVpLW1pbmlcIjpcIlwiO2lmKHouc2xpZGVyWzBdLmNsYXNzTmFtZT1bdGhpcy5pc1RvZ2dsZVN3aXRjaD9cInVpLXNsaWRlciB1aS1zbGlkZXItc3dpdGNoIHVpLXNsaWRlci10cmFjayB1aS1zaGFkb3ctaW5zZXRcIjpcInVpLXNsaWRlci10cmFjayB1aS1zaGFkb3ctaW5zZXRcIixFLEYsR10uam9pbihcIlwiKSwodGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQucHJvcChcImRpc2FibGVkXCIpKSYmdGhpcy5kaXNhYmxlKCksdGhpcy52YWx1ZT10aGlzLl92YWx1ZSgpLHRoaXMub3B0aW9ucy5oaWdobGlnaHQmJiF0aGlzLmlzVG9nZ2xlU3dpdGNoJiYwPT09dGhpcy5zbGlkZXIuZmluZChcIi51aS1zbGlkZXItYmdcIikubGVuZ3RoJiYodGhpcy52YWx1ZWJnPWZ1bmN0aW9uKCl7dmFyIGI9Yy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBiLmNsYXNzTmFtZT1cInVpLXNsaWRlci1iZyBcIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyxhKGIpLnByZXBlbmRUbyh6LnNsaWRlcil9KCkpLHRoaXMuaGFuZGxlLmFkZENsYXNzKFwidWktYnRuXCIrQytcIiB1aS1zaGFkb3dcIiksbD10aGlzLmVsZW1lbnQsbT0hdGhpcy5pc1RvZ2dsZVN3aXRjaCxuPW0/W106bC5maW5kKFwib3B0aW9uXCIpLG89bT9wYXJzZUZsb2F0KGwuYXR0cihcIm1pblwiKSk6MCxwPW0/cGFyc2VGbG9hdChsLmF0dHIoXCJtYXhcIikpOm4ubGVuZ3RoLTEscT1tJiZwYXJzZUZsb2F0KGwuYXR0cihcInN0ZXBcIikpPjA/cGFyc2VGbG9hdChsLmF0dHIoXCJzdGVwXCIpKToxLFwib2JqZWN0XCI9PXR5cGVvZiBiKXtpZihoPWIsaT04LGY9dGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdCxnPXRoaXMuc2xpZGVyLndpZHRoKCksaj1nLygocC1vKS9xKSwhdGhpcy5kcmFnZ2luZ3x8aC5wYWdlWDxmLWl8fGgucGFnZVg+ZitnK2kpcmV0dXJuO2s9aj4xPyhoLnBhZ2VYLWYpL2cqMTAwOk1hdGgucm91bmQoKGgucGFnZVgtZikvZyoxMDApfWVsc2UgbnVsbD09YiYmKGI9bT9wYXJzZUZsb2F0KGwudmFsKCl8fDApOmxbMF0uc2VsZWN0ZWRJbmRleCksaz0ocGFyc2VGbG9hdChiKS1vKS8ocC1vKSoxMDA7aWYoIWlzTmFOKGspJiYocj1rLzEwMCoocC1vKStvLHM9KHItbyklcSx0PXItcywyKk1hdGguYWJzKHMpPj1xJiYodCs9cz4wP3E6LXEpLHU9MTAwLygocC1vKS9xKSxyPXBhcnNlRmxvYXQodC50b0ZpeGVkKDUpKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgaiYmKGo9Zy8oKHAtbykvcSkpLGo+MSYmbSYmKGs9KHItbykqdSooMS9xKSksMD5rJiYoaz0wKSxrPjEwMCYmKGs9MTAwKSxvPnImJihyPW8pLHI+cCYmKHI9cCksdGhpcy5oYW5kbGUuY3NzKFwibGVmdFwiLGsrXCIlXCIpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWVub3dcIixtP3I6bi5lcShyKS5hdHRyKFwidmFsdWVcIikpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWV0ZXh0XCIsbT9yOm4uZXEocikuZ2V0RW5jb2RlZFRleHQoKSksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKFwidGl0bGVcIixtP3I6bi5lcShyKS5nZXRFbmNvZGVkVGV4dCgpKSx0aGlzLnZhbHVlYmcmJnRoaXMudmFsdWViZy5jc3MoXCJ3aWR0aFwiLGsrXCIlXCIpLHRoaXMuX2xhYmVscyYmKHY9dGhpcy5oYW5kbGUud2lkdGgoKS90aGlzLnNsaWRlci53aWR0aCgpKjEwMCx3PWsmJnYrKDEwMC12KSprLzEwMCx4PTEwMD09PWs/MDpNYXRoLm1pbih2KzEwMC13LDEwMCksdGhpcy5fbGFiZWxzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLmhhc0NsYXNzKFwidWktc2xpZGVyLWxhYmVsLWFcIik7YSh0aGlzKS53aWR0aCgoYj93OngpK1wiJVwiKX0pKSwhZSkpe2lmKHk9ITEsbT8oeT1wYXJzZUZsb2F0KGwudmFsKCkpIT09cixsLnZhbChyKSk6KHk9bFswXS5zZWxlY3RlZEluZGV4IT09cixsWzBdLnNlbGVjdGVkSW5kZXg9ciksdGhpcy5fdHJpZ2dlcihcImJlZm9yZWNoYW5nZVwiLGIpPT09ITEpcmV0dXJuITE7IWQmJnkmJmwudHJpZ2dlcihcImNoYW5nZVwiKX19LF9zZXRIaWdobGlnaHQ6ZnVuY3Rpb24oYSl7YT0hIWEsYT8odGhpcy5vcHRpb25zLmhpZ2hsaWdodD0hIWEsdGhpcy5yZWZyZXNoKCkpOnRoaXMudmFsdWViZyYmKHRoaXMudmFsdWViZy5yZW1vdmUoKSx0aGlzLnZhbHVlYmc9ITEpfSxfc2V0VGhlbWU6ZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGUucmVtb3ZlQ2xhc3MoXCJ1aS1idG4tXCIrdGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcyhcInVpLWJ0bi1cIithKTt2YXIgYj10aGlzLm9wdGlvbnMudGhlbWU/dGhpcy5vcHRpb25zLnRoZW1lOlwiaW5oZXJpdFwiLGM9YT9hOlwiaW5oZXJpdFwiO3RoaXMuY29udHJvbC5yZW1vdmVDbGFzcyhcInVpLWJvZHktXCIrYikuYWRkQ2xhc3MoXCJ1aS1ib2R5LVwiK2MpfSxfc2V0VHJhY2tUaGVtZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnMudHJhY2tUaGVtZT90aGlzLm9wdGlvbnMudHJhY2tUaGVtZTpcImluaGVyaXRcIixjPWE/YTpcImluaGVyaXRcIjt0aGlzLnNsaWRlci5yZW1vdmVDbGFzcyhcInVpLWJvZHktXCIrYikuYWRkQ2xhc3MoXCJ1aS1ib2R5LVwiK2MpfSxfc2V0TWluaTpmdW5jdGlvbihhKXthPSEhYSx0aGlzLmlzVG9nZ2xlU3dpdGNofHx0aGlzLmlzUmFuZ2VzbGlkZXJ8fCh0aGlzLnNsaWRlci5wYXJlbnQoKS50b2dnbGVDbGFzcyhcInVpLW1pbmlcIixhKSx0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoXCJ1aS1taW5pXCIsYSkpLHRoaXMuc2xpZGVyLnRvZ2dsZUNsYXNzKFwidWktbWluaVwiLGEpfSxfc2V0Q29ybmVyczpmdW5jdGlvbihhKXt0aGlzLnNsaWRlci50b2dnbGVDbGFzcyhcInVpLWNvcm5lci1hbGxcIixhKSx0aGlzLmlzVG9nZ2xlU3dpdGNofHx0aGlzLmNvbnRyb2wudG9nZ2xlQ2xhc3MoXCJ1aS1jb3JuZXItYWxsXCIsYSl9LF9zZXREaXNhYmxlZDpmdW5jdGlvbihhKXthPSEhYSx0aGlzLmVsZW1lbnQucHJvcChcImRpc2FibGVkXCIsYSksdGhpcy5zbGlkZXIudG9nZ2xlQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiLGEpLmF0dHIoXCJhcmlhLWRpc2FibGVkXCIsYSksdGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIixhKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3JldHVybiBjfHwoYz1hKFwiPGRpdj48L2Rpdj5cIix7XCJjbGFzc1wiOlwidWktc2xpZGVyLXBvcHVwIHVpLXNoYWRvdyB1aS1jb3JuZXItYWxsXCJ9KSksYy5jbG9uZSgpfXZhciBjO2Eud2lkZ2V0KFwibW9iaWxlLnNsaWRlclwiLGEubW9iaWxlLnNsaWRlcix7b3B0aW9uczp7cG9wdXBFbmFibGVkOiExLHNob3dWYWx1ZTohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksYS5leHRlbmQodGhpcyx7X2N1cnJlbnRWYWx1ZTpudWxsLF9wb3B1cDpudWxsLF9wb3B1cFZpc2libGU6ITF9KSx0aGlzLl9zZXRPcHRpb24oXCJwb3B1cEVuYWJsZWRcIix0aGlzLm9wdGlvbnMucG9wdXBFbmFibGVkKSx0aGlzLl9vbih0aGlzLmhhbmRsZSx7dm1vdXNlZG93bjpcIl9zaG93UG9wdXBcIn0pLHRoaXMuX29uKHRoaXMuc2xpZGVyLmFkZCh0aGlzLmRvY3VtZW50KSx7dm1vdXNldXA6XCJfaGlkZVBvcHVwXCJ9KSx0aGlzLl9yZWZyZXNoKCl9LF9wb3NpdGlvblBvcHVwOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5oYW5kbGUub2Zmc2V0KCk7dGhpcy5fcG9wdXAub2Zmc2V0KHtsZWZ0OmEubGVmdCsodGhpcy5oYW5kbGUud2lkdGgoKS10aGlzLl9wb3B1cC53aWR0aCgpKS8yLHRvcDphLnRvcC10aGlzLl9wb3B1cC5vdXRlckhlaWdodCgpLTV9KX0sX3NldE9wdGlvbjpmdW5jdGlvbihhLGMpe3RoaXMuX3N1cGVyKGEsYyksXCJzaG93VmFsdWVcIj09PWE/dGhpcy5oYW5kbGUuaHRtbChjJiYhdGhpcy5vcHRpb25zLm1pbmk/dGhpcy5fdmFsdWUoKTpcIlwiKTpcInBvcHVwRW5hYmxlZFwiPT09YSYmYyYmIXRoaXMuX3BvcHVwJiYodGhpcy5fcG9wdXA9YigpLmFkZENsYXNzKFwidWktYm9keS1cIisodGhpcy5vcHRpb25zLnRoZW1lfHxcImFcIikpLmhpZGUoKS5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50KSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fcmVmcmVzaCgpfSxfcmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5vcHRpb25zO2IucG9wdXBFbmFibGVkJiZ0aGlzLmhhbmRsZS5yZW1vdmVBdHRyKFwidGl0bGVcIiksYT10aGlzLl92YWx1ZSgpLGEhPT10aGlzLl9jdXJyZW50VmFsdWUmJih0aGlzLl9jdXJyZW50VmFsdWU9YSxiLnBvcHVwRW5hYmxlZCYmdGhpcy5fcG9wdXAmJih0aGlzLl9wb3NpdGlvblBvcHVwKCksdGhpcy5fcG9wdXAuaHRtbChhKSksYi5zaG93VmFsdWUmJiF0aGlzLm9wdGlvbnMubWluaSYmdGhpcy5oYW5kbGUuaHRtbChhKSl9LF9zaG93UG9wdXA6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucG9wdXBFbmFibGVkJiYhdGhpcy5fcG9wdXBWaXNpYmxlJiYodGhpcy5oYW5kbGUuaHRtbChcIlwiKSx0aGlzLl9wb3B1cC5zaG93KCksdGhpcy5fcG9zaXRpb25Qb3B1cCgpLHRoaXMuX3BvcHVwVmlzaWJsZT0hMCl9LF9oaWRlUG9wdXA6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnM7YS5wb3B1cEVuYWJsZWQmJnRoaXMuX3BvcHVwVmlzaWJsZSYmKGEuc2hvd1ZhbHVlJiYhYS5taW5pJiZ0aGlzLmhhbmRsZS5odG1sKHRoaXMuX3ZhbHVlKCkpLHRoaXMuX3BvcHVwLmhpZGUoKSx0aGlzLl9wb3B1cFZpc2libGU9ITEpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KFwibW9iaWxlLmZsaXBzd2l0Y2hcIixhLmV4dGVuZCh7b3B0aW9uczp7b25UZXh0OlwiT25cIixvZmZUZXh0OlwiT2ZmXCIsdGhlbWU6bnVsbCxlbmhhbmNlZDohMSx3cmFwcGVyQ2xhc3M6bnVsbCxjb3JuZXJzOiEwLG1pbmk6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWQ/YS5leHRlbmQodGhpcyx7ZmxpcHN3aXRjaDp0aGlzLmVsZW1lbnQucGFyZW50KCksb246dGhpcy5lbGVtZW50LmZpbmQoXCIudWktZmxpcHN3aXRjaC1vblwiKS5lcSgwKSxvZmY6dGhpcy5lbGVtZW50LmZpbmQoXCIudWktZmxpcHN3aXRjaC1vZmZcIikuZXEoMCksdHlwZTp0aGlzLmVsZW1lbnQuZ2V0KDApLnRhZ05hbWV9KTp0aGlzLl9lbmhhbmNlKCksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5fb3JpZ2luYWxUYWJJbmRleD10aGlzLmVsZW1lbnQuYXR0cihcInRhYmluZGV4XCIpLG51bGwhPXRoaXMuX29yaWdpbmFsVGFiSW5kZXgmJnRoaXMub24uYXR0cihcInRhYmluZGV4XCIsdGhpcy5fb3JpZ2luYWxUYWJJbmRleCksdGhpcy5lbGVtZW50LmF0dHIoXCJ0YWJpbmRleFwiLFwiLTFcIiksdGhpcy5fb24oe2ZvY3VzOlwiX2hhbmRsZUlucHV0Rm9jdXNcIn0pLHRoaXMuZWxlbWVudC5pcyhcIjpkaXNhYmxlZFwiKSYmdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITB9KSx0aGlzLl9vbih0aGlzLmZsaXBzd2l0Y2gse2NsaWNrOlwiX3RvZ2dsZVwiLHN3aXBlbGVmdDpcIl9sZWZ0XCIsc3dpcGVyaWdodDpcIl9yaWdodFwifSksdGhpcy5fb24odGhpcy5vbix7a2V5ZG93bjpcIl9rZXlkb3duXCJ9KSx0aGlzLl9vbih7Y2hhbmdlOlwicmVmcmVzaFwifSl9LF9oYW5kbGVJbnB1dEZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5vbi5mb2N1cygpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mbGlwc3dpdGNofSxfbGVmdDpmdW5jdGlvbigpe3RoaXMuZmxpcHN3aXRjaC5yZW1vdmVDbGFzcyhcInVpLWZsaXBzd2l0Y2gtYWN0aXZlXCIpLFwiU0VMRUNUXCI9PT10aGlzLnR5cGU/dGhpcy5lbGVtZW50LmdldCgwKS5zZWxlY3RlZEluZGV4PTA6dGhpcy5lbGVtZW50LnByb3AoXCJjaGVja2VkXCIsITEpLHRoaXMuZWxlbWVudC50cmlnZ2VyKFwiY2hhbmdlXCIpfSxfcmlnaHQ6ZnVuY3Rpb24oKXt0aGlzLmZsaXBzd2l0Y2guYWRkQ2xhc3MoXCJ1aS1mbGlwc3dpdGNoLWFjdGl2ZVwiKSxcIlNFTEVDVFwiPT09dGhpcy50eXBlP3RoaXMuZWxlbWVudC5nZXQoMCkuc2VsZWN0ZWRJbmRleD0xOnRoaXMuZWxlbWVudC5wcm9wKFwiY2hlY2tlZFwiLCEwKSx0aGlzLmVsZW1lbnQudHJpZ2dlcihcImNoYW5nZVwiKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt2YXIgYj1hKFwiPGRpdj5cIiksYz10aGlzLm9wdGlvbnMsZD10aGlzLmVsZW1lbnQsZT1jLnRoZW1lP2MudGhlbWU6XCJpbmhlcml0XCIsZj1hKFwiPGE+PC9hPlwiLHtocmVmOlwiI1wifSksZz1hKFwiPHNwYW4+PC9zcGFuPlwiKSxoPWQuZ2V0KDApLnRhZ05hbWUsaT1cIklOUFVUXCI9PT1oP2Mub25UZXh0OmQuZmluZChcIm9wdGlvblwiKS5lcSgxKS50ZXh0KCksaj1cIklOUFVUXCI9PT1oP2Mub2ZmVGV4dDpkLmZpbmQoXCJvcHRpb25cIikuZXEoMCkudGV4dCgpO2YuYWRkQ2xhc3MoXCJ1aS1mbGlwc3dpdGNoLW9uIHVpLWJ0biB1aS1zaGFkb3cgdWktYnRuLWluaGVyaXRcIikudGV4dChpKSxnLmFkZENsYXNzKFwidWktZmxpcHN3aXRjaC1vZmZcIikudGV4dChqKSxiLmFkZENsYXNzKFwidWktZmxpcHN3aXRjaCB1aS1zaGFkb3ctaW5zZXQgdWktYmFyLVwiK2UrXCIgXCIrKGMud3JhcHBlckNsYXNzP2Mud3JhcHBlckNsYXNzOlwiXCIpK1wiIFwiKyhkLmlzKFwiOmNoZWNrZWRcIil8fGQuZmluZChcIm9wdGlvblwiKS5lcSgxKS5pcyhcIjpzZWxlY3RlZFwiKT9cInVpLWZsaXBzd2l0Y2gtYWN0aXZlXCI6XCJcIikrKGQuaXMoXCI6ZGlzYWJsZWRcIik/XCIgdWktc3RhdGUtZGlzYWJsZWRcIjpcIlwiKSsoYy5jb3JuZXJzP1wiIHVpLWNvcm5lci1hbGxcIjpcIlwiKSsoYy5taW5pP1wiIHVpLW1pbmlcIjpcIlwiKSkuYXBwZW5kKGYsZyksZC5hZGRDbGFzcyhcInVpLWZsaXBzd2l0Y2gtaW5wdXRcIikuYWZ0ZXIoYikuYXBwZW5kVG8oYiksYS5leHRlbmQodGhpcyx7ZmxpcHN3aXRjaDpiLG9uOmYsb2ZmOmcsdHlwZTpofSl9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLmZsaXBzd2l0Y2guaGFzQ2xhc3MoXCJ1aS1mbGlwc3dpdGNoLWFjdGl2ZVwiKT9cIl9yaWdodFwiOlwiX2xlZnRcIjthPVwiU0VMRUNUXCI9PT10aGlzLnR5cGU/dGhpcy5lbGVtZW50LmdldCgwKS5zZWxlY3RlZEluZGV4PjA/XCJfcmlnaHRcIjpcIl9sZWZ0XCI6dGhpcy5lbGVtZW50LnByb3AoXCJjaGVja2VkXCIpP1wiX3JpZ2h0XCI6XCJfbGVmdFwiLGEhPT1iJiZ0aGlzW2FdKCl9LF90b2dnbGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmZsaXBzd2l0Y2guaGFzQ2xhc3MoXCJ1aS1mbGlwc3dpdGNoLWFjdGl2ZVwiKT9cIl9sZWZ0XCI6XCJfcmlnaHRcIjt0aGlzW2FdKCl9LF9rZXlkb3duOmZ1bmN0aW9uKGIpe2Iud2hpY2g9PT1hLm1vYmlsZS5rZXlDb2RlLkxFRlQ/dGhpcy5fbGVmdCgpOmIud2hpY2g9PT1hLm1vYmlsZS5rZXlDb2RlLlJJR0hUP3RoaXMuX3JpZ2h0KCk6Yi53aGljaD09PWEubW9iaWxlLmtleUNvZGUuU1BBQ0UmJih0aGlzLl90b2dnbGUoKSxiLnByZXZlbnREZWZhdWx0KCkpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXtpZihhLnRoZW1lIT09Yil7dmFyIGM9YS50aGVtZT9hLnRoZW1lOlwiaW5oZXJpdFwiLGQ9YS50aGVtZT9hLnRoZW1lOlwiaW5oZXJpdFwiO3RoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoXCJ1aS1iYXItXCIrYykuYWRkQ2xhc3MoXCJ1aS1iYXItXCIrZCl9YS5vblRleHQhPT1iJiZ0aGlzLm9uLnRleHQoYS5vblRleHQpLGEub2ZmVGV4dCE9PWImJnRoaXMub2ZmLnRleHQoYS5vZmZUZXh0KSxhLmRpc2FibGVkIT09YiYmdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIsYS5kaXNhYmxlZCksYS5taW5pIT09YiYmdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyhcInVpLW1pbmlcIixhLm1pbmkpLGEuY29ybmVycyE9PWImJnRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoXCJ1aS1jb3JuZXItYWxsXCIsYS5jb3JuZXJzKSx0aGlzLl9zdXBlcihhKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fChudWxsIT10aGlzLl9vcmlnaW5hbFRhYkluZGV4P3RoaXMuZWxlbWVudC5hdHRyKFwidGFiaW5kZXhcIix0aGlzLl9vcmlnaW5hbFRhYkluZGV4KTp0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cihcInRhYmluZGV4XCIpLHRoaXMub24ucmVtb3ZlKCksdGhpcy5vZmYucmVtb3ZlKCksdGhpcy5lbGVtZW50LnVud3JhcCgpLHRoaXMuZmxpcHN3aXRjaC5yZW1vdmUoKSx0aGlzLnJlbW92ZUNsYXNzKFwidWktZmxpcHN3aXRjaC1pbnB1dFwiKSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoXCJtb2JpbGUucmFuZ2VzbGlkZXJcIixhLmV4dGVuZCh7b3B0aW9uczp7dGhlbWU6bnVsbCx0cmFja1RoZW1lOm51bGwsY29ybmVyczohMCxtaW5pOiExLGhpZ2hsaWdodDohMH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucy5taW5pP1widWktcmFuZ2VzbGlkZXIgdWktbWluaVwiOlwidWktcmFuZ2VzbGlkZXJcIixkPWIuZmluZChcImlucHV0XCIpLmZpcnN0KCksZT1iLmZpbmQoXCJpbnB1dFwiKS5sYXN0KCksZj1iLmZpbmQoXCJsYWJlbFwiKS5maXJzdCgpLGc9YS5kYXRhKGQuZ2V0KDApLFwibW9iaWxlLXNsaWRlclwiKXx8YS5kYXRhKGQuc2xpZGVyKCkuZ2V0KDApLFwibW9iaWxlLXNsaWRlclwiKSxoPWEuZGF0YShlLmdldCgwKSxcIm1vYmlsZS1zbGlkZXJcIil8fGEuZGF0YShlLnNsaWRlcigpLmdldCgwKSxcIm1vYmlsZS1zbGlkZXJcIiksaT1nLnNsaWRlcixqPWguc2xpZGVyLGs9Zy5oYW5kbGUsbD1hKFwiPGRpdiBjbGFzcz0ndWktcmFuZ2VzbGlkZXItc2xpZGVycycgLz5cIikuYXBwZW5kVG8oYik7ZC5hZGRDbGFzcyhcInVpLXJhbmdlc2xpZGVyLWZpcnN0XCIpLGUuYWRkQ2xhc3MoXCJ1aS1yYW5nZXNsaWRlci1sYXN0XCIpLGIuYWRkQ2xhc3MoYyksaS5hcHBlbmRUbyhsKSxqLmFwcGVuZFRvKGwpLGYuaW5zZXJ0QmVmb3JlKGIpLGsucHJlcGVuZFRvKGopLGEuZXh0ZW5kKHRoaXMse19pbnB1dEZpcnN0OmQsX2lucHV0TGFzdDplLF9zbGlkZXJGaXJzdDppLF9zbGlkZXJMYXN0OmosX2xhYmVsOmYsX3RhcmdldFZhbDpudWxsLF9zbGlkZXJUYXJnZXQ6ITEsX3NsaWRlcnM6bCxfcHJveHk6ITF9KSx0aGlzLnJlZnJlc2goKSx0aGlzLl9vbih0aGlzLmVsZW1lbnQuZmluZChcImlucHV0LnVpLXNsaWRlci1pbnB1dFwiKSx7c2xpZGViZWZvcmVzdGFydDpcIl9zbGlkZWJlZm9yZXN0YXJ0XCIsc2xpZGVzdG9wOlwiX3NsaWRlc3RvcFwiLHNsaWRlZHJhZzpcIl9zbGlkZWRyYWdcIixzbGlkZWJlZm9yZWNoYW5nZTpcIl9jaGFuZ2VcIixibHVyOlwiX2NoYW5nZVwiLGtleXVwOlwiX2NoYW5nZVwifSksdGhpcy5fb24oe21vdXNlZG93bjpcIl9jaGFuZ2VcIn0pLHRoaXMuX29uKHRoaXMuZWxlbWVudC5jbG9zZXN0KFwiZm9ybVwiKSx7cmVzZXQ6XCJfaGFuZGxlUmVzZXRcIn0pLHRoaXMuX29uKGsse3Ztb3VzZWRvd246XCJfZHJhZ0ZpcnN0SGFuZGxlXCJ9KX0sX2hhbmRsZVJlc2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5fdXBkYXRlSGlnaGxpZ2h0KCl9LDApfSxfZHJhZ0ZpcnN0SGFuZGxlOmZ1bmN0aW9uKGIpe3JldHVybiBhLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksXCJtb2JpbGUtc2xpZGVyXCIpLmRyYWdnaW5nPSEwLGEuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSxcIm1vYmlsZS1zbGlkZXJcIikucmVmcmVzaChiKSxhLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksXCJtb2JpbGUtc2xpZGVyXCIpLl90cmlnZ2VyKFwic3RhcnRcIiksITF9LF9zbGlkZWRyYWc6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuaXModGhpcy5faW5wdXRGaXJzdCksZD1jP3RoaXMuX2lucHV0TGFzdDp0aGlzLl9pbnB1dEZpcnN0O3JldHVybiB0aGlzLl9zbGlkZXJUYXJnZXQ9ITEsXCJmaXJzdFwiPT09dGhpcy5fcHJveHkmJmN8fFwibGFzdFwiPT09dGhpcy5fcHJveHkmJiFjPyhhLmRhdGEoZC5nZXQoMCksXCJtb2JpbGUtc2xpZGVyXCIpLmRyYWdnaW5nPSEwLGEuZGF0YShkLmdldCgwKSxcIm1vYmlsZS1zbGlkZXJcIikucmVmcmVzaChiKSwhMSk6dm9pZCAwfSxfc2xpZGVzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmlzKHRoaXMuX2lucHV0Rmlyc3QpO3RoaXMuX3Byb3h5PSExLHRoaXMuZWxlbWVudC5maW5kKFwiaW5wdXRcIikudHJpZ2dlcihcInZtb3VzZXVwXCIpLHRoaXMuX3NsaWRlckZpcnN0LmNzcyhcInotaW5kZXhcIixjPzE6XCJcIil9LF9zbGlkZWJlZm9yZXN0YXJ0OmZ1bmN0aW9uKGIpe3RoaXMuX3NsaWRlclRhcmdldD0hMSxhKGIub3JpZ2luYWxFdmVudC50YXJnZXQpLmhhc0NsYXNzKFwidWktc2xpZGVyLXRyYWNrXCIpJiYodGhpcy5fc2xpZGVyVGFyZ2V0PSEwLHRoaXMuX3RhcmdldFZhbD1hKGIudGFyZ2V0KS52YWwoKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2EudGhlbWUhPT1iJiZ0aGlzLl9zZXRUaGVtZShhLnRoZW1lKSxhLnRyYWNrVGhlbWUhPT1iJiZ0aGlzLl9zZXRUcmFja1RoZW1lKGEudHJhY2tUaGVtZSksYS5taW5pIT09YiYmdGhpcy5fc2V0TWluaShhLm1pbmkpLGEuaGlnaGxpZ2h0IT09YiYmdGhpcy5fc2V0SGlnaGxpZ2h0KGEuaGlnaGxpZ2h0KSxhLmRpc2FibGVkIT09YiYmdGhpcy5fc2V0RGlzYWJsZWQoYS5kaXNhYmxlZCksdGhpcy5fc3VwZXIoYSksdGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYj10aGlzLm9wdGlvbnM7KHRoaXMuX2lucHV0Rmlyc3QuaXMoXCI6ZGlzYWJsZWRcIil8fHRoaXMuX2lucHV0TGFzdC5pcyhcIjpkaXNhYmxlZFwiKSkmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ITApLGEuZmluZChcImlucHV0XCIpLnNsaWRlcih7dGhlbWU6Yi50aGVtZSx0cmFja1RoZW1lOmIudHJhY2tUaGVtZSxkaXNhYmxlZDpiLmRpc2FibGVkLGNvcm5lcnM6Yi5jb3JuZXJzLG1pbmk6Yi5taW5pLGhpZ2hsaWdodDpiLmhpZ2hsaWdodH0pLnNsaWRlcihcInJlZnJlc2hcIiksdGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCl9LF9jaGFuZ2U6ZnVuY3Rpb24oYil7aWYoXCJrZXl1cFwiPT09Yi50eXBlKXJldHVybiB0aGlzLl91cGRhdGVIaWdobGlnaHQoKSwhMTt2YXIgYz10aGlzLGQ9cGFyc2VGbG9hdCh0aGlzLl9pbnB1dEZpcnN0LnZhbCgpLDEwKSxlPXBhcnNlRmxvYXQodGhpcy5faW5wdXRMYXN0LnZhbCgpLDEwKSxmPWEoYi50YXJnZXQpLmhhc0NsYXNzKFwidWktcmFuZ2VzbGlkZXItZmlyc3RcIiksZz1mP3RoaXMuX2lucHV0Rmlyc3Q6dGhpcy5faW5wdXRMYXN0LGg9Zj90aGlzLl9pbnB1dExhc3Q6dGhpcy5faW5wdXRGaXJzdDtpZih0aGlzLl9pbnB1dEZpcnN0LnZhbCgpPnRoaXMuX2lucHV0TGFzdC52YWwoKSYmXCJtb3VzZWRvd25cIj09PWIudHlwZSYmIWEoYi50YXJnZXQpLmhhc0NsYXNzKFwidWktc2xpZGVyLWhhbmRsZVwiKSlnLmJsdXIoKTtlbHNlIGlmKFwibW91c2Vkb3duXCI9PT1iLnR5cGUpcmV0dXJuO3JldHVybiBkPmUmJiF0aGlzLl9zbGlkZXJUYXJnZXQ/KGcudmFsKGY/ZTpkKS5zbGlkZXIoXCJyZWZyZXNoXCIpLHRoaXMuX3RyaWdnZXIoXCJub3JtYWxpemVcIikpOmQ+ZSYmKGcudmFsKHRoaXMuX3RhcmdldFZhbCkuc2xpZGVyKFwicmVmcmVzaFwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aC52YWwoZj9kOmUpLnNsaWRlcihcInJlZnJlc2hcIiksYS5kYXRhKGguZ2V0KDApLFwibW9iaWxlLXNsaWRlclwiKS5oYW5kbGUuZm9jdXMoKSxjLl9zbGlkZXJGaXJzdC5jc3MoXCJ6LWluZGV4XCIsZj9cIlwiOjEpLGMuX3RyaWdnZXIoXCJub3JtYWxpemVcIil9LDApLHRoaXMuX3Byb3h5PWY/XCJmaXJzdFwiOlwibGFzdFwiKSxkPT09ZT8oYS5kYXRhKGcuZ2V0KDApLFwibW9iaWxlLXNsaWRlclwiKS5oYW5kbGUuY3NzKFwiei1pbmRleFwiLDEpLGEuZGF0YShoLmdldCgwKSxcIm1vYmlsZS1zbGlkZXJcIikuaGFuZGxlLmNzcyhcInotaW5kZXhcIiwwKSk6KGEuZGF0YShoLmdldCgwKSxcIm1vYmlsZS1zbGlkZXJcIikuaGFuZGxlLmNzcyhcInotaW5kZXhcIixcIlwiKSxhLmRhdGEoZy5nZXQoMCksXCJtb2JpbGUtc2xpZGVyXCIpLmhhbmRsZS5jc3MoXCJ6LWluZGV4XCIsXCJcIikpLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLGQ+PWU/ITE6dm9pZCAwfSxfdXBkYXRlSGlnaGxpZ2h0OmZ1bmN0aW9uKCl7dmFyIGI9cGFyc2VJbnQoYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLFwibW9iaWxlLXNsaWRlclwiKS5oYW5kbGUuZ2V0KDApLnN0eWxlLmxlZnQsMTApLGM9cGFyc2VJbnQoYS5kYXRhKHRoaXMuX2lucHV0TGFzdC5nZXQoMCksXCJtb2JpbGUtc2xpZGVyXCIpLmhhbmRsZS5nZXQoMCkuc3R5bGUubGVmdCwxMCksZD1jLWI7dGhpcy5lbGVtZW50LmZpbmQoXCIudWktc2xpZGVyLWJnXCIpLmNzcyh7XCJtYXJnaW4tbGVmdFwiOmIrXCIlXCIsd2lkdGg6ZCtcIiVcIn0pfSxfc2V0VGhlbWU6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5zbGlkZXIoXCJvcHRpb25cIixcInRoZW1lXCIsYSksdGhpcy5faW5wdXRMYXN0LnNsaWRlcihcIm9wdGlvblwiLFwidGhlbWVcIixhKX0sX3NldFRyYWNrVGhlbWU6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5zbGlkZXIoXCJvcHRpb25cIixcInRyYWNrVGhlbWVcIixhKSx0aGlzLl9pbnB1dExhc3Quc2xpZGVyKFwib3B0aW9uXCIsXCJ0cmFja1RoZW1lXCIsYSl9LF9zZXRNaW5pOmZ1bmN0aW9uKGEpe3RoaXMuX2lucHV0Rmlyc3Quc2xpZGVyKFwib3B0aW9uXCIsXCJtaW5pXCIsYSksdGhpcy5faW5wdXRMYXN0LnNsaWRlcihcIm9wdGlvblwiLFwibWluaVwiLGEpLHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcyhcInVpLW1pbmlcIiwhIWEpfSxfc2V0SGlnaGxpZ2h0OmZ1bmN0aW9uKGEpe3RoaXMuX2lucHV0Rmlyc3Quc2xpZGVyKFwib3B0aW9uXCIsXCJoaWdobGlnaHRcIixhKSx0aGlzLl9pbnB1dExhc3Quc2xpZGVyKFwib3B0aW9uXCIsXCJoaWdobGlnaHRcIixhKX0sX3NldERpc2FibGVkOmZ1bmN0aW9uKGEpe3RoaXMuX2lucHV0Rmlyc3QucHJvcChcImRpc2FibGVkXCIsYSksdGhpcy5faW5wdXRMYXN0LnByb3AoXCJkaXNhYmxlZFwiLGEpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2xhYmVsLnByZXBlbmRUbyh0aGlzLmVsZW1lbnQpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLXJhbmdlc2xpZGVyIHVpLW1pbmlcIiksdGhpcy5faW5wdXRGaXJzdC5hZnRlcih0aGlzLl9zbGlkZXJGaXJzdCksdGhpcy5faW5wdXRMYXN0LmFmdGVyKHRoaXMuX3NsaWRlckxhc3QpLHRoaXMuX3NsaWRlcnMucmVtb3ZlKCksdGhpcy5lbGVtZW50LmZpbmQoXCJpbnB1dFwiKS5yZW1vdmVDbGFzcyhcInVpLXJhbmdlc2xpZGVyLWZpcnN0IHVpLXJhbmdlc2xpZGVyLWxhc3RcIikuc2xpZGVyKFwiZGVzdHJveVwiKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldChcIm1vYmlsZS50ZXh0aW5wdXRcIixhLm1vYmlsZS50ZXh0aW5wdXQse29wdGlvbnM6e2NsZWFyQnRuOiExLGNsZWFyQnRuVGV4dDpcIkNsZWFyIHRleHRcIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5pc1NlYXJjaCYmKHRoaXMub3B0aW9ucy5jbGVhckJ0bj0hMCksdGhpcy5vcHRpb25zLmNsZWFyQnRuJiZ0aGlzLmlucHV0TmVlZHNXcmFwJiZ0aGlzLl9hZGRDbGVhckJ0bigpfSxjbGVhckJ1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKFwiPGEgaHJlZj0nIycgdGFiaW5kZXg9Jy0xJyBhcmlhLWhpZGRlbj0ndHJ1ZScgY2xhc3M9J3VpLWlucHV0LWNsZWFyIHVpLWJ0biB1aS1pY29uLWRlbGV0ZSB1aS1idG4taWNvbi1ub3RleHQgdWktY29ybmVyLWFsbCc+PC9hPlwiKS5hdHRyKFwidGl0bGVcIix0aGlzLm9wdGlvbnMuY2xlYXJCdG5UZXh0KS50ZXh0KHRoaXMub3B0aW9ucy5jbGVhckJ0blRleHQpfSxfY2xlYXJCdG5DbGljazpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQudmFsKFwiXCIpLmZvY3VzKCkudHJpZ2dlcihcImNoYW5nZVwiKSx0aGlzLl9jbGVhckJ0bi5hZGRDbGFzcyhcInVpLWlucHV0LWNsZWFyLWhpZGRlblwiKSxhLnByZXZlbnREZWZhdWx0KCl9LF9hZGRDbGVhckJ0bjpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZUNsZWFyKCksYS5leHRlbmQodGhpcyx7X2NsZWFyQnRuOnRoaXMud2lkZ2V0KCkuZmluZChcImEudWktaW5wdXQtY2xlYXJcIil9KSx0aGlzLl9iaW5kQ2xlYXJFdmVudHMoKSx0aGlzLl90b2dnbGVDbGVhcigpfSxfZW5oYW5jZUNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5jbGVhckJ1dHRvbigpLmFwcGVuZFRvKHRoaXMud2lkZ2V0KCkpLHRoaXMud2lkZ2V0KCkuYWRkQ2xhc3MoXCJ1aS1pbnB1dC1oYXMtY2xlYXJcIil9LF9iaW5kQ2xlYXJFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLl9jbGVhckJ0bix7Y2xpY2s6XCJfY2xlYXJCdG5DbGlja1wifSksdGhpcy5fb24oe2tleXVwOlwiX3RvZ2dsZUNsZWFyXCIsY2hhbmdlOlwiX3RvZ2dsZUNsZWFyXCIsaW5wdXQ6XCJfdG9nZ2xlQ2xlYXJcIixmb2N1czpcIl90b2dnbGVDbGVhclwiLGJsdXI6XCJfdG9nZ2xlQ2xlYXJcIixjdXQ6XCJfdG9nZ2xlQ2xlYXJcIixwYXN0ZTpcIl90b2dnbGVDbGVhclwifSl9LF91bmJpbmRDbGVhcjpmdW5jdGlvbigpe3RoaXMuX29mZih0aGlzLl9jbGVhckJ0bixcImNsaWNrXCIpLHRoaXMuX29mZih0aGlzLmVsZW1lbnQsXCJrZXl1cCBjaGFuZ2UgaW5wdXQgZm9jdXMgYmx1ciBjdXQgcGFzdGVcIil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3RoaXMuX3N1cGVyKGEpLGEuY2xlYXJCdG49PT1ifHx0aGlzLmVsZW1lbnQuaXMoXCJ0ZXh0YXJlYSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKVwiKXx8KGEuY2xlYXJCdG4/dGhpcy5fYWRkQ2xlYXJCdG4oKTp0aGlzLl9kZXN0cm95Q2xlYXIoKSksYS5jbGVhckJ0blRleHQhPT1iJiZ0aGlzLl9jbGVhckJ0biE9PWImJnRoaXMuX2NsZWFyQnRuLnRleHQoYS5jbGVhckJ0blRleHQpLmF0dHIoXCJ0aXRsZVwiLGEuY2xlYXJCdG5UZXh0KX0sX3RvZ2dsZUNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fZGVsYXkoXCJfdG9nZ2xlQ2xlYXJDbGFzc1wiLDApfSxfdG9nZ2xlQ2xlYXJDbGFzczpmdW5jdGlvbigpe3RoaXMuX2NsZWFyQnRuLnRvZ2dsZUNsYXNzKFwidWktaW5wdXQtY2xlYXItaGlkZGVuXCIsIXRoaXMuZWxlbWVudC52YWwoKSl9LF9kZXN0cm95Q2xlYXI6ZnVuY3Rpb24oKXt0aGlzLndpZGdldCgpLnJlbW92ZUNsYXNzKFwidWktaW5wdXQtaGFzLWNsZWFyXCIpLHRoaXMuX3VuYmluZENsZWFyKCksdGhpcy5fY2xlYXJCdG4ucmVtb3ZlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuY2xlYXJCdG4mJnRoaXMuX2Rlc3Ryb3lDbGVhcigpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KFwibW9iaWxlLnRleHRpbnB1dFwiLGEubW9iaWxlLnRleHRpbnB1dCx7b3B0aW9uczp7YXV0b2dyb3c6ITAsa2V5dXBUaW1lb3V0QnVmZmVyOjEwMH0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5vcHRpb25zLmF1dG9ncm93JiZ0aGlzLmlzVGV4dGFyZWEmJnRoaXMuX2F1dG9ncm93KCl9LF9hdXRvZ3JvdzpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcyhcInVpLXRleHRpbnB1dC1hdXRvZ3Jvd1wiKSx0aGlzLl9vbih7a2V5dXA6XCJfdGltZW91dFwiLGNoYW5nZTpcIl90aW1lb3V0XCIsaW5wdXQ6XCJfdGltZW91dFwiLHBhc3RlOlwiX3RpbWVvdXRcIn0pLHRoaXMuX29uKCEwLHRoaXMuZG9jdW1lbnQse3BhZ2VzaG93OlwiX2hhbmRsZVNob3dcIixwb3B1cGJlZm9yZXBvc2l0aW9uOlwiX2hhbmRsZVNob3dcIix1cGRhdGVsYXlvdXQ6XCJfaGFuZGxlU2hvd1wiLHBhbmVsb3BlbjpcIl9oYW5kbGVTaG93XCJ9KX0sX2hhbmRsZVNob3c6ZnVuY3Rpb24oYil7YS5jb250YWlucyhiLnRhcmdldCx0aGlzLmVsZW1lbnRbMF0pJiZ0aGlzLmVsZW1lbnQuaXMoXCI6dmlzaWJsZVwiKSYmKFwicG9wdXBiZWZvcmVwb3NpdGlvblwiIT09Yi50eXBlJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJ1aS10ZXh0aW5wdXQtYXV0b2dyb3ctcmVzaXplXCIpLmFuaW1hdGlvbkNvbXBsZXRlKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS10ZXh0aW5wdXQtYXV0b2dyb3ctcmVzaXplXCIpfSx0aGlzKSxcInRyYW5zaXRpb25cIiksdGhpcy5fcHJlcGFyZUhlaWdodFVwZGF0ZSgpKX0sX3VuYmluZEF1dG9ncm93OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktdGV4dGlucHV0LWF1dG9ncm93XCIpLHRoaXMuX29mZih0aGlzLmVsZW1lbnQsXCJrZXl1cCBjaGFuZ2UgaW5wdXQgcGFzdGVcIiksdGhpcy5fb2ZmKHRoaXMuZG9jdW1lbnQsXCJwYWdlc2hvdyBwb3B1cGJlZm9yZXBvc2l0aW9uIHVwZGF0ZWxheW91dCBwYW5lbG9wZW5cIil9LGtleXVwVGltZW91dDpudWxsLF9wcmVwYXJlSGVpZ2h0VXBkYXRlOmZ1bmN0aW9uKGEpe3RoaXMua2V5dXBUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5rZXl1cFRpbWVvdXQpLGE9PT1iP3RoaXMuX3VwZGF0ZUhlaWdodCgpOnRoaXMua2V5dXBUaW1lb3V0PXRoaXMuX2RlbGF5KFwiX3VwZGF0ZUhlaWdodFwiLGEpfSxfdGltZW91dDpmdW5jdGlvbigpe3RoaXMuX3ByZXBhcmVIZWlnaHRVcGRhdGUodGhpcy5vcHRpb25zLmtleXVwVGltZW91dEJ1ZmZlcil9LF91cGRhdGVIZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZyxoLGksaj10aGlzLndpbmRvdy5zY3JvbGxUb3AoKTt0aGlzLmtleXVwVGltZW91dD0wLFwib25wYWdlXCJpbiB0aGlzLmVsZW1lbnRbMF18fHRoaXMuZWxlbWVudC5jc3Moe2hlaWdodDowLFwibWluLWhlaWdodFwiOjAsXCJtYXgtaGVpZ2h0XCI6MH0pLGQ9dGhpcy5lbGVtZW50WzBdLnNjcm9sbEhlaWdodCxlPXRoaXMuZWxlbWVudFswXS5jbGllbnRIZWlnaHQsZj1wYXJzZUZsb2F0KHRoaXMuZWxlbWVudC5jc3MoXCJib3JkZXItdG9wLXdpZHRoXCIpKSxnPXBhcnNlRmxvYXQodGhpcy5lbGVtZW50LmNzcyhcImJvcmRlci1ib3R0b20td2lkdGhcIikpLGg9ZitnLGk9ZCtoKzE1LDA9PT1lJiYoYT1wYXJzZUZsb2F0KHRoaXMuZWxlbWVudC5jc3MoXCJwYWRkaW5nLXRvcFwiKSksYj1wYXJzZUZsb2F0KHRoaXMuZWxlbWVudC5jc3MoXCJwYWRkaW5nLWJvdHRvbVwiKSksYz1hK2IsaSs9YyksdGhpcy5lbGVtZW50LmNzcyh7aGVpZ2h0OmksXCJtaW4taGVpZ2h0XCI6XCJcIixcIm1heC1oZWlnaHRcIjpcIlwifSksdGhpcy53aW5kb3cuc2Nyb2xsVG9wKGopfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmF1dG9ncm93JiZ0aGlzLmlzVGV4dGFyZWEmJnRoaXMuX3VwZGF0ZUhlaWdodCgpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt0aGlzLl9zdXBlcihhKSxhLmF1dG9ncm93IT09YiYmdGhpcy5pc1RleHRhcmVhJiYoYS5hdXRvZ3Jvdz90aGlzLl9hdXRvZ3JvdygpOnRoaXMuX3VuYmluZEF1dG9ncm93KCkpfX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldChcIm1vYmlsZS5zZWxlY3RtZW51XCIsYS5leHRlbmQoe2luaXRTZWxlY3RvcjpcInNlbGVjdDpub3QoIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpKTpub3QoIDpqcW1EYXRhKHJvbGU9J2ZsaXBzd2l0Y2gnKSApXCIsb3B0aW9uczp7dGhlbWU6bnVsbCxpY29uOlwiY2FyYXQtZFwiLGljb25wb3M6XCJyaWdodFwiLGlubGluZTohMSxjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiExLG92ZXJsYXlUaGVtZTpudWxsLGRpdmlkZXJUaGVtZTpudWxsLGhpZGVQbGFjZWhvbGRlck1lbnVJdGVtczohMCxjbG9zZVRleHQ6XCJDbG9zZVwiLG5hdGl2ZU1lbnU6ITAscHJldmVudEZvY3VzWm9vbTovaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJBcHBsZVdlYktpdFwiKT4tMSxtaW5pOiExfSxfYnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEoXCI8ZGl2Lz5cIil9LF9zZXREaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoXCJkaXNhYmxlZFwiLGEpLHRoaXMuYnV0dG9uLmF0dHIoXCJhcmlhLWRpc2FibGVkXCIsYSksdGhpcy5fc2V0T3B0aW9uKFwiZGlzYWJsZWRcIixhKX0sX2ZvY3VzQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5idXR0b24uZm9jdXMoKX0sNDApfSxfc2VsZWN0T3B0aW9uczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdC5maW5kKFwib3B0aW9uXCIpfSxfcHJlRXh0ZW5zaW9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLmlubGluZXx8dGhpcy5lbGVtZW50LmpxbURhdGEoXCJpbmxpbmVcIiksYz10aGlzLm9wdGlvbnMubWluaXx8dGhpcy5lbGVtZW50LmpxbURhdGEoXCJtaW5pXCIpLGQ9XCJcIjt+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKFwidWktYnRuLWxlZnRcIikmJihkPVwiIHVpLWJ0bi1sZWZ0XCIpLH50aGlzLmVsZW1lbnRbMF0uY2xhc3NOYW1lLmluZGV4T2YoXCJ1aS1idG4tcmlnaHRcIikmJihkPVwiIHVpLWJ0bi1yaWdodFwiKSxiJiYoZCs9XCIgdWktYnRuLWlubGluZVwiKSxjJiYoZCs9XCIgdWktbWluaVwiKSx0aGlzLnNlbGVjdD10aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHRcIikud3JhcChcIjxkaXYgY2xhc3M9J3VpLXNlbGVjdFwiK2QrXCInPlwiKSx0aGlzLnNlbGVjdElkPXRoaXMuc2VsZWN0LmF0dHIoXCJpZFwiKXx8XCJzZWxlY3QtXCIrdGhpcy51dWlkLHRoaXMuYnV0dG9uSWQ9dGhpcy5zZWxlY3RJZCtcIi1idXR0b25cIix0aGlzLmxhYmVsPWEoXCJsYWJlbFtmb3I9J1wiK3RoaXMuc2VsZWN0SWQrXCInXVwiKSx0aGlzLmlzTXVsdGlwbGU9dGhpcy5zZWxlY3RbMF0ubXVsdGlwbGV9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LnBhcmVudHMoXCIudWktc2VsZWN0XCIpO2EubGVuZ3RoPjAmJihhLmlzKFwiLnVpLWJ0bi1sZWZ0LCAudWktYnRuLXJpZ2h0XCIpJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYS5oYXNDbGFzcyhcInVpLWJ0bi1sZWZ0XCIpP1widWktYnRuLWxlZnRcIjpcInVpLWJ0bi1yaWdodFwiKSx0aGlzLmVsZW1lbnQuaW5zZXJ0QWZ0ZXIoYSksYS5yZW1vdmUoKSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9wcmVFeHRlbnNpb24oKSx0aGlzLmJ1dHRvbj10aGlzLl9idXR0b24oKTt2YXIgYz10aGlzLGQ9dGhpcy5vcHRpb25zLGU9ZC5pY29uP2QuaWNvbnBvc3x8dGhpcy5zZWxlY3QuanFtRGF0YShcImljb25wb3NcIik6ITEsZj10aGlzLmJ1dHRvbi5pbnNlcnRCZWZvcmUodGhpcy5zZWxlY3QpLmF0dHIoXCJpZFwiLHRoaXMuYnV0dG9uSWQpLmFkZENsYXNzKFwidWktYnRuXCIrKGQuaWNvbj9cIiB1aS1pY29uLVwiK2QuaWNvbitcIiB1aS1idG4taWNvbi1cIitlKyhkLmljb25zaGFkb3c/XCIgdWktc2hhZG93LWljb25cIjpcIlwiKTpcIlwiKSsoZC50aGVtZT9cIiB1aS1idG4tXCIrZC50aGVtZTpcIlwiKSsoZC5jb3JuZXJzP1wiIHVpLWNvcm5lci1hbGxcIjpcIlwiKSsoZC5zaGFkb3c/XCIgdWktc2hhZG93XCI6XCJcIikpO3RoaXMuc2V0QnV0dG9uVGV4dCgpLGQubmF0aXZlTWVudSYmYi5vcGVyYSYmYi5vcGVyYS52ZXJzaW9uJiZmLmFkZENsYXNzKFwidWktc2VsZWN0LW5hdGl2ZW9ubHlcIiksdGhpcy5pc011bHRpcGxlJiYodGhpcy5idXR0b25Db3VudD1hKFwiPHNwYW4+XCIpLmFkZENsYXNzKFwidWktbGktY291bnQgdWktYm9keS1pbmhlcml0XCIpLmhpZGUoKS5hcHBlbmRUbyhmLmFkZENsYXNzKFwidWktbGktaGFzLWNvdW50XCIpKSksKGQuZGlzYWJsZWR8fHRoaXMuZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIikpJiZ0aGlzLmRpc2FibGUoKSx0aGlzLnNlbGVjdC5jaGFuZ2UoZnVuY3Rpb24oKXtjLnJlZnJlc2goKSxkLm5hdGl2ZU1lbnUmJmMuX2RlbGF5KGZ1bmN0aW9uKCl7Yy5zZWxlY3QuYmx1cigpfSl9KSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLl9vbih0aGlzLmJ1dHRvbix7a2V5ZG93bjpcIl9oYW5kbGVLZXlkb3duXCJ9KSx0aGlzLmJ1aWxkKCl9LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLnNlbGVjdC5hcHBlbmRUbyhiLmJ1dHRvbikuYmluZChcInZtb3VzZWRvd25cIixmdW5jdGlvbigpe2IuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoXCJmb2N1c1wiLGZ1bmN0aW9uKCl7Yi5idXR0b24uYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKFwiYmx1clwiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKFwiZm9jdXMgdm1vdXNlb3ZlclwiLGZ1bmN0aW9uKCl7Yi5idXR0b24udHJpZ2dlcihcInZtb3VzZW92ZXJcIil9KS5iaW5kKFwidm1vdXNlbW92ZVwiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZChcImNoYW5nZSBibHVyIHZtb3VzZW91dFwiLGZ1bmN0aW9uKCl7Yi5idXR0b24udHJpZ2dlcihcInZtb3VzZW91dFwiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KSxiLmJ1dHRvbi5iaW5kKFwidm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSxiLmxhYmVsLmJpbmQoXCJjbGljayBmb2N1c1wiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSxiLnNlbGVjdC5iaW5kKFwiZm9jdXNcIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5idXR0b24uYmluZChcIm1vdXNldXBcIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUuem9vbS5lbmFibGUoITApfSwwKX0pLGIuc2VsZWN0LmJpbmQoXCJibHVyXCIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5lbmFibGUoITApfSl9LHNlbGVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdE9wdGlvbnMoKS5maWx0ZXIoXCI6c2VsZWN0ZWRcIil9LHNlbGVjdGVkSW5kaWNlczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuc2VsZWN0ZWQoKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYS5fc2VsZWN0T3B0aW9ucygpLmluZGV4KHRoaXMpfSkuZ2V0KCl9LHNldEJ1dHRvblRleHQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9dGhpcy5zZWxlY3RlZCgpLGU9dGhpcy5wbGFjZWhvbGRlcixmPWEoYy5jcmVhdGVFbGVtZW50KFwic3BhblwiKSk7dGhpcy5idXR0b24uY2hpbGRyZW4oXCJzcGFuXCIpLm5vdChcIi51aS1saS1jb3VudFwiKS5yZW1vdmUoKS5lbmQoKS5lbmQoKS5wcmVwZW5kKGZ1bmN0aW9uKCl7cmV0dXJuIGU9ZC5sZW5ndGg/ZC5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS50ZXh0KCl9KS5nZXQoKS5qb2luKFwiLCBcIik6Yi5wbGFjZWhvbGRlcixlP2YudGV4dChlKTpmLmh0bWwoXCImIzE2MDtcIiksZi5hZGRDbGFzcyhiLnNlbGVjdC5hdHRyKFwiY2xhc3NcIikpLmFkZENsYXNzKGQuYXR0cihcImNsYXNzXCIpKS5yZW1vdmVDbGFzcyhcInVpLXNjcmVlbi1oaWRkZW5cIil9KCkpfSxzZXRCdXR0b25Db3VudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc2VsZWN0ZWQoKTt0aGlzLmlzTXVsdGlwbGUmJnRoaXMuYnV0dG9uQ291bnRbYS5sZW5ndGg+MT9cInNob3dcIjpcImhpZGVcIl0oKS50ZXh0KGEubGVuZ3RoKX0sX2hhbmRsZUtleWRvd246ZnVuY3Rpb24oKXt0aGlzLl9kZWxheShcIl9yZWZyZXNoQnV0dG9uXCIpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0sX3JlZnJlc2hCdXR0b246ZnVuY3Rpb24oKXt0aGlzLnNldEJ1dHRvblRleHQoKSx0aGlzLnNldEJ1dHRvbkNvdW50KCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoQnV0dG9uKCl9LG9wZW46YS5ub29wLGNsb3NlOmEubm9vcCxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQoITApLHRoaXMuYnV0dG9uLmFkZENsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKCExKSx0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5saW5rcz1mdW5jdGlvbihiKXthKGIpLmZpbmQoXCJhXCIpLmpxbUVuaGFuY2VhYmxlKCkuZmlsdGVyKFwiOmpxbURhdGEocmVsPSdwb3B1cCcpW2hyZWZdW2hyZWYhPScnXVwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKS5zdWJzdHJpbmcoMSk7YiYmKGEuc2V0QXR0cmlidXRlKFwiYXJpYS1oYXNwb3B1cFwiLCEwKSxhLnNldEF0dHJpYnV0ZShcImFyaWEtb3duc1wiLGIpLGEuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCExKSl9KS5lbmQoKS5ub3QoXCIudWktYnRuLCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKVwiKS5hZGRDbGFzcyhcInVpLWxpbmtcIil9fShhKSxmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGQoYSxiLGMsZCl7dmFyIGU9ZDtyZXR1cm4gZT1iPmE/YysoYS1iKS8yOk1hdGgubWluKE1hdGgubWF4KGMsZC1iLzIpLGMrYS1iKX1mdW5jdGlvbiBlKGEpe3JldHVybnt4OmEuc2Nyb2xsTGVmdCgpLHk6YS5zY3JvbGxUb3AoKSxjeDphWzBdLmlubmVyV2lkdGh8fGEud2lkdGgoKSxjeTphWzBdLmlubmVySGVpZ2h0fHxhLmhlaWdodCgpfX1hLndpZGdldChcIm1vYmlsZS5wb3B1cFwiLHtvcHRpb25zOnt3cmFwcGVyQ2xhc3M6bnVsbCx0aGVtZTpudWxsLG92ZXJsYXlUaGVtZTpudWxsLHNoYWRvdzohMCxjb3JuZXJzOiEwLHRyYW5zaXRpb246XCJub25lXCIscG9zaXRpb25UbzpcIm9yaWdpblwiLHRvbGVyYW5jZTpudWxsLGNsb3NlTGlua1NlbGVjdG9yOlwiYTpqcW1EYXRhKHJlbD0nYmFjaycpXCIsY2xvc2VMaW5rRXZlbnRzOlwiY2xpY2sucG9wdXBcIixuYXZpZ2F0ZUV2ZW50czpcIm5hdmlnYXRlLnBvcHVwXCIsY2xvc2VFdmVudHM6XCJuYXZpZ2F0ZS5wb3B1cCBwYWdlYmVmb3JlY2hhbmdlLnBvcHVwXCIsZGlzbWlzc2libGU6ITAsZW5oYW5jZWQ6ITEsaGlzdG9yeTohYS5tb2JpbGUuYnJvd3Nlci5vbGRJRX0sX2hhbmRsZURvY3VtZW50Vm1vdXNlZG93bjpmdW5jdGlvbihiKXt0aGlzLl9pc09wZW4mJmEuY29udGFpbnModGhpcy5fdWkuY29udGFpbmVyWzBdLGIudGFyZ2V0KSYmdGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmF0dHIoXCJpZFwiKSxkPXRoaXMub3B0aW9ucztkLmhpc3Rvcnk9ZC5oaXN0b3J5JiZhLm1vYmlsZS5hamF4RW5hYmxlZCYmYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQsdGhpcy5fb24odGhpcy5kb2N1bWVudCx7dm1vdXNlZG93bjpcIl9oYW5kbGVEb2N1bWVudFZtb3VzZWRvd25cIn0pLGEuZXh0ZW5kKHRoaXMse19zY3JvbGxUb3A6MCxfcGFnZTpiLmNsb3Nlc3QoXCIudWktcGFnZVwiKSxfdWk6bnVsbCxfZmFsbGJhY2tUcmFuc2l0aW9uOlwiXCIsX2N1cnJlbnRUcmFuc2l0aW9uOiExLF9wcmVyZXF1aXNpdGVzOm51bGwsX2lzT3BlbjohMSxfdG9sZXJhbmNlOm51bGwsX3Jlc2l6ZURhdGE6bnVsbCxfaWdub3JlUmVzaXplVG86MCxfb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzOiExfSksMD09PXRoaXMuX3BhZ2UubGVuZ3RoJiYodGhpcy5fcGFnZT1hKFwiYm9keVwiKSksZC5lbmhhbmNlZD90aGlzLl91aT17Y29udGFpbmVyOmIucGFyZW50KCksc2NyZWVuOmIucGFyZW50KCkucHJldigpLHBsYWNlaG9sZGVyOmEodGhpcy5kb2N1bWVudFswXS5nZXRFbGVtZW50QnlJZChjK1wiLXBsYWNlaG9sZGVyXCIpKX06KHRoaXMuX3VpPXRoaXMuX2VuaGFuY2UoYixjKSx0aGlzLl9hcHBseVRyYW5zaXRpb24oZC50cmFuc2l0aW9uKSksdGhpcy5fc2V0VG9sZXJhbmNlKGQudG9sZXJhbmNlKS5fdWkuZm9jdXNFbGVtZW50PXRoaXMuX3VpLmNvbnRhaW5lcix0aGlzLl9vbih0aGlzLl91aS5zY3JlZW4se3ZjbGljazpcIl9lYXRFdmVudEFuZENsb3NlXCJ9KSx0aGlzLl9vbih0aGlzLndpbmRvdyx7b3JpZW50YXRpb25jaGFuZ2U6YS5wcm94eSh0aGlzLFwiX2hhbmRsZVdpbmRvd09yaWVudGF0aW9uY2hhbmdlXCIpLHJlc2l6ZTphLnByb3h5KHRoaXMsXCJfaGFuZGxlV2luZG93UmVzaXplXCIpLGtleXVwOmEucHJveHkodGhpcyxcIl9oYW5kbGVXaW5kb3dLZXlVcFwiKX0pLHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse2ZvY3VzaW46XCJfaGFuZGxlRG9jdW1lbnRGb2N1c0luXCJ9KX0sX2VuaGFuY2U6ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLm9wdGlvbnMsZT1kLndyYXBwZXJDbGFzcyxmPXtzY3JlZW46YShcIjxkaXYgY2xhc3M9J3VpLXNjcmVlbi1oaWRkZW4gdWktcG9wdXAtc2NyZWVuIFwiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKFwidWktb3ZlcmxheS1cIixkLm92ZXJsYXlUaGVtZSkrXCInPjwvZGl2PlwiKSxwbGFjZWhvbGRlcjphKFwiPGRpdiBzdHlsZT0nZGlzcGxheTogbm9uZTsnPjwhLS0gcGxhY2Vob2xkZXIgLS0+PC9kaXY+XCIpLGNvbnRhaW5lcjphKFwiPGRpdiBjbGFzcz0ndWktcG9wdXAtY29udGFpbmVyIHVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZVwiKyhlP1wiIFwiK2U6XCJcIikrXCInPjwvZGl2PlwiKX0sZz10aGlzLmRvY3VtZW50WzBdLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtyZXR1cm4gZy5hcHBlbmRDaGlsZChmLnNjcmVlblswXSksZy5hcHBlbmRDaGlsZChmLmNvbnRhaW5lclswXSksYyYmKGYuc2NyZWVuLmF0dHIoXCJpZFwiLGMrXCItc2NyZWVuXCIpLGYuY29udGFpbmVyLmF0dHIoXCJpZFwiLGMrXCItcG9wdXBcIiksZi5wbGFjZWhvbGRlci5hdHRyKFwiaWRcIixjK1wiLXBsYWNlaG9sZGVyXCIpLmh0bWwoXCI8IS0tIHBsYWNlaG9sZGVyIGZvciBcIitjK1wiIC0tPlwiKSksdGhpcy5fcGFnZVswXS5hcHBlbmRDaGlsZChnKSxmLnBsYWNlaG9sZGVyLmluc2VydEFmdGVyKGIpLGIuZGV0YWNoKCkuYWRkQ2xhc3MoXCJ1aS1wb3B1cCBcIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihcInVpLWJvZHktXCIsZC50aGVtZSkrXCIgXCIrKGQuc2hhZG93P1widWktb3ZlcmxheS1zaGFkb3cgXCI6XCJcIikrKGQuY29ybmVycz9cInVpLWNvcm5lci1hbGwgXCI6XCJcIikpLmFwcGVuZFRvKGYuY29udGFpbmVyKSxmfSxfZWF0RXZlbnRBbmRDbG9zZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5vcHRpb25zLmRpc21pc3NpYmxlJiZ0aGlzLmNsb3NlKCksITF9LF9yZXNpemVTY3JlZW46ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl91aS5zY3JlZW4sYj10aGlzLl91aS5jb250YWluZXIub3V0ZXJIZWlnaHQoITApLGM9YS5yZW1vdmVBdHRyKFwic3R5bGVcIikuaGVpZ2h0KCksZD10aGlzLmRvY3VtZW50LmhlaWdodCgpLTE7ZD5jP2EuaGVpZ2h0KGQpOmI+YyYmYS5oZWlnaHQoYil9LF9oYW5kbGVXaW5kb3dLZXlVcDpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5faXNPcGVuJiZiLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLkVTQ0FQRT90aGlzLl9lYXRFdmVudEFuZENsb3NlKGIpOnZvaWQgMH0sX2V4cGVjdFJlc2l6ZUV2ZW50OmZ1bmN0aW9uKCl7dmFyIGE9ZSh0aGlzLndpbmRvdyk7XG5pZih0aGlzLl9yZXNpemVEYXRhKXtpZihhLng9PT10aGlzLl9yZXNpemVEYXRhLndpbmRvd0Nvb3JkaW5hdGVzLngmJmEueT09PXRoaXMuX3Jlc2l6ZURhdGEud2luZG93Q29vcmRpbmF0ZXMueSYmYS5jeD09PXRoaXMuX3Jlc2l6ZURhdGEud2luZG93Q29vcmRpbmF0ZXMuY3gmJmEuY3k9PT10aGlzLl9yZXNpemVEYXRhLndpbmRvd0Nvb3JkaW5hdGVzLmN5KXJldHVybiExO2NsZWFyVGltZW91dCh0aGlzLl9yZXNpemVEYXRhLnRpbWVvdXRJZCl9cmV0dXJuIHRoaXMuX3Jlc2l6ZURhdGE9e3RpbWVvdXRJZDp0aGlzLl9kZWxheShcIl9yZXNpemVUaW1lb3V0XCIsMjAwKSx3aW5kb3dDb29yZGluYXRlczphfSwhMH0sX3Jlc2l6ZVRpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLl9pc09wZW4/dGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKXx8KHRoaXMuX3VpLmNvbnRhaW5lci5oYXNDbGFzcyhcInVpLXBvcHVwLWhpZGRlblwiKSYmKHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcInVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZVwiKSx0aGlzLnJlcG9zaXRpb24oe3Bvc2l0aW9uVG86XCJ3aW5kb3dcIn0pLHRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpKSx0aGlzLl9yZXNpemVTY3JlZW4oKSx0aGlzLl9yZXNpemVEYXRhPW51bGwsdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSExKToodGhpcy5fcmVzaXplRGF0YT1udWxsLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMSl9LF9zdG9wSWdub3JpbmdSZXNpemVFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9pZ25vcmVSZXNpemVUbz0wfSxfaWdub3JlUmVzaXplRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5faWdub3JlUmVzaXplVG8mJmNsZWFyVGltZW91dCh0aGlzLl9pZ25vcmVSZXNpemVUbyksdGhpcy5faWdub3JlUmVzaXplVG89dGhpcy5fZGVsYXkoXCJfc3RvcElnbm9yaW5nUmVzaXplRXZlbnRzXCIsMWUzKX0sX2hhbmRsZVdpbmRvd1Jlc2l6ZTpmdW5jdGlvbigpe3RoaXMuX2lzT3BlbiYmMD09PXRoaXMuX2lnbm9yZVJlc2l6ZVRvJiYoIXRoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCkmJiF0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3N8fHRoaXMuX3VpLmNvbnRhaW5lci5oYXNDbGFzcyhcInVpLXBvcHVwLWhpZGRlblwiKXx8dGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKFwidWktcG9wdXAtaGlkZGVuIHVpLXBvcHVwLXRydW5jYXRlXCIpLnJlbW92ZUF0dHIoXCJzdHlsZVwiKSl9LF9oYW5kbGVXaW5kb3dPcmllbnRhdGlvbmNoYW5nZTpmdW5jdGlvbigpeyF0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3MmJnRoaXMuX2lzT3BlbiYmMD09PXRoaXMuX2lnbm9yZVJlc2l6ZVRvJiYodGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKSx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITApfSxfaGFuZGxlRG9jdW1lbnRGb2N1c0luOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9Yi50YXJnZXQsZT10aGlzLl91aTtpZih0aGlzLl9pc09wZW4pe2lmKGQhPT1lLmNvbnRhaW5lclswXSl7aWYoYz1hKGQpLCFhLmNvbnRhaW5zKGUuY29udGFpbmVyWzBdLGQpKXJldHVybiBhKHRoaXMuZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCkub25lKFwiZm9jdXNcIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fc2FmZWx5Qmx1cihkKX0sdGhpcykpLGUuZm9jdXNFbGVtZW50LmZvY3VzKCksYi5wcmV2ZW50RGVmYXVsdCgpLGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksITE7ZS5mb2N1c0VsZW1lbnRbMF09PT1lLmNvbnRhaW5lclswXSYmKGUuZm9jdXNFbGVtZW50PWMpfXRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpfX0sX3RoZW1lQ2xhc3NGcm9tT3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/XCJub25lXCI9PT1iP1wiXCI6YStiOmErXCJpbmhlcml0XCJ9LF9hcHBseVRyYW5zaXRpb246ZnVuY3Rpb24oYil7cmV0dXJuIGImJih0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3ModGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKSxcIm5vbmVcIiE9PWImJih0aGlzLl9mYWxsYmFja1RyYW5zaXRpb249YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24oYiksXCJub25lXCI9PT10aGlzLl9mYWxsYmFja1RyYW5zaXRpb24mJih0aGlzLl9mYWxsYmFja1RyYW5zaXRpb249XCJcIiksdGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbikpKSx0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnMsZD10aGlzLmVsZW1lbnQsZT10aGlzLl91aS5zY3JlZW47cmV0dXJuIGEud3JhcHBlckNsYXNzIT09YyYmdGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKGIud3JhcHBlckNsYXNzKS5hZGRDbGFzcyhhLndyYXBwZXJDbGFzcyksYS50aGVtZSE9PWMmJmQucmVtb3ZlQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1ib2R5LVwiLGIudGhlbWUpKS5hZGRDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihcInVpLWJvZHktXCIsYS50aGVtZSkpLGEub3ZlcmxheVRoZW1lIT09YyYmKGUucmVtb3ZlQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1vdmVybGF5LVwiLGIub3ZlcmxheVRoZW1lKSkuYWRkQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1vdmVybGF5LVwiLGEub3ZlcmxheVRoZW1lKSksdGhpcy5faXNPcGVuJiZlLmFkZENsYXNzKFwiaW5cIikpLGEuc2hhZG93IT09YyYmZC50b2dnbGVDbGFzcyhcInVpLW92ZXJsYXktc2hhZG93XCIsYS5zaGFkb3cpLGEuY29ybmVycyE9PWMmJmQudG9nZ2xlQ2xhc3MoXCJ1aS1jb3JuZXItYWxsXCIsYS5jb3JuZXJzKSxhLnRyYW5zaXRpb24hPT1jJiYodGhpcy5fY3VycmVudFRyYW5zaXRpb258fHRoaXMuX2FwcGx5VHJhbnNpdGlvbihhLnRyYW5zaXRpb24pKSxhLnRvbGVyYW5jZSE9PWMmJnRoaXMuX3NldFRvbGVyYW5jZShhLnRvbGVyYW5jZSksYS5kaXNhYmxlZCE9PWMmJmEuZGlzYWJsZWQmJnRoaXMuY2xvc2UoKSx0aGlzLl9zdXBlcihhKX0sX3NldFRvbGVyYW5jZTpmdW5jdGlvbihiKXt2YXIgZCxlPXt0OjMwLHI6MTUsYjozMCxsOjE1fTtpZihiIT09Yylzd2l0Y2goZD1TdHJpbmcoYikuc3BsaXQoXCIsXCIpLGEuZWFjaChkLGZ1bmN0aW9uKGEsYil7ZFthXT1wYXJzZUludChiLDEwKX0pLGQubGVuZ3RoKXtjYXNlIDE6aXNOYU4oZFswXSl8fChlLnQ9ZS5yPWUuYj1lLmw9ZFswXSk7YnJlYWs7Y2FzZSAyOmlzTmFOKGRbMF0pfHwoZS50PWUuYj1kWzBdKSxpc05hTihkWzFdKXx8KGUubD1lLnI9ZFsxXSk7YnJlYWs7Y2FzZSA0OmlzTmFOKGRbMF0pfHwoZS50PWRbMF0pLGlzTmFOKGRbMV0pfHwoZS5yPWRbMV0pLGlzTmFOKGRbMl0pfHwoZS5iPWRbMl0pLGlzTmFOKGRbM10pfHwoZS5sPWRbM10pfXJldHVybiB0aGlzLl90b2xlcmFuY2U9ZSx0aGlzfSxfY2xhbXBQb3B1cFdpZHRoOmZ1bmN0aW9uKGEpe3ZhciBiLGM9ZSh0aGlzLndpbmRvdyksZD17eDp0aGlzLl90b2xlcmFuY2UubCx5OmMueSt0aGlzLl90b2xlcmFuY2UudCxjeDpjLmN4LXRoaXMuX3RvbGVyYW5jZS5sLXRoaXMuX3RvbGVyYW5jZS5yLGN5OmMuY3ktdGhpcy5fdG9sZXJhbmNlLnQtdGhpcy5fdG9sZXJhbmNlLmJ9O3JldHVybiBhfHx0aGlzLl91aS5jb250YWluZXIuY3NzKFwibWF4LXdpZHRoXCIsZC5jeCksYj17Y3g6dGhpcy5fdWkuY29udGFpbmVyLm91dGVyV2lkdGgoITApLGN5OnRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCl9LHtyYzpkLG1lbnVTaXplOmJ9fSxfY2FsY3VsYXRlRmluYWxMb2NhdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjLGU9Yi5yYyxmPWIubWVudVNpemU7cmV0dXJuIGM9e2xlZnQ6ZChlLmN4LGYuY3gsZS54LGEueCksdG9wOmQoZS5jeSxmLmN5LGUueSxhLnkpfSxjLnRvcD1NYXRoLm1heCgwLGMudG9wKSxjLnRvcC09TWF0aC5taW4oYy50b3AsTWF0aC5tYXgoMCxjLnRvcCtmLmN5LXRoaXMuZG9jdW1lbnQuaGVpZ2h0KCkpKSxjfSxfcGxhY2VtZW50Q29vcmRzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9jYWxjdWxhdGVGaW5hbExvY2F0aW9uKGEsdGhpcy5fY2xhbXBQb3B1cFdpZHRoKCkpfSxfY3JlYXRlUHJlcmVxdWlzaXRlczpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZj10aGlzO2U9e3NjcmVlbjphLkRlZmVycmVkKCksY29udGFpbmVyOmEuRGVmZXJyZWQoKX0sZS5zY3JlZW4udGhlbihmdW5jdGlvbigpe2U9PT1mLl9wcmVyZXF1aXNpdGVzJiZiKCl9KSxlLmNvbnRhaW5lci50aGVuKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXVpc2l0ZXMmJmMoKX0pLGEud2hlbihlLnNjcmVlbixlLmNvbnRhaW5lcikuZG9uZShmdW5jdGlvbigpe2U9PT1mLl9wcmVyZXF1aXNpdGVzJiYoZi5fcHJlcmVxdWlzaXRlcz1udWxsLGQoKSl9KSxmLl9wcmVyZXF1aXNpdGVzPWV9LF9hbmltYXRlOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoYi5jbGFzc1RvUmVtb3ZlKS5hZGRDbGFzcyhiLnNjcmVlbkNsYXNzVG9BZGQpLGIucHJlcmVxdWlzaXRlcy5zY3JlZW4ucmVzb2x2ZSgpLGIudHJhbnNpdGlvbiYmXCJub25lXCIhPT1iLnRyYW5zaXRpb24mJihiLmFwcGx5VHJhbnNpdGlvbiYmdGhpcy5fYXBwbHlUcmFuc2l0aW9uKGIudHJhbnNpdGlvbiksdGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKT92b2lkIHRoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcyhiLmNvbnRhaW5lckNsYXNzVG9BZGQpLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSkuYW5pbWF0aW9uQ29tcGxldGUoYS5wcm94eShiLnByZXJlcXVpc2l0ZXMuY29udGFpbmVyLFwicmVzb2x2ZVwiKSk6KHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpLHZvaWQgYi5wcmVyZXF1aXNpdGVzLmNvbnRhaW5lci5yZXNvbHZlKCkpfSxfZGVzaXJlZENvb3JkczpmdW5jdGlvbihiKXt2YXIgYyxkPW51bGwsZj1lKHRoaXMud2luZG93KSxnPWIueCxoPWIueSxpPWIucG9zaXRpb25UbztpZihpJiZcIm9yaWdpblwiIT09aSlpZihcIndpbmRvd1wiPT09aSlnPWYuY3gvMitmLngsaD1mLmN5LzIrZi55O2Vsc2V7dHJ5e2Q9YShpKX1jYXRjaChqKXtkPW51bGx9ZCYmKGQuZmlsdGVyKFwiOnZpc2libGVcIiksMD09PWQubGVuZ3RoJiYoZD1udWxsKSl9cmV0dXJuIGQmJihjPWQub2Zmc2V0KCksZz1jLmxlZnQrZC5vdXRlcldpZHRoKCkvMixoPWMudG9wK2Qub3V0ZXJIZWlnaHQoKS8yKSwoXCJudW1iZXJcIiE9PWEudHlwZShnKXx8aXNOYU4oZykpJiYoZz1mLmN4LzIrZi54KSwoXCJudW1iZXJcIiE9PWEudHlwZShoKXx8aXNOYU4oaCkpJiYoaD1mLmN5LzIrZi55KSx7eDpnLHk6aH19LF9yZXBvc2l0aW9uOmZ1bmN0aW9uKGEpe2E9e3g6YS54LHk6YS55LHBvc2l0aW9uVG86YS5wb3NpdGlvblRvfSx0aGlzLl90cmlnZ2VyKFwiYmVmb3JlcG9zaXRpb25cIixjLGEpLHRoaXMuX3VpLmNvbnRhaW5lci5vZmZzZXQodGhpcy5fcGxhY2VtZW50Q29vcmRzKHRoaXMuX2Rlc2lyZWRDb29yZHMoYSkpKX0scmVwb3NpdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9pc09wZW4mJnRoaXMuX3JlcG9zaXRpb24oYSl9LF9zYWZlbHlCbHVyOmZ1bmN0aW9uKGIpe2IhPT10aGlzLndpbmRvd1swXSYmXCJib2R5XCIhPT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJmEoYikuYmx1cigpfSxfb3BlblByZXJlcXVpc2l0ZXNDb21wbGV0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5hdHRyKFwiaWRcIiksYz10aGlzLl91aS5jb250YWluZXIuZmluZChcIjpmb2N1c2FibGVcIikuZmlyc3QoKTt0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoXCJ1aS1wb3B1cC1hY3RpdmVcIiksdGhpcy5faXNPcGVuPSEwLHRoaXMuX3Jlc2l6ZVNjcmVlbigpLGEuY29udGFpbnModGhpcy5fdWkuY29udGFpbmVyWzBdLHRoaXMuZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCl8fHRoaXMuX3NhZmVseUJsdXIodGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50KSxjLmxlbmd0aD4wJiYodGhpcy5fdWkuZm9jdXNFbGVtZW50PWMpLHRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpLGImJnRoaXMuZG9jdW1lbnQuZmluZChcIlthcmlhLWhhc3BvcHVwPSd0cnVlJ11bYXJpYS1vd25zPSdcIitiK1wiJ11cIikuYXR0cihcImFyaWEtZXhwYW5kZWRcIiwhMCksdGhpcy5fdHJpZ2dlcihcImFmdGVyb3BlblwiKX0sX29wZW46ZnVuY3Rpb24oYil7dmFyIGM9YS5leHRlbmQoe30sdGhpcy5vcHRpb25zLGIpLGQ9ZnVuY3Rpb24oKXt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50LGI9YS5tYXRjaCgvQXBwbGVXZWJLaXRcXC8oWzAtOVxcLl0rKS8pLGM9ISFiJiZiWzFdLGQ9YS5tYXRjaCgvQW5kcm9pZCAoXFxkKyg/OlxcLlxcZCspKS8pLGU9ISFkJiZkWzFdLGY9YS5pbmRleE9mKFwiQ2hyb21lXCIpPi0xO3JldHVybiBudWxsIT09ZCYmXCI0LjBcIj09PWUmJmMmJmM+NTM0LjEzJiYhZj8hMDohMX0oKTt0aGlzLl9jcmVhdGVQcmVyZXF1aXNpdGVzKGEubm9vcCxhLm5vb3AsYS5wcm94eSh0aGlzLFwiX29wZW5QcmVyZXF1aXNpdGVzQ29tcGxldGVcIikpLHRoaXMuX2N1cnJlbnRUcmFuc2l0aW9uPWMudHJhbnNpdGlvbix0aGlzLl9hcHBseVRyYW5zaXRpb24oYy50cmFuc2l0aW9uKSx0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoXCJ1aS1zY3JlZW4taGlkZGVuXCIpLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcInVpLXBvcHVwLXRydW5jYXRlXCIpLHRoaXMuX3JlcG9zaXRpb24oYyksdGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKFwidWktcG9wdXAtaGlkZGVuXCIpLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUmJmQmJnRoaXMuZWxlbWVudC5jbG9zZXN0KFwiLnVpLXBhZ2VcIikuYWRkQ2xhc3MoXCJ1aS1wb3B1cC1vcGVuXCIpLHRoaXMuX2FuaW1hdGUoe2FkZGl0aW9uYWxDb25kaXRpb246ITAsdHJhbnNpdGlvbjpjLnRyYW5zaXRpb24sY2xhc3NUb1JlbW92ZTpcIlwiLHNjcmVlbkNsYXNzVG9BZGQ6XCJpblwiLGNvbnRhaW5lckNsYXNzVG9BZGQ6XCJpblwiLGFwcGx5VHJhbnNpdGlvbjohMSxwcmVyZXF1aXNpdGVzOnRoaXMuX3ByZXJlcXVpc2l0ZXN9KX0sX2Nsb3NlUHJlcmVxdWlzaXRlU2NyZWVuOmZ1bmN0aW9uKCl7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKFwib3V0XCIpLmFkZENsYXNzKFwidWktc2NyZWVuLWhpZGRlblwiKX0sX2Nsb3NlUHJlcmVxdWlzaXRlQ29udGFpbmVyOmZ1bmN0aW9uKCl7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKFwicmV2ZXJzZSBvdXRcIikuYWRkQ2xhc3MoXCJ1aS1wb3B1cC1oaWRkZW4gdWktcG9wdXAtdHJ1bmNhdGVcIikucmVtb3ZlQXR0cihcInN0eWxlXCIpfSxfY2xvc2VQcmVyZXF1aXNpdGVzRG9uZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuX3VpLmNvbnRhaW5lcixkPXRoaXMuZWxlbWVudC5hdHRyKFwiaWRcIik7YS5tb2JpbGUucG9wdXAuYWN0aXZlPWMsYShcIjpmb2N1c1wiLGJbMF0pLmFkZChiWzBdKS5ibHVyKCksZCYmdGhpcy5kb2N1bWVudC5maW5kKFwiW2FyaWEtaGFzcG9wdXA9J3RydWUnXVthcmlhLW93bnM9J1wiK2QrXCInXVwiKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLCExKSx0aGlzLl90cmlnZ2VyKFwiYWZ0ZXJjbG9zZVwiKX0sX2Nsb3NlOmZ1bmN0aW9uKGIpe3RoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcInVpLXBvcHVwLWFjdGl2ZVwiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKFwidWktcG9wdXAtb3BlblwiKSx0aGlzLl9pc09wZW49ITEsdGhpcy5fY3JlYXRlUHJlcmVxdWlzaXRlcyhhLnByb3h5KHRoaXMsXCJfY2xvc2VQcmVyZXF1aXNpdGVTY3JlZW5cIiksYS5wcm94eSh0aGlzLFwiX2Nsb3NlUHJlcmVxdWlzaXRlQ29udGFpbmVyXCIpLGEucHJveHkodGhpcyxcIl9jbG9zZVByZXJlcXVpc2l0ZXNEb25lXCIpKSx0aGlzLl9hbmltYXRlKHthZGRpdGlvbmFsQ29uZGl0aW9uOnRoaXMuX3VpLnNjcmVlbi5oYXNDbGFzcyhcImluXCIpLHRyYW5zaXRpb246Yj9cIm5vbmVcIjp0aGlzLl9jdXJyZW50VHJhbnNpdGlvbixjbGFzc1RvUmVtb3ZlOlwiaW5cIixzY3JlZW5DbGFzc1RvQWRkOlwib3V0XCIsY29udGFpbmVyQ2xhc3NUb0FkZDpcInJldmVyc2Ugb3V0XCIsYXBwbHlUcmFuc2l0aW9uOiEwLHByZXJlcXVpc2l0ZXM6dGhpcy5fcHJlcmVxdWlzaXRlc30pfSxfdW5lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkfHwodGhpcy5fc2V0T3B0aW9ucyh7dGhlbWU6YS5tb2JpbGUucG9wdXAucHJvdG90eXBlLm9wdGlvbnMudGhlbWV9KSx0aGlzLmVsZW1lbnQuZGV0YWNoKCkuaW5zZXJ0QWZ0ZXIodGhpcy5fdWkucGxhY2Vob2xkZXIpLnJlbW92ZUNsYXNzKFwidWktcG9wdXAgdWktb3ZlcmxheS1zaGFkb3cgdWktY29ybmVyLWFsbCB1aS1ib2R5LWluaGVyaXRcIiksdGhpcy5fdWkuc2NyZWVuLnJlbW92ZSgpLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl91aS5wbGFjZWhvbGRlci5yZW1vdmUoKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLnBvcHVwLmFjdGl2ZT09PXRoaXM/KHRoaXMuZWxlbWVudC5vbmUoXCJwb3B1cGFmdGVyY2xvc2VcIixhLnByb3h5KHRoaXMsXCJfdW5lbmhhbmNlXCIpKSx0aGlzLmNsb3NlKCkpOnRoaXMuX3VuZW5oYW5jZSgpLHRoaXN9LF9jbG9zZVBvcHVwOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZixnPXRoaXMub3B0aW9ucyxoPSExO2MmJmMuaXNEZWZhdWx0UHJldmVudGVkKCl8fGEubW9iaWxlLnBvcHVwLmFjdGl2ZSE9PXRoaXN8fChiLnNjcm9sbFRvKDAsdGhpcy5fc2Nyb2xsVG9wKSxjJiZcInBhZ2ViZWZvcmVjaGFuZ2VcIj09PWMudHlwZSYmZCYmKGU9XCJzdHJpbmdcIj09dHlwZW9mIGQudG9QYWdlP2QudG9QYWdlOmQudG9QYWdlLmpxbURhdGEoXCJ1cmxcIiksZT1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGUpLGY9ZS5wYXRobmFtZStlLnNlYXJjaCtlLmhhc2gsdGhpcy5fbXlVcmwhPT1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShmKT9oPSEwOmMucHJldmVudERlZmF1bHQoKSksdGhpcy53aW5kb3cub2ZmKGcuY2xvc2VFdmVudHMpLHRoaXMuZWxlbWVudC51bmRlbGVnYXRlKGcuY2xvc2VMaW5rU2VsZWN0b3IsZy5jbG9zZUxpbmtFdmVudHMpLHRoaXMuX2Nsb3NlKGgpKX0sX2JpbmRDb250YWluZXJDbG9zZTpmdW5jdGlvbigpe3RoaXMud2luZG93Lm9uKHRoaXMub3B0aW9ucy5jbG9zZUV2ZW50cyxhLnByb3h5KHRoaXMsXCJfY2xvc2VQb3B1cFwiKSl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91aS5jb250YWluZXJ9LG9wZW46ZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZyxoLGk9dGhpcyxqPXRoaXMub3B0aW9ucztyZXR1cm4gYS5tb2JpbGUucG9wdXAuYWN0aXZlfHxqLmRpc2FibGVkP3RoaXM6KGEubW9iaWxlLnBvcHVwLmFjdGl2ZT10aGlzLHRoaXMuX3Njcm9sbFRvcD10aGlzLndpbmRvdy5zY3JvbGxUb3AoKSxqLmhpc3Rvcnk/KGg9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeSxkPWEubW9iaWxlLmRpYWxvZ0hhc2hLZXksZT1hLm1vYmlsZS5hY3RpdmVQYWdlLGY9ZT9lLmhhc0NsYXNzKFwidWktZGlhbG9nXCIpOiExLHRoaXMuX215VXJsPWM9aC5nZXRBY3RpdmUoKS51cmwsKGc9Yy5pbmRleE9mKGQpPi0xJiYhZiYmaC5hY3RpdmVJbmRleD4wKT8oaS5fb3BlbihiKSxpLl9iaW5kQ29udGFpbmVyQ2xvc2UoKSx0aGlzKTooLTEhPT1jLmluZGV4T2YoZCl8fGY/Yz1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNoK2Q6Yys9Yy5pbmRleE9mKFwiI1wiKT4tMT9kOlwiI1wiK2QsdGhpcy53aW5kb3cub25lKFwiYmVmb3JlbmF2aWdhdGVcIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksaS5fb3BlbihiKSxpLl9iaW5kQ29udGFpbmVyQ2xvc2UoKX0pLHRoaXMudXJsQWx0ZXJlZD0hMCxhLm1vYmlsZS5uYXZpZ2F0ZShjLHtyb2xlOlwiZGlhbG9nXCJ9KSx0aGlzKSk6KGkuX29wZW4oYiksaS5fYmluZENvbnRhaW5lckNsb3NlKCksaS5lbGVtZW50LmRlbGVnYXRlKGouY2xvc2VMaW5rU2VsZWN0b3Isai5jbG9zZUxpbmtFdmVudHMsZnVuY3Rpb24oYSl7aS5jbG9zZSgpLGEucHJldmVudERlZmF1bHQoKX0pLHRoaXMpKX0sY2xvc2U6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUucG9wdXAuYWN0aXZlIT09dGhpcz90aGlzOih0aGlzLl9zY3JvbGxUb3A9dGhpcy53aW5kb3cuc2Nyb2xsVG9wKCksdGhpcy5vcHRpb25zLmhpc3RvcnkmJnRoaXMudXJsQWx0ZXJlZD8oYS5tb2JpbGUuYmFjaygpLHRoaXMudXJsQWx0ZXJlZD0hMSk6dGhpcy5fY2xvc2VQb3B1cCgpLHRoaXMpfX0pLGEubW9iaWxlLnBvcHVwLmhhbmRsZUxpbms9ZnVuY3Rpb24oYil7dmFyIGMsZD1hLm1vYmlsZS5wYXRoLGU9YShkLmhhc2hUb1NlbGVjdG9yKGQucGFyc2VVcmwoYi5hdHRyKFwiaHJlZlwiKSkuaGFzaCkpLmZpcnN0KCk7ZS5sZW5ndGg+MCYmZS5kYXRhKFwibW9iaWxlLXBvcHVwXCIpJiYoYz1iLm9mZnNldCgpLGUucG9wdXAoXCJvcGVuXCIse3g6Yy5sZWZ0K2Iub3V0ZXJXaWR0aCgpLzIseTpjLnRvcCtiLm91dGVySGVpZ2h0KCkvMix0cmFuc2l0aW9uOmIuanFtRGF0YShcInRyYW5zaXRpb25cIikscG9zaXRpb25UbzpiLmpxbURhdGEoXCJwb3NpdGlvbi10b1wiKX0pKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LDMwMCl9LGEubW9iaWxlLmRvY3VtZW50Lm9uKFwicGFnZWJlZm9yZWNoYW5nZVwiLGZ1bmN0aW9uKGIsYyl7XCJwb3B1cFwiPT09Yy5vcHRpb25zLnJvbGUmJihhLm1vYmlsZS5wb3B1cC5oYW5kbGVMaW5rKGMub3B0aW9ucy5saW5rKSxiLnByZXZlbnREZWZhdWx0KCkpfSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9XCIudWktZGlzYWJsZWQsLnVpLXN0YXRlLWRpc2FibGVkLC51aS1saS1kaXZpZGVyLC51aS1zY3JlZW4taGlkZGVuLDpqcW1EYXRhKHJvbGU9J3BsYWNlaG9sZGVyJylcIixlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZT1hW2MrXCJBbGxcIl0oKS5ub3QoZCkuZmlyc3QoKTtlLmxlbmd0aCYmKGIuYmx1cigpLmF0dHIoXCJ0YWJpbmRleFwiLFwiLTFcIiksZS5maW5kKFwiYVwiKS5maXJzdCgpLmZvY3VzKCkpfTthLndpZGdldChcIm1vYmlsZS5zZWxlY3RtZW51XCIsYS5tb2JpbGUuc2VsZWN0bWVudSx7X2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucztyZXR1cm4gYS5uYXRpdmVNZW51PWEubmF0aXZlTWVudXx8dGhpcy5lbGVtZW50LnBhcmVudHMoXCI6anFtRGF0YShyb2xlPSdwb3B1cCcpLDptb2JpbGUtcG9wdXBcIikubGVuZ3RoPjAsdGhpcy5fc3VwZXIoKX0sX2hhbmRsZVNlbGVjdEZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmJsdXIoKSx0aGlzLmJ1dHRvbi5mb2N1cygpfSxfaGFuZGxlS2V5ZG93bjpmdW5jdGlvbihhKXt0aGlzLl9zdXBlcihhKSx0aGlzLl9oYW5kbGVCdXR0b25WY2xpY2tLZXlkb3duKGEpfSxfaGFuZGxlQnV0dG9uVmNsaWNrS2V5ZG93bjpmdW5jdGlvbihiKXt0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fHRoaXMuaXNPcGVufHx0aGlzLm9wdGlvbnMubmF0aXZlTWVudXx8KFwidmNsaWNrXCI9PT1iLnR5cGV8fGIua2V5Q29kZSYmKGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRU5URVJ8fGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuU1BBQ0UpKSYmKHRoaXMuX2RlY2lkZUZvcm1hdCgpLFwib3ZlcmxheVwiPT09dGhpcy5tZW51VHlwZT90aGlzLmJ1dHRvbi5hdHRyKFwiaHJlZlwiLFwiI1wiK3RoaXMucG9wdXBJZCkuYXR0cihcImRhdGEtXCIrKGEubW9iaWxlLm5zfHxcIlwiKStcInJlbFwiLFwicG9wdXBcIik6dGhpcy5idXR0b24uYXR0cihcImhyZWZcIixcIiNcIit0aGlzLmRpYWxvZ0lkKS5hdHRyKFwiZGF0YS1cIisoYS5tb2JpbGUubnN8fFwiXCIpK1wicmVsXCIsXCJkaWFsb2dcIiksdGhpcy5pc09wZW49ITApfSxfaGFuZGxlTGlzdEZvY3VzOmZ1bmN0aW9uKGIpe3ZhciBjPVwiZm9jdXNpblwiPT09Yi50eXBlP3t0YWJpbmRleDpcIjBcIixldmVudDpcInZtb3VzZW92ZXJcIn06e3RhYmluZGV4OlwiLTFcIixldmVudDpcInZtb3VzZW91dFwifTthKGIudGFyZ2V0KS5hdHRyKFwidGFiaW5kZXhcIixjLnRhYmluZGV4KS50cmlnZ2VyKGMuZXZlbnQpfSxfaGFuZGxlTGlzdEtleWRvd246ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCksZD1jLmNsb3Nlc3QoXCJsaVwiKTtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIDM4OnJldHVybiBlKGQsYyxcInByZXZcIiksITE7Y2FzZSA0MDpyZXR1cm4gZShkLGMsXCJuZXh0XCIpLCExO2Nhc2UgMTM6Y2FzZSAzMjpyZXR1cm4gYy50cmlnZ2VyKFwiY2xpY2tcIiksITF9fSxfaGFuZGxlTWVudVBhZ2VIaWRlOmZ1bmN0aW9uKCl7dGhpcy5fZGVsYXllZFRyaWdnZXIoKSx0aGlzLnRoaXNQYWdlLnBhZ2UoXCJiaW5kUmVtb3ZlXCIpfSxfaGFuZGxlSGVhZGVyQ2xvc2VDbGljazpmdW5jdGlvbigpe3JldHVyblwib3ZlcmxheVwiPT09dGhpcy5tZW51VHlwZT8odGhpcy5jbG9zZSgpLCExKTp2b2lkIDB9LF9oYW5kbGVMaXN0SXRlbUNsaWNrOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmNsb3Nlc3QoXCJsaVwiKSxkPXRoaXMuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXgsZT1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUoYyxcIm9wdGlvbi1pbmRleFwiKSxmPXRoaXMuX3NlbGVjdE9wdGlvbnMoKS5lcShlKVswXTtmLnNlbGVjdGVkPXRoaXMuaXNNdWx0aXBsZT8hZi5zZWxlY3RlZDohMCx0aGlzLmlzTXVsdGlwbGUmJmMuZmluZChcImFcIikudG9nZ2xlQ2xhc3MoXCJ1aS1jaGVja2JveC1vblwiLGYuc2VsZWN0ZWQpLnRvZ2dsZUNsYXNzKFwidWktY2hlY2tib3gtb2ZmXCIsIWYuc2VsZWN0ZWQpLHRoaXMuaXNNdWx0aXBsZXx8ZD09PWV8fCh0aGlzLl90cmlnZ2VyQ2hhbmdlPSEwKSx0aGlzLmlzTXVsdGlwbGU/KHRoaXMuc2VsZWN0LnRyaWdnZXIoXCJjaGFuZ2VcIiksdGhpcy5saXN0LmZpbmQoXCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpXCIpLmVxKGUpLmZpbmQoXCJhXCIpLmZpcnN0KCkuZm9jdXMoKSk6dGhpcy5jbG9zZSgpLGIucHJldmVudERlZmF1bHQoKX0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2PXRoaXMub3B0aW9ucztyZXR1cm4gdi5uYXRpdmVNZW51P3RoaXMuX3N1cGVyKCk6KGM9dGhpcy5zZWxlY3RJZCxkPWMrXCItbGlzdGJveFwiLGU9YytcIi1kaWFsb2dcIixmPXRoaXMubGFiZWwsZz10aGlzLmVsZW1lbnQuY2xvc2VzdChcIi51aS1wYWdlXCIpLGg9dGhpcy5lbGVtZW50WzBdLm11bHRpcGxlLGk9YytcIi1tZW51XCIsaj12LnRoZW1lP1wiIGRhdGEtXCIrYS5tb2JpbGUubnMrXCJ0aGVtZT0nXCIrdi50aGVtZStcIidcIjpcIlwiLGs9di5vdmVybGF5VGhlbWV8fHYudGhlbWV8fG51bGwsbD1rP1wiIGRhdGEtXCIrYS5tb2JpbGUubnMrXCJvdmVybGF5LXRoZW1lPSdcIitrK1wiJ1wiOlwiXCIsbT12LmRpdmlkZXJUaGVtZSYmaD9cIiBkYXRhLVwiK2EubW9iaWxlLm5zK1wiZGl2aWRlci10aGVtZT0nXCIrdi5kaXZpZGVyVGhlbWUrXCInXCI6XCJcIixuPWEoXCI8ZGl2IGRhdGEtXCIrYS5tb2JpbGUubnMrXCJyb2xlPSdkaWFsb2cnIGNsYXNzPSd1aS1zZWxlY3RtZW51JyBpZD0nXCIrZStcIidcIitqK2wrXCI+PGRpdiBkYXRhLVwiK2EubW9iaWxlLm5zK1wicm9sZT0naGVhZGVyJz48ZGl2IGNsYXNzPSd1aS10aXRsZSc+PC9kaXY+PC9kaXY+PGRpdiBkYXRhLVwiK2EubW9iaWxlLm5zK1wicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+XCIpLG89YShcIjxkaXZcIitqK2wrXCIgaWQ9J1wiK2QrXCInIGNsYXNzPSd1aS1zZWxlY3RtZW51Jz48L2Rpdj5cIikuaW5zZXJ0QWZ0ZXIodGhpcy5zZWxlY3QpLnBvcHVwKCkscD1hKFwiPHVsIGNsYXNzPSd1aS1zZWxlY3RtZW51LWxpc3QnIGlkPSdcIitpK1wiJyByb2xlPSdsaXN0Ym94JyBhcmlhLWxhYmVsbGVkYnk9J1wiK3RoaXMuYnV0dG9uSWQrXCInXCIraittK1wiPjwvdWw+XCIpLmFwcGVuZFRvKG8pLHE9YShcIjxkaXYgY2xhc3M9J3VpLWhlYWRlciB1aS1iYXItXCIrKHYudGhlbWU/di50aGVtZTpcImluaGVyaXRcIikrXCInPjwvZGl2PlwiKS5wcmVwZW5kVG8obykscj1hKFwiPGgxIGNsYXNzPSd1aS10aXRsZSc+PC9oMT5cIikuYXBwZW5kVG8ocSksdGhpcy5pc011bHRpcGxlJiYodT1hKFwiPGE+XCIse3JvbGU6XCJidXR0b25cIix0ZXh0OnYuY2xvc2VUZXh0LGhyZWY6XCIjXCIsXCJjbGFzc1wiOlwidWktYnRuIHVpLWNvcm5lci1hbGwgdWktYnRuLWxlZnQgdWktYnRuLWljb24tbm90ZXh0IHVpLWljb24tZGVsZXRlXCJ9KS5hcHBlbmRUbyhxKSksYS5leHRlbmQodGhpcyx7c2VsZWN0SWQ6YyxtZW51SWQ6aSxwb3B1cElkOmQsZGlhbG9nSWQ6ZSx0aGlzUGFnZTpnLG1lbnVQYWdlOm4sbGFiZWw6Zixpc011bHRpcGxlOmgsdGhlbWU6di50aGVtZSxsaXN0Ym94Om8sbGlzdDpwLGhlYWRlcjpxLGhlYWRlclRpdGxlOnIsaGVhZGVyQ2xvc2U6dSxtZW51UGFnZUNvbnRlbnQ6cyxtZW51UGFnZUNsb3NlOnQscGxhY2Vob2xkZXI6XCJcIn0pLHRoaXMucmVmcmVzaCgpLHRoaXMuX29yaWdUYWJJbmRleD09PWImJih0aGlzLl9vcmlnVGFiSW5kZXg9bnVsbD09PXRoaXMuc2VsZWN0WzBdLmdldEF0dHJpYnV0ZShcInRhYmluZGV4XCIpPyExOnRoaXMuc2VsZWN0LmF0dHIoXCJ0YWJpbmRleFwiKSksdGhpcy5zZWxlY3QuYXR0cihcInRhYmluZGV4XCIsXCItMVwiKSx0aGlzLl9vbih0aGlzLnNlbGVjdCx7Zm9jdXM6XCJfaGFuZGxlU2VsZWN0Rm9jdXNcIn0pLHRoaXMuX29uKHRoaXMuYnV0dG9uLHt2Y2xpY2s6XCJfaGFuZGxlQnV0dG9uVmNsaWNrS2V5ZG93blwifSksdGhpcy5saXN0LmF0dHIoXCJyb2xlXCIsXCJsaXN0Ym94XCIpLHRoaXMuX29uKHRoaXMubGlzdCx7Zm9jdXNpbjpcIl9oYW5kbGVMaXN0Rm9jdXNcIixmb2N1c291dDpcIl9oYW5kbGVMaXN0Rm9jdXNcIixrZXlkb3duOlwiX2hhbmRsZUxpc3RLZXlkb3duXCIsXCJjbGljayBsaTpub3QoLnVpLWRpc2FibGVkLC51aS1zdGF0ZS1kaXNhYmxlZCwudWktbGktZGl2aWRlcilcIjpcIl9oYW5kbGVMaXN0SXRlbUNsaWNrXCJ9KSx0aGlzLl9vbih0aGlzLm1lbnVQYWdlLHtwYWdlaGlkZTpcIl9oYW5kbGVNZW51UGFnZUhpZGVcIn0pLHRoaXMuX29uKHRoaXMubGlzdGJveCx7cG9wdXBhZnRlcmNsb3NlOlwiX3BvcHVwQ2xvc2VkXCJ9KSx0aGlzLmlzTXVsdGlwbGUmJnRoaXMuX29uKHRoaXMuaGVhZGVyQ2xvc2Use2NsaWNrOlwiX2hhbmRsZUhlYWRlckNsb3NlQ2xpY2tcIn0pLHRoaXMpfSxfcG9wdXBDbG9zZWQ6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlKCksdGhpcy5fZGVsYXllZFRyaWdnZXIoKX0sX2RlbGF5ZWRUcmlnZ2VyOmZ1bmN0aW9uKCl7dGhpcy5fdHJpZ2dlckNoYW5nZSYmdGhpcy5lbGVtZW50LnRyaWdnZXIoXCJjaGFuZ2VcIiksdGhpcy5fdHJpZ2dlckNoYW5nZT0hMX0sX2lzUmVidWlsZFJlcXVpcmVkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5saXN0LmZpbmQoXCJsaVwiKSxiPXRoaXMuX3NlbGVjdE9wdGlvbnMoKS5ub3QoXCIudWktc2NyZWVuLWhpZGRlblwiKTtyZXR1cm4gYi50ZXh0KCkhPT1hLnRleHQoKX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcihcIjpzZWxlY3RlZDpub3QoIDpqcW1EYXRhKHBsYWNlaG9sZGVyPSd0cnVlJykgKVwiKX0scmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgYyxkO3JldHVybiB0aGlzLm9wdGlvbnMubmF0aXZlTWVudT90aGlzLl9zdXBlcihiKTooYz10aGlzLChifHx0aGlzLl9pc1JlYnVpbGRSZXF1aXJlZCgpKSYmYy5fYnVpbGRMaXN0KCksZD10aGlzLnNlbGVjdGVkSW5kaWNlcygpLGMuc2V0QnV0dG9uVGV4dCgpLGMuc2V0QnV0dG9uQ291bnQoKSx2b2lkIGMubGlzdC5maW5kKFwibGk6bm90KC51aS1saS1kaXZpZGVyKVwiKS5maW5kKFwiYVwiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuZW5kKCkuYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwhMSkuZWFjaChmdW5jdGlvbihiKXt2YXIgZT1hKHRoaXMpO2EuaW5BcnJheShiLGQpPi0xPyhlLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsITApLGMuaXNNdWx0aXBsZT9lLmZpbmQoXCJhXCIpLnJlbW92ZUNsYXNzKFwidWktY2hlY2tib3gtb2ZmXCIpLmFkZENsYXNzKFwidWktY2hlY2tib3gtb25cIik6ZS5oYXNDbGFzcyhcInVpLXNjcmVlbi1oaWRkZW5cIik/ZS5uZXh0KCkuZmluZChcImFcIikuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpOmUuZmluZChcImFcIikuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKTpjLmlzTXVsdGlwbGUmJmUuZmluZChcImFcIikucmVtb3ZlQ2xhc3MoXCJ1aS1jaGVja2JveC1vblwiKS5hZGRDbGFzcyhcInVpLWNoZWNrYm94LW9mZlwiKX0pKX0sY2xvc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLmlzT3Blbil7dmFyIGE9dGhpcztcInBhZ2VcIj09PWEubWVudVR5cGU/KGEubWVudVBhZ2UuZGlhbG9nKFwiY2xvc2VcIiksYS5saXN0LmFwcGVuZFRvKGEubGlzdGJveCkpOmEubGlzdGJveC5wb3B1cChcImNsb3NlXCIpLGEuX2ZvY3VzQnV0dG9uKCksYS5pc09wZW49ITF9fSxvcGVuOmZ1bmN0aW9uKCl7dGhpcy5idXR0b24uY2xpY2soKX0sX2ZvY3VzTWVudUl0ZW06ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmxpc3QuZmluZChcImEuXCIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpOzA9PT1iLmxlbmd0aCYmKGI9dGhpcy5saXN0LmZpbmQoXCJsaTpub3QoXCIrZCtcIikgYS51aS1idG5cIikpLGIuZmlyc3QoKS5mb2N1cygpfSxfZGVjaWRlRm9ybWF0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMud2luZG93LGQ9Yi5saXN0LnBhcmVudCgpLGU9ZC5vdXRlckhlaWdodCgpLGY9Yy5zY3JvbGxUb3AoKSxnPWIuYnV0dG9uLm9mZnNldCgpLnRvcCxoPWMuaGVpZ2h0KCk7ZT5oLTgwfHwhYS5zdXBwb3J0LnNjcm9sbFRvcD8oYi5tZW51UGFnZS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCksYi5tZW51UGFnZUNvbnRlbnQ9Yi5tZW51UGFnZS5maW5kKFwiLnVpLWNvbnRlbnRcIiksYi5tZW51UGFnZUNsb3NlPWIubWVudVBhZ2UuZmluZChcIi51aS1oZWFkZXIgYVwiKSxiLnRoaXNQYWdlLnVuYmluZChcInBhZ2VoaWRlLnJlbW92ZVwiKSwwPT09ZiYmZz5oJiZiLnRoaXNQYWdlLm9uZShcInBhZ2VoaWRlXCIsZnVuY3Rpb24oKXthKHRoaXMpLmpxbURhdGEoXCJsYXN0U2Nyb2xsXCIsZyl9KSxiLm1lbnVQYWdlLm9uZSh7cGFnZXNob3c6YS5wcm94eSh0aGlzLFwiX2ZvY3VzTWVudUl0ZW1cIikscGFnZWhpZGU6YS5wcm94eSh0aGlzLFwiY2xvc2VcIil9KSxiLm1lbnVUeXBlPVwicGFnZVwiLGIubWVudVBhZ2VDb250ZW50LmFwcGVuZChiLmxpc3QpLGIubWVudVBhZ2UuZmluZChcImRpdiAudWktdGl0bGVcIikudGV4dChiLmxhYmVsLmdldEVuY29kZWRUZXh0KCl8fGIucGxhY2Vob2xkZXIpKTooYi5tZW51VHlwZT1cIm92ZXJsYXlcIixiLmxpc3Rib3gub25lKHtwb3B1cGFmdGVyb3BlbjphLnByb3h5KHRoaXMsXCJfZm9jdXNNZW51SXRlbVwiKX0pKX0sX2J1aWxkTGlzdDpmdW5jdGlvbigpe3ZhciBiLGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHAscT10aGlzLHI9dGhpcy5vcHRpb25zLHM9dGhpcy5wbGFjZWhvbGRlcix0PSEwLHU9XCJmYWxzZVwiLHY9XCJkYXRhLVwiK2EubW9iaWxlLm5zLHc9ditcIm9wdGlvbi1pbmRleFwiLHg9ditcImljb25cIix5PXYrXCJyb2xlXCIsej12K1wicGxhY2Vob2xkZXJcIixBPWMuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLEI9ITE7Zm9yKHEubGlzdC5lbXB0eSgpLmZpbHRlcihcIi51aS1saXN0dmlld1wiKS5saXN0dmlldyhcImRlc3Ryb3lcIiksYj10aGlzLl9zZWxlY3RPcHRpb25zKCksZD1iLmxlbmd0aCxlPXRoaXMuc2VsZWN0WzBdLGc9MDtkPmc7ZysrLEI9ITEpaD1iW2ddLGk9YShoKSxpLmhhc0NsYXNzKFwidWktc2NyZWVuLWhpZGRlblwiKXx8KGo9aC5wYXJlbnROb2RlLG09W10saz1pLnRleHQoKSxsPWMuY3JlYXRlRWxlbWVudChcImFcIiksbC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsXCIjXCIpLGwuYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShrKSksaiE9PWUmJlwib3B0Z3JvdXBcIj09PWoubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKG49ai5nZXRBdHRyaWJ1dGUoXCJsYWJlbFwiKSxuIT09ZiYmKG89Yy5jcmVhdGVFbGVtZW50KFwibGlcIiksby5zZXRBdHRyaWJ1dGUoeSxcImxpc3QtZGl2aWRlclwiKSxvLnNldEF0dHJpYnV0ZShcInJvbGVcIixcIm9wdGlvblwiKSxvLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXCItMVwiKSxvLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUobikpLEEuYXBwZW5kQ2hpbGQobyksZj1uKSksIXR8fGguZ2V0QXR0cmlidXRlKFwidmFsdWVcIikmJjAhPT1rLmxlbmd0aCYmIWkuanFtRGF0YShcInBsYWNlaG9sZGVyXCIpfHwodD0hMSxCPSEwLG51bGw9PT1oLmdldEF0dHJpYnV0ZSh6KSYmKHRoaXMuX3JlbW92ZVBsYWNlaG9sZGVyQXR0cj0hMCksaC5zZXRBdHRyaWJ1dGUoeiwhMCksci5oaWRlUGxhY2Vob2xkZXJNZW51SXRlbXMmJm0ucHVzaChcInVpLXNjcmVlbi1oaWRkZW5cIikscyE9PWsmJihzPXEucGxhY2Vob2xkZXI9aykpLHA9Yy5jcmVhdGVFbGVtZW50KFwibGlcIiksaC5kaXNhYmxlZCYmKG0ucHVzaChcInVpLXN0YXRlLWRpc2FibGVkXCIpLHAuc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLCEwKSkscC5zZXRBdHRyaWJ1dGUodyxnKSxwLnNldEF0dHJpYnV0ZSh4LHUpLEImJnAuc2V0QXR0cmlidXRlKHosITApLHAuY2xhc3NOYW1lPW0uam9pbihcIiBcIikscC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJvcHRpb25cIiksbC5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiLTFcIiksdGhpcy5pc011bHRpcGxlJiZhKGwpLmFkZENsYXNzKFwidWktYnRuIHVpLWNoZWNrYm94LW9mZiB1aS1idG4taWNvbi1yaWdodFwiKSxwLmFwcGVuZENoaWxkKGwpLEEuYXBwZW5kQ2hpbGQocCkpO3EubGlzdFswXS5hcHBlbmRDaGlsZChBKSx0aGlzLmlzTXVsdGlwbGV8fHMubGVuZ3RoP3RoaXMuaGVhZGVyVGl0bGUudGV4dCh0aGlzLnBsYWNlaG9sZGVyKTp0aGlzLmhlYWRlci5hZGRDbGFzcyhcInVpLXNjcmVlbi1oaWRkZW5cIikscS5saXN0Lmxpc3R2aWV3KCl9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm5hdGl2ZU1lbnU/dGhpcy5fc3VwZXIoKTphKFwiPGE+XCIse2hyZWY6XCIjXCIscm9sZTpcImJ1dHRvblwiLGlkOnRoaXMuYnV0dG9uSWQsXCJhcmlhLWhhc3BvcHVwXCI6XCJ0cnVlXCIsXCJhcmlhLW93bnNcIjp0aGlzLm1lbnVJZH0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5uYXRpdmVNZW51fHwodGhpcy5jbG9zZSgpLHRoaXMuX29yaWdUYWJJbmRleCE9PWImJih0aGlzLl9vcmlnVGFiSW5kZXghPT0hMT90aGlzLnNlbGVjdC5hdHRyKFwidGFiaW5kZXhcIix0aGlzLl9vcmlnVGFiSW5kZXgpOnRoaXMuc2VsZWN0LnJlbW92ZUF0dHIoXCJ0YWJpbmRleFwiKSksdGhpcy5fcmVtb3ZlUGxhY2Vob2xkZXJBdHRyJiZ0aGlzLl9zZWxlY3RPcHRpb25zKCkucmVtb3ZlQXR0cihcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJwbGFjZWhvbGRlclwiKSx0aGlzLmxpc3Rib3gucmVtb3ZlKCksdGhpcy5tZW51UGFnZS5yZW1vdmUoKSksdGhpcy5fc3VwZXIoKX19KX0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYil7dmFyIGM9Yj9iOltdO3JldHVybiBjLnB1c2goXCJ1aS1idG5cIiksYS50aGVtZSYmYy5wdXNoKFwidWktYnRuLVwiK2EudGhlbWUpLGEuaWNvbiYmKGM9Yy5jb25jYXQoW1widWktaWNvbi1cIithLmljb24sXCJ1aS1idG4taWNvbi1cIithLmljb25wb3NdKSxhLmljb25zaGFkb3cmJmMucHVzaChcInVpLXNoYWRvdy1pY29uXCIpKSxhLmlubGluZSYmYy5wdXNoKFwidWktYnRuLWlubGluZVwiKSxhLnNoYWRvdyYmYy5wdXNoKFwidWktc2hhZG93XCIpLGEuY29ybmVycyYmYy5wdXNoKFwidWktY29ybmVyLWFsbFwiKSxhLm1pbmkmJmMucHVzaChcInVpLW1pbmlcIiksY31mdW5jdGlvbiBkKGEpe3ZhciBjLGQsZSxnPSExLGg9ITAsaT17aWNvbjpcIlwiLGlubGluZTohMSxzaGFkb3c6ITEsY29ybmVyczohMSxpY29uc2hhZG93OiExLG1pbmk6ITF9LGo9W107Zm9yKGE9YS5zcGxpdChcIiBcIiksYz0wO2M8YS5sZW5ndGg7YysrKWU9ITAsZD1mW2FbY11dLGQhPT1iPyhlPSExLGlbZF09ITApOjA9PT1hW2NdLmluZGV4T2YoXCJ1aS1idG4taWNvbi1cIik/KGU9ITEsaD0hMSxpLmljb25wb3M9YVtjXS5zdWJzdHJpbmcoMTIpKTowPT09YVtjXS5pbmRleE9mKFwidWktaWNvbi1cIik/KGU9ITEsaS5pY29uPWFbY10uc3Vic3RyaW5nKDgpKTowPT09YVtjXS5pbmRleE9mKFwidWktYnRuLVwiKSYmOD09PWFbY10ubGVuZ3RoPyhlPSExLGkudGhlbWU9YVtjXS5zdWJzdHJpbmcoNykpOlwidWktYnRuXCI9PT1hW2NdJiYoZT0hMSxnPSEwKSxlJiZqLnB1c2goYVtjXSk7cmV0dXJuIGgmJihpLmljb249XCJcIikse29wdGlvbnM6aSx1bmtub3duQ2xhc3NlczpqLGFscmVhZHlFbmhhbmNlZDpnfX1mdW5jdGlvbiBlKGEpe3JldHVyblwiLVwiK2EudG9Mb3dlckNhc2UoKX12YXIgZj17XCJ1aS1zaGFkb3dcIjpcInNoYWRvd1wiLFwidWktY29ybmVyLWFsbFwiOlwiY29ybmVyc1wiLFwidWktYnRuLWlubGluZVwiOlwiaW5saW5lXCIsXCJ1aS1zaGFkb3ctaWNvblwiOlwiaWNvbnNoYWRvd1wiLFwidWktbWluaVwiOlwibWluaVwifSxnPWZ1bmN0aW9uKCl7dmFyIGM9YS5tb2JpbGUuZ2V0QXR0cmlidXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbnVsbD09Yz9iOmN9LGg9L1tBLVpdL2c7YS5mbi5idXR0b25NYXJrdXA9ZnVuY3Rpb24oZixpKXt2YXIgaixrLGwsbSxuLG89YS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHM7Zm9yKGo9MDtqPHRoaXMubGVuZ3RoO2orKyl7aWYobD10aGlzW2pdLGs9aT97YWxyZWFkeUVuaGFuY2VkOiExLHVua25vd25DbGFzc2VzOltdfTpkKGwuY2xhc3NOYW1lKSxtPWEuZXh0ZW5kKHt9LGsuYWxyZWFkeUVuaGFuY2VkP2sub3B0aW9uczp7fSxmKSwhay5hbHJlYWR5RW5oYW5jZWQpZm9yKG4gaW4gbyltW25dPT09YiYmKG1bbl09ZyhsLG4ucmVwbGFjZShoLGUpKSk7bC5jbGFzc05hbWU9YyhhLmV4dGVuZCh7fSxvLG0pLGsudW5rbm93bkNsYXNzZXMpLmpvaW4oXCIgXCIpLFwiYnV0dG9uXCIhPT1sLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmbC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJidXR0b25cIil9cmV0dXJuIHRoaXN9LGEuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzPXtpY29uOlwiXCIsaWNvbnBvczpcImxlZnRcIix0aGVtZTpudWxsLGlubGluZTohMSxzaGFkb3c6ITAsY29ybmVyczohMCxpY29uc2hhZG93OiExLG1pbmk6ITF9LGEuZXh0ZW5kKGEuZm4uYnV0dG9uTWFya3VwLHtpbml0U2VsZWN0b3I6XCJhOmpxbURhdGEocm9sZT0nYnV0dG9uJyksIC51aS1iYXIgPiBhLCAudWktYmFyID4gOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykgPiBhLCBidXR0b246bm90KDpqcW1EYXRhKHJvbGU9J25hdmJhcicpIGJ1dHRvbilcIn0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KFwibW9iaWxlLmNvbnRyb2xncm91cFwiLGEuZXh0ZW5kKHtvcHRpb25zOntlbmhhbmNlZDohMSx0aGVtZTpudWxsLHNoYWRvdzohMSxjb3JuZXJzOiEwLGV4Y2x1ZGVJbnZpc2libGU6ITAsdHlwZTpcInZlcnRpY2FsXCIsbWluaTohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucyxkPWEubW9iaWxlLnBhZ2UucHJvdG90eXBlLmtlZXBOYXRpdmVTZWxlY3RvcigpO2EuZm4uYnV0dG9uTWFya3VwJiZ0aGlzLmVsZW1lbnQuZmluZChhLmZuLmJ1dHRvbk1hcmt1cC5pbml0U2VsZWN0b3IpLm5vdChkKS5idXR0b25NYXJrdXAoKSxhLmVhY2godGhpcy5fY2hpbGRXaWRnZXRzLGEucHJveHkoZnVuY3Rpb24oYixjKXthLm1vYmlsZVtjXSYmdGhpcy5lbGVtZW50LmZpbmQoYS5tb2JpbGVbY10uaW5pdFNlbGVjdG9yKS5ub3QoZClbY10oKX0sdGhpcykpLGEuZXh0ZW5kKHRoaXMse191aTpudWxsLF9pbml0aWFsUmVmcmVzaDohMH0pLHRoaXMuX3VpPWMuZW5oYW5jZWQ/e2dyb3VwTGVnZW5kOmIuY2hpbGRyZW4oXCIudWktY29udHJvbGdyb3VwLWxhYmVsXCIpLmNoaWxkcmVuKCksY2hpbGRXcmFwcGVyOmIuY2hpbGRyZW4oXCIudWktY29udHJvbGdyb3VwLWNvbnRyb2xzXCIpfTp0aGlzLl9lbmhhbmNlKCl9LF9jaGlsZFdpZGdldHM6W1wiY2hlY2tib3hyYWRpb1wiLFwic2VsZWN0bWVudVwiLFwiYnV0dG9uXCJdLF90aGVtZUNsYXNzRnJvbU9wdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gYT9cIm5vbmVcIj09PWE/XCJcIjpcInVpLWdyb3VwLXRoZW1lLVwiK2E6XCJcIn0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMsZD17Z3JvdXBMZWdlbmQ6Yi5jaGlsZHJlbihcImxlZ2VuZFwiKSxjaGlsZFdyYXBwZXI6Yi5hZGRDbGFzcyhcInVpLWNvbnRyb2xncm91cCB1aS1jb250cm9sZ3JvdXAtXCIrKFwiaG9yaXpvbnRhbFwiPT09Yy50eXBlP1wiaG9yaXpvbnRhbFwiOlwidmVydGljYWxcIikrXCIgXCIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oYy50aGVtZSkrXCIgXCIrKGMuY29ybmVycz9cInVpLWNvcm5lci1hbGwgXCI6XCJcIikrKGMubWluaT9cInVpLW1pbmkgXCI6XCJcIikpLndyYXBJbm5lcihcIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyBcIisoYy5zaGFkb3c9PT0hMD9cInVpLXNoYWRvd1wiOlwiXCIpK1wiJz48L2Rpdj5cIikuY2hpbGRyZW4oKX07cmV0dXJuIGQuZ3JvdXBMZWdlbmQubGVuZ3RoPjAmJmEoXCI8ZGl2IHJvbGU9J2hlYWRpbmcnIGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtbGFiZWwnPjwvZGl2PlwiKS5hcHBlbmQoZC5ncm91cExlZ2VuZCkucHJlcGVuZFRvKGIpLGR9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBjLGQsZT10aGlzLmVsZW1lbnQ7cmV0dXJuIGEudHlwZSE9PWImJihlLnJlbW92ZUNsYXNzKFwidWktY29udHJvbGdyb3VwLWhvcml6b250YWwgdWktY29udHJvbGdyb3VwLXZlcnRpY2FsXCIpLmFkZENsYXNzKFwidWktY29udHJvbGdyb3VwLVwiKyhcImhvcml6b250YWxcIj09PWEudHlwZT9cImhvcml6b250YWxcIjpcInZlcnRpY2FsXCIpKSxjPSEwKSxhLnRoZW1lIT09YiYmZS5yZW1vdmVDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbih0aGlzLm9wdGlvbnMudGhlbWUpKS5hZGRDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihhLnRoZW1lKSksYS5jb3JuZXJzIT09YiYmZS50b2dnbGVDbGFzcyhcInVpLWNvcm5lci1hbGxcIixhLmNvcm5lcnMpLGEubWluaSE9PWImJmUudG9nZ2xlQ2xhc3MoXCJ1aS1taW5pXCIsYS5taW5pKSxhLnNoYWRvdyE9PWImJnRoaXMuX3VpLmNoaWxkV3JhcHBlci50b2dnbGVDbGFzcyhcInVpLXNoYWRvd1wiLGEuc2hhZG93KSxhLmV4Y2x1ZGVJbnZpc2libGUhPT1iJiYodGhpcy5vcHRpb25zLmV4Y2x1ZGVJbnZpc2libGU9YS5leGNsdWRlSW52aXNpYmxlLGM9ITApLGQ9dGhpcy5fc3VwZXIoYSksYyYmdGhpcy5yZWZyZXNoKCksZH0sY29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VpLmNoaWxkV3JhcHBlcn0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuY29udGFpbmVyKCksYz1iLmZpbmQoXCIudWktYnRuXCIpLm5vdChcIi51aS1zbGlkZXItaGFuZGxlXCIpLGQ9dGhpcy5faW5pdGlhbFJlZnJlc2g7YS5tb2JpbGUuY2hlY2tib3hyYWRpbyYmYi5maW5kKFwiOm1vYmlsZS1jaGVja2JveHJhZGlvXCIpLmNoZWNrYm94cmFkaW8oXCJyZWZyZXNoXCIpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoYyx0aGlzLm9wdGlvbnMuZXhjbHVkZUludmlzaWJsZT90aGlzLl9nZXRWaXNpYmxlcyhjLGQpOmMsZCksdGhpcy5faW5pdGlhbFJlZnJlc2g9ITF9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGEsYixjPXRoaXMub3B0aW9ucztyZXR1cm4gYy5lbmhhbmNlZD90aGlzOihhPXRoaXMuX3VpLGI9dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktY29udHJvbGdyb3VwIHVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIHVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCB1aS1jb3JuZXItYWxsIHVpLW1pbmkgXCIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oYy50aGVtZSkpLmZpbmQoXCIudWktYnRuXCIpLm5vdChcIi51aS1zbGlkZXItaGFuZGxlXCIpLHRoaXMuX3JlbW92ZUZpcnN0TGFzdENsYXNzZXMoYiksYS5ncm91cExlZ2VuZC51bndyYXAoKSx2b2lkIGEuY2hpbGRXcmFwcGVyLmNoaWxkcmVuKCkudW53cmFwKCkpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldChcIm1vYmlsZS50b29sYmFyXCIse2luaXRTZWxlY3RvcjpcIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpLCA6anFtRGF0YShyb2xlPSdoZWFkZXInKVwiLG9wdGlvbnM6e3RoZW1lOm51bGwsYWRkQmFja0J0bjohMSxiYWNrQnRuVGhlbWU6bnVsbCxiYWNrQnRuVGV4dDpcIkJhY2tcIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiLGMsZD10aGlzLmVsZW1lbnQuaXMoXCI6anFtRGF0YShyb2xlPSdoZWFkZXInKVwiKT9cImhlYWRlclwiOlwiZm9vdGVyXCIsZT10aGlzLmVsZW1lbnQuY2xvc2VzdChcIi51aS1wYWdlXCIpOzA9PT1lLmxlbmd0aCYmKGU9ITEsdGhpcy5fb24odGhpcy5kb2N1bWVudCx7cGFnZXNob3c6XCJyZWZyZXNoXCJ9KSksYS5leHRlbmQodGhpcyx7cm9sZTpkLHBhZ2U6ZSxsZWZ0YnRuOmIscmlnaHRidG46Y30pLHRoaXMuZWxlbWVudC5hdHRyKFwicm9sZVwiLFwiaGVhZGVyXCI9PT1kP1wiYmFubmVyXCI6XCJjb250ZW50aW5mb1wiKS5hZGRDbGFzcyhcInVpLVwiK2QpLHRoaXMucmVmcmVzaCgpLHRoaXMuX3NldE9wdGlvbnModGhpcy5vcHRpb25zKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7aWYoYS5hZGRCYWNrQnRuIT09YiYmdGhpcy5fdXBkYXRlQmFja0J1dHRvbigpLG51bGwhPWEuYmFja0J0blRoZW1lJiZ0aGlzLmVsZW1lbnQuZmluZChcIi51aS10b29sYmFyLWJhY2stYnRuXCIpLmFkZENsYXNzKFwidWktYnRuIHVpLWJ0bi1cIithLmJhY2tCdG5UaGVtZSksYS5iYWNrQnRuVGV4dCE9PWImJnRoaXMuZWxlbWVudC5maW5kKFwiLnVpLXRvb2xiYXItYmFjay1idG4gLnVpLWJ0bi10ZXh0XCIpLnRleHQoYS5iYWNrQnRuVGV4dCksYS50aGVtZSE9PWIpe3ZhciBjPXRoaXMub3B0aW9ucy50aGVtZT90aGlzLm9wdGlvbnMudGhlbWU6XCJpbmhlcml0XCIsZD1hLnRoZW1lP2EudGhlbWU6XCJpbmhlcml0XCI7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktYmFyLVwiK2MpLmFkZENsYXNzKFwidWktYmFyLVwiK2QpfXRoaXMuX3N1cGVyKGEpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7XCJoZWFkZXJcIj09PXRoaXMucm9sZSYmdGhpcy5fYWRkSGVhZGVyQnV0dG9uQ2xhc3NlcygpLHRoaXMucGFnZXx8KHRoaXMuX3NldFJlbGF0aXZlKCksXCJmb290ZXJcIj09PXRoaXMucm9sZT90aGlzLmVsZW1lbnQuYXBwZW5kVG8oXCJib2R5XCIpOlwiaGVhZGVyXCI9PT10aGlzLnJvbGUmJnRoaXMuX3VwZGF0ZUJhY2tCdXR0b24oKSksdGhpcy5fYWRkSGVhZGluZ0NsYXNzZXMoKSx0aGlzLl9idG5NYXJrdXAoKX0sX3NldFJlbGF0aXZlOmZ1bmN0aW9uKCl7YShcIltkYXRhLVwiK2EubW9iaWxlLm5zK1wicm9sZT0ncGFnZSddXCIpLmNzcyh7cG9zaXRpb246XCJyZWxhdGl2ZVwifSl9LF9idG5NYXJrdXA6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuY2hpbGRyZW4oXCJhXCIpLmZpbHRlcihcIjpub3QoW2RhdGEtXCIrYS5tb2JpbGUubnMrXCJyb2xlPSdub25lJ10pXCIpLmF0dHIoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1wicm9sZVwiLFwiYnV0dG9uXCIpLHRoaXMuZWxlbWVudC50cmlnZ2VyKFwiY3JlYXRlXCIpfSxfYWRkSGVhZGVyQnV0dG9uQ2xhc3NlczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudC5jaGlsZHJlbihcImEsIGJ1dHRvblwiKTt0aGlzLmxlZnRidG49YS5oYXNDbGFzcyhcInVpLWJ0bi1sZWZ0XCIpJiYhYS5oYXNDbGFzcyhcInVpLXRvb2xiYXItYmFjay1idG5cIiksdGhpcy5yaWdodGJ0bj1hLmhhc0NsYXNzKFwidWktYnRuLXJpZ2h0XCIpLHRoaXMubGVmdGJ0bj10aGlzLmxlZnRidG58fGEuZXEoMCkubm90KFwiLnVpLWJ0bi1yaWdodCwudWktdG9vbGJhci1iYWNrLWJ0blwiKS5hZGRDbGFzcyhcInVpLWJ0bi1sZWZ0XCIpLmxlbmd0aCx0aGlzLnJpZ2h0YnRuPXRoaXMucmlnaHRidG58fGEuZXEoMSkuYWRkQ2xhc3MoXCJ1aS1idG4tcmlnaHRcIikubGVuZ3RofSxfdXBkYXRlQmFja0J1dHRvbjpmdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5vcHRpb25zLGQ9Yy5iYWNrQnRuVGhlbWV8fGMudGhlbWU7Yj10aGlzLl9iYWNrQnV0dG9uPXRoaXMuX2JhY2tCdXR0b258fHt9LHRoaXMub3B0aW9ucy5hZGRCYWNrQnRuJiZcImhlYWRlclwiPT09dGhpcy5yb2xlJiZhKFwiLnVpLXBhZ2VcIikubGVuZ3RoPjEmJih0aGlzLnBhZ2U/dGhpcy5wYWdlWzBdLmdldEF0dHJpYnV0ZShcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJ1cmxcIikhPT1hLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKTphLm1vYmlsZS5uYXZpZ2F0ZSYmYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeSYmYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hY3RpdmVJbmRleD4wKSYmIXRoaXMubGVmdGJ0bj9iLmF0dGFjaGVkfHwodGhpcy5iYWNrQnV0dG9uPWIuZWxlbWVudD0oYi5lbGVtZW50fHxhKFwiPGEgcm9sZT0nYnV0dG9uJyBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7JyBjbGFzcz0ndWktYnRuIHVpLWNvcm5lci1hbGwgdWktc2hhZG93IHVpLWJ0bi1sZWZ0IFwiKyhkP1widWktYnRuLVwiK2QrXCIgXCI6XCJcIikrXCJ1aS10b29sYmFyLWJhY2stYnRuIHVpLWljb24tY2FyYXQtbCB1aS1idG4taWNvbi1sZWZ0JyBkYXRhLVwiK2EubW9iaWxlLm5zK1wicmVsPSdiYWNrJz5cIitjLmJhY2tCdG5UZXh0K1wiPC9hPlwiKSkucHJlcGVuZFRvKHRoaXMuZWxlbWVudCksYi5hdHRhY2hlZD0hMCk6Yi5lbGVtZW50JiYoYi5lbGVtZW50LmRldGFjaCgpLGIuYXR0YWNoZWQ9ITEpfSxfYWRkSGVhZGluZ0NsYXNzZXM6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuY2hpbGRyZW4oXCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2XCIpLmFkZENsYXNzKFwidWktdGl0bGVcIikuYXR0cih7cm9sZTpcImhlYWRpbmdcIixcImFyaWEtbGV2ZWxcIjpcIjFcIn0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhO3RoaXMuZWxlbWVudC5jaGlsZHJlbihcImgxLCBoMiwgaDMsIGg0LCBoNSwgaDZcIikucmVtb3ZlQ2xhc3MoXCJ1aS10aXRsZVwiKS5yZW1vdmVBdHRyKFwicm9sZVwiKS5yZW1vdmVBdHRyKFwiYXJpYS1sZXZlbFwiKSxcImhlYWRlclwiPT09dGhpcy5yb2xlJiYodGhpcy5lbGVtZW50LmNoaWxkcmVuKFwiYSwgYnV0dG9uXCIpLnJlbW92ZUNsYXNzKFwidWktYnRuLWxlZnQgdWktYnRuLXJpZ2h0IHVpLWJ0biB1aS1zaGFkb3cgdWktY29ybmVyLWFsbFwiKSx0aGlzLmJhY2tCdXR0b24mJnRoaXMuYmFja0J1dHRvbi5yZW1vdmUoKSksYT10aGlzLm9wdGlvbnMudGhlbWU/dGhpcy5vcHRpb25zLnRoZW1lOlwiaW5oZXJpdFwiLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLWJhci1cIithKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS1cIit0aGlzLnJvbGUpLnJlbW92ZUF0dHIoXCJyb2xlXCIpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KFwibW9iaWxlLnRvb2xiYXJcIixhLm1vYmlsZS50b29sYmFyLHtvcHRpb25zOntwb3NpdGlvbjpudWxsLHZpc2libGVPblBhZ2VTaG93OiEwLGRpc2FibGVQYWdlWm9vbTohMCx0cmFuc2l0aW9uOlwic2xpZGVcIixmdWxsc2NyZWVuOiExLHRhcFRvZ2dsZTohMCx0YXBUb2dnbGVCbGFja2xpc3Q6XCJhLCBidXR0b24sIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCAudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkLCAudWktZmxpcHN3aXRjaCwgLnVpLXBvcHVwLCAudWktcGFuZWwsIC51aS1wYW5lbC1kaXNtaXNzLW9wZW5cIixoaWRlRHVyaW5nRm9jdXM6XCJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdFwiLHVwZGF0ZVBhZ2VQYWRkaW5nOiEwLHRyYWNrUGVyc2lzdGVudFRvb2xiYXJzOiEwLHN1cHBvcnRCbGFja2xpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4hYS5zdXBwb3J0LmZpeGVkUG9zaXRpb259fSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLnBhZ2Vjb250YWluZXI9YShcIjptb2JpbGUtcGFnZWNvbnRhaW5lclwiKSxcImZpeGVkXCIhPT10aGlzLm9wdGlvbnMucG9zaXRpb258fHRoaXMub3B0aW9ucy5zdXBwb3J0QmxhY2tsaXN0KCl8fHRoaXMuX21ha2VGaXhlZCgpfSxfbWFrZUZpeGVkOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKFwidWktXCIrdGhpcy5yb2xlK1wiLWZpeGVkXCIpLHRoaXMudXBkYXRlUGFnZVBhZGRpbmcoKSx0aGlzLl9hZGRUcmFuc2l0aW9uQ2xhc3MoKSx0aGlzLl9iaW5kUGFnZUV2ZW50cygpLHRoaXMuX2JpbmRUb2dnbGVIYW5kbGVycygpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXtpZihcImZpeGVkXCI9PT1jLnBvc2l0aW9uJiZcImZpeGVkXCIhPT10aGlzLm9wdGlvbnMucG9zaXRpb24mJnRoaXMuX21ha2VGaXhlZCgpLFwiZml4ZWRcIj09PXRoaXMub3B0aW9ucy5wb3NpdGlvbiYmIXRoaXMub3B0aW9ucy5zdXBwb3J0QmxhY2tsaXN0KCkpe3ZhciBkPXRoaXMucGFnZT90aGlzLnBhZ2U6YShcIi51aS1wYWdlLWFjdGl2ZVwiKS5sZW5ndGg+MD9hKFwiLnVpLXBhZ2UtYWN0aXZlXCIpOmEoXCIudWktcGFnZVwiKS5lcSgwKTtjLmZ1bGxzY3JlZW4hPT1iJiYoYy5mdWxsc2NyZWVuPyh0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJ1aS1cIit0aGlzLnJvbGUrXCItZnVsbHNjcmVlblwiKSxkLmFkZENsYXNzKFwidWktcGFnZS1cIit0aGlzLnJvbGUrXCItZnVsbHNjcmVlblwiKSk6KHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLVwiK3RoaXMucm9sZStcIi1mdWxsc2NyZWVuXCIpLGQucmVtb3ZlQ2xhc3MoXCJ1aS1wYWdlLVwiK3RoaXMucm9sZStcIi1mdWxsc2NyZWVuXCIpLmFkZENsYXNzKFwidWktcGFnZS1cIit0aGlzLnJvbGUrXCItZml4ZWRcIikpKX10aGlzLl9zdXBlcihjKX0sX2FkZFRyYW5zaXRpb25DbGFzczpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy50cmFuc2l0aW9uO2EmJlwibm9uZVwiIT09YSYmKFwic2xpZGVcIj09PWEmJihhPXRoaXMuZWxlbWVudC5oYXNDbGFzcyhcInVpLWhlYWRlclwiKT9cInNsaWRlZG93blwiOlwic2xpZGV1cFwiKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhZ2U/dGhpcy5lbGVtZW50LmNsb3Nlc3QoXCIudWktcGFnZVwiKTp0aGlzLmRvY3VtZW50O3RoaXMuX29uKGEse3BhZ2ViZWZvcmVzaG93OlwiX2hhbmRsZVBhZ2VCZWZvcmVTaG93XCIsd2Via2l0QW5pbWF0aW9uU3RhcnQ6XCJfaGFuZGxlQW5pbWF0aW9uU3RhcnRcIixhbmltYXRpb25zdGFydDpcIl9oYW5kbGVBbmltYXRpb25TdGFydFwiLHVwZGF0ZWxheW91dDpcIl9oYW5kbGVBbmltYXRpb25TdGFydFwiLHBhZ2VzaG93OlwiX2hhbmRsZVBhZ2VTaG93XCIscGFnZWJlZm9yZWhpZGU6XCJfaGFuZGxlUGFnZUJlZm9yZUhpZGVcIn0pfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5kaXNhYmxlUGFnZVpvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCksYi52aXNpYmxlT25QYWdlU2hvd3x8dGhpcy5oaWRlKCEwKX0sX2hhbmRsZUFuaW1hdGlvblN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKHRoaXMucGFnZT90aGlzLnBhZ2U6XCIudWktcGFnZS1hY3RpdmVcIil9LF9oYW5kbGVQYWdlU2hvdzpmdW5jdGlvbigpe3RoaXMudXBkYXRlUGFnZVBhZGRpbmcodGhpcy5wYWdlP3RoaXMucGFnZTpcIi51aS1wYWdlLWFjdGl2ZVwiKSx0aGlzLm9wdGlvbnMudXBkYXRlUGFnZVBhZGRpbmcmJnRoaXMuX29uKHRoaXMud2luZG93LHt0aHJvdHRsZWRyZXNpemU6XCJ1cGRhdGVQYWdlUGFkZGluZ1wifSl9LF9oYW5kbGVQYWdlQmVmb3JlSGlkZTpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGg9dGhpcy5vcHRpb25zO2guZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCksaC51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb2ZmKHRoaXMud2luZG93LFwidGhyb3R0bGVkcmVzaXplXCIpLGgudHJhY2tQZXJzaXN0ZW50VG9vbGJhcnMmJihkPWEoXCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQpXCIsdGhpcy5wYWdlKSxlPWEoXCIudWktaGVhZGVyLWZpeGVkOmpxbURhdGEoaWQpXCIsdGhpcy5wYWdlKSxmPWQubGVuZ3RoJiZjLm5leHRQYWdlJiZhKFwiLnVpLWZvb3Rlci1maXhlZDpqcW1EYXRhKGlkPSdcIitkLmpxbURhdGEoXCJpZFwiKStcIicpXCIsYy5uZXh0UGFnZSl8fGEoKSxnPWUubGVuZ3RoJiZjLm5leHRQYWdlJiZhKFwiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkPSdcIitlLmpxbURhdGEoXCJpZFwiKStcIicpXCIsYy5uZXh0UGFnZSl8fGEoKSwoZi5sZW5ndGh8fGcubGVuZ3RoKSYmKGYuYWRkKGcpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLGMubmV4dFBhZ2Uub25lKFwicGFnZXNob3dcIixmdW5jdGlvbigpe2cucHJlcGVuZFRvKHRoaXMpLGYuYXBwZW5kVG8odGhpcyl9KSkpfSxfdmlzaWJsZTohMCx1cGRhdGVQYWdlUGFkZGluZzpmdW5jdGlvbihjKXt2YXIgZD10aGlzLmVsZW1lbnQsZT1cImhlYWRlclwiPT09dGhpcy5yb2xlLGY9cGFyc2VGbG9hdChkLmNzcyhlP1widG9wXCI6XCJib3R0b21cIikpO3RoaXMub3B0aW9ucy5mdWxsc2NyZWVufHwoYz1jJiZjLnR5cGU9PT1iJiZjfHx0aGlzLnBhZ2V8fGQuY2xvc2VzdChcIi51aS1wYWdlXCIpLGM9dGhpcy5wYWdlP3RoaXMucGFnZTpcIi51aS1wYWdlLWFjdGl2ZVwiLGEoYykuY3NzKFwicGFkZGluZy1cIisoZT9cInRvcFwiOlwiYm90dG9tXCIpLGQub3V0ZXJIZWlnaHQoKStmKSl9LF91c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMud2luZG93LGQ9dGhpcy5lbGVtZW50LGU9Yy5zY3JvbGxUb3AoKSxmPWQuaGVpZ2h0KCksZz10aGlzLnBhZ2U/ZC5jbG9zZXN0KFwiLnVpLXBhZ2VcIikuaGVpZ2h0KCk6YShcIi51aS1wYWdlLWFjdGl2ZVwiKS5oZWlnaHQoKSxoPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpO3JldHVybiFiJiYodGhpcy5vcHRpb25zLnRyYW5zaXRpb24mJlwibm9uZVwiIT09dGhpcy5vcHRpb25zLnRyYW5zaXRpb24mJihcImhlYWRlclwiPT09dGhpcy5yb2xlJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmU+Znx8XCJmb290ZXJcIj09PXRoaXMucm9sZSYmIXRoaXMub3B0aW9ucy5mdWxsc2NyZWVuJiZnLWY+ZStoKXx8dGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4pfSxzaG93OmZ1bmN0aW9uKGEpe3ZhciBiPVwidWktZml4ZWQtaGlkZGVuXCIsYz10aGlzLmVsZW1lbnQ7dGhpcy5fdXNlVHJhbnNpdGlvbihhKT9jLnJlbW92ZUNsYXNzKFwib3V0IFwiK2IpLmFkZENsYXNzKFwiaW5cIikuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKFwiaW5cIil9KTpjLnJlbW92ZUNsYXNzKGIpLHRoaXMuX3Zpc2libGU9ITB9LGhpZGU6ZnVuY3Rpb24oYSl7dmFyIGI9XCJ1aS1maXhlZC1oaWRkZW5cIixjPXRoaXMuZWxlbWVudCxkPVwib3V0XCIrKFwic2xpZGVcIj09PXRoaXMub3B0aW9ucy50cmFuc2l0aW9uP1wiIHJldmVyc2VcIjpcIlwiKTt0aGlzLl91c2VUcmFuc2l0aW9uKGEpP2MuYWRkQ2xhc3MoZCkucmVtb3ZlQ2xhc3MoXCJpblwiKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MuYWRkQ2xhc3MoYikucmVtb3ZlQ2xhc3MoZCl9KTpjLmFkZENsYXNzKGIpLnJlbW92ZUNsYXNzKGQpLHRoaXMuX3Zpc2libGU9ITF9LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fdmlzaWJsZT9cImhpZGVcIjpcInNob3dcIl0oKX0sX2JpbmRUb2dnbGVIYW5kbGVyczpmdW5jdGlvbigpe3ZhciBiLGMsZD10aGlzLGU9ZC5vcHRpb25zLGY9ITAsZz10aGlzLnBhZ2U/dGhpcy5wYWdlOmEoXCIudWktcGFnZVwiKTtnLmJpbmQoXCJ2Y2xpY2tcIixmdW5jdGlvbihiKXtlLnRhcFRvZ2dsZSYmIWEoYi50YXJnZXQpLmNsb3Nlc3QoZS50YXBUb2dnbGVCbGFja2xpc3QpLmxlbmd0aCYmZC50b2dnbGUoKX0pLmJpbmQoXCJmb2N1c2luIGZvY3Vzb3V0XCIsZnVuY3Rpb24oZyl7c2NyZWVuLndpZHRoPDEwMjUmJmEoZy50YXJnZXQpLmlzKGUuaGlkZUR1cmluZ0ZvY3VzKSYmIWEoZy50YXJnZXQpLmNsb3Nlc3QoXCIudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkXCIpLmxlbmd0aCYmKFwiZm9jdXNvdXRcIiE9PWcudHlwZXx8Zj9cImZvY3VzaW5cIj09PWcudHlwZSYmZiYmKGNsZWFyVGltZW91dChiKSxmPSExLGM9c2V0VGltZW91dChmdW5jdGlvbigpe2QuaGlkZSgpfSwwKSk6KGY9ITAsY2xlYXJUaW1lb3V0KGMpLGI9c2V0VGltZW91dChmdW5jdGlvbigpe2Quc2hvdygpfSwwKSkpfSl9LF9zZXRSZWxhdGl2ZTpmdW5jdGlvbigpe1wiZml4ZWRcIiE9PXRoaXMub3B0aW9ucy5wb3NpdGlvbiYmYShcIltkYXRhLVwiK2EubW9iaWxlLm5zK1wicm9sZT0ncGFnZSddXCIpLmNzcyh7cG9zaXRpb246XCJyZWxhdGl2ZVwifSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGIsYyxkLGUsZixnPXRoaXMucGFnZWNvbnRhaW5lci5wYWdlY29udGFpbmVyKFwiZ2V0QWN0aXZlUGFnZVwiKTt0aGlzLl9zdXBlcigpLFwiZml4ZWRcIj09PXRoaXMub3B0aW9ucy5wb3NpdGlvbiYmKGQ9YShcImJvZHk+LnVpLVwiK3RoaXMucm9sZStcIi1maXhlZFwiKS5hZGQoZy5maW5kKFwiLnVpLVwiK3RoaXMub3B0aW9ucy5yb2xlK1wiLWZpeGVkXCIpKS5ub3QodGhpcy5lbGVtZW50KS5sZW5ndGg+MCxmPWEoXCJib2R5Pi51aS1cIit0aGlzLnJvbGUrXCItZml4ZWRcIikuYWRkKGcuZmluZChcIi51aS1cIit0aGlzLm9wdGlvbnMucm9sZStcIi1mdWxsc2NyZWVuXCIpKS5ub3QodGhpcy5lbGVtZW50KS5sZW5ndGg+MCxjPVwidWktaGVhZGVyLWZpeGVkIHVpLWZvb3Rlci1maXhlZCB1aS1oZWFkZXItZnVsbHNjcmVlbiBpbiBvdXQgdWktZm9vdGVyLWZ1bGxzY3JlZW4gZmFkZSBzbGlkZWRvd24gc2xpZGV1cCB1aS1maXhlZC1oaWRkZW5cIix0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoYyksZnx8KGI9XCJ1aS1wYWdlLVwiK3RoaXMucm9sZStcIi1mdWxsc2NyZWVuXCIpLGR8fChlPVwiaGVhZGVyXCI9PT10aGlzLnJvbGUsYis9XCIgdWktcGFnZS1cIit0aGlzLnJvbGUrXCItZml4ZWRcIixnLmNzcyhcInBhZGRpbmctXCIrKGU/XCJ0b3BcIjpcImJvdHRvbVwiKSxcIlwiKSksZy5yZW1vdmVDbGFzcyhiKSlcbn19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoXCJtb2JpbGUudG9vbGJhclwiLGEubW9iaWxlLnRvb2xiYXIse19tYWtlRml4ZWQ6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuX3dvcmthcm91bmRzKCl9LF93b3JrYXJvdW5kczpmdW5jdGlvbigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQsYj1uYXZpZ2F0b3IucGxhdGZvcm0sYz1hLm1hdGNoKC9BcHBsZVdlYktpdFxcLyhbMC05XSspLyksZD0hIWMmJmNbMV0sZT1udWxsLGY9dGhpcztpZihiLmluZGV4T2YoXCJpUGhvbmVcIik+LTF8fGIuaW5kZXhPZihcImlQYWRcIik+LTF8fGIuaW5kZXhPZihcImlQb2RcIik+LTEpZT1cImlvc1wiO2Vsc2V7aWYoIShhLmluZGV4T2YoXCJBbmRyb2lkXCIpPi0xKSlyZXR1cm47ZT1cImFuZHJvaWRcIn1pZihcImlvc1wiPT09ZSlmLl9iaW5kU2Nyb2xsV29ya2Fyb3VuZCgpO2Vsc2V7aWYoIShcImFuZHJvaWRcIj09PWUmJmQmJjUzND5kKSlyZXR1cm47Zi5fYmluZFNjcm9sbFdvcmthcm91bmQoKSxmLl9iaW5kTGlzdFRodW1iV29ya2Fyb3VuZCgpfX0sX3ZpZXdwb3J0T2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9YS5oYXNDbGFzcyhcInVpLWhlYWRlclwiKSxjPU1hdGguYWJzKGEub2Zmc2V0KCkudG9wLXRoaXMud2luZG93LnNjcm9sbFRvcCgpKTtyZXR1cm4gYnx8KGM9TWF0aC5yb3VuZChjLXRoaXMud2luZG93LmhlaWdodCgpK2Eub3V0ZXJIZWlnaHQoKSktNjApLGN9LF9iaW5kU2Nyb2xsV29ya2Fyb3VuZDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5fb24odGhpcy53aW5kb3cse3Njcm9sbHN0b3A6ZnVuY3Rpb24oKXt2YXIgYj1hLl92aWV3cG9ydE9mZnNldCgpO2I+MiYmYS5fdmlzaWJsZSYmYS5fdHJpZ2dlclJlZHJhdygpfX0pfSxfYmluZExpc3RUaHVtYldvcmthcm91bmQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuY2xvc2VzdChcIi51aS1wYWdlXCIpLmFkZENsYXNzKFwidWktYW5kcm9pZC0yeC1maXhlZFwiKX0sX3RyaWdnZXJSZWRyYXc6ZnVuY3Rpb24oKXt2YXIgYj1wYXJzZUZsb2F0KGEoXCIudWktcGFnZS1hY3RpdmVcIikuY3NzKFwicGFkZGluZy1ib3R0b21cIikpO2EoXCIudWktcGFnZS1hY3RpdmVcIikuY3NzKFwicGFkZGluZy1ib3R0b21cIixiKzErXCJweFwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShcIi51aS1wYWdlLWFjdGl2ZVwiKS5jc3MoXCJwYWRkaW5nLWJvdHRvbVwiLGIrXCJweFwiKX0sMCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuZWxlbWVudC5jbG9zZXN0KFwiLnVpLXBhZ2UtYWN0aXZlXCIpLnJlbW92ZUNsYXNzKFwidWktYW5kcm9pZC0yeC1maXhcIil9fSl9KGEpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3ZhciBhPWUuY2xvbmUoKSxiPWEuZXEoMCksYz1hLmVxKDEpLGQ9Yy5jaGlsZHJlbigpO3JldHVybnthckVsczpjLmFkZChiKSxnZDpiLGN0OmMsYXI6ZH19dmFyIGQ9YS5tb2JpbGUuYnJvd3Nlci5vbGRJRSYmYS5tb2JpbGUuYnJvd3Nlci5vbGRJRTw9OCxlPWEoXCI8ZGl2IGNsYXNzPSd1aS1wb3B1cC1hcnJvdy1ndWlkZSc+PC9kaXY+PGRpdiBjbGFzcz0ndWktcG9wdXAtYXJyb3ctY29udGFpbmVyXCIrKGQ/XCIgaWVcIjpcIlwiKStcIic+PGRpdiBjbGFzcz0ndWktcG9wdXAtYXJyb3cnPjwvZGl2PjwvZGl2PlwiKTthLndpZGdldChcIm1vYmlsZS5wb3B1cFwiLGEubW9iaWxlLnBvcHVwLHtvcHRpb25zOnthcnJvdzpcIlwifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLl9zdXBlcigpO3JldHVybiB0aGlzLm9wdGlvbnMuYXJyb3cmJih0aGlzLl91aS5hcnJvdz1hPXRoaXMuX2FkZEFycm93KCkpLGJ9LF9hZGRBcnJvdzpmdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5vcHRpb25zLGQ9YygpO3JldHVybiBhPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKFwidWktYm9keS1cIixiLnRoZW1lKSxkLmFyLmFkZENsYXNzKGErKGIuc2hhZG93P1wiIHVpLW92ZXJsYXktc2hhZG93XCI6XCJcIikpLGQuYXJFbHMuaGlkZSgpLmFwcGVuZFRvKHRoaXMuZWxlbWVudCksZH0sX3VuZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3VpLmFycm93O3JldHVybiBhJiZhLmFyRWxzLnJlbW92ZSgpLHRoaXMuX3N1cGVyKCl9LF90cnlBbkFycm93OmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGk9e30saj17fTtyZXR1cm4gZC5hckZ1bGxbYS5kaW1LZXldPmQuZ3VpZGVEaW1zW2EuZGltS2V5XT9lOihpW2EuZnN0XT1jW2EuZnN0XSsoZC5hckhhbGZbYS5vRGltS2V5XStkLm1lbnVIYWxmW2Eub0RpbUtleV0pKmEub2Zmc2V0RmFjdG9yLWQuY29udGVudEJveFthLmZzdF0rKGQuY2xhbXBJbmZvLm1lbnVTaXplW2Eub0RpbUtleV0tZC5jb250ZW50Qm94W2Eub0RpbUtleV0pKmEuYXJyb3dPZmZzZXRGYWN0b3IsaVthLnNuZF09Y1thLnNuZF0sZj1kLnJlc3VsdHx8dGhpcy5fY2FsY3VsYXRlRmluYWxMb2NhdGlvbihpLGQuY2xhbXBJbmZvKSxnPXt4OmYubGVmdCx5OmYudG9wfSxqW2EuZnN0XT1nW2EuZnN0XStkLmNvbnRlbnRCb3hbYS5mc3RdK2EudGlwT2Zmc2V0LGpbYS5zbmRdPU1hdGgubWF4KGZbYS5wcm9wXStkLmd1aWRlT2Zmc2V0W2EucHJvcF0rZC5hckhhbGZbYS5kaW1LZXldLE1hdGgubWluKGZbYS5wcm9wXStkLmd1aWRlT2Zmc2V0W2EucHJvcF0rZC5ndWlkZURpbXNbYS5kaW1LZXldLWQuYXJIYWxmW2EuZGltS2V5XSxjW2Euc25kXSkpLGg9TWF0aC5hYnMoYy54LWoueCkrTWF0aC5hYnMoYy55LWoueSksKCFlfHxoPGUuZGlmZikmJihqW2Euc25kXS09ZC5hckhhbGZbYS5kaW1LZXldK2ZbYS5wcm9wXStkLmNvbnRlbnRCb3hbYS5zbmRdLGU9e2RpcjpiLGRpZmY6aCxyZXN1bHQ6Zixwb3NQcm9wOmEucHJvcCxwb3NWYWw6althLnNuZF19KSxlKX0sX2dldFBsYWNlbWVudFN0YXRlOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZD10aGlzLl91aS5hcnJvdyxlPXtjbGFtcEluZm86dGhpcy5fY2xhbXBQb3B1cFdpZHRoKCFhKSxhckZ1bGw6e2N4OmQuY3Qud2lkdGgoKSxjeTpkLmN0LmhlaWdodCgpfSxndWlkZURpbXM6e2N4OmQuZ2Qud2lkdGgoKSxjeTpkLmdkLmhlaWdodCgpfSxndWlkZU9mZnNldDpkLmdkLm9mZnNldCgpfTtyZXR1cm4gYj10aGlzLmVsZW1lbnQub2Zmc2V0KCksZC5nZC5jc3Moe2xlZnQ6MCx0b3A6MCxyaWdodDowLGJvdHRvbTowfSksYz1kLmdkLm9mZnNldCgpLGUuY29udGVudEJveD17eDpjLmxlZnQtYi5sZWZ0LHk6Yy50b3AtYi50b3AsY3g6ZC5nZC53aWR0aCgpLGN5OmQuZ2QuaGVpZ2h0KCl9LGQuZ2QucmVtb3ZlQXR0cihcInN0eWxlXCIpLGUuZ3VpZGVPZmZzZXQ9e2xlZnQ6ZS5ndWlkZU9mZnNldC5sZWZ0LWIubGVmdCx0b3A6ZS5ndWlkZU9mZnNldC50b3AtYi50b3B9LGUuYXJIYWxmPXtjeDplLmFyRnVsbC5jeC8yLGN5OmUuYXJGdWxsLmN5LzJ9LGUubWVudUhhbGY9e2N4OmUuY2xhbXBJbmZvLm1lbnVTaXplLmN4LzIsY3k6ZS5jbGFtcEluZm8ubWVudVNpemUuY3kvMn0sZX0sX3BsYWNlbWVudENvb3JkczpmdW5jdGlvbihiKXt2YXIgYyxlLGYsZyxoLGk9dGhpcy5vcHRpb25zLmFycm93LGo9dGhpcy5fdWkuYXJyb3c7cmV0dXJuIGo/KGouYXJFbHMuc2hvdygpLGg9e30sYz10aGlzLl9nZXRQbGFjZW1lbnRTdGF0ZSghMCksZj17bDp7ZnN0OlwieFwiLHNuZDpcInlcIixwcm9wOlwidG9wXCIsZGltS2V5OlwiY3lcIixvRGltS2V5OlwiY3hcIixvZmZzZXRGYWN0b3I6MSx0aXBPZmZzZXQ6LWMuYXJIYWxmLmN4LGFycm93T2Zmc2V0RmFjdG9yOjB9LHI6e2ZzdDpcInhcIixzbmQ6XCJ5XCIscHJvcDpcInRvcFwiLGRpbUtleTpcImN5XCIsb0RpbUtleTpcImN4XCIsb2Zmc2V0RmFjdG9yOi0xLHRpcE9mZnNldDpjLmFySGFsZi5jeCtjLmNvbnRlbnRCb3guY3gsYXJyb3dPZmZzZXRGYWN0b3I6MX0sYjp7ZnN0OlwieVwiLHNuZDpcInhcIixwcm9wOlwibGVmdFwiLGRpbUtleTpcImN4XCIsb0RpbUtleTpcImN5XCIsb2Zmc2V0RmFjdG9yOi0xLHRpcE9mZnNldDpjLmFySGFsZi5jeStjLmNvbnRlbnRCb3guY3ksYXJyb3dPZmZzZXRGYWN0b3I6MX0sdDp7ZnN0OlwieVwiLHNuZDpcInhcIixwcm9wOlwibGVmdFwiLGRpbUtleTpcImN4XCIsb0RpbUtleTpcImN5XCIsb2Zmc2V0RmFjdG9yOjEsdGlwT2Zmc2V0Oi1jLmFySGFsZi5jeSxhcnJvd09mZnNldEZhY3RvcjowfX0sYS5lYWNoKChpPT09ITA/XCJsLHQscixiXCI6aSkuc3BsaXQoXCIsXCIpLGEucHJveHkoZnVuY3Rpb24oYSxkKXtlPXRoaXMuX3RyeUFuQXJyb3coZltkXSxkLGIsYyxlKX0sdGhpcykpLGU/KGouY3QucmVtb3ZlQ2xhc3MoXCJ1aS1wb3B1cC1hcnJvdy1sIHVpLXBvcHVwLWFycm93LXQgdWktcG9wdXAtYXJyb3ctciB1aS1wb3B1cC1hcnJvdy1iXCIpLmFkZENsYXNzKFwidWktcG9wdXAtYXJyb3ctXCIrZS5kaXIpLnJlbW92ZUF0dHIoXCJzdHlsZVwiKS5jc3MoZS5wb3NQcm9wLGUucG9zVmFsKS5zaG93KCksZHx8KGc9dGhpcy5lbGVtZW50Lm9mZnNldCgpLGhbZltlLmRpcl0uZnN0XT1qLmN0Lm9mZnNldCgpLGhbZltlLmRpcl0uc25kXT17bGVmdDpnLmxlZnQrYy5jb250ZW50Qm94LngsdG9wOmcudG9wK2MuY29udGVudEJveC55fSksZS5yZXN1bHQpOihqLmFyRWxzLmhpZGUoKSx0aGlzLl9zdXBlcihiKSkpOnRoaXMuX3N1cGVyKGIpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMub3B0aW9ucy50aGVtZSxlPXRoaXMuX3VpLmFycm93LGY9dGhpcy5fc3VwZXIoYSk7aWYoYS5hcnJvdyE9PWIpe2lmKCFlJiZhLmFycm93KXJldHVybiB2b2lkKHRoaXMuX3VpLmFycm93PXRoaXMuX2FkZEFycm93KCkpO2UmJiFhLmFycm93JiYoZS5hckVscy5yZW1vdmUoKSx0aGlzLl91aS5hcnJvdz1udWxsKX1yZXR1cm4gZT10aGlzLl91aS5hcnJvdyxlJiYoYS50aGVtZSE9PWImJihkPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKFwidWktYm9keS1cIixkKSxjPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKFwidWktYm9keS1cIixhLnRoZW1lKSxlLmFyLnJlbW92ZUNsYXNzKGQpLmFkZENsYXNzKGMpKSxhLnNoYWRvdyE9PWImJmUuYXIudG9nZ2xlQ2xhc3MoXCJ1aS1vdmVybGF5LXNoYWRvd1wiLGEuc2hhZG93KSksZn0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl91aS5hcnJvdztyZXR1cm4gYSYmYS5hckVscy5yZW1vdmUoKSx0aGlzLl9zdXBlcigpfX0pfShhKSxmdW5jdGlvbihhLGMpe2Eud2lkZ2V0KFwibW9iaWxlLnBhbmVsXCIse29wdGlvbnM6e2NsYXNzZXM6e3BhbmVsOlwidWktcGFuZWxcIixwYW5lbE9wZW46XCJ1aS1wYW5lbC1vcGVuXCIscGFuZWxDbG9zZWQ6XCJ1aS1wYW5lbC1jbG9zZWRcIixwYW5lbEZpeGVkOlwidWktcGFuZWwtZml4ZWRcIixwYW5lbElubmVyOlwidWktcGFuZWwtaW5uZXJcIixtb2RhbDpcInVpLXBhbmVsLWRpc21pc3NcIixtb2RhbE9wZW46XCJ1aS1wYW5lbC1kaXNtaXNzLW9wZW5cIixwYWdlQ29udGFpbmVyOlwidWktcGFuZWwtcGFnZS1jb250YWluZXJcIixwYWdlV3JhcHBlcjpcInVpLXBhbmVsLXdyYXBwZXJcIixwYWdlRml4ZWRUb29sYmFyOlwidWktcGFuZWwtZml4ZWQtdG9vbGJhclwiLHBhZ2VDb250ZW50UHJlZml4OlwidWktcGFuZWwtcGFnZS1jb250ZW50XCIsYW5pbWF0ZTpcInVpLXBhbmVsLWFuaW1hdGVcIn0sYW5pbWF0ZTohMCx0aGVtZTpudWxsLHBvc2l0aW9uOlwibGVmdFwiLGRpc21pc3NpYmxlOiEwLGRpc3BsYXk6XCJyZXZlYWxcIixzd2lwZUNsb3NlOiEwLHBvc2l0aW9uRml4ZWQ6ITF9LF9jbG9zZUxpbms6bnVsbCxfcGFyZW50UGFnZTpudWxsLF9wYWdlOm51bGwsX21vZGFsOm51bGwsX3BhbmVsSW5uZXI6bnVsbCxfd3JhcHBlcjpudWxsLF9maXhlZFRvb2xiYXJzOm51bGwsX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPWIuY2xvc2VzdChcIi51aS1wYWdlLCA6anFtRGF0YShyb2xlPSdwYWdlJylcIik7YS5leHRlbmQodGhpcyx7X2Nsb3NlTGluazpiLmZpbmQoXCI6anFtRGF0YShyZWw9J2Nsb3NlJylcIiksX3BhcmVudFBhZ2U6Yy5sZW5ndGg+MD9jOiExLF9vcGVuZWRQYWdlOm51bGwsX3BhZ2U6dGhpcy5fZ2V0UGFnZSxfcGFuZWxJbm5lcjp0aGlzLl9nZXRQYW5lbElubmVyKCksX2ZpeGVkVG9vbGJhcnM6dGhpcy5fZ2V0Rml4ZWRUb29sYmFyc30pLFwib3ZlcmxheVwiIT09dGhpcy5vcHRpb25zLmRpc3BsYXkmJnRoaXMuX2dldFdyYXBwZXIoKSx0aGlzLl9hZGRQYW5lbENsYXNzZXMoKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJnRoaXMub3B0aW9ucy5hbmltYXRlJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMuYW5pbWF0ZSksdGhpcy5fYmluZFVwZGF0ZUxheW91dCgpLHRoaXMuX2JpbmRDbG9zZUV2ZW50cygpLHRoaXMuX2JpbmRMaW5rTGlzdGVuZXJzKCksdGhpcy5fYmluZFBhZ2VFdmVudHMoKSx0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUmJnRoaXMuX2NyZWF0ZU1vZGFsKCksdGhpcy5fYmluZFN3aXBlRXZlbnRzKCl9LF9nZXRQYW5lbElubmVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LmZpbmQoXCIuXCIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxJbm5lcik7cmV0dXJuIDA9PT1hLmxlbmd0aCYmKGE9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCkud3JhcEFsbChcIjxkaXYgY2xhc3M9J1wiK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsSW5uZXIrXCInIC8+XCIpLnBhcmVudCgpKSxhfSxfY3JlYXRlTW9kYWw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi5fcGFyZW50UGFnZT9iLl9wYXJlbnRQYWdlLnBhcmVudCgpOmIuZWxlbWVudC5wYXJlbnQoKTtiLl9tb2RhbD1hKFwiPGRpdiBjbGFzcz0nXCIrYi5vcHRpb25zLmNsYXNzZXMubW9kYWwrXCInPjwvZGl2PlwiKS5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7Yi5jbG9zZSgpfSkuYXBwZW5kVG8oYyl9LF9nZXRQYWdlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5fb3BlbmVkUGFnZXx8dGhpcy5fcGFyZW50UGFnZXx8YShcIi5cIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpO3JldHVybiBifSxfZ2V0V3JhcHBlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3BhZ2UoKS5maW5kKFwiLlwiK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhZ2VXcmFwcGVyKTswPT09YS5sZW5ndGgmJihhPXRoaXMuX3BhZ2UoKS5jaGlsZHJlbihcIi51aS1oZWFkZXI6bm90KC51aS1oZWFkZXItZml4ZWQpLCAudWktY29udGVudDpub3QoLnVpLXBvcHVwKSwgLnVpLWZvb3Rlcjpub3QoLnVpLWZvb3Rlci1maXhlZClcIikud3JhcEFsbChcIjxkaXYgY2xhc3M9J1wiK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhZ2VXcmFwcGVyK1wiJz48L2Rpdj5cIikucGFyZW50KCkpLHRoaXMuX3dyYXBwZXI9YX0sX2dldEZpeGVkVG9vbGJhcnM6ZnVuY3Rpb24oKXt2YXIgYj1hKFwiYm9keVwiKS5jaGlsZHJlbihcIi51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWRcIiksYz10aGlzLl9wYWdlKCkuZmluZChcIi51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWRcIiksZD1iLmFkZChjKS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYWdlRml4ZWRUb29sYmFyKTtyZXR1cm4gZH0sX2dldFBvc0Rpc3BsYXlDbGFzc2VzOmZ1bmN0aW9uKGEpe3JldHVybiBhK1wiLXBvc2l0aW9uLVwiK3RoaXMub3B0aW9ucy5wb3NpdGlvbitcIiBcIithK1wiLWRpc3BsYXktXCIrdGhpcy5vcHRpb25zLmRpc3BsYXl9LF9nZXRQYW5lbENsYXNzZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbCtcIiBcIit0aGlzLl9nZXRQb3NEaXNwbGF5Q2xhc3Nlcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbCkrXCIgXCIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxDbG9zZWQrXCIgdWktYm9keS1cIisodGhpcy5vcHRpb25zLnRoZW1lP3RoaXMub3B0aW9ucy50aGVtZTpcImluaGVyaXRcIik7cmV0dXJuIHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiYoYSs9XCIgXCIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCksYX0sX2FkZFBhbmVsQ2xhc3NlczpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSl9LF9oYW5kbGVDbG9zZUNsaWNrOmZ1bmN0aW9uKGEpe2EuaXNEZWZhdWx0UHJldmVudGVkKCl8fHRoaXMuY2xvc2UoKX0sX2JpbmRDbG9zZUV2ZW50czpmdW5jdGlvbigpe3RoaXMuX29uKHRoaXMuX2Nsb3NlTGluayx7Y2xpY2s6XCJfaGFuZGxlQ2xvc2VDbGlja1wifSksdGhpcy5fb24oe1wiY2xpY2sgYTpqcW1EYXRhKGFqYXg9J2ZhbHNlJylcIjpcIl9oYW5kbGVDbG9zZUNsaWNrXCJ9KX0sX3Bvc2l0aW9uUGFuZWw6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkPWMuX3BhbmVsSW5uZXIub3V0ZXJIZWlnaHQoKSxlPWQ+YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7ZXx8IWMub3B0aW9ucy5wb3NpdGlvbkZpeGVkPyhlJiYoYy5fdW5maXhQYW5lbCgpLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodChkKSksYiYmdGhpcy53aW5kb3dbMF0uc2Nyb2xsVG8oMCxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCkpOmMuX2ZpeFBhbmVsKCl9LF9iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vbihhKGIpLHt0aHJvdHRsZWRyZXNpemU6XCJfcG9zaXRpb25QYW5lbFwifSl9LF91bmJpbmRGaXhMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuX29mZihhKGIpLFwidGhyb3R0bGVkcmVzaXplXCIpfSxfdW5maXhQYW5lbDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiZhLnN1cHBvcnQuZml4ZWRQb3NpdGlvbiYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpfSxfZml4UGFuZWw6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCYmYS5zdXBwb3J0LmZpeGVkUG9zaXRpb24mJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbEZpeGVkKX0sX2JpbmRVcGRhdGVMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuZWxlbWVudC5vbihcInVwZGF0ZWxheW91dFwiLGZ1bmN0aW9uKCl7YS5fb3BlbiYmYS5fcG9zaXRpb25QYW5lbCgpfSl9LF9iaW5kTGlua0xpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMuX29uKFwiYm9keVwiLHtcImNsaWNrIGFcIjpcIl9oYW5kbGVDbGlja1wifSl9LF9oYW5kbGVDbGljazpmdW5jdGlvbihiKXt2YXIgZCxlPXRoaXMuZWxlbWVudC5hdHRyKFwiaWRcIik7Yi5jdXJyZW50VGFyZ2V0LmhyZWYuc3BsaXQoXCIjXCIpWzFdPT09ZSYmZSE9PWMmJihiLnByZXZlbnREZWZhdWx0KCksZD1hKGIudGFyZ2V0KSxkLmhhc0NsYXNzKFwidWktYnRuXCIpJiYoZC5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksdGhpcy5lbGVtZW50Lm9uZShcInBhbmVsb3BlbiBwYW5lbGNsb3NlXCIsZnVuY3Rpb24oKXtkLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pKSx0aGlzLnRvZ2dsZSgpKX0sX2JpbmRTd2lwZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLl9tb2RhbD9hLmVsZW1lbnQuYWRkKGEuX21vZGFsKTphLmVsZW1lbnQ7YS5vcHRpb25zLnN3aXBlQ2xvc2UmJihcImxlZnRcIj09PWEub3B0aW9ucy5wb3NpdGlvbj9iLm9uKFwic3dpcGVsZWZ0LnBhbmVsXCIsZnVuY3Rpb24oKXthLmNsb3NlKCl9KTpiLm9uKFwic3dpcGVyaWdodC5wYW5lbFwiLGZ1bmN0aW9uKCl7YS5jbG9zZSgpfSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuZG9jdW1lbnQub24oXCJwYW5lbGJlZm9yZW9wZW5cIixmdW5jdGlvbihiKXthLl9vcGVuJiZiLnRhcmdldCE9PWEuZWxlbWVudFswXSYmYS5jbG9zZSgpfSkub24oXCJrZXl1cC5wYW5lbFwiLGZ1bmN0aW9uKGIpezI3PT09Yi5rZXlDb2RlJiZhLl9vcGVuJiZhLmNsb3NlKCl9KSx0aGlzLl9wYXJlbnRQYWdlfHxcIm92ZXJsYXlcIj09PXRoaXMub3B0aW9ucy5kaXNwbGF5fHx0aGlzLl9vbih0aGlzLmRvY3VtZW50LHtwYWdlc2hvdzpmdW5jdGlvbigpe3RoaXMuX29wZW5lZFBhZ2U9bnVsbCx0aGlzLl9nZXRXcmFwcGVyKCl9fSksYS5fcGFyZW50UGFnZT90aGlzLmRvY3VtZW50Lm9uKFwicGFnZWhpZGVcIixcIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKVwiLGZ1bmN0aW9uKCl7YS5fb3BlbiYmYS5jbG9zZSghMCl9KTp0aGlzLmRvY3VtZW50Lm9uKFwicGFnZWJlZm9yZWhpZGVcIixmdW5jdGlvbigpe2EuX29wZW4mJmEuY2xvc2UoITApfSl9LF9vcGVuOiExLF9wYWdlQ29udGVudE9wZW5DbGFzc2VzOm51bGwsX21vZGFsT3BlbkNsYXNzZXM6bnVsbCxvcGVuOmZ1bmN0aW9uKGIpe2lmKCF0aGlzLl9vcGVuKXt2YXIgYz10aGlzLGQ9Yy5vcHRpb25zLGU9ZnVuY3Rpb24oKXtjLl9vZmYoYy5kb2N1bWVudCxcInBhbmVsY2xvc2VcIiksYy5fcGFnZSgpLmpxbURhdGEoXCJwYW5lbFwiLFwib3BlblwiKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmQuYW5pbWF0ZSYmXCJvdmVybGF5XCIhPT1kLmRpc3BsYXkmJihjLl93cmFwcGVyLmFkZENsYXNzKGQuY2xhc3Nlcy5hbmltYXRlKSxjLl9maXhlZFRvb2xiYXJzKCkuYWRkQ2xhc3MoZC5jbGFzc2VzLmFuaW1hdGUpKSwhYiYmYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZkLmFuaW1hdGU/KGMuX3dyYXBwZXJ8fGMuZWxlbWVudCkuYW5pbWF0aW9uQ29tcGxldGUoZixcInRyYW5zaXRpb25cIik6c2V0VGltZW91dChmLDApLGQudGhlbWUmJlwib3ZlcmxheVwiIT09ZC5kaXNwbGF5JiZjLl9wYWdlKCkucGFyZW50KCkuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrXCItdGhlbWVkIFwiK2QuY2xhc3Nlcy5wYWdlQ29udGFpbmVyK1wiLVwiK2QudGhlbWUpLGMuZWxlbWVudC5yZW1vdmVDbGFzcyhkLmNsYXNzZXMucGFuZWxDbG9zZWQpLmFkZENsYXNzKGQuY2xhc3Nlcy5wYW5lbE9wZW4pLGMuX3Bvc2l0aW9uUGFuZWwoITApLGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXM9Yy5fZ2V0UG9zRGlzcGxheUNsYXNzZXMoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KSxcIm92ZXJsYXlcIiE9PWQuZGlzcGxheSYmKGMuX3BhZ2UoKS5wYXJlbnQoKS5hZGRDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRhaW5lciksYy5fd3JhcHBlci5hZGRDbGFzcyhjLl9wYWdlQ29udGVudE9wZW5DbGFzc2VzKSxjLl9maXhlZFRvb2xiYXJzKCkuYWRkQ2xhc3MoYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3NlcykpLGMuX21vZGFsT3BlbkNsYXNzZXM9Yy5fZ2V0UG9zRGlzcGxheUNsYXNzZXMoZC5jbGFzc2VzLm1vZGFsKStcIiBcIitkLmNsYXNzZXMubW9kYWxPcGVuLGMuX21vZGFsJiZjLl9tb2RhbC5hZGRDbGFzcyhjLl9tb2RhbE9wZW5DbGFzc2VzKS5oZWlnaHQoTWF0aC5tYXgoYy5fbW9kYWwuaGVpZ2h0KCksYy5kb2N1bWVudC5oZWlnaHQoKSkpfSxmPWZ1bmN0aW9uKCl7Yy5fb3BlbiYmKFwib3ZlcmxheVwiIT09ZC5kaXNwbGF5JiYoYy5fd3JhcHBlci5hZGRDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrXCItb3BlblwiKSxjLl9maXhlZFRvb2xiYXJzKCkuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4K1wiLW9wZW5cIikpLGMuX2JpbmRGaXhMaXN0ZW5lcigpLGMuX3RyaWdnZXIoXCJvcGVuXCIpLGMuX29wZW5lZFBhZ2U9Yy5fcGFnZSgpKX07Yy5fdHJpZ2dlcihcImJlZm9yZW9wZW5cIiksXCJvcGVuXCI9PT1jLl9wYWdlKCkuanFtRGF0YShcInBhbmVsXCIpP2MuX29uKGMuZG9jdW1lbnQse3BhbmVsY2xvc2U6ZX0pOmUoKSxjLl9vcGVuPSEwfX0sY2xvc2U6ZnVuY3Rpb24oYil7aWYodGhpcy5fb3Blbil7dmFyIGM9dGhpcyxkPXRoaXMub3B0aW9ucyxlPWZ1bmN0aW9uKCl7Yy5lbGVtZW50LnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYW5lbE9wZW4pLFwib3ZlcmxheVwiIT09ZC5kaXNwbGF5JiYoYy5fd3JhcHBlci5yZW1vdmVDbGFzcyhjLl9wYWdlQ29udGVudE9wZW5DbGFzc2VzKSxjLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3NlcykpLCFiJiZhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmQuYW5pbWF0ZT8oYy5fd3JhcHBlcnx8Yy5lbGVtZW50KS5hbmltYXRpb25Db21wbGV0ZShmLFwidHJhbnNpdGlvblwiKTpzZXRUaW1lb3V0KGYsMCksYy5fbW9kYWwmJmMuX21vZGFsLnJlbW92ZUNsYXNzKGMuX21vZGFsT3BlbkNsYXNzZXMpLmhlaWdodChcIlwiKX0sZj1mdW5jdGlvbigpe2QudGhlbWUmJlwib3ZlcmxheVwiIT09ZC5kaXNwbGF5JiZjLl9wYWdlKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrXCItdGhlbWVkIFwiK2QuY2xhc3Nlcy5wYWdlQ29udGFpbmVyK1wiLVwiK2QudGhlbWUpLGMuZWxlbWVudC5hZGRDbGFzcyhkLmNsYXNzZXMucGFuZWxDbG9zZWQpLFwib3ZlcmxheVwiIT09ZC5kaXNwbGF5JiYoYy5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKSxjLl93cmFwcGVyLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCtcIi1vcGVuXCIpLGMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrXCItb3BlblwiKSksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZkLmFuaW1hdGUmJlwib3ZlcmxheVwiIT09ZC5kaXNwbGF5JiYoYy5fd3JhcHBlci5yZW1vdmVDbGFzcyhkLmNsYXNzZXMuYW5pbWF0ZSksYy5fZml4ZWRUb29sYmFycygpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5hbmltYXRlKSksYy5fZml4UGFuZWwoKSxjLl91bmJpbmRGaXhMaXN0ZW5lcigpLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCgpLGMuX3BhZ2UoKS5qcW1SZW1vdmVEYXRhKFwicGFuZWxcIiksYy5fdHJpZ2dlcihcImNsb3NlXCIpLGMuX29wZW5lZFBhZ2U9bnVsbH07Yy5fdHJpZ2dlcihcImJlZm9yZWNsb3NlXCIpLGUoKSxjLl9vcGVuPSExfX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl9vcGVuP1wiY2xvc2VcIjpcIm9wZW5cIl0oKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMub3B0aW9ucyxkPWEoXCJib2R5ID4gOm1vYmlsZS1wYW5lbFwiKS5sZW5ndGgrYS5tb2JpbGUuYWN0aXZlUGFnZS5maW5kKFwiOm1vYmlsZS1wYW5lbFwiKS5sZW5ndGg+MTtcIm92ZXJsYXlcIiE9PWMuZGlzcGxheSYmKGI9YShcImJvZHkgPiA6bW9iaWxlLXBhbmVsXCIpLmFkZChhLm1vYmlsZS5hY3RpdmVQYWdlLmZpbmQoXCI6bW9iaWxlLXBhbmVsXCIpKSwwPT09Yi5ub3QoXCIudWktcGFuZWwtZGlzcGxheS1vdmVybGF5XCIpLm5vdCh0aGlzLmVsZW1lbnQpLmxlbmd0aCYmdGhpcy5fd3JhcHBlci5jaGlsZHJlbigpLnVud3JhcCgpLHRoaXMuX29wZW4mJih0aGlzLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4K1wiLW9wZW5cIiksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZjLmFuaW1hdGUmJnRoaXMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhjLmNsYXNzZXMuYW5pbWF0ZSksdGhpcy5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGMuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKSxjLnRoZW1lJiZ0aGlzLl9wYWdlKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLnBhZ2VDb250YWluZXIrXCItdGhlbWVkIFwiK2MuY2xhc3Nlcy5wYWdlQ29udGFpbmVyK1wiLVwiK2MudGhlbWUpKSksZHx8dGhpcy5kb2N1bWVudC5vZmYoXCJwYW5lbG9wZW4gcGFuZWxjbG9zZVwiKSx0aGlzLl9vcGVuJiZ0aGlzLl9wYWdlKCkuanFtUmVtb3ZlRGF0YShcInBhbmVsXCIpLHRoaXMuX3BhbmVsSW5uZXIuY2hpbGRyZW4oKS51bndyYXAoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoW3RoaXMuX2dldFBhbmVsQ2xhc3NlcygpLGMuY2xhc3Nlcy5wYW5lbE9wZW4sYy5jbGFzc2VzLmFuaW1hdGVdLmpvaW4oXCIgXCIpKS5vZmYoXCJzd2lwZWxlZnQucGFuZWwgc3dpcGVyaWdodC5wYW5lbFwiKS5vZmYoXCJwYW5lbGJlZm9yZW9wZW5cIikub2ZmKFwicGFuZWxoaWRlXCIpLm9mZihcImtleXVwLnBhbmVsXCIpLm9mZihcInVwZGF0ZWxheW91dFwiKSx0aGlzLl9tb2RhbCYmdGhpcy5fbW9kYWwucmVtb3ZlKCl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoXCJtb2JpbGUudGFibGVcIix7b3B0aW9uczp7Y2xhc3Nlczp7dGFibGU6XCJ1aS10YWJsZVwifSxlbmhhbmNlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnRhYmxlKSxhLmV4dGVuZCh0aGlzLHtoZWFkZXJzOmIsYWxsSGVhZGVyczpifSksdGhpcy5fcmVmcmVzaCghMCl9LF9zZXRIZWFkZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LmZpbmQoXCJ0aGVhZCB0clwiKTt0aGlzLmhlYWRlcnM9dGhpcy5lbGVtZW50LmZpbmQoXCJ0cjplcSgwKVwiKS5jaGlsZHJlbigpLHRoaXMuYWxsSGVhZGVycz10aGlzLmhlYWRlcnMuYWRkKGEuY2hpbGRyZW4oKSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoKCl9LHJlYnVpbGQ6YS5ub29wLF9yZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5maW5kKFwidGhlYWQgdHJcIik7dGhpcy5fc2V0SGVhZGVycygpLGMuZWFjaChmdW5jdGlvbigpe3ZhciBkPTA7YSh0aGlzKS5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKXt2YXIgZSxmPXBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKFwiY29sc3BhblwiKSwxMCksZz1cIjpudGgtY2hpbGQoXCIrKGQrMSkrXCIpXCI7aWYodGhpcy5zZXRBdHRyaWJ1dGUoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1wiY29sc3RhcnRcIixkKzEpLGYpZm9yKGU9MDtmLTE+ZTtlKyspZCsrLGcrPVwiLCA6bnRoLWNoaWxkKFwiKyhkKzEpK1wiKVwiO2EodGhpcykuanFtRGF0YShcImNlbGxzXCIsYi5maW5kKFwidHJcIikubm90KGMuZXEoMCkpLm5vdCh0aGlzKS5jaGlsZHJlbihnKSksZCsrfSl9KX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoXCJtb2JpbGUudGFibGVcIixhLm1vYmlsZS50YWJsZSx7b3B0aW9uczp7bW9kZTpcImNvbHVtbnRvZ2dsZVwiLGNvbHVtbkJ0blRoZW1lOm51bGwsY29sdW1uUG9wdXBUaGVtZTpudWxsLGNvbHVtbkJ0blRleHQ6XCJDb2x1bW5zLi4uXCIsY2xhc3NlczphLmV4dGVuZChhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzLHtwb3B1cDpcInVpLXRhYmxlLWNvbHVtbnRvZ2dsZS1wb3B1cFwiLGNvbHVtbkJ0bjpcInVpLXRhYmxlLWNvbHVtbnRvZ2dsZS1idG5cIixwcmlvcml0eVByZWZpeDpcInVpLXRhYmxlLXByaW9yaXR5LVwiLGNvbHVtblRvZ2dsZVRhYmxlOlwidWktdGFibGUtY29sdW1udG9nZ2xlXCJ9KX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksXCJjb2x1bW50b2dnbGVcIj09PXRoaXMub3B0aW9ucy5tb2RlJiYoYS5leHRlbmQodGhpcyx7X21lbnU6bnVsbH0pLHRoaXMub3B0aW9ucy5lbmhhbmNlZD8odGhpcy5fbWVudT1hKHRoaXMuZG9jdW1lbnRbMF0uZ2V0RWxlbWVudEJ5SWQodGhpcy5faWQoKStcIi1wb3B1cFwiKSkuY2hpbGRyZW4oKS5maXJzdCgpLHRoaXMuX2FkZFRvZ2dsZXModGhpcy5fbWVudSwhMCkpOih0aGlzLl9tZW51PXRoaXMuX2VuaGFuY2VDb2xUb2dnbGUoKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMuY29sdW1uVG9nZ2xlVGFibGUpKSx0aGlzLl9zZXR1cEV2ZW50cygpLHRoaXMuX3NldFRvZ2dsZVN0YXRlKCkpfSxfaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoXCJpZFwiKXx8dGhpcy53aWRnZXROYW1lK3RoaXMudXVpZH0sX3NldHVwRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5fb24odGhpcy53aW5kb3cse3Rocm90dGxlZHJlc2l6ZTpcIl9zZXRUb2dnbGVTdGF0ZVwifSksdGhpcy5fb24odGhpcy5fbWVudSx7XCJjaGFuZ2UgaW5wdXRcIjpcIl9tZW51SW5wdXRDaGFuZ2VcIn0pfSxfYWRkVG9nZ2xlczpmdW5jdGlvbihiLGMpe3ZhciBkLGU9MCxmPXRoaXMub3B0aW9ucyxnPWIuY29udHJvbGdyb3VwKFwiY29udGFpbmVyXCIpO2M/ZD1iLmZpbmQoXCJpbnB1dFwiKTpnLmVtcHR5KCksdGhpcy5oZWFkZXJzLm5vdChcInRkXCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYixoLGk9YSh0aGlzKSxqPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLFwicHJpb3JpdHlcIik7aiYmKGg9aS5hZGQoaS5qcW1EYXRhKFwiY2VsbHNcIikpLGguYWRkQ2xhc3MoZi5jbGFzc2VzLnByaW9yaXR5UHJlZml4K2opLGI9KGM/ZC5lcShlKyspOmEoXCI8bGFiZWw+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBjaGVja2VkIC8+XCIrKGkuY2hpbGRyZW4oXCJhYmJyXCIpLmZpcnN0KCkuYXR0cihcInRpdGxlXCIpfHxpLnRleHQoKSkrXCI8L2xhYmVsPlwiKS5hcHBlbmRUbyhnKS5jaGlsZHJlbigwKS5jaGVja2JveHJhZGlvKHt0aGVtZTpmLmNvbHVtblBvcHVwVGhlbWV9KSkuanFtRGF0YShcImhlYWRlclwiLGkpLmpxbURhdGEoXCJjZWxsc1wiLGgpLGkuanFtRGF0YShcImlucHV0XCIsYikpfSksY3x8Yi5jb250cm9sZ3JvdXAoXCJyZWZyZXNoXCIpfSxfbWVudUlucHV0Q2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Y1swXS5jaGVja2VkO2MuanFtRGF0YShcImNlbGxzXCIpLnRvZ2dsZUNsYXNzKFwidWktdGFibGUtY2VsbC1oaWRkZW5cIiwhZCkudG9nZ2xlQ2xhc3MoXCJ1aS10YWJsZS1jZWxsLXZpc2libGVcIixkKX0sX3VubG9ja0NlbGxzOmZ1bmN0aW9uKGEpe2EucmVtb3ZlQ2xhc3MoXCJ1aS10YWJsZS1jZWxsLWhpZGRlbiB1aS10YWJsZS1jZWxsLXZpc2libGVcIil9LF9lbmhhbmNlQ29sVG9nZ2xlOmZ1bmN0aW9uKCl7dmFyIGIsYyxkLGUsZj10aGlzLmVsZW1lbnQsZz10aGlzLm9wdGlvbnMsaD1hLm1vYmlsZS5ucyxpPXRoaXMuZG9jdW1lbnRbMF0uY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3JldHVybiBiPXRoaXMuX2lkKCkrXCItcG9wdXBcIixjPWEoXCI8YSBocmVmPScjXCIrYitcIicgY2xhc3M9J1wiK2cuY2xhc3Nlcy5jb2x1bW5CdG4rXCIgdWktYnRuIHVpLWJ0bi1cIisoZy5jb2x1bW5CdG5UaGVtZXx8XCJhXCIpK1wiIHVpLWNvcm5lci1hbGwgdWktc2hhZG93IHVpLW1pbmknIGRhdGEtXCIraCtcInJlbD0ncG9wdXAnPlwiK2cuY29sdW1uQnRuVGV4dCtcIjwvYT5cIiksZD1hKFwiPGRpdiBjbGFzcz0nXCIrZy5jbGFzc2VzLnBvcHVwK1wiJyBpZD0nXCIrYitcIic+PC9kaXY+XCIpLGU9YShcIjxmaWVsZHNldD48L2ZpZWxkc2V0PlwiKS5jb250cm9sZ3JvdXAoKSx0aGlzLl9hZGRUb2dnbGVzKGUsITEpLGUuYXBwZW5kVG8oZCksaS5hcHBlbmRDaGlsZChkWzBdKSxpLmFwcGVuZENoaWxkKGNbMF0pLGYuYmVmb3JlKGkpLGQucG9wdXAoKSxlfSxyZWJ1aWxkOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSxcImNvbHVtbnRvZ2dsZVwiPT09dGhpcy5vcHRpb25zLm1vZGUmJnRoaXMuX3JlZnJlc2goITEpfSxfcmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgYyxkLGU7aWYodGhpcy5fc3VwZXIoYiksIWImJlwiY29sdW1udG9nZ2xlXCI9PT10aGlzLm9wdGlvbnMubW9kZSlmb3IoYz10aGlzLmhlYWRlcnMsZD1bXSx0aGlzLl9tZW51LmZpbmQoXCJpbnB1dFwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxlPWIuanFtRGF0YShcImhlYWRlclwiKSxmPWMuaW5kZXgoZVswXSk7Zj4tMSYmIWIucHJvcChcImNoZWNrZWRcIikmJmQucHVzaChmKX0pLHRoaXMuX3VubG9ja0NlbGxzKHRoaXMuZWxlbWVudC5maW5kKFwiLnVpLXRhYmxlLWNlbGwtaGlkZGVuLCAudWktdGFibGUtY2VsbC12aXNpYmxlXCIpKSx0aGlzLl9hZGRUb2dnbGVzKHRoaXMuX21lbnUsYiksZT1kLmxlbmd0aC0xO2U+LTE7ZS0tKWMuZXEoZFtlXSkuanFtRGF0YShcImlucHV0XCIpLnByb3AoXCJjaGVja2VkXCIsITEpLmNoZWNrYm94cmFkaW8oXCJyZWZyZXNoXCIpLnRyaWdnZXIoXCJjaGFuZ2VcIil9LF9zZXRUb2dnbGVTdGF0ZTpmdW5jdGlvbigpe3RoaXMuX21lbnUuZmluZChcImlucHV0XCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO3RoaXMuY2hlY2tlZD1cInRhYmxlLWNlbGxcIj09PWIuanFtRGF0YShcImNlbGxzXCIpLmVxKDApLmNzcyhcImRpc3BsYXlcIiksYi5jaGVja2JveHJhZGlvKFwicmVmcmVzaFwiKX0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCl9fSl9KGEpLGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KFwibW9iaWxlLnRhYmxlXCIsYS5tb2JpbGUudGFibGUse29wdGlvbnM6e21vZGU6XCJyZWZsb3dcIixjbGFzc2VzOmEuZXh0ZW5kKGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXMse3JlZmxvd1RhYmxlOlwidWktdGFibGUtcmVmbG93XCIsY2VsbExhYmVsczpcInVpLXRhYmxlLWNlbGwtbGFiZWxcIn0pfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSxcInJlZmxvd1wiPT09dGhpcy5vcHRpb25zLm1vZGUmJih0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fCh0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucmVmbG93VGFibGUpLHRoaXMuX3VwZGF0ZVJlZmxvdygpKSl9LHJlYnVpbGQ6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLFwicmVmbG93XCI9PT10aGlzLm9wdGlvbnMubW9kZSYmdGhpcy5fcmVmcmVzaCghMSl9LF9yZWZyZXNoOmZ1bmN0aW9uKGEpe3RoaXMuX3N1cGVyKGEpLGF8fFwicmVmbG93XCIhPT10aGlzLm9wdGlvbnMubW9kZXx8dGhpcy5fdXBkYXRlUmVmbG93KCl9LF91cGRhdGVSZWZsb3c6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9dGhpcy5vcHRpb25zO2EoYi5hbGxIZWFkZXJzLmdldCgpLnJldmVyc2UoKSkuZWFjaChmdW5jdGlvbigpe3ZhciBkLGUsZj1hKHRoaXMpLmpxbURhdGEoXCJjZWxsc1wiKSxnPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLFwiY29sc3RhcnRcIiksaD1mLm5vdCh0aGlzKS5maWx0ZXIoXCJ0aGVhZCB0aFwiKS5sZW5ndGgmJlwiIHVpLXRhYmxlLWNlbGwtbGFiZWwtdG9wXCIsaT1hKHRoaXMpLmNsb25lKCkuY29udGVudHMoKTtpLmxlbmd0aD4wJiYoaD8oZD1wYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZShcImNvbHNwYW5cIiksMTApLGU9XCJcIixkJiYoZT1cInRkOm50aC1jaGlsZChcIitkK1wibiArIFwiK2crXCIpXCIpLGIuX2FkZExhYmVscyhmLmZpbHRlcihlKSxjLmNsYXNzZXMuY2VsbExhYmVscytoLGkpKTpiLl9hZGRMYWJlbHMoZixjLmNsYXNzZXMuY2VsbExhYmVscyxpKSl9KX0sX2FkZExhYmVsczpmdW5jdGlvbihiLGMsZCl7MT09PWQubGVuZ3RoJiZcImFiYnJcIj09PWRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKGQ9ZC5lcSgwKS5hdHRyKFwidGl0bGVcIikpLGIubm90KFwiOmhhcyhiLlwiK2MrXCIpXCIpLnByZXBlbmQoYShcIjxiIGNsYXNzPSdcIitjK1wiJz48L2I+XCIpLmFwcGVuZChkKSl9fSl9KGEpLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9ZnVuY3Rpb24oYixjKXtyZXR1cm4tMT09PShcIlwiKyhhLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcyxcImZpbHRlcnRleHRcIil8fGEodGhpcykudGV4dCgpKSkudG9Mb3dlckNhc2UoKS5pbmRleE9mKGMpfTthLndpZGdldChcIm1vYmlsZS5maWx0ZXJhYmxlXCIse2luaXRTZWxlY3RvcjpcIjpqcW1EYXRhKGZpbHRlcj0ndHJ1ZScpXCIsb3B0aW9uczp7ZmlsdGVyUmV2ZWFsOiExLGZpbHRlckNhbGxiYWNrOmQsZW5oYW5jZWQ6ITEsaW5wdXQ6bnVsbCxjaGlsZHJlbjpcIj4gbGksID4gb3B0aW9uLCA+IG9wdGdyb3VwIG9wdGlvbiwgPiB0Ym9keSB0ciwgPiAudWktY29udHJvbGdyb3VwLWNvbnRyb2xzID4gLnVpLWJ0biwgPiAudWktY29udHJvbGdyb3VwLWNvbnRyb2xzID4gLnVpLWNoZWNrYm94LCA+IC51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgPiAudWktcmFkaW9cIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9uczthLmV4dGVuZCh0aGlzLHtfc2VhcmNoOm51bGwsX3RpbWVyOjB9KSx0aGlzLl9zZXRJbnB1dChiLmlucHV0KSxiLmVuaGFuY2VkfHx0aGlzLl9maWx0ZXJJdGVtcygodGhpcy5fc2VhcmNoJiZ0aGlzLl9zZWFyY2gudmFsKCl8fFwiXCIpLnRvTG93ZXJDYXNlKCkpfSxfb25LZXlVcDpmdW5jdGlvbigpe3ZhciBjLGQsZT10aGlzLl9zZWFyY2g7aWYoZSl7aWYoYz1lLnZhbCgpLnRvTG93ZXJDYXNlKCksZD1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZVswXSxcImxhc3R2YWxcIikrXCJcIixkJiZkPT09YylyZXR1cm47dGhpcy5fdGltZXImJihiLmNsZWFyVGltZW91dCh0aGlzLl90aW1lciksdGhpcy5fdGltZXI9MCksdGhpcy5fdGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcihcImJlZm9yZWZpbHRlclwiLG51bGwse2lucHV0OmV9KT09PSExPyExOihlWzBdLnNldEF0dHJpYnV0ZShcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJsYXN0dmFsXCIsYyksdGhpcy5fZmlsdGVySXRlbXMoYyksdm9pZCh0aGlzLl90aW1lcj0wKSl9LDI1MCl9fSxfZ2V0RmlsdGVyYWJsZUl0ZW1zOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zLmNoaWxkcmVuLGQ9Yz9hLmlzRnVuY3Rpb24oYyk/YygpOmMubm9kZU5hbWU/YShjKTpjLmpxdWVyeT9jOnRoaXMuZWxlbWVudC5maW5kKGMpOntsZW5ndGg6MH07cmV0dXJuIDA9PT1kLmxlbmd0aCYmKGQ9Yi5jaGlsZHJlbigpKSxkfSxfZmlsdGVySXRlbXM6ZnVuY3Rpb24oYil7dmFyIGMsZSxmLGcsaD1bXSxpPVtdLGo9dGhpcy5vcHRpb25zLGs9dGhpcy5fZ2V0RmlsdGVyYWJsZUl0ZW1zKCk7aWYobnVsbCE9Yilmb3IoZT1qLmZpbHRlckNhbGxiYWNrfHxkLGY9ay5sZW5ndGgsYz0wO2Y+YztjKyspZz1lLmNhbGwoa1tjXSxjLGIpP2k6aCxnLnB1c2goa1tjXSk7MD09PWkubGVuZ3RoP2tbai5maWx0ZXJSZXZlYWwmJjA9PT1iLmxlbmd0aD9cImFkZENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiXShcInVpLXNjcmVlbi1oaWRkZW5cIik6KGEoaSkuYWRkQ2xhc3MoXCJ1aS1zY3JlZW4taGlkZGVuXCIpLGEoaCkucmVtb3ZlQ2xhc3MoXCJ1aS1zY3JlZW4taGlkZGVuXCIpKSx0aGlzLl9yZWZyZXNoQ2hpbGRXaWRnZXQoKSx0aGlzLl90cmlnZ2VyKFwiZmlsdGVyXCIsbnVsbCx7aXRlbXM6a30pfSxfcmVmcmVzaENoaWxkV2lkZ2V0OmZ1bmN0aW9uKCl7dmFyIGIsYyxkPVtcImNvbGxhcHNpYmxlc2V0XCIsXCJzZWxlY3RtZW51XCIsXCJjb250cm9sZ3JvdXBcIixcImxpc3R2aWV3XCJdO2ZvcihjPWQubGVuZ3RoLTE7Yz4tMTtjLS0pYj1kW2NdLGEubW9iaWxlW2JdJiYoYj10aGlzLmVsZW1lbnQuZGF0YShcIm1vYmlsZS1cIitiKSxiJiZhLmlzRnVuY3Rpb24oYi5yZWZyZXNoKSYmYi5yZWZyZXNoKCkpfSxfc2V0SW5wdXQ6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5fc2VhcmNoO3RoaXMuX3RpbWVyJiYoYi5jbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLHRoaXMuX3RpbWVyPTApLGQmJih0aGlzLl9vZmYoZCxcImtleXVwIGNoYW5nZSBpbnB1dFwiKSxkPW51bGwpLGMmJihkPWMuanF1ZXJ5P2M6Yy5ub2RlTmFtZT9hKGMpOnRoaXMuZG9jdW1lbnQuZmluZChjKSx0aGlzLl9vbihkLHtrZXlkb3duOlwiX29uS2V5RG93blwiLGtleXByZXNzOlwiX29uS2V5UHJlc3NcIixrZXl1cDpcIl9vbktleVVwXCIsY2hhbmdlOlwiX29uS2V5VXBcIixpbnB1dDpcIl9vbktleVVwXCJ9KSksdGhpcy5fc2VhcmNoPWR9LF9vbktleURvd246ZnVuY3Rpb24oYil7Yi5rZXlDb2RlPT09YS51aS5rZXlDb2RlLkVOVEVSJiYoYi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX3ByZXZlbnRLZXlQcmVzcz0hMCl9LF9vbktleVByZXNzOmZ1bmN0aW9uKGEpe3RoaXMuX3ByZXZlbnRLZXlQcmVzcyYmKGEucHJldmVudERlZmF1bHQoKSx0aGlzLl9wcmV2ZW50S2V5UHJlc3M9ITEpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYj0hKGEuZmlsdGVyUmV2ZWFsPT09YyYmYS5maWx0ZXJDYWxsYmFjaz09PWMmJmEuY2hpbGRyZW49PT1jKTt0aGlzLl9zdXBlcihhKSxhLmlucHV0IT09YyYmKHRoaXMuX3NldElucHV0KGEuaW5wdXQpLGI9ITApLGImJnRoaXMucmVmcmVzaCgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucyxiPXRoaXMuX2dldEZpbHRlcmFibGVJdGVtcygpO2EuZW5oYW5jZWQ/Yi50b2dnbGVDbGFzcyhcInVpLXNjcmVlbi1oaWRkZW5cIixhLmZpbHRlclJldmVhbCk6Yi5yZW1vdmVDbGFzcyhcInVpLXNjcmVlbi1oaWRkZW5cIil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl90aW1lciYmKGIuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj0wKSx0aGlzLl9maWx0ZXJJdGVtcygodGhpcy5fc2VhcmNoJiZ0aGlzLl9zZWFyY2gudmFsKCl8fFwiXCIpLnRvTG93ZXJDYXNlKCkpfX0pfShhKSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2IuY2FsbCh0aGlzLGMpLGEuX3N5bmNUZXh0SW5wdXRPcHRpb25zKGMpfX0sZD0vKF58XFxzKXVpLWxpLWRpdmlkZXIoXFxzfCQpLyxlPWEubW9iaWxlLmZpbHRlcmFibGUucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2s7YS5tb2JpbGUuZmlsdGVyYWJsZS5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiF0aGlzLmNsYXNzTmFtZS5tYXRjaChkKSYmZS5jYWxsKHRoaXMsYSxiKX0sYS53aWRnZXQoXCJtb2JpbGUuZmlsdGVyYWJsZVwiLGEubW9iaWxlLmZpbHRlcmFibGUse29wdGlvbnM6e2ZpbHRlclBsYWNlaG9sZGVyOlwiRmlsdGVyIGl0ZW1zLi4uXCIsZmlsdGVyVGhlbWU6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiLGMsZD10aGlzLmVsZW1lbnQsZT1bXCJjb2xsYXBzaWJsZXNldFwiLFwic2VsZWN0bWVudVwiLFwiY29udHJvbGdyb3VwXCIsXCJsaXN0dmlld1wiXSxmPXt9O2Zvcih0aGlzLl9zdXBlcigpLGEuZXh0ZW5kKHRoaXMse193aWRnZXQ6bnVsbH0pLGI9ZS5sZW5ndGgtMTtiPi0xO2ItLSlpZihjPWVbYl0sYS5tb2JpbGVbY10pe2lmKHRoaXMuX3NldFdpZGdldChkLmRhdGEoXCJtb2JpbGUtXCIrYykpKWJyZWFrO2ZbYytcImNyZWF0ZVwiXT1cIl9oYW5kbGVDcmVhdGVcIn10aGlzLl93aWRnZXR8fHRoaXMuX29uKGQsZil9LF9oYW5kbGVDcmVhdGU6ZnVuY3Rpb24oYSl7dGhpcy5fc2V0V2lkZ2V0KHRoaXMuZWxlbWVudC5kYXRhKFwibW9iaWxlLVwiK2EudHlwZS5zdWJzdHJpbmcoMCxhLnR5cGUubGVuZ3RoLTYpKSl9LF90cmlnZ2VyOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5fd2lkZ2V0JiZcIm1vYmlsZS1saXN0dmlld1wiPT09dGhpcy5fd2lkZ2V0LndpZGdldEZ1bGxOYW1lJiZcImJlZm9yZWZpbHRlclwiPT09YSYmdGhpcy5fd2lkZ2V0Ll90cmlnZ2VyKFwiYmVmb3JlZmlsdGVyXCIsYixjKSx0aGlzLl9zdXBlcihhLGIsYyl9LF9zZXRXaWRnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIXRoaXMuX3dpZGdldCYmYSYmKHRoaXMuX3dpZGdldD1hLHRoaXMuX3dpZGdldC5fc2V0T3B0aW9ucz1jKHRoaXMsdGhpcy5fd2lkZ2V0Ll9zZXRPcHRpb25zKSksdGhpcy5fd2lkZ2V0JiYodGhpcy5fc3luY1RleHRJbnB1dE9wdGlvbnModGhpcy5fd2lkZ2V0Lm9wdGlvbnMpLFwibGlzdHZpZXdcIj09PXRoaXMuX3dpZGdldC53aWRnZXROYW1lJiYodGhpcy5fd2lkZ2V0Lm9wdGlvbnMuaGlkZURpdmlkZXJzPSEwLHRoaXMuX3dpZGdldC5lbGVtZW50Lmxpc3R2aWV3KFwicmVmcmVzaFwiKSkpLCEhdGhpcy5fd2lkZ2V0fSxfaXNTZWFyY2hJbnRlcm5hbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWFyY2gmJnRoaXMuX3NlYXJjaC5qcW1EYXRhKFwidWktZmlsdGVyYWJsZS1cIit0aGlzLnV1aWQrXCItaW50ZXJuYWxcIil9LF9zZXRJbnB1dDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLm9wdGlvbnMsZD0hMCxlPXt9O2lmKCFiKXtpZih0aGlzLl9pc1NlYXJjaEludGVybmFsKCkpcmV0dXJuO2Q9ITEsYj1hKFwiPGlucHV0IGRhdGEtXCIrYS5tb2JpbGUubnMrXCJ0eXBlPSdzZWFyY2gnIHBsYWNlaG9sZGVyPSdcIitjLmZpbHRlclBsYWNlaG9sZGVyK1wiJz48L2lucHV0PlwiKS5qcW1EYXRhKFwidWktZmlsdGVyYWJsZS1cIit0aGlzLnV1aWQrXCItaW50ZXJuYWxcIiwhMCksYShcIjxmb3JtIGNsYXNzPSd1aS1maWx0ZXJhYmxlJz48L2Zvcm0+XCIpLmFwcGVuZChiKS5zdWJtaXQoZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGIuYmx1cigpfSkuaW5zZXJ0QmVmb3JlKHRoaXMuZWxlbWVudCksYS5tb2JpbGUudGV4dGlucHV0JiYobnVsbCE9dGhpcy5vcHRpb25zLmZpbHRlclRoZW1lJiYoZS50aGVtZT1jLmZpbHRlclRoZW1lKSxiLnRleHRpbnB1dChlKSl9dGhpcy5fc3VwZXIoYiksdGhpcy5faXNTZWFyY2hJbnRlcm5hbCgpJiZkJiZ0aGlzLl9zZWFyY2guYXR0cihcInBsYWNlaG9sZGVyXCIsdGhpcy5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5fc3VwZXIoYyk7cmV0dXJuIGMuZmlsdGVyUGxhY2Vob2xkZXIhPT1iJiZ0aGlzLl9pc1NlYXJjaEludGVybmFsKCkmJnRoaXMuX3NlYXJjaC5hdHRyKFwicGxhY2Vob2xkZXJcIixjLmZpbHRlclBsYWNlaG9sZGVyKSxjLmZpbHRlclRoZW1lIT09YiYmdGhpcy5fc2VhcmNoJiZhLm1vYmlsZS50ZXh0aW5wdXQmJnRoaXMuX3NlYXJjaC50ZXh0aW5wdXQoXCJvcHRpb25cIixcInRoZW1lXCIsYy5maWx0ZXJUaGVtZSksZH0sX3JlZnJlc2hDaGlsZFdpZGdldDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2hpbmdDaGlsZFdpZGdldD0hMCx0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyksdGhpcy5fcmVmcmVzaGluZ0NoaWxkV2lkZ2V0PSExfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaGluZ0NoaWxkV2lkZ2V0fHx0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5faXNTZWFyY2hJbnRlcm5hbCgpJiZ0aGlzLl9zZWFyY2gucmVtb3ZlKCksdGhpcy5fc3VwZXIoKX0sX3N5bmNUZXh0SW5wdXRPcHRpb25zOmZ1bmN0aW9uKGMpe3ZhciBkLGU9e307aWYodGhpcy5faXNTZWFyY2hJbnRlcm5hbCgpJiZhLm1vYmlsZS50ZXh0aW5wdXQpe2ZvcihkIGluIGEubW9iaWxlLnRleHRpbnB1dC5wcm90b3R5cGUub3B0aW9ucyljW2RdIT09YiYmKGVbZF09XCJ0aGVtZVwiPT09ZCYmbnVsbCE9dGhpcy5vcHRpb25zLmZpbHRlclRoZW1lP3RoaXMub3B0aW9ucy5maWx0ZXJUaGVtZTpjW2RdKTt0aGlzLl9zZWFyY2gudGV4dGlucHV0KFwib3B0aW9uXCIsZSl9fX0pLGEud2lkZ2V0KFwibW9iaWxlLmxpc3R2aWV3XCIsYS5tb2JpbGUubGlzdHZpZXcse29wdGlvbnM6e2ZpbHRlcjohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuZmlsdGVyIT09ITB8fHRoaXMuZWxlbWVudC5kYXRhKFwibW9iaWxlLWZpbHRlcmFibGVcIil8fHRoaXMuZWxlbWVudC5maWx0ZXJhYmxlKCksdGhpcy5fc3VwZXIoKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhO3RoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKSx0aGlzLm9wdGlvbnMuZmlsdGVyPT09ITAmJihhPXRoaXMuZWxlbWVudC5kYXRhKFwibW9iaWxlLWZpbHRlcmFibGVcIiksYSYmYS5yZWZyZXNoKCkpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4rK2V9ZnVuY3Rpb24gZChhKXtyZXR1cm4gYS5oYXNoLmxlbmd0aD4xJiZkZWNvZGVVUklDb21wb25lbnQoYS5ocmVmLnJlcGxhY2UoZixcIlwiKSk9PT1kZWNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZi5yZXBsYWNlKGYsXCJcIikpfXZhciBlPTAsZj0vIy4qJC87YS53aWRnZXQoXCJ1aS50YWJzXCIse3ZlcnNpb246XCJmYWRmMmIzMTJhMDUwNDA0MzY0NTFjNjRiYmZhZjQ4MTRiYzYyYzU2XCIsZGVsYXk6MzAwLG9wdGlvbnM6e2FjdGl2ZTpudWxsLGNvbGxhcHNpYmxlOiExLGV2ZW50OlwiY2xpY2tcIixoZWlnaHRTdHlsZTpcImNvbnRlbnRcIixoaWRlOm51bGwsc2hvdzpudWxsLGFjdGl2YXRlOm51bGwsYmVmb3JlQWN0aXZhdGU6bnVsbCxiZWZvcmVMb2FkOm51bGwsbG9hZDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMub3B0aW9uczt0aGlzLnJ1bm5pbmc9ITEsdGhpcy5lbGVtZW50LmFkZENsYXNzKFwidWktdGFicyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbFwiKS50b2dnbGVDbGFzcyhcInVpLXRhYnMtY29sbGFwc2libGVcIixjLmNvbGxhcHNpYmxlKS5kZWxlZ2F0ZShcIi51aS10YWJzLW5hdiA+IGxpXCIsXCJtb3VzZWRvd25cIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKGIpe2EodGhpcykuaXMoXCIudWktc3RhdGUtZGlzYWJsZWRcIikmJmIucHJldmVudERlZmF1bHQoKX0pLmRlbGVnYXRlKFwiLnVpLXRhYnMtYW5jaG9yXCIsXCJmb2N1c1wiK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oKXthKHRoaXMpLmNsb3Nlc3QoXCJsaVwiKS5pcyhcIi51aS1zdGF0ZS1kaXNhYmxlZFwiKSYmdGhpcy5ibHVyKCl9KSx0aGlzLl9wcm9jZXNzVGFicygpLGMuYWN0aXZlPXRoaXMuX2luaXRpYWxBY3RpdmUoKSxhLmlzQXJyYXkoYy5kaXNhYmxlZCkmJihjLmRpc2FibGVkPWEudW5pcXVlKGMuZGlzYWJsZWQuY29uY2F0KGEubWFwKHRoaXMudGFicy5maWx0ZXIoXCIudWktc3RhdGUtZGlzYWJsZWRcIiksZnVuY3Rpb24oYSl7cmV0dXJuIGIudGFicy5pbmRleChhKX0pKSkuc29ydCgpKSx0aGlzLmFjdGl2ZT10aGlzLm9wdGlvbnMuYWN0aXZlIT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGg/dGhpcy5fZmluZEFjdGl2ZShjLmFjdGl2ZSk6YSgpLHRoaXMuX3JlZnJlc2goKSx0aGlzLmFjdGl2ZS5sZW5ndGgmJnRoaXMubG9hZChjLmFjdGl2ZSl9LF9pbml0aWFsQWN0aXZlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLmFjdGl2ZSxjPXRoaXMub3B0aW9ucy5jb2xsYXBzaWJsZSxkPWxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpO3JldHVybiBudWxsPT09YiYmKGQmJnRoaXMudGFicy5lYWNoKGZ1bmN0aW9uKGMsZSl7cmV0dXJuIGEoZSkuYXR0cihcImFyaWEtY29udHJvbHNcIik9PT1kPyhiPWMsITEpOnZvaWQgMH0pLG51bGw9PT1iJiYoYj10aGlzLnRhYnMuaW5kZXgodGhpcy50YWJzLmZpbHRlcihcIi51aS10YWJzLWFjdGl2ZVwiKSkpLChudWxsPT09Ynx8LTE9PT1iKSYmKGI9dGhpcy50YWJzLmxlbmd0aD8wOiExKSksYiE9PSExJiYoYj10aGlzLnRhYnMuaW5kZXgodGhpcy50YWJzLmVxKGIpKSwtMT09PWImJihiPWM/ITE6MCkpLCFjJiZiPT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGgmJihiPTApLGJ9LF9nZXRDcmVhdGVFdmVudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm57dGFiOnRoaXMuYWN0aXZlLHBhbmVsOnRoaXMuYWN0aXZlLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSk6YSgpfX0sX3RhYktleWRvd246ZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQpLmNsb3Nlc3QoXCJsaVwiKSxkPXRoaXMudGFicy5pbmRleChjKSxlPSEwO2lmKCF0aGlzLl9oYW5kbGVQYWdlTmF2KGIpKXtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIGEudWkua2V5Q29kZS5SSUdIVDpjYXNlIGEudWkua2V5Q29kZS5ET1dOOmQrKzticmVhaztjYXNlIGEudWkua2V5Q29kZS5VUDpjYXNlIGEudWkua2V5Q29kZS5MRUZUOmU9ITEsZC0tO2JyZWFrO2Nhc2UgYS51aS5rZXlDb2RlLkVORDpkPXRoaXMuYW5jaG9ycy5sZW5ndGgtMTticmVhaztjYXNlIGEudWkua2V5Q29kZS5IT01FOmQ9MDticmVhaztjYXNlIGEudWkua2V5Q29kZS5TUEFDRTpyZXR1cm4gYi5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLHZvaWQgdGhpcy5fYWN0aXZhdGUoZCk7Y2FzZSBhLnVpLmtleUNvZGUuRU5URVI6cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx2b2lkIHRoaXMuX2FjdGl2YXRlKGQ9PT10aGlzLm9wdGlvbnMuYWN0aXZlPyExOmQpO2RlZmF1bHQ6cmV0dXJufWIucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSxkPXRoaXMuX2ZvY3VzTmV4dFRhYihkLGUpLGIuY3RybEtleXx8KGMuYXR0cihcImFyaWEtc2VsZWN0ZWRcIixcImZhbHNlXCIpLHRoaXMudGFicy5lcShkKS5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLFwidHJ1ZVwiKSx0aGlzLmFjdGl2YXRpbmc9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLm9wdGlvbihcImFjdGl2ZVwiLGQpfSx0aGlzLmRlbGF5KSl9fSxfcGFuZWxLZXlkb3duOmZ1bmN0aW9uKGIpe3RoaXMuX2hhbmRsZVBhZ2VOYXYoYil8fGIuY3RybEtleSYmYi5rZXlDb2RlPT09YS51aS5rZXlDb2RlLlVQJiYoYi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuYWN0aXZlLmZvY3VzKCkpfSxfaGFuZGxlUGFnZU5hdjpmdW5jdGlvbihiKXtyZXR1cm4gYi5hbHRLZXkmJmIua2V5Q29kZT09PWEudWkua2V5Q29kZS5QQUdFX1VQPyh0aGlzLl9hY3RpdmF0ZSh0aGlzLl9mb2N1c05leHRUYWIodGhpcy5vcHRpb25zLmFjdGl2ZS0xLCExKSksITApOmIuYWx0S2V5JiZiLmtleUNvZGU9PT1hLnVpLmtleUNvZGUuUEFHRV9ET1dOPyh0aGlzLl9hY3RpdmF0ZSh0aGlzLl9mb2N1c05leHRUYWIodGhpcy5vcHRpb25zLmFjdGl2ZSsxLCEwKSksITApOnZvaWQgMH0sX2ZpbmROZXh0VGFiOmZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZCgpe3JldHVybiBiPmUmJihiPTApLDA+YiYmKGI9ZSksYn1mb3IodmFyIGU9dGhpcy50YWJzLmxlbmd0aC0xOy0xIT09YS5pbkFycmF5KGQoKSx0aGlzLm9wdGlvbnMuZGlzYWJsZWQpOyliPWM/YisxOmItMTtyZXR1cm4gYn0sX2ZvY3VzTmV4dFRhYjpmdW5jdGlvbihhLGIpe3JldHVybiBhPXRoaXMuX2ZpbmROZXh0VGFiKGEsYiksdGhpcy50YWJzLmVxKGEpLmZvY3VzKCksYX0sX3NldE9wdGlvbjpmdW5jdGlvbihhLGIpe3JldHVyblwiYWN0aXZlXCI9PT1hP3ZvaWQgdGhpcy5fYWN0aXZhdGUoYik6XCJkaXNhYmxlZFwiPT09YT92b2lkIHRoaXMuX3NldHVwRGlzYWJsZWQoYik6KHRoaXMuX3N1cGVyKGEsYiksXCJjb2xsYXBzaWJsZVwiPT09YSYmKHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcyhcInVpLXRhYnMtY29sbGFwc2libGVcIixiKSxifHx0aGlzLm9wdGlvbnMuYWN0aXZlIT09ITF8fHRoaXMuX2FjdGl2YXRlKDApKSxcImV2ZW50XCI9PT1hJiZ0aGlzLl9zZXR1cEV2ZW50cyhiKSx2b2lkKFwiaGVpZ2h0U3R5bGVcIj09PWEmJnRoaXMuX3NldHVwSGVpZ2h0U3R5bGUoYikpKX0sX3RhYklkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmF0dHIoXCJhcmlhLWNvbnRyb2xzXCIpfHxcInVpLXRhYnMtXCIrYygpfSxfc2FuaXRpemVTZWxlY3RvcjpmdW5jdGlvbihhKXtyZXR1cm4gYT9hLnJlcGxhY2UoL1shXCIkJSYnKCkqKywuXFwvOjs8PT4/QFxcW1xcXVxcXmB7fH1+XS9nLFwiXFxcXCQmXCIpOlwiXCJ9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz10aGlzLnRhYmxpc3QuY2hpbGRyZW4oXCI6aGFzKGFbaHJlZl0pXCIpO2IuZGlzYWJsZWQ9YS5tYXAoYy5maWx0ZXIoXCIudWktc3RhdGUtZGlzYWJsZWRcIiksZnVuY3Rpb24oYSl7cmV0dXJuIGMuaW5kZXgoYSl9KSx0aGlzLl9wcm9jZXNzVGFicygpLGIuYWN0aXZlIT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGg/dGhpcy5hY3RpdmUubGVuZ3RoJiYhYS5jb250YWlucyh0aGlzLnRhYmxpc3RbMF0sdGhpcy5hY3RpdmVbMF0pP3RoaXMudGFicy5sZW5ndGg9PT1iLmRpc2FibGVkLmxlbmd0aD8oYi5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9YSgpKTp0aGlzLl9hY3RpdmF0ZSh0aGlzLl9maW5kTmV4dFRhYihNYXRoLm1heCgwLGIuYWN0aXZlLTEpLCExKSk6Yi5hY3RpdmU9dGhpcy50YWJzLmluZGV4KHRoaXMuYWN0aXZlKTooYi5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9YSgpKSx0aGlzLl9yZWZyZXNoKCl9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fc2V0dXBEaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpLHRoaXMuX3NldHVwRXZlbnRzKHRoaXMub3B0aW9ucy5ldmVudCksdGhpcy5fc2V0dXBIZWlnaHRTdHlsZSh0aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUpLHRoaXMudGFicy5ub3QodGhpcy5hY3RpdmUpLmF0dHIoe1wiYXJpYS1zZWxlY3RlZFwiOlwiZmFsc2VcIix0YWJJbmRleDotMX0pLHRoaXMucGFuZWxzLm5vdCh0aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSkpLmhpZGUoKS5hdHRyKHtcImFyaWEtZXhwYW5kZWRcIjpcImZhbHNlXCIsXCJhcmlhLWhpZGRlblwiOlwidHJ1ZVwifSksdGhpcy5hY3RpdmUubGVuZ3RoPyh0aGlzLmFjdGl2ZS5hZGRDbGFzcyhcInVpLXRhYnMtYWN0aXZlIHVpLXN0YXRlLWFjdGl2ZVwiKS5hdHRyKHtcImFyaWEtc2VsZWN0ZWRcIjpcInRydWVcIix0YWJJbmRleDowfSksdGhpcy5fZ2V0UGFuZWxGb3JUYWIodGhpcy5hY3RpdmUpLnNob3coKS5hdHRyKHtcImFyaWEtZXhwYW5kZWRcIjpcInRydWVcIixcImFyaWEtaGlkZGVuXCI6XCJmYWxzZVwifSkpOnRoaXMudGFicy5lcSgwKS5hdHRyKFwidGFiSW5kZXhcIiwwKX0sX3Byb2Nlc3NUYWJzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLnRhYmxpc3Q9dGhpcy5fZ2V0TGlzdCgpLmFkZENsYXNzKFwidWktdGFicy1uYXYgdWktaGVscGVyLXJlc2V0IHVpLWhlbHBlci1jbGVhcmZpeCB1aS13aWRnZXQtaGVhZGVyIHVpLWNvcm5lci1hbGxcIikuYXR0cihcInJvbGVcIixcInRhYmxpc3RcIiksdGhpcy50YWJzPXRoaXMudGFibGlzdC5maW5kKFwiPiBsaTpoYXMoYVtocmVmXSlcIikuYWRkQ2xhc3MoXCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci10b3BcIikuYXR0cih7cm9sZTpcInRhYlwiLHRhYkluZGV4Oi0xfSksdGhpcy5hbmNob3JzPXRoaXMudGFicy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYShcImFcIix0aGlzKVswXX0pLmFkZENsYXNzKFwidWktdGFicy1hbmNob3JcIikuYXR0cih7cm9sZTpcInByZXNlbnRhdGlvblwiLHRhYkluZGV4Oi0xfSksdGhpcy5wYW5lbHM9YSgpLHRoaXMuYW5jaG9ycy5lYWNoKGZ1bmN0aW9uKGMsZSl7dmFyIGYsZyxoLGk9YShlKS51bmlxdWVJZCgpLmF0dHIoXCJpZFwiKSxqPWEoZSkuY2xvc2VzdChcImxpXCIpLGs9ai5hdHRyKFwiYXJpYS1jb250cm9sc1wiKTtkKGUpPyhmPWUuaGFzaCxnPWIuZWxlbWVudC5maW5kKGIuX3Nhbml0aXplU2VsZWN0b3IoZikpKTooaD1iLl90YWJJZChqKSxmPVwiI1wiK2gsZz1iLmVsZW1lbnQuZmluZChmKSxnLmxlbmd0aHx8KGc9Yi5fY3JlYXRlUGFuZWwoaCksZy5pbnNlcnRBZnRlcihiLnBhbmVsc1tjLTFdfHxiLnRhYmxpc3QpKSxnLmF0dHIoXCJhcmlhLWxpdmVcIixcInBvbGl0ZVwiKSksZy5sZW5ndGgmJihiLnBhbmVscz1iLnBhbmVscy5hZGQoZykpLGsmJmouZGF0YShcInVpLXRhYnMtYXJpYS1jb250cm9sc1wiLGspLGouYXR0cih7XCJhcmlhLWNvbnRyb2xzXCI6Zi5zdWJzdHJpbmcoMSksXCJhcmlhLWxhYmVsbGVkYnlcIjppfSksZy5hdHRyKFwiYXJpYS1sYWJlbGxlZGJ5XCIsaSl9KSx0aGlzLnBhbmVscy5hZGRDbGFzcyhcInVpLXRhYnMtcGFuZWwgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWJvdHRvbVwiKS5hdHRyKFwicm9sZVwiLFwidGFicGFuZWxcIil9LF9nZXRMaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKFwib2wsdWxcIikuZXEoMCl9LF9jcmVhdGVQYW5lbDpmdW5jdGlvbihiKXtyZXR1cm4gYShcIjxkaXY+XCIpLmF0dHIoXCJpZFwiLGIpLmFkZENsYXNzKFwidWktdGFicy1wYW5lbCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tXCIpLmRhdGEoXCJ1aS10YWJzLWRlc3Ryb3lcIiwhMCl9LF9zZXR1cERpc2FibGVkOmZ1bmN0aW9uKGIpe2EuaXNBcnJheShiKSYmKGIubGVuZ3RoP2IubGVuZ3RoPT09dGhpcy5hbmNob3JzLmxlbmd0aCYmKGI9ITApOmI9ITEpO2Zvcih2YXIgYyxkPTA7Yz10aGlzLnRhYnNbZF07ZCsrKWI9PT0hMHx8LTEhPT1hLmluQXJyYXkoZCxiKT9hKGMpLmFkZENsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIikuYXR0cihcImFyaWEtZGlzYWJsZWRcIixcInRydWVcIik6YShjKS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIpLnJlbW92ZUF0dHIoXCJhcmlhLWRpc2FibGVkXCIpO3RoaXMub3B0aW9ucy5kaXNhYmxlZD1ifSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oYil7dmFyIGM9e2NsaWNrOmZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX19O2ImJmEuZWFjaChiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhLGIpe2NbYl09XCJfZXZlbnRIYW5kbGVyXCJ9KSx0aGlzLl9vZmYodGhpcy5hbmNob3JzLmFkZCh0aGlzLnRhYnMpLmFkZCh0aGlzLnBhbmVscykpLHRoaXMuX29uKHRoaXMuYW5jaG9ycyxjKSx0aGlzLl9vbih0aGlzLnRhYnMse2tleWRvd246XCJfdGFiS2V5ZG93blwifSksdGhpcy5fb24odGhpcy5wYW5lbHMse2tleWRvd246XCJfcGFuZWxLZXlkb3duXCJ9KSx0aGlzLl9mb2N1c2FibGUodGhpcy50YWJzKSx0aGlzLl9ob3ZlcmFibGUodGhpcy50YWJzKX0sX3NldHVwSGVpZ2h0U3R5bGU6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLmVsZW1lbnQucGFyZW50KCk7XCJmaWxsXCI9PT1iPyhjPWQuaGVpZ2h0KCksYy09dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCktdGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuZWxlbWVudC5zaWJsaW5ncyhcIjp2aXNpYmxlXCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGQ9Yi5jc3MoXCJwb3NpdGlvblwiKTtcImFic29sdXRlXCIhPT1kJiZcImZpeGVkXCIhPT1kJiYoYy09Yi5vdXRlckhlaWdodCghMCkpfSksdGhpcy5lbGVtZW50LmNoaWxkcmVuKCkubm90KHRoaXMucGFuZWxzKS5lYWNoKGZ1bmN0aW9uKCl7Yy09YSh0aGlzKS5vdXRlckhlaWdodCghMClcbn0pLHRoaXMucGFuZWxzLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmhlaWdodChNYXRoLm1heCgwLGMtYSh0aGlzKS5pbm5lckhlaWdodCgpK2EodGhpcykuaGVpZ2h0KCkpKX0pLmNzcyhcIm92ZXJmbG93XCIsXCJhdXRvXCIpKTpcImF1dG9cIj09PWImJihjPTAsdGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpe2M9TWF0aC5tYXgoYyxhKHRoaXMpLmhlaWdodChcIlwiKS5oZWlnaHQoKSl9KS5oZWlnaHQoYykpfSxfZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMub3B0aW9ucyxkPXRoaXMuYWN0aXZlLGU9YShiLmN1cnJlbnRUYXJnZXQpLGY9ZS5jbG9zZXN0KFwibGlcIiksZz1mWzBdPT09ZFswXSxoPWcmJmMuY29sbGFwc2libGUsaT1oP2EoKTp0aGlzLl9nZXRQYW5lbEZvclRhYihmKSxqPWQubGVuZ3RoP3RoaXMuX2dldFBhbmVsRm9yVGFiKGQpOmEoKSxrPXtvbGRUYWI6ZCxvbGRQYW5lbDpqLG5ld1RhYjpoP2EoKTpmLG5ld1BhbmVsOml9O2IucHJldmVudERlZmF1bHQoKSxmLmhhc0NsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIil8fGYuaGFzQ2xhc3MoXCJ1aS10YWJzLWxvYWRpbmdcIil8fHRoaXMucnVubmluZ3x8ZyYmIWMuY29sbGFwc2libGV8fHRoaXMuX3RyaWdnZXIoXCJiZWZvcmVBY3RpdmF0ZVwiLGIsayk9PT0hMXx8KGMuYWN0aXZlPWg/ITE6dGhpcy50YWJzLmluZGV4KGYpLHRoaXMuYWN0aXZlPWc/YSgpOmYsdGhpcy54aHImJnRoaXMueGhyLmFib3J0KCksai5sZW5ndGh8fGkubGVuZ3RofHxhLmVycm9yKFwialF1ZXJ5IFVJIFRhYnM6IE1pc21hdGNoaW5nIGZyYWdtZW50IGlkZW50aWZpZXIuXCIpLGkubGVuZ3RoJiZ0aGlzLmxvYWQodGhpcy50YWJzLmluZGV4KGYpLGIpLHRoaXMuX3RvZ2dsZShiLGspKX0sX3RvZ2dsZTpmdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGQoKXtmLnJ1bm5pbmc9ITEsZi5fdHJpZ2dlcihcImFjdGl2YXRlXCIsYixjKX1mdW5jdGlvbiBlKCl7Yy5uZXdUYWIuY2xvc2VzdChcImxpXCIpLmFkZENsYXNzKFwidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlXCIpLGcubGVuZ3RoJiZmLm9wdGlvbnMuc2hvdz9mLl9zaG93KGcsZi5vcHRpb25zLnNob3csZCk6KGcuc2hvdygpLGQoKSl9dmFyIGY9dGhpcyxnPWMubmV3UGFuZWwsaD1jLm9sZFBhbmVsO3RoaXMucnVubmluZz0hMCxoLmxlbmd0aCYmdGhpcy5vcHRpb25zLmhpZGU/dGhpcy5faGlkZShoLHRoaXMub3B0aW9ucy5oaWRlLGZ1bmN0aW9uKCl7Yy5vbGRUYWIuY2xvc2VzdChcImxpXCIpLnJlbW92ZUNsYXNzKFwidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlXCIpLGUoKX0pOihjLm9sZFRhYi5jbG9zZXN0KFwibGlcIikucmVtb3ZlQ2xhc3MoXCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmVcIiksaC5oaWRlKCksZSgpKSxoLmF0dHIoe1wiYXJpYS1leHBhbmRlZFwiOlwiZmFsc2VcIixcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCJ9KSxjLm9sZFRhYi5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLFwiZmFsc2VcIiksZy5sZW5ndGgmJmgubGVuZ3RoP2Mub2xkVGFiLmF0dHIoXCJ0YWJJbmRleFwiLC0xKTpnLmxlbmd0aCYmdGhpcy50YWJzLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAwPT09YSh0aGlzKS5hdHRyKFwidGFiSW5kZXhcIil9KS5hdHRyKFwidGFiSW5kZXhcIiwtMSksZy5hdHRyKHtcImFyaWEtZXhwYW5kZWRcIjpcInRydWVcIixcImFyaWEtaGlkZGVuXCI6XCJmYWxzZVwifSksYy5uZXdUYWIuYXR0cih7XCJhcmlhLXNlbGVjdGVkXCI6XCJ0cnVlXCIsdGFiSW5kZXg6MH0pfSxfYWN0aXZhdGU6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLl9maW5kQWN0aXZlKGIpO2RbMF0hPT10aGlzLmFjdGl2ZVswXSYmKGQubGVuZ3RofHwoZD10aGlzLmFjdGl2ZSksYz1kLmZpbmQoXCIudWktdGFicy1hbmNob3JcIilbMF0sdGhpcy5fZXZlbnRIYW5kbGVyKHt0YXJnZXQ6YyxjdXJyZW50VGFyZ2V0OmMscHJldmVudERlZmF1bHQ6YS5ub29wfSkpfSxfZmluZEFjdGl2ZTpmdW5jdGlvbihiKXtyZXR1cm4gYj09PSExP2EoKTp0aGlzLnRhYnMuZXEoYil9LF9nZXRJbmRleDpmdW5jdGlvbihhKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9dGhpcy5hbmNob3JzLmluZGV4KHRoaXMuYW5jaG9ycy5maWx0ZXIoXCJbaHJlZiQ9J1wiK2ErXCInXVwiKSkpLGF9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy54aHImJnRoaXMueGhyLmFib3J0KCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktdGFicyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCB1aS10YWJzLWNvbGxhcHNpYmxlXCIpLHRoaXMudGFibGlzdC5yZW1vdmVDbGFzcyhcInVpLXRhYnMtbmF2IHVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsXCIpLnJlbW92ZUF0dHIoXCJyb2xlXCIpLHRoaXMuYW5jaG9ycy5yZW1vdmVDbGFzcyhcInVpLXRhYnMtYW5jaG9yXCIpLnJlbW92ZUF0dHIoXCJyb2xlXCIpLnJlbW92ZUF0dHIoXCJ0YWJJbmRleFwiKS5yZW1vdmVVbmlxdWVJZCgpLHRoaXMudGFicy5hZGQodGhpcy5wYW5lbHMpLmVhY2goZnVuY3Rpb24oKXthLmRhdGEodGhpcyxcInVpLXRhYnMtZGVzdHJveVwiKT9hKHRoaXMpLnJlbW92ZSgpOmEodGhpcykucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLXN0YXRlLWFjdGl2ZSB1aS1zdGF0ZS1kaXNhYmxlZCB1aS1jb3JuZXItdG9wIHVpLWNvcm5lci1ib3R0b20gdWktd2lkZ2V0LWNvbnRlbnQgdWktdGFicy1hY3RpdmUgdWktdGFicy1wYW5lbFwiKS5yZW1vdmVBdHRyKFwidGFiSW5kZXhcIikucmVtb3ZlQXR0cihcImFyaWEtbGl2ZVwiKS5yZW1vdmVBdHRyKFwiYXJpYS1idXN5XCIpLnJlbW92ZUF0dHIoXCJhcmlhLXNlbGVjdGVkXCIpLnJlbW92ZUF0dHIoXCJhcmlhLWxhYmVsbGVkYnlcIikucmVtb3ZlQXR0cihcImFyaWEtaGlkZGVuXCIpLnJlbW92ZUF0dHIoXCJhcmlhLWV4cGFuZGVkXCIpLnJlbW92ZUF0dHIoXCJyb2xlXCIpfSksdGhpcy50YWJzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGM9Yi5kYXRhKFwidWktdGFicy1hcmlhLWNvbnRyb2xzXCIpO2M/Yi5hdHRyKFwiYXJpYS1jb250cm9sc1wiLGMpLnJlbW92ZURhdGEoXCJ1aS10YWJzLWFyaWEtY29udHJvbHNcIik6Yi5yZW1vdmVBdHRyKFwiYXJpYS1jb250cm9sc1wiKX0pLHRoaXMucGFuZWxzLnNob3coKSxcImNvbnRlbnRcIiE9PXRoaXMub3B0aW9ucy5oZWlnaHRTdHlsZSYmdGhpcy5wYW5lbHMuY3NzKFwiaGVpZ2h0XCIsXCJcIil9LGVuYWJsZTpmdW5jdGlvbihjKXt2YXIgZD10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7ZCE9PSExJiYoYz09PWI/ZD0hMTooYz10aGlzLl9nZXRJbmRleChjKSxkPWEuaXNBcnJheShkKT9hLm1hcChkLGZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yz9hOm51bGx9KTphLm1hcCh0aGlzLnRhYnMsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiE9PWM/YjpudWxsfSkpLHRoaXMuX3NldHVwRGlzYWJsZWQoZCkpfSxkaXNhYmxlOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMub3B0aW9ucy5kaXNhYmxlZDtpZihkIT09ITApe2lmKGM9PT1iKWQ9ITA7ZWxzZXtpZihjPXRoaXMuX2dldEluZGV4KGMpLC0xIT09YS5pbkFycmF5KGMsZCkpcmV0dXJuO2Q9YS5pc0FycmF5KGQpP2EubWVyZ2UoW2NdLGQpLnNvcnQoKTpbY119dGhpcy5fc2V0dXBEaXNhYmxlZChkKX19LGxvYWQ6ZnVuY3Rpb24oYixjKXtiPXRoaXMuX2dldEluZGV4KGIpO3ZhciBlPXRoaXMsZj10aGlzLnRhYnMuZXEoYiksZz1mLmZpbmQoXCIudWktdGFicy1hbmNob3JcIiksaD10aGlzLl9nZXRQYW5lbEZvclRhYihmKSxpPXt0YWI6ZixwYW5lbDpofTtkKGdbMF0pfHwodGhpcy54aHI9YS5hamF4KHRoaXMuX2FqYXhTZXR0aW5ncyhnLGMsaSkpLHRoaXMueGhyJiZcImNhbmNlbGVkXCIhPT10aGlzLnhoci5zdGF0dXNUZXh0JiYoZi5hZGRDbGFzcyhcInVpLXRhYnMtbG9hZGluZ1wiKSxoLmF0dHIoXCJhcmlhLWJ1c3lcIixcInRydWVcIiksdGhpcy54aHIuc3VjY2VzcyhmdW5jdGlvbihhKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aC5odG1sKGEpLGUuX3RyaWdnZXIoXCJsb2FkXCIsYyxpKX0sMSl9KS5jb21wbGV0ZShmdW5jdGlvbihhLGIpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtcImFib3J0XCI9PT1iJiZlLnBhbmVscy5zdG9wKCExLCEwKSxmLnJlbW92ZUNsYXNzKFwidWktdGFicy1sb2FkaW5nXCIpLGgucmVtb3ZlQXR0cihcImFyaWEtYnVzeVwiKSxhPT09ZS54aHImJmRlbGV0ZSBlLnhocn0sMSl9KSkpfSxfYWpheFNldHRpbmdzOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzO3JldHVybnt1cmw6Yi5hdHRyKFwiaHJlZlwiKSxiZWZvcmVTZW5kOmZ1bmN0aW9uKGIsZil7cmV0dXJuIGUuX3RyaWdnZXIoXCJiZWZvcmVMb2FkXCIsYyxhLmV4dGVuZCh7anFYSFI6YixhamF4U2V0dGluZ3M6Zn0sZCkpfX19LF9nZXRQYW5lbEZvclRhYjpmdW5jdGlvbihiKXt2YXIgYz1hKGIpLmF0dHIoXCJhcmlhLWNvbnRyb2xzXCIpO3JldHVybiB0aGlzLmVsZW1lbnQuZmluZCh0aGlzLl9zYW5pdGl6ZVNlbGVjdG9yKFwiI1wiK2MpKX19KX0oYSksZnVuY3Rpb24oKXt9KGEpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtlPWEub3JpZ2luYWxFdmVudCxpPWUuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSxmPU1hdGguYWJzKGkueCksZz1NYXRoLmFicyhpLnkpLGg9TWF0aC5hYnMoaS56KSwhYi5vcmllbnRhdGlvbiYmKGY+N3x8KGg+NiYmOD5nfHw4PmgmJmc+NikmJmY+NSk/ZC5lbmFibGVkJiZkLmRpc2FibGUoKTpkLmVuYWJsZWR8fGQuZW5hYmxlKCl9YS5tb2JpbGUuaW9zb3JpZW50YXRpb25maXhFbmFibGVkPSEwO3ZhciBkLGUsZixnLGgsaSxqPW5hdmlnYXRvci51c2VyQWdlbnQ7cmV0dXJuL2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmL09TIFsxLTVdX1swLTlfXSogbGlrZSBNYWMgT1MgWC9pLnRlc3QoaikmJmouaW5kZXhPZihcIkFwcGxlV2ViS2l0XCIpPi0xPyhkPWEubW9iaWxlLnpvb20sdm9pZCBhLm1vYmlsZS5kb2N1bWVudC5vbihcIm1vYmlsZWluaXRcIixmdW5jdGlvbigpe2EubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZCYmYS5tb2JpbGUud2luZG93LmJpbmQoXCJvcmllbnRhdGlvbmNoYW5nZS5pb3NvcmllbnRhdGlvbmZpeFwiLGQuZW5hYmxlKS5iaW5kKFwiZGV2aWNlbW90aW9uLmlvc29yaWVudGF0aW9uZml4XCIsYyl9KSk6dm9pZChhLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQ9ITEpfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixkKXtmdW5jdGlvbiBlKCl7Zi5yZW1vdmVDbGFzcyhcInVpLW1vYmlsZS1yZW5kZXJpbmdcIil9dmFyIGY9YShcImh0bWxcIiksZz1hLm1vYmlsZS53aW5kb3c7YShiLmRvY3VtZW50KS50cmlnZ2VyKFwibW9iaWxlaW5pdFwiKSxhLm1vYmlsZS5ncmFkZUEoKSYmKGEubW9iaWxlLmFqYXhCbGFja2xpc3QmJihhLm1vYmlsZS5hamF4RW5hYmxlZD0hMSksZi5hZGRDbGFzcyhcInVpLW1vYmlsZSB1aS1tb2JpbGUtcmVuZGVyaW5nXCIpLHNldFRpbWVvdXQoZSw1ZTMpLGEuZXh0ZW5kKGEubW9iaWxlLHtpbml0aWFsaXplUGFnZTpmdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLnBhdGgsZj1hKFwiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKVwiKSxoPWIuc3RyaXBIYXNoKGIuc3RyaXBRdWVyeVBhcmFtcyhiLnBhcnNlTG9jYXRpb24oKS5oYXNoKSksaT1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKSxqPWg/Yy5nZXRFbGVtZW50QnlJZChoKTpkO2YubGVuZ3RofHwoZj1hKFwiYm9keVwiKS53cmFwSW5uZXIoXCI8ZGl2IGRhdGEtXCIrYS5tb2JpbGUubnMrXCJyb2xlPSdwYWdlJz48L2Rpdj5cIikuY2hpbGRyZW4oMCkpLGYuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7Y1swXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1widXJsXCIpfHxjLmF0dHIoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1widXJsXCIsYy5hdHRyKFwiaWRcIil8fGIuY29udmVydFVybFRvRGF0YVVybChpLnBhdGhuYW1lK2kuc2VhcmNoKSl9KSxhLm1vYmlsZS5maXJzdFBhZ2U9Zi5maXJzdCgpLGEubW9iaWxlLnBhZ2VDb250YWluZXI9YS5tb2JpbGUuZmlyc3RQYWdlLnBhcmVudCgpLmFkZENsYXNzKFwidWktbW9iaWxlLXZpZXdwb3J0XCIpLnBhZ2Vjb250YWluZXIoKSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkLnJlc29sdmUoKSxnLnRyaWdnZXIoXCJwYWdlY29udGFpbmVyY3JlYXRlXCIpLGEubW9iaWxlLmxvYWRpbmcoXCJzaG93XCIpLGUoKSxhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCYmYS5tb2JpbGUucGF0aC5pc0hhc2hWYWxpZChsb2NhdGlvbi5oYXNoKSYmKGEoaikuaXMoXCI6anFtRGF0YShyb2xlPSdwYWdlJylcIil8fGEubW9iaWxlLnBhdGguaXNQYXRoKGgpfHxoPT09YS5tb2JpbGUuZGlhbG9nSGFzaEtleSk/YS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpPyhhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnN0YWNrPVtdLGEubW9iaWxlLm5hdmlnYXRlKGEubW9iaWxlLnBhdGguaXNQYXRoKGxvY2F0aW9uLmhhc2gpP2xvY2F0aW9uLmhhc2g6bG9jYXRpb24uaHJlZikpOmcudHJpZ2dlcihcImhhc2hjaGFuZ2VcIixbITBdKTooYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpJiZhLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3Iuc3F1YXNoKGIucGFyc2VMb2NhdGlvbigpLmhyZWYpLGEubW9iaWxlLmNoYW5nZVBhZ2UoYS5tb2JpbGUuZmlyc3RQYWdlLHt0cmFuc2l0aW9uOlwibm9uZVwiLHJldmVyc2U6ITAsY2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMH0pKX19KSxhKGZ1bmN0aW9uKCl7YS5zdXBwb3J0LmlubGluZVNWRygpLGEubW9iaWxlLmhpZGVVcmxCYXImJmIuc2Nyb2xsVG8oMCwxKSxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbD1hLnN1cHBvcnQuc2Nyb2xsVG9wJiYxIT09YS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpPzE6MCxhLm1vYmlsZS5hdXRvSW5pdGlhbGl6ZVBhZ2UmJmEubW9iaWxlLmluaXRpYWxpemVQYWdlKCksYS5tb2JpbGUuaGlkZVVybEJhciYmZy5sb2FkKGEubW9iaWxlLnNpbGVudFNjcm9sbCksYS5zdXBwb3J0LmNzc1BvaW50ZXJFdmVudHN8fGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKFwiLnVpLXN0YXRlLWRpc2FibGVkLC51aS1kaXNhYmxlZFwiLFwidmNsaWNrXCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCl9KX0pKX0oYSx0aGlzKX0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anF1ZXJ5Lm1vYmlsZS0xLjQuNS5taW4ubWFwXG47IGJyb3dzZXJpZnlfc2hpbV9fZGVmaW5lX19tb2R1bGVfX2V4cG9ydF9fKHR5cGVvZiAkLm1vYmlsZSAhPSBcInVuZGVmaW5lZFwiID8gJC5tb2JpbGUgOiB3aW5kb3cuJC5tb2JpbGUpO1xuXG59KS5jYWxsKGdsb2JhbCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24gZGVmaW5lRXhwb3J0KGV4KSB7IG1vZHVsZS5leHBvcnRzID0gZXg7IH0pO1xuIiwiKGZ1bmN0aW9uIGJyb3dzZXJpZnlTaGltKG1vZHVsZSwgZXhwb3J0cywgZGVmaW5lLCBicm93c2VyaWZ5X3NoaW1fX2RlZmluZV9fbW9kdWxlX19leHBvcnRfXykge1xuLyohIGpRdWVyeSB2MS4xMS4xIHwgKGMpIDIwMDUsIDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi9cbiFmdW5jdGlvbihhLGIpe1wib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1hLmRvY3VtZW50P2IoYSwhMCk6ZnVuY3Rpb24oYSl7aWYoIWEuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKFwialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFwiKTtyZXR1cm4gYihhKX06YihhKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9Yy5zbGljZSxlPWMuY29uY2F0LGY9Yy5wdXNoLGc9Yy5pbmRleE9mLGg9e30saT1oLnRvU3RyaW5nLGo9aC5oYXNPd25Qcm9wZXJ0eSxrPXt9LGw9XCIxLjExLjFcIixtPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBtLmZuLmluaXQoYSxiKX0sbj0vXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csbz0vXi1tcy0vLHA9Ly0oW1xcZGEtel0pL2dpLHE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfTttLmZuPW0ucHJvdG90eXBlPXtqcXVlcnk6bCxjb25zdHJ1Y3RvcjptLHNlbGVjdG9yOlwiXCIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBkLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT8wPmE/dGhpc1thK3RoaXMubGVuZ3RoXTp0aGlzW2FdOmQuY2FsbCh0aGlzKX0scHVzaFN0YWNrOmZ1bmN0aW9uKGEpe3ZhciBiPW0ubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGEpO3JldHVybiBiLnByZXZPYmplY3Q9dGhpcyxiLmNvbnRleHQ9dGhpcy5jb250ZXh0LGJ9LGVhY2g6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbS5lYWNoKHRoaXMsYSxiKX0sbWFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhtLm1hcCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuY2FsbChiLGMsYil9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sZW5ndGgsYz0rYSsoMD5hP2I6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGM+PTAmJmI+Yz9bdGhpc1tjXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKG51bGwpfSxwdXNoOmYsc29ydDpjLnNvcnQsc3BsaWNlOmMuc3BsaWNlfSxtLmV4dGVuZD1tLmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnPWFyZ3VtZW50c1swXXx8e30saD0xLGk9YXJndW1lbnRzLmxlbmd0aCxqPSExO2ZvcihcImJvb2xlYW5cIj09dHlwZW9mIGcmJihqPWcsZz1hcmd1bWVudHNbaF18fHt9LGgrKyksXCJvYmplY3RcIj09dHlwZW9mIGd8fG0uaXNGdW5jdGlvbihnKXx8KGc9e30pLGg9PT1pJiYoZz10aGlzLGgtLSk7aT5oO2grKylpZihudWxsIT0oZT1hcmd1bWVudHNbaF0pKWZvcihkIGluIGUpYT1nW2RdLGM9ZVtkXSxnIT09YyYmKGomJmMmJihtLmlzUGxhaW5PYmplY3QoYyl8fChiPW0uaXNBcnJheShjKSkpPyhiPyhiPSExLGY9YSYmbS5pc0FycmF5KGEpP2E6W10pOmY9YSYmbS5pc1BsYWluT2JqZWN0KGEpP2E6e30sZ1tkXT1tLmV4dGVuZChqLGYsYykpOnZvaWQgMCE9PWMmJihnW2RdPWMpKTtyZXR1cm4gZ30sbS5leHRlbmQoe2V4cGFuZG86XCJqUXVlcnlcIisobCtNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cXEQvZyxcIlwiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcihhKX0sbm9vcDpmdW5jdGlvbigpe30saXNGdW5jdGlvbjpmdW5jdGlvbihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PT1tLnR5cGUoYSl9LGlzQXJyYXk6QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oYSl7cmV0dXJuXCJhcnJheVwiPT09bS50eXBlKGEpfSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmYT09YS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXtyZXR1cm4hbS5pc0FycmF5KGEpJiZhLXBhcnNlRmxvYXQoYSk+PTB9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtpZighYXx8XCJvYmplY3RcIiE9PW0udHlwZShhKXx8YS5ub2RlVHlwZXx8bS5pc1dpbmRvdyhhKSlyZXR1cm4hMTt0cnl7aWYoYS5jb25zdHJ1Y3RvciYmIWouY2FsbChhLFwiY29uc3RydWN0b3JcIikmJiFqLmNhbGwoYS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsXCJpc1Byb3RvdHlwZU9mXCIpKXJldHVybiExfWNhdGNoKGMpe3JldHVybiExfWlmKGsub3duTGFzdClmb3IoYiBpbiBhKXJldHVybiBqLmNhbGwoYSxiKTtmb3IoYiBpbiBhKTtyZXR1cm4gdm9pZCAwPT09Ynx8ai5jYWxsKGEsYil9LHR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/YStcIlwiOlwib2JqZWN0XCI9PXR5cGVvZiBhfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhP2hbaS5jYWxsKGEpXXx8XCJvYmplY3RcIjp0eXBlb2YgYX0sZ2xvYmFsRXZhbDpmdW5jdGlvbihiKXtiJiZtLnRyaW0oYikmJihhLmV4ZWNTY3JpcHR8fGZ1bmN0aW9uKGIpe2EuZXZhbC5jYWxsKGEsYil9KShiKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UobyxcIm1zLVwiKS5yZXBsYWNlKHAscSl9LG5vZGVOYW1lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWIudG9Mb3dlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT0wLGY9YS5sZW5ndGgsZz1yKGEpO2lmKGMpe2lmKGcpe2Zvcig7Zj5lO2UrKylpZihkPWIuYXBwbHkoYVtlXSxjKSxkPT09ITEpYnJlYWt9ZWxzZSBmb3IoZSBpbiBhKWlmKGQ9Yi5hcHBseShhW2VdLGMpLGQ9PT0hMSlicmVha31lbHNlIGlmKGcpe2Zvcig7Zj5lO2UrKylpZihkPWIuY2FsbChhW2VdLGUsYVtlXSksZD09PSExKWJyZWFrfWVsc2UgZm9yKGUgaW4gYSlpZihkPWIuY2FsbChhW2VdLGUsYVtlXSksZD09PSExKWJyZWFrO3JldHVybiBhfSx0cmltOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP1wiXCI6KGErXCJcIikucmVwbGFjZShuLFwiXCIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHxbXTtyZXR1cm4gbnVsbCE9YSYmKHIoT2JqZWN0KGEpKT9tLm1lcmdlKGMsXCJzdHJpbmdcIj09dHlwZW9mIGE/W2FdOmEpOmYuY2FsbChjLGEpKSxjfSxpbkFycmF5OmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtpZihiKXtpZihnKXJldHVybiBnLmNhbGwoYixhLGMpO2ZvcihkPWIubGVuZ3RoLGM9Yz8wPmM/TWF0aC5tYXgoMCxkK2MpOmM6MDtkPmM7YysrKWlmKGMgaW4gYiYmYltjXT09PWEpcmV0dXJuIGN9cmV0dXJuLTF9LG1lcmdlOmZ1bmN0aW9uKGEsYil7dmFyIGM9K2IubGVuZ3RoLGQ9MCxlPWEubGVuZ3RoO3doaWxlKGM+ZClhW2UrK109YltkKytdO2lmKGMhPT1jKXdoaWxlKHZvaWQgMCE9PWJbZF0pYVtlKytdPWJbZCsrXTtyZXR1cm4gYS5sZW5ndGg9ZSxhfSxncmVwOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQsZT1bXSxmPTAsZz1hLmxlbmd0aCxoPSFjO2c+ZjtmKyspZD0hYihhW2ZdLGYpLGQhPT1oJiZlLnB1c2goYVtmXSk7cmV0dXJuIGV9LG1hcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZj0wLGc9YS5sZW5ndGgsaD1yKGEpLGk9W107aWYoaClmb3IoO2c+ZjtmKyspZD1iKGFbZl0sZixjKSxudWxsIT1kJiZpLnB1c2goZCk7ZWxzZSBmb3IoZiBpbiBhKWQ9YihhW2ZdLGYsYyksbnVsbCE9ZCYmaS5wdXNoKGQpO3JldHVybiBlLmFwcGx5KFtdLGkpfSxndWlkOjEscHJveHk6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGY7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGImJihmPWFbYl0sYj1hLGE9ZiksbS5pc0Z1bmN0aW9uKGEpPyhjPWQuY2FsbChhcmd1bWVudHMsMiksZT1mdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGJ8fHRoaXMsYy5jb25jYXQoZC5jYWxsKGFyZ3VtZW50cykpKX0sZS5ndWlkPWEuZ3VpZD1hLmd1aWR8fG0uZ3VpZCsrLGUpOnZvaWQgMH0sbm93OmZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfSxzdXBwb3J0Omt9KSxtLmVhY2goXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEsYil7aFtcIltvYmplY3QgXCIrYitcIl1cIl09Yi50b0xvd2VyQ2FzZSgpfSk7ZnVuY3Rpb24gcihhKXt2YXIgYj1hLmxlbmd0aCxjPW0udHlwZShhKTtyZXR1cm5cImZ1bmN0aW9uXCI9PT1jfHxtLmlzV2luZG93KGEpPyExOjE9PT1hLm5vZGVUeXBlJiZiPyEwOlwiYXJyYXlcIj09PWN8fDA9PT1ifHxcIm51bWJlclwiPT10eXBlb2YgYiYmYj4wJiZiLTEgaW4gYX12YXIgcz1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHAscSxyLHMsdCx1PVwic2l6emxlXCIrLW5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9Z2IoKSx6PWdiKCksQT1nYigpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPVwidW5kZWZpbmVkXCIsRD0xPDwzMSxFPXt9Lmhhc093blByb3BlcnR5LEY9W10sRz1GLnBvcCxIPUYucHVzaCxJPUYucHVzaCxKPUYuc2xpY2UsSz1GLmluZGV4T2Z8fGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9dGhpcy5sZW5ndGg7Yz5iO2IrKylpZih0aGlzW2JdPT09YSlyZXR1cm4gYjtyZXR1cm4tMX0sTD1cImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkXCIsTT1cIltcXFxceDIwXFxcXHRcXFxcclxcXFxuXFxcXGZdXCIsTj1cIig/OlxcXFxcXFxcLnxbXFxcXHctXXxbXlxcXFx4MDAtXFxcXHhhMF0pK1wiLE89Ti5yZXBsYWNlKFwid1wiLFwidyNcIiksUD1cIlxcXFxbXCIrTStcIiooXCIrTitcIikoPzpcIitNK1wiKihbKl4kfCF+XT89KVwiK00rXCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIitPK1wiKSl8KVwiK00rXCIqXFxcXF1cIixRPVwiOihcIitOK1wiKSg/OlxcXFwoKCgnKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIitQK1wiKSopfC4qKVxcXFwpfClcIixSPW5ldyBSZWdFeHAoXCJeXCIrTStcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIrTStcIiskXCIsXCJnXCIpLFM9bmV3IFJlZ0V4cChcIl5cIitNK1wiKixcIitNK1wiKlwiKSxUPW5ldyBSZWdFeHAoXCJeXCIrTStcIiooWz4rfl18XCIrTStcIilcIitNK1wiKlwiKSxVPW5ldyBSZWdFeHAoXCI9XCIrTStcIiooW15cXFxcXSdcXFwiXSo/KVwiK00rXCIqXFxcXF1cIixcImdcIiksVj1uZXcgUmVnRXhwKFEpLFc9bmV3IFJlZ0V4cChcIl5cIitPK1wiJFwiKSxYPXtJRDpuZXcgUmVnRXhwKFwiXiMoXCIrTitcIilcIiksQ0xBU1M6bmV3IFJlZ0V4cChcIl5cXFxcLihcIitOK1wiKVwiKSxUQUc6bmV3IFJlZ0V4cChcIl4oXCIrTi5yZXBsYWNlKFwid1wiLFwidypcIikrXCIpXCIpLEFUVFI6bmV3IFJlZ0V4cChcIl5cIitQKSxQU0VVRE86bmV3IFJlZ0V4cChcIl5cIitRKSxDSElMRDpuZXcgUmVnRXhwKFwiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFxcXChcIitNK1wiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIrTStcIiooPzooWystXXwpXCIrTStcIiooXFxcXGQrKXwpKVwiK00rXCIqXFxcXCl8KVwiLFwiaVwiKSxib29sOm5ldyBSZWdFeHAoXCJeKD86XCIrTCtcIikkXCIsXCJpXCIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKFwiXlwiK00rXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiK00rXCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiK00rXCIqXFxcXCl8KSg/PVteLV18JClcIixcImlcIil9LFk9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxaPS9eaFxcZCQvaSwkPS9eW157XStcXHtcXHMqXFxbbmF0aXZlIFxcdy8sXz0vXig/OiMoW1xcdy1dKyl8KFxcdyspfFxcLihbXFx3LV0rKSkkLyxhYj0vWyt+XS8sYmI9Lyd8XFxcXC9nLGNiPW5ldyBSZWdFeHAoXCJcXFxcXFxcXChbXFxcXGRhLWZdezEsNn1cIitNK1wiP3woXCIrTStcIil8LilcIixcImlnXCIpLGRiPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1cIjB4XCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9O3RyeXtJLmFwcGx5KEY9Si5jYWxsKHYuY2hpbGROb2Rlcyksdi5jaGlsZE5vZGVzKSxGW3YuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKGViKXtJPXthcHBseTpGLmxlbmd0aD9mdW5jdGlvbihhLGIpe0guYXBwbHkoYSxKLmNhbGwoYikpfTpmdW5jdGlvbihhLGIpe3ZhciBjPWEubGVuZ3RoLGQ9MDt3aGlsZShhW2MrK109YltkKytdKTthLmxlbmd0aD1jLTF9fX1mdW5jdGlvbiBmYihhLGIsZCxlKXt2YXIgZixoLGosayxsLG8scixzLHcseDtpZigoYj9iLm93bmVyRG9jdW1lbnR8fGI6dikhPT1uJiZtKGIpLGI9Ynx8bixkPWR8fFtdLCFhfHxcInN0cmluZ1wiIT10eXBlb2YgYSlyZXR1cm4gZDtpZigxIT09KGs9Yi5ub2RlVHlwZSkmJjkhPT1rKXJldHVybltdO2lmKHAmJiFlKXtpZihmPV8uZXhlYyhhKSlpZihqPWZbMV0pe2lmKDk9PT1rKXtpZihoPWIuZ2V0RWxlbWVudEJ5SWQoaiksIWh8fCFoLnBhcmVudE5vZGUpcmV0dXJuIGQ7aWYoaC5pZD09PWopcmV0dXJuIGQucHVzaChoKSxkfWVsc2UgaWYoYi5vd25lckRvY3VtZW50JiYoaD1iLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaikpJiZ0KGIsaCkmJmguaWQ9PT1qKXJldHVybiBkLnB1c2goaCksZH1lbHNle2lmKGZbMl0pcmV0dXJuIEkuYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpKSxkO2lmKChqPWZbM10pJiZjLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gSS5hcHBseShkLGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShqKSksZH1pZihjLnFzYSYmKCFxfHwhcS50ZXN0KGEpKSl7aWYocz1yPXUsdz1iLHg9OT09PWsmJmEsMT09PWsmJlwib2JqZWN0XCIhPT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe289ZyhhKSwocj1iLmdldEF0dHJpYnV0ZShcImlkXCIpKT9zPXIucmVwbGFjZShiYixcIlxcXFwkJlwiKTpiLnNldEF0dHJpYnV0ZShcImlkXCIscykscz1cIltpZD0nXCIrcytcIiddIFwiLGw9by5sZW5ndGg7d2hpbGUobC0tKW9bbF09cytxYihvW2xdKTt3PWFiLnRlc3QoYSkmJm9iKGIucGFyZW50Tm9kZSl8fGIseD1vLmpvaW4oXCIsXCIpfWlmKHgpdHJ5e3JldHVybiBJLmFwcGx5KGQsdy5xdWVyeVNlbGVjdG9yQWxsKHgpKSxkfWNhdGNoKHkpe31maW5hbGx5e3J8fGIucmVtb3ZlQXR0cmlidXRlKFwiaWRcIil9fX1yZXR1cm4gaShhLnJlcGxhY2UoUixcIiQxXCIpLGIsZCxlKX1mdW5jdGlvbiBnYigpe3ZhciBhPVtdO2Z1bmN0aW9uIGIoYyxlKXtyZXR1cm4gYS5wdXNoKGMrXCIgXCIpPmQuY2FjaGVMZW5ndGgmJmRlbGV0ZSBiW2Euc2hpZnQoKV0sYltjK1wiIFwiXT1lfXJldHVybiBifWZ1bmN0aW9uIGhiKGEpe3JldHVybiBhW3VdPSEwLGF9ZnVuY3Rpb24gaWIoYSl7dmFyIGI9bi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3RyeXtyZXR1cm4hIWEoYil9Y2F0Y2goYyl7cmV0dXJuITF9ZmluYWxseXtiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKSxiPW51bGx9fWZ1bmN0aW9uIGpiKGEsYil7dmFyIGM9YS5zcGxpdChcInxcIiksZT1hLmxlbmd0aDt3aGlsZShlLS0pZC5hdHRySGFuZGxlW2NbZV1dPWJ9ZnVuY3Rpb24ga2IoYSxiKXt2YXIgYz1iJiZhLGQ9YyYmMT09PWEubm9kZVR5cGUmJjE9PT1iLm5vZGVUeXBlJiYofmIuc291cmNlSW5kZXh8fEQpLSh+YS5zb3VyY2VJbmRleHx8RCk7aWYoZClyZXR1cm4gZDtpZihjKXdoaWxlKGM9Yy5uZXh0U2libGluZylpZihjPT09YilyZXR1cm4tMTtyZXR1cm4gYT8xOi0xfWZ1bmN0aW9uIGxiKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09YyYmYi50eXBlPT09YX19ZnVuY3Rpb24gbWIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oXCJpbnB1dFwiPT09Y3x8XCJidXR0b25cIj09PWMpJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBuYihhKXtyZXR1cm4gaGIoZnVuY3Rpb24oYil7cmV0dXJuIGI9K2IsaGIoZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEoW10sYy5sZW5ndGgsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pY1tlPWZbZ11dJiYoY1tlXT0hKGRbZV09Y1tlXSkpfSl9KX1mdW5jdGlvbiBvYihhKXtyZXR1cm4gYSYmdHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1DJiZhfWM9ZmIuc3VwcG9ydD17fSxmPWZiLmlzWE1MPWZ1bmN0aW9uKGEpe3ZhciBiPWEmJihhLm93bmVyRG9jdW1lbnR8fGEpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYj9cIkhUTUxcIiE9PWIubm9kZU5hbWU6ITF9LG09ZmIuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZT1hP2Eub3duZXJEb2N1bWVudHx8YTp2LGc9ZS5kZWZhdWx0VmlldztyZXR1cm4gZSE9PW4mJjk9PT1lLm5vZGVUeXBlJiZlLmRvY3VtZW50RWxlbWVudD8obj1lLG89ZS5kb2N1bWVudEVsZW1lbnQscD0hZihlKSxnJiZnIT09Zy50b3AmJihnLmFkZEV2ZW50TGlzdGVuZXI/Zy5hZGRFdmVudExpc3RlbmVyKFwidW5sb2FkXCIsZnVuY3Rpb24oKXttKCl9LCExKTpnLmF0dGFjaEV2ZW50JiZnLmF0dGFjaEV2ZW50KFwib251bmxvYWRcIixmdW5jdGlvbigpe20oKX0pKSxjLmF0dHJpYnV0ZXM9aWIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xhc3NOYW1lPVwiaVwiLCFhLmdldEF0dHJpYnV0ZShcImNsYXNzTmFtZVwiKX0pLGMuZ2V0RWxlbWVudHNCeVRhZ05hbWU9aWIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZS5jcmVhdGVDb21tZW50KFwiXCIpKSwhYS5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikubGVuZ3RofSksYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPSQudGVzdChlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpJiZpYihmdW5jdGlvbihhKXtyZXR1cm4gYS5pbm5lckhUTUw9XCI8ZGl2IGNsYXNzPSdhJz48L2Rpdj48ZGl2IGNsYXNzPSdhIGknPjwvZGl2PlwiLGEuZmlyc3RDaGlsZC5jbGFzc05hbWU9XCJpXCIsMj09PWEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImlcIikubGVuZ3RofSksYy5nZXRCeUlkPWliKGZ1bmN0aW9uKGEpe3JldHVybiBvLmFwcGVuZENoaWxkKGEpLmlkPXUsIWUuZ2V0RWxlbWVudHNCeU5hbWV8fCFlLmdldEVsZW1lbnRzQnlOYW1lKHUpLmxlbmd0aH0pLGMuZ2V0QnlJZD8oZC5maW5kLklEPWZ1bmN0aW9uKGEsYil7aWYodHlwZW9mIGIuZ2V0RWxlbWVudEJ5SWQhPT1DJiZwKXt2YXIgYz1iLmdldEVsZW1lbnRCeUlkKGEpO3JldHVybiBjJiZjLnBhcmVudE5vZGU/W2NdOltdfX0sZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGNiLGRiKTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKFwiaWRcIik9PT1ifX0pOihkZWxldGUgZC5maW5kLklELGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShjYixkYik7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBjPXR5cGVvZiBhLmdldEF0dHJpYnV0ZU5vZGUhPT1DJiZhLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtyZXR1cm4gYyYmYy52YWx1ZT09PWJ9fSksZC5maW5kLlRBRz1jLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGEsYil7cmV0dXJuIHR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lIT09Qz9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpOnZvaWQgMH06ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9MCxmPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk7aWYoXCIqXCI9PT1hKXt3aGlsZShjPWZbZSsrXSkxPT09Yy5ub2RlVHlwZSYmZC5wdXNoKGMpO3JldHVybiBkfXJldHVybiBmfSxkLmZpbmQuQ0xBU1M9Yy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihhLGIpe3JldHVybiB0eXBlb2YgYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lIT09QyYmcD9iLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYSk6dm9pZCAwfSxyPVtdLHE9W10sKGMucXNhPSQudGVzdChlLnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKGliKGZ1bmN0aW9uKGEpe2EuaW5uZXJIVE1MPVwiPHNlbGVjdCBtc2FsbG93Y2xpcD0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiLGEucXVlcnlTZWxlY3RvckFsbChcIlttc2FsbG93Y2xpcF49JyddXCIpLmxlbmd0aCYmcS5wdXNoKFwiWypeJF09XCIrTStcIiooPzonJ3xcXFwiXFxcIilcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGh8fHEucHVzaChcIlxcXFxbXCIrTStcIiooPzp2YWx1ZXxcIitMK1wiKVwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6Y2hlY2tlZFwiKS5sZW5ndGh8fHEucHVzaChcIjpjaGVja2VkXCIpfSksaWIoZnVuY3Rpb24oYSl7dmFyIGI9ZS5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7Yi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJoaWRkZW5cIiksYS5hcHBlbmRDaGlsZChiKS5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJEXCIpLGEucXVlcnlTZWxlY3RvckFsbChcIltuYW1lPWRdXCIpLmxlbmd0aCYmcS5wdXNoKFwibmFtZVwiK00rXCIqWypeJHwhfl0/PVwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZW5hYmxlZFwiKS5sZW5ndGh8fHEucHVzaChcIjplbmFibGVkXCIsXCI6ZGlzYWJsZWRcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKSxxLnB1c2goXCIsLio6XCIpfSkpLChjLm1hdGNoZXNTZWxlY3Rvcj0kLnRlc3Qocz1vLm1hdGNoZXN8fG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxvLm1vek1hdGNoZXNTZWxlY3Rvcnx8by5vTWF0Y2hlc1NlbGVjdG9yfHxvLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmliKGZ1bmN0aW9uKGEpe2MuZGlzY29ubmVjdGVkTWF0Y2g9cy5jYWxsKGEsXCJkaXZcIikscy5jYWxsKGEsXCJbcyE9JyddOnhcIiksci5wdXNoKFwiIT1cIixRKX0pLHE9cS5sZW5ndGgmJm5ldyBSZWdFeHAocS5qb2luKFwifFwiKSkscj1yLmxlbmd0aCYmbmV3IFJlZ0V4cChyLmpvaW4oXCJ8XCIpKSxiPSQudGVzdChvLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSx0PWJ8fCQudGVzdChvLmNvbnRhaW5zKT9mdW5jdGlvbihhLGIpe3ZhciBjPTk9PT1hLm5vZGVUeXBlP2EuZG9jdW1lbnRFbGVtZW50OmEsZD1iJiZiLnBhcmVudE5vZGU7cmV0dXJuIGE9PT1kfHwhKCFkfHwxIT09ZC5ub2RlVHlwZXx8IShjLmNvbnRhaW5zP2MuY29udGFpbnMoZCk6YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihkKSkpfTpmdW5jdGlvbihhLGIpe2lmKGIpd2hpbGUoYj1iLnBhcmVudE5vZGUpaWYoYj09PWEpcmV0dXJuITA7cmV0dXJuITF9LEI9Yj9mdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiBsPSEwLDA7dmFyIGQ9IWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24tIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247cmV0dXJuIGQ/ZDooZD0oYS5vd25lckRvY3VtZW50fHxhKT09PShiLm93bmVyRG9jdW1lbnR8fGIpP2EuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYik6MSwxJmR8fCFjLnNvcnREZXRhY2hlZCYmYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhKT09PWQ/YT09PWV8fGEub3duZXJEb2N1bWVudD09PXYmJnQodixhKT8tMTpiPT09ZXx8Yi5vd25lckRvY3VtZW50PT09diYmdCh2LGIpPzE6az9LLmNhbGwoayxhKS1LLmNhbGwoayxiKTowOjQmZD8tMToxKX06ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBjLGQ9MCxmPWEucGFyZW50Tm9kZSxnPWIucGFyZW50Tm9kZSxoPVthXSxpPVtiXTtpZighZnx8IWcpcmV0dXJuIGE9PT1lPy0xOmI9PT1lPzE6Zj8tMTpnPzE6az9LLmNhbGwoayxhKS1LLmNhbGwoayxiKTowO2lmKGY9PT1nKXJldHVybiBrYihhLGIpO2M9YTt3aGlsZShjPWMucGFyZW50Tm9kZSloLnVuc2hpZnQoYyk7Yz1iO3doaWxlKGM9Yy5wYXJlbnROb2RlKWkudW5zaGlmdChjKTt3aGlsZShoW2RdPT09aVtkXSlkKys7cmV0dXJuIGQ/a2IoaFtkXSxpW2RdKTpoW2RdPT09dj8tMTppW2RdPT09dj8xOjB9LGUpOm59LGZiLm1hdGNoZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZmIoYSxudWxsLG51bGwsYil9LGZiLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihhLGIpe2lmKChhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSxiPWIucmVwbGFjZShVLFwiPSckMSddXCIpLCEoIWMubWF0Y2hlc1NlbGVjdG9yfHwhcHx8ciYmci50ZXN0KGIpfHxxJiZxLnRlc3QoYikpKXRyeXt2YXIgZD1zLmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJldHVybiBmYihiLG4sbnVsbCxbYV0pLmxlbmd0aD4wfSxmYi5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSx0KGEsYil9LGZiLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sZj1lJiZFLmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIsIXApOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IXA/YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5zcGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxmYi5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIithKX0sZmIudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYobD0hYy5kZXRlY3REdXBsaWNhdGVzLGs9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoQiksbCl7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGs9bnVsbCxhfSxlPWZiLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz1cIlwiLGQ9MCxmPWEubm9kZVR5cGU7aWYoZil7aWYoMT09PWZ8fDk9PT1mfHwxMT09PWYpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhLnRleHRDb250ZW50KXJldHVybiBhLnRleHRDb250ZW50O2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyljKz1lKGEpfWVsc2UgaWYoMz09PWZ8fDQ9PT1mKXJldHVybiBhLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKGI9YVtkKytdKWMrPWUoYik7cmV0dXJuIGN9LGQ9ZmIuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86aGIsbWF0Y2g6WCxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6e1wiPlwiOntkaXI6XCJwYXJlbnROb2RlXCIsZmlyc3Q6ITB9LFwiIFwiOntkaXI6XCJwYXJlbnROb2RlXCJ9LFwiK1wiOntkaXI6XCJwcmV2aW91c1NpYmxpbmdcIixmaXJzdDohMH0sXCJ+XCI6e2RpcjpcInByZXZpb3VzU2libGluZ1wifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0ucmVwbGFjZShjYixkYiksYVszXT0oYVszXXx8YVs0XXx8YVs1XXx8XCJcIikucmVwbGFjZShjYixkYiksXCJ+PVwiPT09YVsyXSYmKGFbM109XCIgXCIrYVszXStcIiBcIiksYS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnRvTG93ZXJDYXNlKCksXCJudGhcIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8ZmIuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooXCJldmVuXCI9PT1hWzNdfHxcIm9kZFwiPT09YVszXSkpLGFbNV09KyhhWzddK2FbOF18fFwib2RkXCI9PT1hWzNdKSk6YVszXSYmZmIuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNl0mJmFbMl07cmV0dXJuIFguQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdP2FbMl09YVs0XXx8YVs1XXx8XCJcIjpjJiZWLnRlc3QoYykmJihiPWcoYywhMCkpJiYoYj1jLmluZGV4T2YoXCIpXCIsYy5sZW5ndGgtYiktYy5sZW5ndGgpJiYoYVswXT1hWzBdLnNsaWNlKDAsYiksYVsyXT1jLnNsaWNlKDAsYikpLGEuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoY2IsZGIpLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCIqXCI9PT1hP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9eVthK1wiIFwiXTtyZXR1cm4gYnx8KGI9bmV3IFJlZ0V4cChcIihefFwiK00rXCIpXCIrYStcIihcIitNK1wifCQpXCIpKSYmeShhLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRlc3QoXCJzdHJpbmdcIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8dHlwZW9mIGEuZ2V0QXR0cmlidXRlIT09QyYmYS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIil9KX0sQVRUUjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlPWZiLmF0dHIoZCxhKTtyZXR1cm4gbnVsbD09ZT9cIiE9XCI9PT1iOmI/KGUrPVwiXCIsXCI9XCI9PT1iP2U9PT1jOlwiIT1cIj09PWI/ZSE9PWM6XCJePVwiPT09Yj9jJiYwPT09ZS5pbmRleE9mKGMpOlwiKj1cIj09PWI/YyYmZS5pbmRleE9mKGMpPi0xOlwiJD1cIj09PWI/YyYmZS5zbGljZSgtYy5sZW5ndGgpPT09YzpcIn49XCI9PT1iPyhcIiBcIitlK1wiIFwiKS5pbmRleE9mKGMpPi0xOlwifD1cIj09PWI/ZT09PWN8fGUuc2xpY2UoMCxjLmxlbmd0aCsxKT09PWMrXCItXCI6ITEpOiEwfX0sQ0hJTEQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1cIm50aFwiIT09YS5zbGljZSgwLDMpLGc9XCJsYXN0XCIhPT1hLnNsaWNlKC00KSxoPVwib2YtdHlwZVwiPT09YjtyZXR1cm4gMT09PWQmJjA9PT1lP2Z1bmN0aW9uKGEpe3JldHVybiEhYS5wYXJlbnROb2RlfTpmdW5jdGlvbihiLGMsaSl7dmFyIGosayxsLG0sbixvLHA9ZiE9PWc/XCJuZXh0U2libGluZ1wiOlwicHJldmlvdXNTaWJsaW5nXCIscT1iLnBhcmVudE5vZGUscj1oJiZiLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkscz0haSYmIWg7aWYocSl7aWYoZil7d2hpbGUocCl7bD1iO3doaWxlKGw9bFtwXSlpZihoP2wubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PWwubm9kZVR5cGUpcmV0dXJuITE7bz1wPVwib25seVwiPT09YSYmIW8mJlwibmV4dFNpYmxpbmdcIn1yZXR1cm4hMH1pZihvPVtnP3EuZmlyc3RDaGlsZDpxLmxhc3RDaGlsZF0sZyYmcyl7az1xW3VdfHwocVt1XT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLG09alswXT09PXcmJmpbMl0sbD1uJiZxLmNoaWxkTm9kZXNbbl07d2hpbGUobD0rK24mJmwmJmxbcF18fChtPW49MCl8fG8ucG9wKCkpaWYoMT09PWwubm9kZVR5cGUmJisrbSYmbD09PWIpe2tbYV09W3csbixtXTticmVha319ZWxzZSBpZihzJiYoaj0oYlt1XXx8KGJbdV09e30pKVthXSkmJmpbMF09PT13KW09alsxXTtlbHNlIHdoaWxlKGw9KytuJiZsJiZsW3BdfHwobT1uPTApfHxvLnBvcCgpKWlmKChoP2wubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PWwubm9kZVR5cGUpJiYrK20mJihzJiYoKGxbdV18fChsW3VdPXt9KSlbYV09W3csbV0pLGw9PT1iKSlicmVhaztyZXR1cm4gbS09ZSxtPT09ZHx8bSVkPT09MCYmbS9kPj0wfX19LFBTRVVETzpmdW5jdGlvbihhLGIpe3ZhciBjLGU9ZC5wc2V1ZG9zW2FdfHxkLnNldEZpbHRlcnNbYS50b0xvd2VyQ2FzZSgpXXx8ZmIuZXJyb3IoXCJ1bnN1cHBvcnRlZCBwc2V1ZG86IFwiK2EpO3JldHVybiBlW3VdP2UoYik6ZS5sZW5ndGg+MT8oYz1bYSxhLFwiXCIsYl0sZC5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KGEudG9Mb3dlckNhc2UoKSk/aGIoZnVuY3Rpb24oYSxjKXt2YXIgZCxmPWUoYSxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSlkPUsuY2FsbChhLGZbZ10pLGFbZF09IShjW2RdPWZbZ10pfSk6ZnVuY3Rpb24oYSl7cmV0dXJuIGUoYSwwLGMpfSk6ZX19LHBzZXVkb3M6e25vdDpoYihmdW5jdGlvbihhKXt2YXIgYj1bXSxjPVtdLGQ9aChhLnJlcGxhY2UoUixcIiQxXCIpKTtyZXR1cm4gZFt1XT9oYihmdW5jdGlvbihhLGIsYyxlKXt2YXIgZixnPWQoYSxudWxsLGUsW10pLGg9YS5sZW5ndGg7d2hpbGUoaC0tKShmPWdbaF0pJiYoYVtoXT0hKGJbaF09ZikpfSk6ZnVuY3Rpb24oYSxlLGYpe3JldHVybiBiWzBdPWEsZChiLG51bGwsZixjKSwhYy5wb3AoKX19KSxoYXM6aGIoZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBmYihhLGIpLmxlbmd0aD4wfX0pLGNvbnRhaW5zOmhiKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4oYi50ZXh0Q29udGVudHx8Yi5pbm5lclRleHR8fGUoYikpLmluZGV4T2YoYSk+LTF9fSksbGFuZzpoYihmdW5jdGlvbihhKXtyZXR1cm4gVy50ZXN0KGF8fFwiXCIpfHxmYi5lcnJvcihcInVuc3VwcG9ydGVkIGxhbmc6IFwiK2EpLGE9YS5yZXBsYWNlKGNiLGRiKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKGIpe3ZhciBjO2RvIGlmKGM9cD9iLmxhbmc6Yi5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKXx8Yi5nZXRBdHRyaWJ1dGUoXCJsYW5nXCIpKXJldHVybiBjPWMudG9Mb3dlckNhc2UoKSxjPT09YXx8MD09PWMuaW5kZXhPZihhK1wiLVwiKTt3aGlsZSgoYj1iLnBhcmVudE5vZGUpJiYxPT09Yi5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGIpe3ZhciBjPWEubG9jYXRpb24mJmEubG9jYXRpb24uaGFzaDtyZXR1cm4gYyYmYy5zbGljZSgxKT09PWIuaWR9LHJvb3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1vfSxmb2N1czpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW4uYWN0aXZlRWxlbWVudCYmKCFuLmhhc0ZvY3VzfHxuLmhhc0ZvY3VzKCkpJiYhIShhLnR5cGV8fGEuaHJlZnx8fmEudGFiSW5kZXgpfSxlbmFibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITF9LGRpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITB9LGNoZWNrZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PWImJiEhYS5jaGVja2VkfHxcIm9wdGlvblwiPT09YiYmISFhLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxhLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGEpe2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylpZihhLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4hZC5wc2V1ZG9zLmVtcHR5KGEpfSxoZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIFoudGVzdChhLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFkudGVzdChhLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT1iJiZcImJ1dHRvblwiPT09YS50eXBlfHxcImJ1dHRvblwiPT09Yn0sdGV4dDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm5cImlucHV0XCI9PT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJlwidGV4dFwiPT09YS50eXBlJiYobnVsbD09KGI9YS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKXx8XCJ0ZXh0XCI9PT1iLnRvTG93ZXJDYXNlKCkpfSxmaXJzdDpuYihmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6bmIoZnVuY3Rpb24oYSxiKXtyZXR1cm5bYi0xXX0pLGVxOm5iKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm5bMD5jP2MrYjpjXX0pLGV2ZW46bmIoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxvZGQ6bmIoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MTtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxsdDpuYihmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzstLWQ+PTA7KWEucHVzaChkKTtyZXR1cm4gYX0pLGd0Om5iKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOysrZDxiOylhLnB1c2goZCk7cmV0dXJuIGF9KX19LGQucHNldWRvcy5udGg9ZC5wc2V1ZG9zLmVxO2ZvcihiIGlue3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KWQucHNldWRvc1tiXT1sYihiKTtmb3IoYiBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KWQucHNldWRvc1tiXT1tYihiKTtmdW5jdGlvbiBwYigpe31wYi5wcm90b3R5cGU9ZC5maWx0ZXJzPWQucHNldWRvcyxkLnNldEZpbHRlcnM9bmV3IHBiLGc9ZmIudG9rZW5pemU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGYsZyxoLGksaixrPXpbYStcIiBcIl07aWYoaylyZXR1cm4gYj8wOmsuc2xpY2UoMCk7aD1hLGk9W10saj1kLnByZUZpbHRlcjt3aGlsZShoKXsoIWN8fChlPVMuZXhlYyhoKSkpJiYoZSYmKGg9aC5zbGljZShlWzBdLmxlbmd0aCl8fGgpLGkucHVzaChmPVtdKSksYz0hMSwoZT1ULmV4ZWMoaCkpJiYoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZVswXS5yZXBsYWNlKFIsXCIgXCIpfSksaD1oLnNsaWNlKGMubGVuZ3RoKSk7Zm9yKGcgaW4gZC5maWx0ZXIpIShlPVhbZ10uZXhlYyhoKSl8fGpbZ10mJiEoZT1qW2ddKGUpKXx8KGM9ZS5zaGlmdCgpLGYucHVzaCh7dmFsdWU6Yyx0eXBlOmcsbWF0Y2hlczplfSksaD1oLnNsaWNlKGMubGVuZ3RoKSk7aWYoIWMpYnJlYWt9cmV0dXJuIGI/aC5sZW5ndGg6aD9mYi5lcnJvcihhKTp6KGEsaSkuc2xpY2UoMCl9O2Z1bmN0aW9uIHFiKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGgsZD1cIlwiO2M+YjtiKyspZCs9YVtiXS52YWx1ZTtyZXR1cm4gZH1mdW5jdGlvbiByYihhLGIsYyl7dmFyIGQ9Yi5kaXIsZT1jJiZcInBhcmVudE5vZGVcIj09PWQsZj14Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGYpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSlyZXR1cm4gYShiLGMsZil9OmZ1bmN0aW9uKGIsYyxnKXt2YXIgaCxpLGo9W3csZl07aWYoZyl7d2hpbGUoYj1iW2RdKWlmKCgxPT09Yi5ub2RlVHlwZXx8ZSkmJmEoYixjLGcpKXJldHVybiEwfWVsc2Ugd2hpbGUoYj1iW2RdKWlmKDE9PT1iLm5vZGVUeXBlfHxlKXtpZihpPWJbdV18fChiW3VdPXt9KSwoaD1pW2RdKSYmaFswXT09PXcmJmhbMV09PT1mKXJldHVybiBqWzJdPWhbMl07aWYoaVtkXT1qLGpbMl09YShiLGMsZykpcmV0dXJuITB9fX1mdW5jdGlvbiBzYihhKXtyZXR1cm4gYS5sZW5ndGg+MT9mdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5sZW5ndGg7d2hpbGUoZS0tKWlmKCFhW2VdKGIsYyxkKSlyZXR1cm4hMTtyZXR1cm4hMH06YVswXX1mdW5jdGlvbiB0YihhLGIsYyl7Zm9yKHZhciBkPTAsZT1iLmxlbmd0aDtlPmQ7ZCsrKWZiKGEsYltkXSxjKTtyZXR1cm4gY31mdW5jdGlvbiB1YihhLGIsYyxkLGUpe2Zvcih2YXIgZixnPVtdLGg9MCxpPWEubGVuZ3RoLGo9bnVsbCE9YjtpPmg7aCsrKShmPWFbaF0pJiYoIWN8fGMoZixkLGUpKSYmKGcucHVzaChmKSxqJiZiLnB1c2goaCkpO3JldHVybiBnfWZ1bmN0aW9uIHZiKGEsYixjLGQsZSxmKXtyZXR1cm4gZCYmIWRbdV0mJihkPXZiKGQpKSxlJiYhZVt1XSYmKGU9dmIoZSxmKSksaGIoZnVuY3Rpb24oZixnLGgsaSl7dmFyIGosayxsLG09W10sbj1bXSxvPWcubGVuZ3RoLHA9Znx8dGIoYnx8XCIqXCIsaC5ub2RlVHlwZT9baF06aCxbXSkscT0hYXx8IWYmJmI/cDp1YihwLG0sYSxoLGkpLHI9Yz9lfHwoZj9hOm98fGQpP1tdOmc6cTtpZihjJiZjKHEscixoLGkpLGQpe2o9dWIocixuKSxkKGosW10saCxpKSxrPWoubGVuZ3RoO3doaWxlKGstLSkobD1qW2tdKSYmKHJbbltrXV09IShxW25ba11dPWwpKX1pZihmKXtpZihlfHxhKXtpZihlKXtqPVtdLGs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiZqLnB1c2gocVtrXT1sKTtlKG51bGwscj1bXSxqLGkpfWs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiYoaj1lP0suY2FsbChmLGwpOm1ba10pPi0xJiYoZltqXT0hKGdbal09bCkpfX1lbHNlIHI9dWIocj09PWc/ci5zcGxpY2UobyxyLmxlbmd0aCk6ciksZT9lKG51bGwsZyxyLGkpOkkuYXBwbHkoZyxyKX0pfWZ1bmN0aW9uIHdiKGEpe2Zvcih2YXIgYixjLGUsZj1hLmxlbmd0aCxnPWQucmVsYXRpdmVbYVswXS50eXBlXSxoPWd8fGQucmVsYXRpdmVbXCIgXCJdLGk9Zz8xOjAsaz1yYihmdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9LGgsITApLGw9cmIoZnVuY3Rpb24oYSl7cmV0dXJuIEsuY2FsbChiLGEpPi0xfSxoLCEwKSxtPVtmdW5jdGlvbihhLGMsZCl7cmV0dXJuIWcmJihkfHxjIT09ail8fCgoYj1jKS5ub2RlVHlwZT9rKGEsYyxkKTpsKGEsYyxkKSl9XTtmPmk7aSsrKWlmKGM9ZC5yZWxhdGl2ZVthW2ldLnR5cGVdKW09W3JiKHNiKG0pLGMpXTtlbHNle2lmKGM9ZC5maWx0ZXJbYVtpXS50eXBlXS5hcHBseShudWxsLGFbaV0ubWF0Y2hlcyksY1t1XSl7Zm9yKGU9KytpO2Y+ZTtlKyspaWYoZC5yZWxhdGl2ZVthW2VdLnR5cGVdKWJyZWFrO3JldHVybiB2YihpPjEmJnNiKG0pLGk+MSYmcWIoYS5zbGljZSgwLGktMSkuY29uY2F0KHt2YWx1ZTpcIiBcIj09PWFbaS0yXS50eXBlP1wiKlwiOlwiXCJ9KSkucmVwbGFjZShSLFwiJDFcIiksYyxlPmkmJndiKGEuc2xpY2UoaSxlKSksZj5lJiZ3YihhPWEuc2xpY2UoZSkpLGY+ZSYmcWIoYSkpfW0ucHVzaChjKX1yZXR1cm4gc2IobSl9ZnVuY3Rpb24geGIoYSxiKXt2YXIgYz1iLmxlbmd0aD4wLGU9YS5sZW5ndGg+MCxmPWZ1bmN0aW9uKGYsZyxoLGksayl7dmFyIGwsbSxvLHA9MCxxPVwiMFwiLHI9ZiYmW10scz1bXSx0PWosdT1mfHxlJiZkLmZpbmQuVEFHKFwiKlwiLGspLHY9dys9bnVsbD09dD8xOk1hdGgucmFuZG9tKCl8fC4xLHg9dS5sZW5ndGg7Zm9yKGsmJihqPWchPT1uJiZnKTtxIT09eCYmbnVsbCE9KGw9dVtxXSk7cSsrKXtpZihlJiZsKXttPTA7d2hpbGUobz1hW20rK10paWYobyhsLGcsaCkpe2kucHVzaChsKTticmVha31rJiYodz12KX1jJiYoKGw9IW8mJmwpJiZwLS0sZiYmci5wdXNoKGwpKX1pZihwKz1xLGMmJnEhPT1wKXttPTA7d2hpbGUobz1iW20rK10pbyhyLHMsZyxoKTtpZihmKXtpZihwPjApd2hpbGUocS0tKXJbcV18fHNbcV18fChzW3FdPUcuY2FsbChpKSk7cz11YihzKX1JLmFwcGx5KGkscyksayYmIWYmJnMubGVuZ3RoPjAmJnArYi5sZW5ndGg+MSYmZmIudW5pcXVlU29ydChpKX1yZXR1cm4gayYmKHc9dixqPXQpLHJ9O3JldHVybiBjP2hiKGYpOmZ9cmV0dXJuIGg9ZmIuY29tcGlsZT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1bXSxmPUFbYStcIiBcIl07aWYoIWYpe2J8fChiPWcoYSkpLGM9Yi5sZW5ndGg7d2hpbGUoYy0tKWY9d2IoYltjXSksZlt1XT9kLnB1c2goZik6ZS5wdXNoKGYpO2Y9QShhLHhiKGUsZCkpLGYuc2VsZWN0b3I9YX1yZXR1cm4gZn0saT1mYi5zZWxlY3Q9ZnVuY3Rpb24oYSxiLGUsZil7dmFyIGksaixrLGwsbSxuPVwiZnVuY3Rpb25cIj09dHlwZW9mIGEmJmEsbz0hZiYmZyhhPW4uc2VsZWN0b3J8fGEpO2lmKGU9ZXx8W10sMT09PW8ubGVuZ3RoKXtpZihqPW9bMF09b1swXS5zbGljZSgwKSxqLmxlbmd0aD4yJiZcIklEXCI9PT0oaz1qWzBdKS50eXBlJiZjLmdldEJ5SWQmJjk9PT1iLm5vZGVUeXBlJiZwJiZkLnJlbGF0aXZlW2pbMV0udHlwZV0pe2lmKGI9KGQuZmluZC5JRChrLm1hdGNoZXNbMF0ucmVwbGFjZShjYixkYiksYil8fFtdKVswXSwhYilyZXR1cm4gZTtuJiYoYj1iLnBhcmVudE5vZGUpLGE9YS5zbGljZShqLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1pPVgubmVlZHNDb250ZXh0LnRlc3QoYSk/MDpqLmxlbmd0aDt3aGlsZShpLS0pe2lmKGs9altpXSxkLnJlbGF0aXZlW2w9ay50eXBlXSlicmVhaztpZigobT1kLmZpbmRbbF0pJiYoZj1tKGsubWF0Y2hlc1swXS5yZXBsYWNlKGNiLGRiKSxhYi50ZXN0KGpbMF0udHlwZSkmJm9iKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoai5zcGxpY2UoaSwxKSxhPWYubGVuZ3RoJiZxYihqKSwhYSlyZXR1cm4gSS5hcHBseShlLGYpLGU7YnJlYWt9fX1yZXR1cm4obnx8aChhLG8pKShmLGIsIXAsZSxhYi50ZXN0KGEpJiZvYihiLnBhcmVudE5vZGUpfHxiKSxlfSxjLnNvcnRTdGFibGU9dS5zcGxpdChcIlwiKS5zb3J0KEIpLmpvaW4oXCJcIik9PT11LGMuZGV0ZWN0RHVwbGljYXRlcz0hIWwsbSgpLGMuc29ydERldGFjaGVkPWliKGZ1bmN0aW9uKGEpe3JldHVybiAxJmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24obi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKX0pLGliKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD1cIjxhIGhyZWY9JyMnPjwvYT5cIixcIiNcIj09PWEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpfSl8fGpiKFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYz92b2lkIDA6YS5nZXRBdHRyaWJ1dGUoYixcInR5cGVcIj09PWIudG9Mb3dlckNhc2UoKT8xOjIpfSksYy5hdHRyaWJ1dGVzJiZpYihmdW5jdGlvbihhKXtyZXR1cm4gYS5pbm5lckhUTUw9XCI8aW5wdXQvPlwiLGEuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFwiXCIpLFwiXCI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwidmFsdWVcIil9KXx8amIoXCJ2YWx1ZVwiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY3x8XCJpbnB1dFwiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDphLmRlZmF1bHRWYWx1ZX0pLGliKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpfSl8fGpiKEwsZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBjP3ZvaWQgMDphW2JdPT09ITA/Yi50b0xvd2VyQ2FzZSgpOihkPWEuZ2V0QXR0cmlidXRlTm9kZShiKSkmJmQuc3BlY2lmaWVkP2QudmFsdWU6bnVsbH0pLGZifShhKTttLmZpbmQ9cyxtLmV4cHI9cy5zZWxlY3RvcnMsbS5leHByW1wiOlwiXT1tLmV4cHIucHNldWRvcyxtLnVuaXF1ZT1zLnVuaXF1ZVNvcnQsbS50ZXh0PXMuZ2V0VGV4dCxtLmlzWE1MRG9jPXMuaXNYTUwsbS5jb250YWlucz1zLmNvbnRhaW5zO3ZhciB0PW0uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQsdT0vXjwoXFx3KylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC8sdj0vXi5bXjojXFxbXFwuLF0qJC87ZnVuY3Rpb24gdyhhLGIsYyl7aWYobS5pc0Z1bmN0aW9uKGIpKXJldHVybiBtLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiBtLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWIhPT1jfSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpe2lmKHYudGVzdChiKSlyZXR1cm4gbS5maWx0ZXIoYixhLGMpO2I9bS5maWx0ZXIoYixhKX1yZXR1cm4gbS5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIG0uaW5BcnJheShhLGIpPj0wIT09Y30pfW0uZmlsdGVyPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iWzBdO3JldHVybiBjJiYoYT1cIjpub3QoXCIrYStcIilcIiksMT09PWIubGVuZ3RoJiYxPT09ZC5ub2RlVHlwZT9tLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGQsYSk/W2RdOltdOm0uZmluZC5tYXRjaGVzKGEsbS5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfSkpfSxtLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjPVtdLGQ9dGhpcyxlPWQubGVuZ3RoO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhKXJldHVybiB0aGlzLnB1c2hTdGFjayhtKGEpLmZpbHRlcihmdW5jdGlvbigpe2ZvcihiPTA7ZT5iO2IrKylpZihtLmNvbnRhaW5zKGRbYl0sdGhpcykpcmV0dXJuITB9KSk7Zm9yKGI9MDtlPmI7YisrKW0uZmluZChhLGRbYl0sYyk7cmV0dXJuIGM9dGhpcy5wdXNoU3RhY2soZT4xP20udW5pcXVlKGMpOmMpLGMuc2VsZWN0b3I9dGhpcy5zZWxlY3Rvcj90aGlzLnNlbGVjdG9yK1wiIFwiK2E6YSxjfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHcodGhpcyxhfHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHcodGhpcyxhfHxbXSwhMCkpfSxpczpmdW5jdGlvbihhKXtyZXR1cm4hIXcodGhpcyxcInN0cmluZ1wiPT10eXBlb2YgYSYmdC50ZXN0KGEpP20oYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgeCx5PWEuZG9jdW1lbnQsej0vXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0qKSkkLyxBPW0uZm4uaW5pdD1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7aWYoIWEpcmV0dXJuIHRoaXM7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpe2lmKGM9XCI8XCI9PT1hLmNoYXJBdCgwKSYmXCI+XCI9PT1hLmNoYXJBdChhLmxlbmd0aC0xKSYmYS5sZW5ndGg+PTM/W251bGwsYSxudWxsXTp6LmV4ZWMoYSksIWN8fCFjWzFdJiZiKXJldHVybiFifHxiLmpxdWVyeT8oYnx8eCkuZmluZChhKTp0aGlzLmNvbnN0cnVjdG9yKGIpLmZpbmQoYSk7aWYoY1sxXSl7aWYoYj1iIGluc3RhbmNlb2YgbT9iWzBdOmIsbS5tZXJnZSh0aGlzLG0ucGFyc2VIVE1MKGNbMV0sYiYmYi5ub2RlVHlwZT9iLm93bmVyRG9jdW1lbnR8fGI6eSwhMCkpLHUudGVzdChjWzFdKSYmbS5pc1BsYWluT2JqZWN0KGIpKWZvcihjIGluIGIpbS5pc0Z1bmN0aW9uKHRoaXNbY10pP3RoaXNbY10oYltjXSk6dGhpcy5hdHRyKGMsYltjXSk7cmV0dXJuIHRoaXN9aWYoZD15LmdldEVsZW1lbnRCeUlkKGNbMl0pLGQmJmQucGFyZW50Tm9kZSl7aWYoZC5pZCE9PWNbMl0pcmV0dXJuIHguZmluZChhKTt0aGlzLmxlbmd0aD0xLHRoaXNbMF09ZH1yZXR1cm4gdGhpcy5jb250ZXh0PXksdGhpcy5zZWxlY3Rvcj1hLHRoaXN9cmV0dXJuIGEubm9kZVR5cGU/KHRoaXMuY29udGV4dD10aGlzWzBdPWEsdGhpcy5sZW5ndGg9MSx0aGlzKTptLmlzRnVuY3Rpb24oYSk/XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHgucmVhZHk/eC5yZWFkeShhKTphKG0pOih2b2lkIDAhPT1hLnNlbGVjdG9yJiYodGhpcy5zZWxlY3Rvcj1hLnNlbGVjdG9yLHRoaXMuY29udGV4dD1hLmNvbnRleHQpLG0ubWFrZUFycmF5KGEsdGhpcykpfTtBLnByb3RvdHlwZT1tLmZuLHg9bSh5KTt2YXIgQj0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxDPXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O20uZXh0ZW5kKHtkaXI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdLGU9YVtiXTt3aGlsZShlJiY5IT09ZS5ub2RlVHlwZSYmKHZvaWQgMD09PWN8fDEhPT1lLm5vZGVUeXBlfHwhbShlKS5pcyhjKSkpMT09PWUubm9kZVR5cGUmJmQucHVzaChlKSxlPWVbYl07cmV0dXJuIGR9LHNpYmxpbmc6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W107YTthPWEubmV4dFNpYmxpbmcpMT09PWEubm9kZVR5cGUmJmEhPT1iJiZjLnB1c2goYSk7cmV0dXJuIGN9fSksbS5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihhKXt2YXIgYixjPW0oYSx0aGlzKSxkPWMubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2ZvcihiPTA7ZD5iO2IrKylpZihtLmNvbnRhaW5zKHRoaXMsY1tiXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTAsZT10aGlzLmxlbmd0aCxmPVtdLGc9dC50ZXN0KGEpfHxcInN0cmluZ1wiIT10eXBlb2YgYT9tKGEsYnx8dGhpcy5jb250ZXh0KTowO2U+ZDtkKyspZm9yKGM9dGhpc1tkXTtjJiZjIT09YjtjPWMucGFyZW50Tm9kZSlpZihjLm5vZGVUeXBlPDExJiYoZz9nLmluZGV4KGMpPi0xOjE9PT1jLm5vZGVUeXBlJiZtLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGMsYSkpKXtmLnB1c2goYyk7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKGYubGVuZ3RoPjE/bS51bmlxdWUoZik6Zil9LGluZGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhP1wic3RyaW5nXCI9PXR5cGVvZiBhP20uaW5BcnJheSh0aGlzWzBdLG0oYSkpOm0uaW5BcnJheShhLmpxdWVyeT9hWzBdOmEsdGhpcyk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobS51bmlxdWUobS5tZXJnZSh0aGlzLmdldCgpLG0oYSxiKSkpKX0sYWRkQmFjazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09YT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihhKSl9fSk7ZnVuY3Rpb24gRChhLGIpe2RvIGE9YVtiXTt3aGlsZShhJiYxIT09YS5ub2RlVHlwZSk7cmV0dXJuIGF9bS5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiYxMSE9PWIubm9kZVR5cGU/YjpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBtLmRpcihhLFwicGFyZW50Tm9kZVwiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbS5kaXIoYSxcInBhcmVudE5vZGVcIixjKX0sbmV4dDpmdW5jdGlvbihhKXtyZXR1cm4gRChhLFwibmV4dFNpYmxpbmdcIil9LHByZXY6ZnVuY3Rpb24oYSl7cmV0dXJuIEQoYSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gbS5kaXIoYSxcIm5leHRTaWJsaW5nXCIpfSxwcmV2QWxsOmZ1bmN0aW9uKGEpe3JldHVybiBtLmRpcihhLFwicHJldmlvdXNTaWJsaW5nXCIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBtLmRpcihhLFwibmV4dFNpYmxpbmdcIixjKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbS5kaXIoYSxcInByZXZpb3VzU2libGluZ1wiLGMpfSxzaWJsaW5nczpmdW5jdGlvbihhKXtyZXR1cm4gbS5zaWJsaW5nKChhLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGEpfSxjaGlsZHJlbjpmdW5jdGlvbihhKXtyZXR1cm4gbS5zaWJsaW5nKGEuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBtLm5vZGVOYW1lKGEsXCJpZnJhbWVcIik/YS5jb250ZW50RG9jdW1lbnR8fGEuY29udGVudFdpbmRvdy5kb2N1bWVudDptLm1lcmdlKFtdLGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe20uZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1tLm1hcCh0aGlzLGIsYyk7cmV0dXJuXCJVbnRpbFwiIT09YS5zbGljZSgtNSkmJihkPWMpLGQmJlwic3RyaW5nXCI9PXR5cGVvZiBkJiYoZT1tLmZpbHRlcihkLGUpKSx0aGlzLmxlbmd0aD4xJiYoQ1thXXx8KGU9bS51bmlxdWUoZSkpLEIudGVzdChhKSYmKGU9ZS5yZXZlcnNlKCkpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRT0vXFxTKy9nLEY9e307ZnVuY3Rpb24gRyhhKXt2YXIgYj1GW2FdPXt9O3JldHVybiBtLmVhY2goYS5tYXRjaChFKXx8W10sZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSksYn1tLkNhbGxiYWNrcz1mdW5jdGlvbihhKXthPVwic3RyaW5nXCI9PXR5cGVvZiBhP0ZbYV18fEcoYSk6bS5leHRlbmQoe30sYSk7dmFyIGIsYyxkLGUsZixnLGg9W10saT0hYS5vbmNlJiZbXSxqPWZ1bmN0aW9uKGwpe2ZvcihjPWEubWVtb3J5JiZsLGQ9ITAsZj1nfHwwLGc9MCxlPWgubGVuZ3RoLGI9ITA7aCYmZT5mO2YrKylpZihoW2ZdLmFwcGx5KGxbMF0sbFsxXSk9PT0hMSYmYS5zdG9wT25GYWxzZSl7Yz0hMTticmVha31iPSExLGgmJihpP2kubGVuZ3RoJiZqKGkuc2hpZnQoKSk6Yz9oPVtdOmsuZGlzYWJsZSgpKX0saz17YWRkOmZ1bmN0aW9uKCl7aWYoaCl7dmFyIGQ9aC5sZW5ndGg7IWZ1bmN0aW9uIGYoYil7bS5lYWNoKGIsZnVuY3Rpb24oYixjKXt2YXIgZD1tLnR5cGUoYyk7XCJmdW5jdGlvblwiPT09ZD9hLnVuaXF1ZSYmay5oYXMoYyl8fGgucHVzaChjKTpjJiZjLmxlbmd0aCYmXCJzdHJpbmdcIiE9PWQmJmYoYyl9KX0oYXJndW1lbnRzKSxiP2U9aC5sZW5ndGg6YyYmKGc9ZCxqKGMpKX1yZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGgmJm0uZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSxjKXt2YXIgZDt3aGlsZSgoZD1tLmluQXJyYXkoYyxoLGQpKT4tMSloLnNwbGljZShkLDEpLGImJihlPj1kJiZlLS0sZj49ZCYmZi0tKX0pLHRoaXN9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gYT9tLmluQXJyYXkoYSxoKT4tMTohKCFofHwhaC5sZW5ndGgpfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBoPVtdLGU9MCx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGg9aT1jPXZvaWQgMCx0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFofSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIGk9dm9pZCAwLGN8fGsuZGlzYWJsZSgpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiFpfSxmaXJlV2l0aDpmdW5jdGlvbihhLGMpe3JldHVybiFofHxkJiYhaXx8KGM9Y3x8W10sYz1bYSxjLnNsaWNlP2Muc2xpY2UoKTpjXSxiP2kucHVzaChjKTpqKGMpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGsuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFkfX07cmV0dXJuIGt9LG0uZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihhKXt2YXIgYj1bW1wicmVzb2x2ZVwiLFwiZG9uZVwiLG0uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXCJyZXNvbHZlZFwiXSxbXCJyZWplY3RcIixcImZhaWxcIixtLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLFwicmVqZWN0ZWRcIl0sW1wibm90aWZ5XCIsXCJwcm9ncmVzc1wiLG0uQ2FsbGJhY2tzKFwibWVtb3J5XCIpXV0sYz1cInBlbmRpbmdcIixkPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBjfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gZS5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LHRoZW46ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7cmV0dXJuIG0uRGVmZXJyZWQoZnVuY3Rpb24oYyl7bS5lYWNoKGIsZnVuY3Rpb24oYixmKXt2YXIgZz1tLmlzRnVuY3Rpb24oYVtiXSkmJmFbYl07ZVtmWzFdXShmdW5jdGlvbigpe3ZhciBhPWcmJmcuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EmJm0uaXNGdW5jdGlvbihhLnByb21pc2UpP2EucHJvbWlzZSgpLmRvbmUoYy5yZXNvbHZlKS5mYWlsKGMucmVqZWN0KS5wcm9ncmVzcyhjLm5vdGlmeSk6Y1tmWzBdK1wiV2l0aFwiXSh0aGlzPT09ZD9jLnByb21pc2UoKTp0aGlzLGc/W2FdOmFyZ3VtZW50cyl9KX0pLGE9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9tLmV4dGVuZChhLGQpOmR9fSxlPXt9O3JldHVybiBkLnBpcGU9ZC50aGVuLG0uZWFjaChiLGZ1bmN0aW9uKGEsZil7dmFyIGc9ZlsyXSxoPWZbM107ZFtmWzFdXT1nLmFkZCxoJiZnLmFkZChmdW5jdGlvbigpe2M9aH0sYlsxXmFdWzJdLmRpc2FibGUsYlsyXVsyXS5sb2NrKSxlW2ZbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIGVbZlswXStcIldpdGhcIl0odGhpcz09PWU/ZDp0aGlzLGFyZ3VtZW50cyksdGhpc30sZVtmWzBdK1wiV2l0aFwiXT1nLmZpcmVXaXRofSksZC5wcm9taXNlKGUpLGEmJmEuY2FsbChlLGUpLGV9LHdoZW46ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPWQuY2FsbChhcmd1bWVudHMpLGU9Yy5sZW5ndGgsZj0xIT09ZXx8YSYmbS5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/ZTowLGc9MT09PWY/YTptLkRlZmVycmVkKCksaD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGUpe2JbYV09dGhpcyxjW2FdPWFyZ3VtZW50cy5sZW5ndGg+MT9kLmNhbGwoYXJndW1lbnRzKTplLGM9PT1pP2cubm90aWZ5V2l0aChiLGMpOi0tZnx8Zy5yZXNvbHZlV2l0aChiLGMpfX0saSxqLGs7aWYoZT4xKWZvcihpPW5ldyBBcnJheShlKSxqPW5ldyBBcnJheShlKSxrPW5ldyBBcnJheShlKTtlPmI7YisrKWNbYl0mJm0uaXNGdW5jdGlvbihjW2JdLnByb21pc2UpP2NbYl0ucHJvbWlzZSgpLmRvbmUoaChiLGssYykpLmZhaWwoZy5yZWplY3QpLnByb2dyZXNzKGgoYixqLGkpKTotLWY7cmV0dXJuIGZ8fGcucmVzb2x2ZVdpdGgoayxjKSxnLnByb21pc2UoKX19KTt2YXIgSDttLmZuLnJlYWR5PWZ1bmN0aW9uKGEpe3JldHVybiBtLnJlYWR5LnByb21pc2UoKS5kb25lKGEpLHRoaXN9LG0uZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihhKXthP20ucmVhZHlXYWl0Kys6bS5yZWFkeSghMCl9LHJlYWR5OmZ1bmN0aW9uKGEpe2lmKGE9PT0hMD8hLS1tLnJlYWR5V2FpdDohbS5pc1JlYWR5KXtpZigheS5ib2R5KXJldHVybiBzZXRUaW1lb3V0KG0ucmVhZHkpO20uaXNSZWFkeT0hMCxhIT09ITAmJi0tbS5yZWFkeVdhaXQ+MHx8KEgucmVzb2x2ZVdpdGgoeSxbbV0pLG0uZm4udHJpZ2dlckhhbmRsZXImJihtKHkpLnRyaWdnZXJIYW5kbGVyKFwicmVhZHlcIiksbSh5KS5vZmYoXCJyZWFkeVwiKSkpfX19KTtmdW5jdGlvbiBJKCl7eS5hZGRFdmVudExpc3RlbmVyPyh5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsSiwhMSksYS5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLEosITEpKTooeS5kZXRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLEopLGEuZGV0YWNoRXZlbnQoXCJvbmxvYWRcIixKKSl9ZnVuY3Rpb24gSigpeyh5LmFkZEV2ZW50TGlzdGVuZXJ8fFwibG9hZFwiPT09ZXZlbnQudHlwZXx8XCJjb21wbGV0ZVwiPT09eS5yZWFkeVN0YXRlKSYmKEkoKSxtLnJlYWR5KCkpfW0ucmVhZHkucHJvbWlzZT1mdW5jdGlvbihiKXtpZighSClpZihIPW0uRGVmZXJyZWQoKSxcImNvbXBsZXRlXCI9PT15LnJlYWR5U3RhdGUpc2V0VGltZW91dChtLnJlYWR5KTtlbHNlIGlmKHkuYWRkRXZlbnRMaXN0ZW5lcil5LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsSiwhMSksYS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLEosITEpO2Vsc2V7eS5hdHRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLEopLGEuYXR0YWNoRXZlbnQoXCJvbmxvYWRcIixKKTt2YXIgYz0hMTt0cnl7Yz1udWxsPT1hLmZyYW1lRWxlbWVudCYmeS5kb2N1bWVudEVsZW1lbnR9Y2F0Y2goZCl7fWMmJmMuZG9TY3JvbGwmJiFmdW5jdGlvbiBlKCl7aWYoIW0uaXNSZWFkeSl7dHJ5e2MuZG9TY3JvbGwoXCJsZWZ0XCIpfWNhdGNoKGEpe3JldHVybiBzZXRUaW1lb3V0KGUsNTApfUkoKSxtLnJlYWR5KCl9fSgpfXJldHVybiBILnByb21pc2UoYil9O3ZhciBLPVwidW5kZWZpbmVkXCIsTDtmb3IoTCBpbiBtKGspKWJyZWFrO2sub3duTGFzdD1cIjBcIiE9PUwsay5pbmxpbmVCbG9ja05lZWRzTGF5b3V0PSExLG0oZnVuY3Rpb24oKXt2YXIgYSxiLGMsZDtjPXkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdLGMmJmMuc3R5bGUmJihiPXkuY3JlYXRlRWxlbWVudChcImRpdlwiKSxkPXkuY3JlYXRlRWxlbWVudChcImRpdlwiKSxkLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweFwiLGMuYXBwZW5kQ2hpbGQoZCkuYXBwZW5kQ2hpbGQoYiksdHlwZW9mIGIuc3R5bGUuem9vbSE9PUsmJihiLnN0eWxlLmNzc1RleHQ9XCJkaXNwbGF5OmlubGluZTttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjFweDt3aWR0aDoxcHg7em9vbToxXCIsay5pbmxpbmVCbG9ja05lZWRzTGF5b3V0PWE9Mz09PWIub2Zmc2V0V2lkdGgsYSYmKGMuc3R5bGUuem9vbT0xKSksYy5yZW1vdmVDaGlsZChkKSl9KSxmdW5jdGlvbigpe3ZhciBhPXkuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpZihudWxsPT1rLmRlbGV0ZUV4cGFuZG8pe2suZGVsZXRlRXhwYW5kbz0hMDt0cnl7ZGVsZXRlIGEudGVzdH1jYXRjaChiKXtrLmRlbGV0ZUV4cGFuZG89ITF9fWE9bnVsbH0oKSxtLmFjY2VwdERhdGE9ZnVuY3Rpb24oYSl7dmFyIGI9bS5ub0RhdGFbKGEubm9kZU5hbWUrXCIgXCIpLnRvTG93ZXJDYXNlKCldLGM9K2Eubm9kZVR5cGV8fDE7cmV0dXJuIDEhPT1jJiY5IT09Yz8hMTohYnx8YiE9PSEwJiZhLmdldEF0dHJpYnV0ZShcImNsYXNzaWRcIik9PT1ifTt2YXIgTT0vXig/Olxce1tcXHdcXFddKlxcfXxcXFtbXFx3XFxXXSpcXF0pJC8sTj0vKFtBLVpdKS9nO2Z1bmN0aW9uIE8oYSxiLGMpe2lmKHZvaWQgMD09PWMmJjE9PT1hLm5vZGVUeXBlKXt2YXIgZD1cImRhdGEtXCIrYi5yZXBsYWNlKE4sXCItJDFcIikudG9Mb3dlckNhc2UoKTtpZihjPWEuZ2V0QXR0cmlidXRlKGQpLFwic3RyaW5nXCI9PXR5cGVvZiBjKXt0cnl7Yz1cInRydWVcIj09PWM/ITA6XCJmYWxzZVwiPT09Yz8hMTpcIm51bGxcIj09PWM/bnVsbDorYytcIlwiPT09Yz8rYzpNLnRlc3QoYyk/bS5wYXJzZUpTT04oYyk6Y31jYXRjaChlKXt9bS5kYXRhKGEsYixjKX1lbHNlIGM9dm9pZCAwfXJldHVybiBjfWZ1bmN0aW9uIFAoYSl7dmFyIGI7Zm9yKGIgaW4gYSlpZigoXCJkYXRhXCIhPT1ifHwhbS5pc0VtcHR5T2JqZWN0KGFbYl0pKSYmXCJ0b0pTT05cIiE9PWIpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gUShhLGIsZCxlKXtpZihtLmFjY2VwdERhdGEoYSkpe3ZhciBmLGcsaD1tLmV4cGFuZG8saT1hLm5vZGVUeXBlLGo9aT9tLmNhY2hlOmEsaz1pP2FbaF06YVtoXSYmaDtcbmlmKGsmJmpba10mJihlfHxqW2tdLmRhdGEpfHx2b2lkIDAhPT1kfHxcInN0cmluZ1wiIT10eXBlb2YgYilyZXR1cm4ga3x8KGs9aT9hW2hdPWMucG9wKCl8fG0uZ3VpZCsrOmgpLGpba118fChqW2tdPWk/e306e3RvSlNPTjptLm5vb3B9KSwoXCJvYmplY3RcIj09dHlwZW9mIGJ8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGIpJiYoZT9qW2tdPW0uZXh0ZW5kKGpba10sYik6altrXS5kYXRhPW0uZXh0ZW5kKGpba10uZGF0YSxiKSksZz1qW2tdLGV8fChnLmRhdGF8fChnLmRhdGE9e30pLGc9Zy5kYXRhKSx2b2lkIDAhPT1kJiYoZ1ttLmNhbWVsQ2FzZShiKV09ZCksXCJzdHJpbmdcIj09dHlwZW9mIGI/KGY9Z1tiXSxudWxsPT1mJiYoZj1nW20uY2FtZWxDYXNlKGIpXSkpOmY9ZyxmfX1mdW5jdGlvbiBSKGEsYixjKXtpZihtLmFjY2VwdERhdGEoYSkpe3ZhciBkLGUsZj1hLm5vZGVUeXBlLGc9Zj9tLmNhY2hlOmEsaD1mP2FbbS5leHBhbmRvXTptLmV4cGFuZG87aWYoZ1toXSl7aWYoYiYmKGQ9Yz9nW2hdOmdbaF0uZGF0YSkpe20uaXNBcnJheShiKT9iPWIuY29uY2F0KG0ubWFwKGIsbS5jYW1lbENhc2UpKTpiIGluIGQ/Yj1bYl06KGI9bS5jYW1lbENhc2UoYiksYj1iIGluIGQ/W2JdOmIuc3BsaXQoXCIgXCIpKSxlPWIubGVuZ3RoO3doaWxlKGUtLSlkZWxldGUgZFtiW2VdXTtpZihjPyFQKGQpOiFtLmlzRW1wdHlPYmplY3QoZCkpcmV0dXJufShjfHwoZGVsZXRlIGdbaF0uZGF0YSxQKGdbaF0pKSkmJihmP20uY2xlYW5EYXRhKFthXSwhMCk6ay5kZWxldGVFeHBhbmRvfHxnIT1nLndpbmRvdz9kZWxldGUgZ1toXTpnW2hdPW51bGwpfX19bS5leHRlbmQoe2NhY2hlOnt9LG5vRGF0YTp7XCJhcHBsZXQgXCI6ITAsXCJlbWJlZCBcIjohMCxcIm9iamVjdCBcIjpcImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMFwifSxoYXNEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBhPWEubm9kZVR5cGU/bS5jYWNoZVthW20uZXhwYW5kb11dOmFbbS5leHBhbmRvXSwhIWEmJiFQKGEpfSxkYXRhOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gUShhLGIsYyl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUihhLGIpfSxfZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIFEoYSxiLGMsITApfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihhLGIpe3JldHVybiBSKGEsYiwhMCl9fSksbS5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj10aGlzWzBdLGc9ZiYmZi5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PWEpe2lmKHRoaXMubGVuZ3RoJiYoZT1tLmRhdGEoZiksMT09PWYubm9kZVR5cGUmJiFtLl9kYXRhKGYsXCJwYXJzZWRBdHRyc1wiKSkpe2M9Zy5sZW5ndGg7d2hpbGUoYy0tKWdbY10mJihkPWdbY10ubmFtZSwwPT09ZC5pbmRleE9mKFwiZGF0YS1cIikmJihkPW0uY2FtZWxDYXNlKGQuc2xpY2UoNSkpLE8oZixkLGVbZF0pKSk7bS5fZGF0YShmLFwicGFyc2VkQXR0cnNcIiwhMCl9cmV0dXJuIGV9cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGE/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7bS5kYXRhKHRoaXMsYSl9KTphcmd1bWVudHMubGVuZ3RoPjE/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7bS5kYXRhKHRoaXMsYSxiKX0pOmY/TyhmLGEsbS5kYXRhKGYsYSkpOnZvaWQgMH0scmVtb3ZlRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bS5yZW1vdmVEYXRhKHRoaXMsYSl9KX19KSxtLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBhPyhiPShifHxcImZ4XCIpK1wicXVldWVcIixkPW0uX2RhdGEoYSxiKSxjJiYoIWR8fG0uaXNBcnJheShjKT9kPW0uX2RhdGEoYSxiLG0ubWFrZUFycmF5KGMpKTpkLnB1c2goYykpLGR8fFtdKTp2b2lkIDB9LGRlcXVldWU6ZnVuY3Rpb24oYSxiKXtiPWJ8fFwiZnhcIjt2YXIgYz1tLnF1ZXVlKGEsYiksZD1jLmxlbmd0aCxlPWMuc2hpZnQoKSxmPW0uX3F1ZXVlSG9va3MoYSxiKSxnPWZ1bmN0aW9uKCl7bS5kZXF1ZXVlKGEsYil9O1wiaW5wcm9ncmVzc1wiPT09ZSYmKGU9Yy5zaGlmdCgpLGQtLSksZSYmKFwiZnhcIj09PWImJmMudW5zaGlmdChcImlucHJvZ3Jlc3NcIiksZGVsZXRlIGYuc3RvcCxlLmNhbGwoYSxnLGYpKSwhZCYmZiYmZi5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YitcInF1ZXVlSG9va3NcIjtyZXR1cm4gbS5fZGF0YShhLGMpfHxtLl9kYXRhKGEsYyx7ZW1wdHk6bS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKS5hZGQoZnVuY3Rpb24oKXttLl9yZW1vdmVEYXRhKGEsYitcInF1ZXVlXCIpLG0uX3JlbW92ZURhdGEoYSxjKX0pfSl9fSksbS5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYil7dmFyIGM9MjtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgYSYmKGI9YSxhPVwiZnhcIixjLS0pLGFyZ3VtZW50cy5sZW5ndGg8Yz9tLnF1ZXVlKHRoaXNbMF0sYSk6dm9pZCAwPT09Yj90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPW0ucXVldWUodGhpcyxhLGIpO20uX3F1ZXVlSG9va3ModGhpcyxhKSxcImZ4XCI9PT1hJiZcImlucHJvZ3Jlc3NcIiE9PWNbMF0mJm0uZGVxdWV1ZSh0aGlzLGEpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe20uZGVxdWV1ZSh0aGlzLGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8XCJmeFwiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9MSxlPW0uRGVmZXJyZWQoKSxmPXRoaXMsZz10aGlzLmxlbmd0aCxoPWZ1bmN0aW9uKCl7LS1kfHxlLnJlc29sdmVXaXRoKGYsW2ZdKX07XCJzdHJpbmdcIiE9dHlwZW9mIGEmJihiPWEsYT12b2lkIDApLGE9YXx8XCJmeFwiO3doaWxlKGctLSljPW0uX2RhdGEoZltnXSxhK1wicXVldWVIb29rc1wiKSxjJiZjLmVtcHR5JiYoZCsrLGMuZW1wdHkuYWRkKGgpKTtyZXR1cm4gaCgpLGUucHJvbWlzZShiKX19KTt2YXIgUz0vWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLy5zb3VyY2UsVD1bXCJUb3BcIixcIlJpZ2h0XCIsXCJCb3R0b21cIixcIkxlZnRcIl0sVT1mdW5jdGlvbihhLGIpe3JldHVybiBhPWJ8fGEsXCJub25lXCI9PT1tLmNzcyhhLFwiZGlzcGxheVwiKXx8IW0uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpfSxWPW0uYWNjZXNzPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPTAsaT1hLmxlbmd0aCxqPW51bGw9PWM7aWYoXCJvYmplY3RcIj09PW0udHlwZShjKSl7ZT0hMDtmb3IoaCBpbiBjKW0uYWNjZXNzKGEsYixoLGNbaF0sITAsZixnKX1lbHNlIGlmKHZvaWQgMCE9PWQmJihlPSEwLG0uaXNGdW5jdGlvbihkKXx8KGc9ITApLGomJihnPyhiLmNhbGwoYSxkKSxiPW51bGwpOihqPWIsYj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGouY2FsbChtKGEpLGMpfSkpLGIpKWZvcig7aT5oO2grKyliKGFbaF0sYyxnP2Q6ZC5jYWxsKGFbaF0saCxiKGFbaF0sYykpKTtyZXR1cm4gZT9hOmo/Yi5jYWxsKGEpOmk/YihhWzBdLGMpOmZ9LFc9L14oPzpjaGVja2JveHxyYWRpbykkL2k7IWZ1bmN0aW9uKCl7dmFyIGE9eS5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksYj15LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksYz15LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihiLmlubmVySFRNTD1cIiAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Jy9hJz5hPC9hPjxpbnB1dCB0eXBlPSdjaGVja2JveCcvPlwiLGsubGVhZGluZ1doaXRlc3BhY2U9Mz09PWIuZmlyc3RDaGlsZC5ub2RlVHlwZSxrLnRib2R5PSFiLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGJvZHlcIikubGVuZ3RoLGsuaHRtbFNlcmlhbGl6ZT0hIWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaW5rXCIpLmxlbmd0aCxrLmh0bWw1Q2xvbmU9XCI8Om5hdj48LzpuYXY+XCIhPT15LmNyZWF0ZUVsZW1lbnQoXCJuYXZcIikuY2xvbmVOb2RlKCEwKS5vdXRlckhUTUwsYS50eXBlPVwiY2hlY2tib3hcIixhLmNoZWNrZWQ9ITAsYy5hcHBlbmRDaGlsZChhKSxrLmFwcGVuZENoZWNrZWQ9YS5jaGVja2VkLGIuaW5uZXJIVE1MPVwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiLGsubm9DbG9uZUNoZWNrZWQ9ISFiLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSxjLmFwcGVuZENoaWxkKGIpLGIuaW5uZXJIVE1MPVwiPGlucHV0IHR5cGU9J3JhZGlvJyBjaGVja2VkPSdjaGVja2VkJyBuYW1lPSd0Jy8+XCIsay5jaGVja0Nsb25lPWIuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGsubm9DbG9uZUV2ZW50PSEwLGIuYXR0YWNoRXZlbnQmJihiLmF0dGFjaEV2ZW50KFwib25jbGlja1wiLGZ1bmN0aW9uKCl7ay5ub0Nsb25lRXZlbnQ9ITF9KSxiLmNsb25lTm9kZSghMCkuY2xpY2soKSksbnVsbD09ay5kZWxldGVFeHBhbmRvKXtrLmRlbGV0ZUV4cGFuZG89ITA7dHJ5e2RlbGV0ZSBiLnRlc3R9Y2F0Y2goZCl7ay5kZWxldGVFeHBhbmRvPSExfX19KCksZnVuY3Rpb24oKXt2YXIgYixjLGQ9eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2ZvcihiIGlue3N1Ym1pdDohMCxjaGFuZ2U6ITAsZm9jdXNpbjohMH0pYz1cIm9uXCIrYiwoa1tiK1wiQnViYmxlc1wiXT1jIGluIGEpfHwoZC5zZXRBdHRyaWJ1dGUoYyxcInRcIiksa1tiK1wiQnViYmxlc1wiXT1kLmF0dHJpYnV0ZXNbY10uZXhwYW5kbz09PSExKTtkPW51bGx9KCk7dmFyIFg9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWEpJC9pLFk9L15rZXkvLFo9L14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51KXxjbGljay8sJD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sXz0vXihbXi5dKikoPzpcXC4oLispfCkkLztmdW5jdGlvbiBhYigpe3JldHVybiEwfWZ1bmN0aW9uIGJiKCl7cmV0dXJuITF9ZnVuY3Rpb24gY2IoKXt0cnl7cmV0dXJuIHkuYWN0aXZlRWxlbWVudH1jYXRjaChhKXt9fW0uZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxuLG8scCxxLHI9bS5fZGF0YShhKTtpZihyKXtjLmhhbmRsZXImJihpPWMsYz1pLmhhbmRsZXIsZT1pLnNlbGVjdG9yKSxjLmd1aWR8fChjLmd1aWQ9bS5ndWlkKyspLChnPXIuZXZlbnRzKXx8KGc9ci5ldmVudHM9e30pLChrPXIuaGFuZGxlKXx8KGs9ci5oYW5kbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHR5cGVvZiBtPT09S3x8YSYmbS5ldmVudC50cmlnZ2VyZWQ9PT1hLnR5cGU/dm9pZCAwOm0uZXZlbnQuZGlzcGF0Y2guYXBwbHkoay5lbGVtLGFyZ3VtZW50cyl9LGsuZWxlbT1hKSxiPShifHxcIlwiKS5tYXRjaChFKXx8W1wiXCJdLGg9Yi5sZW5ndGg7d2hpbGUoaC0tKWY9Xy5leGVjKGJbaF0pfHxbXSxvPXE9ZlsxXSxwPShmWzJdfHxcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpLG8mJihqPW0uZXZlbnQuc3BlY2lhbFtvXXx8e30sbz0oZT9qLmRlbGVnYXRlVHlwZTpqLmJpbmRUeXBlKXx8byxqPW0uZXZlbnQuc3BlY2lhbFtvXXx8e30sbD1tLmV4dGVuZCh7dHlwZTpvLG9yaWdUeXBlOnEsZGF0YTpkLGhhbmRsZXI6YyxndWlkOmMuZ3VpZCxzZWxlY3RvcjplLG5lZWRzQ29udGV4dDplJiZtLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoZSksbmFtZXNwYWNlOnAuam9pbihcIi5cIil9LGkpLChuPWdbb10pfHwobj1nW29dPVtdLG4uZGVsZWdhdGVDb3VudD0wLGouc2V0dXAmJmouc2V0dXAuY2FsbChhLGQscCxrKSE9PSExfHwoYS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihvLGssITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoXCJvblwiK28saykpKSxqLmFkZCYmKGouYWRkLmNhbGwoYSxsKSxsLmhhbmRsZXIuZ3VpZHx8KGwuaGFuZGxlci5ndWlkPWMuZ3VpZCkpLGU/bi5zcGxpY2Uobi5kZWxlZ2F0ZUNvdW50KyssMCxsKTpuLnB1c2gobCksbS5ldmVudC5nbG9iYWxbb109ITApO2E9bnVsbH19LHJlbW92ZTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG4sbyxwLHEscj1tLmhhc0RhdGEoYSkmJm0uX2RhdGEoYSk7aWYociYmKGs9ci5ldmVudHMpKXtiPShifHxcIlwiKS5tYXRjaChFKXx8W1wiXCJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWlmKGg9Xy5leGVjKGJbal0pfHxbXSxvPXE9aFsxXSxwPShoWzJdfHxcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpLG8pe2w9bS5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShkP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxvLG49a1tvXXx8W10saD1oWzJdJiZuZXcgUmVnRXhwKFwiKF58XFxcXC4pXCIrcC5qb2luKFwiXFxcXC4oPzouKlxcXFwufClcIikrXCIoXFxcXC58JClcIiksaT1mPW4ubGVuZ3RoO3doaWxlKGYtLSlnPW5bZl0sIWUmJnEhPT1nLm9yaWdUeXBlfHxjJiZjLmd1aWQhPT1nLmd1aWR8fGgmJiFoLnRlc3QoZy5uYW1lc3BhY2UpfHxkJiZkIT09Zy5zZWxlY3RvciYmKFwiKipcIiE9PWR8fCFnLnNlbGVjdG9yKXx8KG4uc3BsaWNlKGYsMSksZy5zZWxlY3RvciYmbi5kZWxlZ2F0ZUNvdW50LS0sbC5yZW1vdmUmJmwucmVtb3ZlLmNhbGwoYSxnKSk7aSYmIW4ubGVuZ3RoJiYobC50ZWFyZG93biYmbC50ZWFyZG93bi5jYWxsKGEscCxyLmhhbmRsZSkhPT0hMXx8bS5yZW1vdmVFdmVudChhLG8sci5oYW5kbGUpLGRlbGV0ZSBrW29dKX1lbHNlIGZvcihvIGluIGspbS5ldmVudC5yZW1vdmUoYSxvK2Jbal0sYyxkLCEwKTttLmlzRW1wdHlPYmplY3QoaykmJihkZWxldGUgci5oYW5kbGUsbS5fcmVtb3ZlRGF0YShhLFwiZXZlbnRzXCIpKX19LHRyaWdnZXI6ZnVuY3Rpb24oYixjLGQsZSl7dmFyIGYsZyxoLGksayxsLG4sbz1bZHx8eV0scD1qLmNhbGwoYixcInR5cGVcIik/Yi50eXBlOmIscT1qLmNhbGwoYixcIm5hbWVzcGFjZVwiKT9iLm5hbWVzcGFjZS5zcGxpdChcIi5cIik6W107aWYoaD1sPWQ9ZHx8eSwzIT09ZC5ub2RlVHlwZSYmOCE9PWQubm9kZVR5cGUmJiEkLnRlc3QocCttLmV2ZW50LnRyaWdnZXJlZCkmJihwLmluZGV4T2YoXCIuXCIpPj0wJiYocT1wLnNwbGl0KFwiLlwiKSxwPXEuc2hpZnQoKSxxLnNvcnQoKSksZz1wLmluZGV4T2YoXCI6XCIpPDAmJlwib25cIitwLGI9YlttLmV4cGFuZG9dP2I6bmV3IG0uRXZlbnQocCxcIm9iamVjdFwiPT10eXBlb2YgYiYmYiksYi5pc1RyaWdnZXI9ZT8yOjMsYi5uYW1lc3BhY2U9cS5qb2luKFwiLlwiKSxiLm5hbWVzcGFjZV9yZT1iLm5hbWVzcGFjZT9uZXcgUmVnRXhwKFwiKF58XFxcXC4pXCIrcS5qb2luKFwiXFxcXC4oPzouKlxcXFwufClcIikrXCIoXFxcXC58JClcIik6bnVsbCxiLnJlc3VsdD12b2lkIDAsYi50YXJnZXR8fChiLnRhcmdldD1kKSxjPW51bGw9PWM/W2JdOm0ubWFrZUFycmF5KGMsW2JdKSxrPW0uZXZlbnQuc3BlY2lhbFtwXXx8e30sZXx8IWsudHJpZ2dlcnx8ay50cmlnZ2VyLmFwcGx5KGQsYykhPT0hMSkpe2lmKCFlJiYhay5ub0J1YmJsZSYmIW0uaXNXaW5kb3coZCkpe2ZvcihpPWsuZGVsZWdhdGVUeXBlfHxwLCQudGVzdChpK3ApfHwoaD1oLnBhcmVudE5vZGUpO2g7aD1oLnBhcmVudE5vZGUpby5wdXNoKGgpLGw9aDtsPT09KGQub3duZXJEb2N1bWVudHx8eSkmJm8ucHVzaChsLmRlZmF1bHRWaWV3fHxsLnBhcmVudFdpbmRvd3x8YSl9bj0wO3doaWxlKChoPW9bbisrXSkmJiFiLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpYi50eXBlPW4+MT9pOmsuYmluZFR5cGV8fHAsZj0obS5fZGF0YShoLFwiZXZlbnRzXCIpfHx7fSlbYi50eXBlXSYmbS5fZGF0YShoLFwiaGFuZGxlXCIpLGYmJmYuYXBwbHkoaCxjKSxmPWcmJmhbZ10sZiYmZi5hcHBseSYmbS5hY2NlcHREYXRhKGgpJiYoYi5yZXN1bHQ9Zi5hcHBseShoLGMpLGIucmVzdWx0PT09ITEmJmIucHJldmVudERlZmF1bHQoKSk7aWYoYi50eXBlPXAsIWUmJiFiLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYoIWsuX2RlZmF1bHR8fGsuX2RlZmF1bHQuYXBwbHkoby5wb3AoKSxjKT09PSExKSYmbS5hY2NlcHREYXRhKGQpJiZnJiZkW3BdJiYhbS5pc1dpbmRvdyhkKSl7bD1kW2ddLGwmJihkW2ddPW51bGwpLG0uZXZlbnQudHJpZ2dlcmVkPXA7dHJ5e2RbcF0oKX1jYXRjaChyKXt9bS5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGwmJihkW2ddPWwpfXJldHVybiBiLnJlc3VsdH19LGRpc3BhdGNoOmZ1bmN0aW9uKGEpe2E9bS5ldmVudC5maXgoYSk7dmFyIGIsYyxlLGYsZyxoPVtdLGk9ZC5jYWxsKGFyZ3VtZW50cyksaj0obS5fZGF0YSh0aGlzLFwiZXZlbnRzXCIpfHx7fSlbYS50eXBlXXx8W10saz1tLmV2ZW50LnNwZWNpYWxbYS50eXBlXXx8e307aWYoaVswXT1hLGEuZGVsZWdhdGVUYXJnZXQ9dGhpcywhay5wcmVEaXNwYXRjaHx8ay5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsYSkhPT0hMSl7aD1tLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxhLGopLGI9MDt3aGlsZSgoZj1oW2IrK10pJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXthLmN1cnJlbnRUYXJnZXQ9Zi5lbGVtLGc9MDt3aGlsZSgoZT1mLmhhbmRsZXJzW2crK10pJiYhYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSghYS5uYW1lc3BhY2VfcmV8fGEubmFtZXNwYWNlX3JlLnRlc3QoZS5uYW1lc3BhY2UpKSYmKGEuaGFuZGxlT2JqPWUsYS5kYXRhPWUuZGF0YSxjPSgobS5ldmVudC5zcGVjaWFsW2Uub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxlLmhhbmRsZXIpLmFwcGx5KGYuZWxlbSxpKSx2b2lkIDAhPT1jJiYoYS5yZXN1bHQ9Yyk9PT0hMSYmKGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGsucG9zdERpc3BhdGNoJiZrLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYSksYS5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9W10saD1iLmRlbGVnYXRlQ291bnQsaT1hLnRhcmdldDtpZihoJiZpLm5vZGVUeXBlJiYoIWEuYnV0dG9ufHxcImNsaWNrXCIhPT1hLnR5cGUpKWZvcig7aSE9dGhpcztpPWkucGFyZW50Tm9kZXx8dGhpcylpZigxPT09aS5ub2RlVHlwZSYmKGkuZGlzYWJsZWQhPT0hMHx8XCJjbGlja1wiIT09YS50eXBlKSl7Zm9yKGU9W10sZj0wO2g+ZjtmKyspZD1iW2ZdLGM9ZC5zZWxlY3RvcitcIiBcIix2b2lkIDA9PT1lW2NdJiYoZVtjXT1kLm5lZWRzQ29udGV4dD9tKGMsdGhpcykuaW5kZXgoaSk+PTA6bS5maW5kKGMsdGhpcyxudWxsLFtpXSkubGVuZ3RoKSxlW2NdJiZlLnB1c2goZCk7ZS5sZW5ndGgmJmcucHVzaCh7ZWxlbTppLGhhbmRsZXJzOmV9KX1yZXR1cm4gaDxiLmxlbmd0aCYmZy5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6Yi5zbGljZShoKX0pLGd9LGZpeDpmdW5jdGlvbihhKXtpZihhW20uZXhwYW5kb10pcmV0dXJuIGE7dmFyIGIsYyxkLGU9YS50eXBlLGY9YSxnPXRoaXMuZml4SG9va3NbZV07Z3x8KHRoaXMuZml4SG9va3NbZV09Zz1aLnRlc3QoZSk/dGhpcy5tb3VzZUhvb2tzOlkudGVzdChlKT90aGlzLmtleUhvb2tzOnt9KSxkPWcucHJvcHM/dGhpcy5wcm9wcy5jb25jYXQoZy5wcm9wcyk6dGhpcy5wcm9wcyxhPW5ldyBtLkV2ZW50KGYpLGI9ZC5sZW5ndGg7d2hpbGUoYi0tKWM9ZFtiXSxhW2NdPWZbY107cmV0dXJuIGEudGFyZ2V0fHwoYS50YXJnZXQ9Zi5zcmNFbGVtZW50fHx5KSwzPT09YS50YXJnZXQubm9kZVR5cGUmJihhLnRhcmdldD1hLnRhcmdldC5wYXJlbnROb2RlKSxhLm1ldGFLZXk9ISFhLm1ldGFLZXksZy5maWx0ZXI/Zy5maWx0ZXIoYSxmKTphfSxwcm9wczpcImFsdEtleSBidWJibGVzIGNhbmNlbGFibGUgY3RybEtleSBjdXJyZW50VGFyZ2V0IGV2ZW50UGhhc2UgbWV0YUtleSByZWxhdGVkVGFyZ2V0IHNoaWZ0S2V5IHRhcmdldCB0aW1lU3RhbXAgdmlldyB3aGljaFwiLnNwbGl0KFwiIFwiKSxmaXhIb29rczp7fSxrZXlIb29rczp7cHJvcHM6XCJjaGFyIGNoYXJDb2RlIGtleSBrZXlDb2RlXCIuc3BsaXQoXCIgXCIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hLndoaWNoJiYoYS53aGljaD1udWxsIT1iLmNoYXJDb2RlP2IuY2hhckNvZGU6Yi5rZXlDb2RlKSxhfX0sbW91c2VIb29rczp7cHJvcHM6XCJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgZnJvbUVsZW1lbnQgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSB0b0VsZW1lbnRcIi5zcGxpdChcIiBcIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9Yi5idXR0b24sZz1iLmZyb21FbGVtZW50O3JldHVybiBudWxsPT1hLnBhZ2VYJiZudWxsIT1iLmNsaWVudFgmJihkPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fHksZT1kLmRvY3VtZW50RWxlbWVudCxjPWQuYm9keSxhLnBhZ2VYPWIuY2xpZW50WCsoZSYmZS5zY3JvbGxMZWZ0fHxjJiZjLnNjcm9sbExlZnR8fDApLShlJiZlLmNsaWVudExlZnR8fGMmJmMuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1iLmNsaWVudFkrKGUmJmUuc2Nyb2xsVG9wfHxjJiZjLnNjcm9sbFRvcHx8MCktKGUmJmUuY2xpZW50VG9wfHxjJiZjLmNsaWVudFRvcHx8MCkpLCFhLnJlbGF0ZWRUYXJnZXQmJmcmJihhLnJlbGF0ZWRUYXJnZXQ9Zz09PWEudGFyZ2V0P2IudG9FbGVtZW50OmcpLGEud2hpY2h8fHZvaWQgMD09PWZ8fChhLndoaWNoPTEmZj8xOjImZj8zOjQmZj8yOjApLGF9fSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZih0aGlzIT09Y2IoKSYmdGhpcy5mb2N1cyl0cnl7cmV0dXJuIHRoaXMuZm9jdXMoKSwhMX1jYXRjaChhKXt9fSxkZWxlZ2F0ZVR5cGU6XCJmb2N1c2luXCJ9LGJsdXI6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcz09PWNiKCkmJnRoaXMuYmx1cj8odGhpcy5ibHVyKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOlwiZm9jdXNvdXRcIn0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbS5ub2RlTmFtZSh0aGlzLFwiaW5wdXRcIikmJlwiY2hlY2tib3hcIj09PXRoaXMudHlwZSYmdGhpcy5jbGljaz8odGhpcy5jbGljaygpLCExKTp2b2lkIDB9LF9kZWZhdWx0OmZ1bmN0aW9uKGEpe3JldHVybiBtLm5vZGVOYW1lKGEudGFyZ2V0LFwiYVwiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWEucmVzdWx0JiZhLm9yaWdpbmFsRXZlbnQmJihhLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9YS5yZXN1bHQpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW0uZXh0ZW5kKG5ldyBtLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMCxvcmlnaW5hbEV2ZW50Ont9fSk7ZD9tLmV2ZW50LnRyaWdnZXIoZSxudWxsLGIpOm0uZXZlbnQuZGlzcGF0Y2guY2FsbChiLGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmMucHJldmVudERlZmF1bHQoKX19LG0ucmVtb3ZlRXZlbnQ9eS5yZW1vdmVFdmVudExpc3RlbmVyP2Z1bmN0aW9uKGEsYixjKXthLnJlbW92ZUV2ZW50TGlzdGVuZXImJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMsITEpfTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9XCJvblwiK2I7YS5kZXRhY2hFdmVudCYmKHR5cGVvZiBhW2RdPT09SyYmKGFbZF09bnVsbCksYS5kZXRhY2hFdmVudChkLGMpKX0sbS5FdmVudD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgbS5FdmVudD8oYSYmYS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9YSx0aGlzLnR5cGU9YS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWEuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09YS5kZWZhdWx0UHJldmVudGVkJiZhLnJldHVyblZhbHVlPT09ITE/YWI6YmIpOnRoaXMudHlwZT1hLGImJm0uZXh0ZW5kKHRoaXMsYiksdGhpcy50aW1lU3RhbXA9YSYmYS50aW1lU3RhbXB8fG0ubm93KCksdm9pZCh0aGlzW20uZXhwYW5kb109ITApKTpuZXcgbS5FdmVudChhLGIpfSxtLkV2ZW50LnByb3RvdHlwZT17aXNEZWZhdWx0UHJldmVudGVkOmJiLGlzUHJvcGFnYXRpb25TdG9wcGVkOmJiLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmJiLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPWFiLGEmJihhLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTphLnJldHVyblZhbHVlPSExKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9YWIsYSYmKGEuc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpLGEuY2FuY2VsQnViYmxlPSEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9YWIsYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24mJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LG0uZWFjaCh7bW91c2VlbnRlcjpcIm1vdXNlb3ZlclwiLG1vdXNlbGVhdmU6XCJtb3VzZW91dFwiLHBvaW50ZXJlbnRlcjpcInBvaW50ZXJvdmVyXCIscG9pbnRlcmxlYXZlOlwicG9pbnRlcm91dFwifSxmdW5jdGlvbihhLGIpe20uZXZlbnQuc3BlY2lhbFthXT17ZGVsZWdhdGVUeXBlOmIsYmluZFR5cGU6YixoYW5kbGU6ZnVuY3Rpb24oYSl7dmFyIGMsZD10aGlzLGU9YS5yZWxhdGVkVGFyZ2V0LGY9YS5oYW5kbGVPYmo7cmV0dXJuKCFlfHxlIT09ZCYmIW0uY29udGFpbnMoZCxlKSkmJihhLnR5cGU9Zi5vcmlnVHlwZSxjPWYuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS50eXBlPWIpLGN9fX0pLGsuc3VibWl0QnViYmxlc3x8KG0uZXZlbnQuc3BlY2lhbC5zdWJtaXQ9e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIG0ubm9kZU5hbWUodGhpcyxcImZvcm1cIik/ITE6dm9pZCBtLmV2ZW50LmFkZCh0aGlzLFwiY2xpY2suX3N1Ym1pdCBrZXlwcmVzcy5fc3VibWl0XCIsZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQsYz1tLm5vZGVOYW1lKGIsXCJpbnB1dFwiKXx8bS5ub2RlTmFtZShiLFwiYnV0dG9uXCIpP2IuZm9ybTp2b2lkIDA7YyYmIW0uX2RhdGEoYyxcInN1Ym1pdEJ1YmJsZXNcIikmJihtLmV2ZW50LmFkZChjLFwic3VibWl0Ll9zdWJtaXRcIixmdW5jdGlvbihhKXthLl9zdWJtaXRfYnViYmxlPSEwfSksbS5fZGF0YShjLFwic3VibWl0QnViYmxlc1wiLCEwKSl9KX0scG9zdERpc3BhdGNoOmZ1bmN0aW9uKGEpe2EuX3N1Ym1pdF9idWJibGUmJihkZWxldGUgYS5fc3VibWl0X2J1YmJsZSx0aGlzLnBhcmVudE5vZGUmJiFhLmlzVHJpZ2dlciYmbS5ldmVudC5zaW11bGF0ZShcInN1Ym1pdFwiLHRoaXMucGFyZW50Tm9kZSxhLCEwKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIG0ubm9kZU5hbWUodGhpcyxcImZvcm1cIik/ITE6dm9pZCBtLmV2ZW50LnJlbW92ZSh0aGlzLFwiLl9zdWJtaXRcIil9fSksay5jaGFuZ2VCdWJibGVzfHwobS5ldmVudC5zcGVjaWFsLmNoYW5nZT17c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gWC50ZXN0KHRoaXMubm9kZU5hbWUpPygoXCJjaGVja2JveFwiPT09dGhpcy50eXBlfHxcInJhZGlvXCI9PT10aGlzLnR5cGUpJiYobS5ldmVudC5hZGQodGhpcyxcInByb3BlcnR5Y2hhbmdlLl9jaGFuZ2VcIixmdW5jdGlvbihhKXtcImNoZWNrZWRcIj09PWEub3JpZ2luYWxFdmVudC5wcm9wZXJ0eU5hbWUmJih0aGlzLl9qdXN0X2NoYW5nZWQ9ITApfSksbS5ldmVudC5hZGQodGhpcyxcImNsaWNrLl9jaGFuZ2VcIixmdW5jdGlvbihhKXt0aGlzLl9qdXN0X2NoYW5nZWQmJiFhLmlzVHJpZ2dlciYmKHRoaXMuX2p1c3RfY2hhbmdlZD0hMSksbS5ldmVudC5zaW11bGF0ZShcImNoYW5nZVwiLHRoaXMsYSwhMCl9KSksITEpOnZvaWQgbS5ldmVudC5hZGQodGhpcyxcImJlZm9yZWFjdGl2YXRlLl9jaGFuZ2VcIixmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldDtYLnRlc3QoYi5ub2RlTmFtZSkmJiFtLl9kYXRhKGIsXCJjaGFuZ2VCdWJibGVzXCIpJiYobS5ldmVudC5hZGQoYixcImNoYW5nZS5fY2hhbmdlXCIsZnVuY3Rpb24oYSl7IXRoaXMucGFyZW50Tm9kZXx8YS5pc1NpbXVsYXRlZHx8YS5pc1RyaWdnZXJ8fG0uZXZlbnQuc2ltdWxhdGUoXCJjaGFuZ2VcIix0aGlzLnBhcmVudE5vZGUsYSwhMCl9KSxtLl9kYXRhKGIsXCJjaGFuZ2VCdWJibGVzXCIsITApKX0pfSxoYW5kbGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7cmV0dXJuIHRoaXMhPT1ifHxhLmlzU2ltdWxhdGVkfHxhLmlzVHJpZ2dlcnx8XCJyYWRpb1wiIT09Yi50eXBlJiZcImNoZWNrYm94XCIhPT1iLnR5cGU/YS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBtLmV2ZW50LnJlbW92ZSh0aGlzLFwiLl9jaGFuZ2VcIiksIVgudGVzdCh0aGlzLm5vZGVOYW1lKX19KSxrLmZvY3VzaW5CdWJibGVzfHxtLmVhY2goe2ZvY3VzOlwiZm9jdXNpblwiLGJsdXI6XCJmb2N1c291dFwifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe20uZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxtLmV2ZW50LmZpeChhKSwhMCl9O20uZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1tLl9kYXRhKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksbS5fZGF0YShkLGIsKGV8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPW0uX2RhdGEoZCxiKS0xO2U/bS5fZGF0YShkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLG0uX3JlbW92ZURhdGEoZCxiKSl9fX0pLG0uZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGc7aWYoXCJvYmplY3RcIj09dHlwZW9mIGEpe1wic3RyaW5nXCIhPXR5cGVvZiBiJiYoYz1jfHxiLGI9dm9pZCAwKTtmb3IoZiBpbiBhKXRoaXMub24oZixiLGMsYVtmXSxlKTtyZXR1cm4gdGhpc31pZihudWxsPT1jJiZudWxsPT1kPyhkPWIsYz1iPXZvaWQgMCk6bnVsbD09ZCYmKFwic3RyaW5nXCI9PXR5cGVvZiBiPyhkPWMsYz12b2lkIDApOihkPWMsYz1iLGI9dm9pZCAwKSksZD09PSExKWQ9YmI7ZWxzZSBpZighZClyZXR1cm4gdGhpcztyZXR1cm4gMT09PWUmJihnPWQsZD1mdW5jdGlvbihhKXtyZXR1cm4gbSgpLm9mZihhKSxnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZC5ndWlkPWcuZ3VpZHx8KGcuZ3VpZD1tLmd1aWQrKykpLHRoaXMuZWFjaChmdW5jdGlvbigpe20uZXZlbnQuYWRkKHRoaXMsYSxkLGMsYil9KX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixtKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlK1wiLlwiK2QubmFtZXNwYWNlOmQub3JpZ1R5cGUsZC5zZWxlY3RvcixkLmhhbmRsZXIpLHRoaXM7aWYoXCJvYmplY3RcIj09dHlwZW9mIGEpe2ZvcihlIGluIGEpdGhpcy5vZmYoZSxiLGFbZV0pO3JldHVybiB0aGlzfXJldHVybihiPT09ITF8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGIpJiYoYz1iLGI9dm9pZCAwKSxjPT09ITEmJihjPWJiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXttLmV2ZW50LnJlbW92ZSh0aGlzLGEsYyxiKX0pfSx0cmlnZ2VyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe20uZXZlbnQudHJpZ2dlcihhLGIsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzWzBdO3JldHVybiBjP20uZXZlbnQudHJpZ2dlcihhLGIsYywhMCk6dm9pZCAwfX0pO2Z1bmN0aW9uIGRiKGEpe3ZhciBiPWViLnNwbGl0KFwifFwiKSxjPWEuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2lmKGMuY3JlYXRlRWxlbWVudCl3aGlsZShiLmxlbmd0aCljLmNyZWF0ZUVsZW1lbnQoYi5wb3AoKSk7cmV0dXJuIGN9dmFyIGViPVwiYWJicnxhcnRpY2xlfGFzaWRlfGF1ZGlvfGJkaXxjYW52YXN8ZGF0YXxkYXRhbGlzdHxkZXRhaWxzfGZpZ2NhcHRpb258ZmlndXJlfGZvb3RlcnxoZWFkZXJ8aGdyb3VwfG1hcmt8bWV0ZXJ8bmF2fG91dHB1dHxwcm9ncmVzc3xzZWN0aW9ufHN1bW1hcnl8dGltZXx2aWRlb1wiLGZiPS8galF1ZXJ5XFxkKz1cIig/Om51bGx8XFxkKylcIi9nLGdiPW5ldyBSZWdFeHAoXCI8KD86XCIrZWIrXCIpW1xcXFxzLz5dXCIsXCJpXCIpLGhiPS9eXFxzKy8saWI9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1xcdzpdKylbXj5dKilcXC8+L2dpLGpiPS88KFtcXHc6XSspLyxrYj0vPHRib2R5L2ksbGI9Lzx8JiM/XFx3KzsvLG1iPS88KD86c2NyaXB0fHN0eWxlfGxpbmspL2ksbmI9L2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxvYj0vXiR8XFwvKD86amF2YXxlY21hKXNjcmlwdC9pLHBiPS9edHJ1ZVxcLyguKikvLHFiPS9eXFxzKjwhKD86XFxbQ0RBVEFcXFt8LS0pfCg/OlxcXVxcXXwtLSk+XFxzKiQvZyxyYj17b3B0aW9uOlsxLFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLFwiPC9zZWxlY3Q+XCJdLGxlZ2VuZDpbMSxcIjxmaWVsZHNldD5cIixcIjwvZmllbGRzZXQ+XCJdLGFyZWE6WzEsXCI8bWFwPlwiLFwiPC9tYXA+XCJdLHBhcmFtOlsxLFwiPG9iamVjdD5cIixcIjwvb2JqZWN0PlwiXSx0aGVhZDpbMSxcIjx0YWJsZT5cIixcIjwvdGFibGU+XCJdLHRyOlsyLFwiPHRhYmxlPjx0Ym9keT5cIixcIjwvdGJvZHk+PC90YWJsZT5cIl0sY29sOlsyLFwiPHRhYmxlPjx0Ym9keT48L3Rib2R5Pjxjb2xncm91cD5cIixcIjwvY29sZ3JvdXA+PC90YWJsZT5cIl0sdGQ6WzMsXCI8dGFibGU+PHRib2R5Pjx0cj5cIixcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiXSxfZGVmYXVsdDprLmh0bWxTZXJpYWxpemU/WzAsXCJcIixcIlwiXTpbMSxcIlg8ZGl2PlwiLFwiPC9kaXY+XCJdfSxzYj1kYih5KSx0Yj1zYi5hcHBlbmRDaGlsZCh5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO3JiLm9wdGdyb3VwPXJiLm9wdGlvbixyYi50Ym9keT1yYi50Zm9vdD1yYi5jb2xncm91cD1yYi5jYXB0aW9uPXJiLnRoZWFkLHJiLnRoPXJiLnRkO2Z1bmN0aW9uIHViKGEsYil7dmFyIGMsZCxlPTAsZj10eXBlb2YgYS5nZXRFbGVtZW50c0J5VGFnTmFtZSE9PUs/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHxcIipcIik6dHlwZW9mIGEucXVlcnlTZWxlY3RvckFsbCE9PUs/YS5xdWVyeVNlbGVjdG9yQWxsKGJ8fFwiKlwiKTp2b2lkIDA7aWYoIWYpZm9yKGY9W10sYz1hLmNoaWxkTm9kZXN8fGE7bnVsbCE9KGQ9Y1tlXSk7ZSsrKSFifHxtLm5vZGVOYW1lKGQsYik/Zi5wdXNoKGQpOm0ubWVyZ2UoZix1YihkLGIpKTtyZXR1cm4gdm9pZCAwPT09Ynx8YiYmbS5ub2RlTmFtZShhLGIpP20ubWVyZ2UoW2FdLGYpOmZ9ZnVuY3Rpb24gdmIoYSl7Vy50ZXN0KGEudHlwZSkmJihhLmRlZmF1bHRDaGVja2VkPWEuY2hlY2tlZCl9ZnVuY3Rpb24gd2IoYSxiKXtyZXR1cm4gbS5ub2RlTmFtZShhLFwidGFibGVcIikmJm0ubm9kZU5hbWUoMTEhPT1iLm5vZGVUeXBlP2I6Yi5maXJzdENoaWxkLFwidHJcIik/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRib2R5XCIpWzBdfHxhLmFwcGVuZENoaWxkKGEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIikpOmF9ZnVuY3Rpb24geGIoYSl7cmV0dXJuIGEudHlwZT0obnVsbCE9PW0uZmluZC5hdHRyKGEsXCJ0eXBlXCIpKStcIi9cIithLnR5cGUsYX1mdW5jdGlvbiB5YihhKXt2YXIgYj1wYi5leGVjKGEudHlwZSk7cmV0dXJuIGI/YS50eXBlPWJbMV06YS5yZW1vdmVBdHRyaWJ1dGUoXCJ0eXBlXCIpLGF9ZnVuY3Rpb24gemIoYSxiKXtmb3IodmFyIGMsZD0wO251bGwhPShjPWFbZF0pO2QrKyltLl9kYXRhKGMsXCJnbG9iYWxFdmFsXCIsIWJ8fG0uX2RhdGEoYltkXSxcImdsb2JhbEV2YWxcIikpfWZ1bmN0aW9uIEFiKGEsYil7aWYoMT09PWIubm9kZVR5cGUmJm0uaGFzRGF0YShhKSl7dmFyIGMsZCxlLGY9bS5fZGF0YShhKSxnPW0uX2RhdGEoYixmKSxoPWYuZXZlbnRzO2lmKGgpe2RlbGV0ZSBnLmhhbmRsZSxnLmV2ZW50cz17fTtmb3IoYyBpbiBoKWZvcihkPTAsZT1oW2NdLmxlbmd0aDtlPmQ7ZCsrKW0uZXZlbnQuYWRkKGIsYyxoW2NdW2RdKX1nLmRhdGEmJihnLmRhdGE9bS5leHRlbmQoe30sZy5kYXRhKSl9fWZ1bmN0aW9uIEJiKGEsYil7dmFyIGMsZCxlO2lmKDE9PT1iLm5vZGVUeXBlKXtpZihjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwhay5ub0Nsb25lRXZlbnQmJmJbbS5leHBhbmRvXSl7ZT1tLl9kYXRhKGIpO2ZvcihkIGluIGUuZXZlbnRzKW0ucmVtb3ZlRXZlbnQoYixkLGUuaGFuZGxlKTtiLnJlbW92ZUF0dHJpYnV0ZShtLmV4cGFuZG8pfVwic2NyaXB0XCI9PT1jJiZiLnRleHQhPT1hLnRleHQ/KHhiKGIpLnRleHQ9YS50ZXh0LHliKGIpKTpcIm9iamVjdFwiPT09Yz8oYi5wYXJlbnROb2RlJiYoYi5vdXRlckhUTUw9YS5vdXRlckhUTUwpLGsuaHRtbDVDbG9uZSYmYS5pbm5lckhUTUwmJiFtLnRyaW0oYi5pbm5lckhUTUwpJiYoYi5pbm5lckhUTUw9YS5pbm5lckhUTUwpKTpcImlucHV0XCI9PT1jJiZXLnRlc3QoYS50eXBlKT8oYi5kZWZhdWx0Q2hlY2tlZD1iLmNoZWNrZWQ9YS5jaGVja2VkLGIudmFsdWUhPT1hLnZhbHVlJiYoYi52YWx1ZT1hLnZhbHVlKSk6XCJvcHRpb25cIj09PWM/Yi5kZWZhdWx0U2VsZWN0ZWQ9Yi5zZWxlY3RlZD1hLmRlZmF1bHRTZWxlY3RlZDooXCJpbnB1dFwiPT09Y3x8XCJ0ZXh0YXJlYVwiPT09YykmJihiLmRlZmF1bHRWYWx1ZT1hLmRlZmF1bHRWYWx1ZSl9fW0uZXh0ZW5kKHtjbG9uZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaCxpPW0uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpO2lmKGsuaHRtbDVDbG9uZXx8bS5pc1hNTERvYyhhKXx8IWdiLnRlc3QoXCI8XCIrYS5ub2RlTmFtZStcIj5cIik/Zj1hLmNsb25lTm9kZSghMCk6KHRiLmlubmVySFRNTD1hLm91dGVySFRNTCx0Yi5yZW1vdmVDaGlsZChmPXRiLmZpcnN0Q2hpbGQpKSwhKGsubm9DbG9uZUV2ZW50JiZrLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxtLmlzWE1MRG9jKGEpKSlmb3IoZD11YihmKSxoPXViKGEpLGc9MDtudWxsIT0oZT1oW2ddKTsrK2cpZFtnXSYmQmIoZSxkW2ddKTtpZihiKWlmKGMpZm9yKGg9aHx8dWIoYSksZD1kfHx1YihmKSxnPTA7bnVsbCE9KGU9aFtnXSk7ZysrKUFiKGUsZFtnXSk7ZWxzZSBBYihhLGYpO3JldHVybiBkPXViKGYsXCJzY3JpcHRcIiksZC5sZW5ndGg+MCYmemIoZCwhaSYmdWIoYSxcInNjcmlwdFwiKSksZD1oPWU9bnVsbCxmfSxidWlsZEZyYWdtZW50OmZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZSxmLGcsaCxpLGosbCxuPWEubGVuZ3RoLG89ZGIoYikscD1bXSxxPTA7bj5xO3ErKylpZihmPWFbcV0sZnx8MD09PWYpaWYoXCJvYmplY3RcIj09PW0udHlwZShmKSltLm1lcmdlKHAsZi5ub2RlVHlwZT9bZl06Zik7ZWxzZSBpZihsYi50ZXN0KGYpKXtoPWh8fG8uYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxpPShqYi5leGVjKGYpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKSxsPXJiW2ldfHxyYi5fZGVmYXVsdCxoLmlubmVySFRNTD1sWzFdK2YucmVwbGFjZShpYixcIjwkMT48LyQyPlwiKStsWzJdLGU9bFswXTt3aGlsZShlLS0paD1oLmxhc3RDaGlsZDtpZighay5sZWFkaW5nV2hpdGVzcGFjZSYmaGIudGVzdChmKSYmcC5wdXNoKGIuY3JlYXRlVGV4dE5vZGUoaGIuZXhlYyhmKVswXSkpLCFrLnRib2R5KXtmPVwidGFibGVcIiE9PWl8fGtiLnRlc3QoZik/XCI8dGFibGU+XCIhPT1sWzFdfHxrYi50ZXN0KGYpPzA6aDpoLmZpcnN0Q2hpbGQsZT1mJiZmLmNoaWxkTm9kZXMubGVuZ3RoO3doaWxlKGUtLSltLm5vZGVOYW1lKGo9Zi5jaGlsZE5vZGVzW2VdLFwidGJvZHlcIikmJiFqLmNoaWxkTm9kZXMubGVuZ3RoJiZmLnJlbW92ZUNoaWxkKGopfW0ubWVyZ2UocCxoLmNoaWxkTm9kZXMpLGgudGV4dENvbnRlbnQ9XCJcIjt3aGlsZShoLmZpcnN0Q2hpbGQpaC5yZW1vdmVDaGlsZChoLmZpcnN0Q2hpbGQpO2g9by5sYXN0Q2hpbGR9ZWxzZSBwLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShmKSk7aCYmby5yZW1vdmVDaGlsZChoKSxrLmFwcGVuZENoZWNrZWR8fG0uZ3JlcCh1YihwLFwiaW5wdXRcIiksdmIpLHE9MDt3aGlsZShmPXBbcSsrXSlpZigoIWR8fC0xPT09bS5pbkFycmF5KGYsZCkpJiYoZz1tLmNvbnRhaW5zKGYub3duZXJEb2N1bWVudCxmKSxoPXViKG8uYXBwZW5kQ2hpbGQoZiksXCJzY3JpcHRcIiksZyYmemIoaCksYykpe2U9MDt3aGlsZShmPWhbZSsrXSlvYi50ZXN0KGYudHlwZXx8XCJcIikmJmMucHVzaChmKX1yZXR1cm4gaD1udWxsLG99LGNsZWFuRGF0YTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgZCxlLGYsZyxoPTAsaT1tLmV4cGFuZG8saj1tLmNhY2hlLGw9ay5kZWxldGVFeHBhbmRvLG49bS5ldmVudC5zcGVjaWFsO251bGwhPShkPWFbaF0pO2grKylpZigoYnx8bS5hY2NlcHREYXRhKGQpKSYmKGY9ZFtpXSxnPWYmJmpbZl0pKXtpZihnLmV2ZW50cylmb3IoZSBpbiBnLmV2ZW50cyluW2VdP20uZXZlbnQucmVtb3ZlKGQsZSk6bS5yZW1vdmVFdmVudChkLGUsZy5oYW5kbGUpO2pbZl0mJihkZWxldGUgaltmXSxsP2RlbGV0ZSBkW2ldOnR5cGVvZiBkLnJlbW92ZUF0dHJpYnV0ZSE9PUs/ZC5yZW1vdmVBdHRyaWJ1dGUoaSk6ZFtpXT1udWxsLGMucHVzaChmKSl9fX0pLG0uZm4uZXh0ZW5kKHt0ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBWKHRoaXMsZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWE/bS50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5hcHBlbmQoKHRoaXNbMF0mJnRoaXNbMF0ub3duZXJEb2N1bWVudHx8eSkuY3JlYXRlVGV4dE5vZGUoYSkpfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9d2IodGhpcyxhKTtiLmFwcGVuZENoaWxkKGEpfX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj13Yih0aGlzLGEpO2IuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMubmV4dFNpYmxpbmcpfSl9LHJlbW92ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPWE/bS5maWx0ZXIoYSx0aGlzKTp0aGlzLGU9MDtudWxsIT0oYz1kW2VdKTtlKyspYnx8MSE9PWMubm9kZVR5cGV8fG0uY2xlYW5EYXRhKHViKGMpKSxjLnBhcmVudE5vZGUmJihiJiZtLmNvbnRhaW5zKGMub3duZXJEb2N1bWVudCxjKSYmemIodWIoYyxcInNjcmlwdFwiKSksYy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpKTtyZXR1cm4gdGhpc30sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO251bGwhPShhPXRoaXNbYl0pO2IrKyl7MT09PWEubm9kZVR5cGUmJm0uY2xlYW5EYXRhKHViKGEsITEpKTt3aGlsZShhLmZpcnN0Q2hpbGQpYS5yZW1vdmVDaGlsZChhLmZpcnN0Q2hpbGQpO2Eub3B0aW9ucyYmbS5ub2RlTmFtZShhLFwic2VsZWN0XCIpJiYoYS5vcHRpb25zLmxlbmd0aD0wKX1yZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1udWxsPT1hPyExOmEsYj1udWxsPT1iP2E6Yix0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBtLmNsb25lKHRoaXMsYSxiKX0pfSxodG1sOmZ1bmN0aW9uKGEpe3JldHVybiBWKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1swXXx8e30sYz0wLGQ9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09YSlyZXR1cm4gMT09PWIubm9kZVR5cGU/Yi5pbm5lckhUTUwucmVwbGFjZShmYixcIlwiKTp2b2lkIDA7aWYoIShcInN0cmluZ1wiIT10eXBlb2YgYXx8bWIudGVzdChhKXx8IWsuaHRtbFNlcmlhbGl6ZSYmZ2IudGVzdChhKXx8IWsubGVhZGluZ1doaXRlc3BhY2UmJmhiLnRlc3QoYSl8fHJiWyhqYi5leGVjKGEpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKV0pKXthPWEucmVwbGFjZShpYixcIjwkMT48LyQyPlwiKTt0cnl7Zm9yKDtkPmM7YysrKWI9dGhpc1tjXXx8e30sMT09PWIubm9kZVR5cGUmJihtLmNsZWFuRGF0YSh1YihiLCExKSksYi5pbm5lckhUTUw9YSk7Yj0wfWNhdGNoKGUpe319YiYmdGhpcy5lbXB0eSgpLmFwcGVuZChhKX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYil7YT10aGlzLnBhcmVudE5vZGUsbS5jbGVhbkRhdGEodWIodGhpcykpLGEmJmEucmVwbGFjZUNoaWxkKGIsdGhpcyl9KSxhJiYoYS5sZW5ndGh8fGEubm9kZVR5cGUpP3RoaXM6dGhpcy5yZW1vdmUoKX0sZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlbW92ZShhLCEwKX0sZG9tTWFuaXA6ZnVuY3Rpb24oYSxiKXthPWUuYXBwbHkoW10sYSk7dmFyIGMsZCxmLGcsaCxpLGo9MCxsPXRoaXMubGVuZ3RoLG49dGhpcyxvPWwtMSxwPWFbMF0scT1tLmlzRnVuY3Rpb24ocCk7aWYocXx8bD4xJiZcInN0cmluZ1wiPT10eXBlb2YgcCYmIWsuY2hlY2tDbG9uZSYmbmIudGVzdChwKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPW4uZXEoYyk7cSYmKGFbMF09cC5jYWxsKHRoaXMsYyxkLmh0bWwoKSkpLGQuZG9tTWFuaXAoYSxiKX0pO2lmKGwmJihpPW0uYnVpbGRGcmFnbWVudChhLHRoaXNbMF0ub3duZXJEb2N1bWVudCwhMSx0aGlzKSxjPWkuZmlyc3RDaGlsZCwxPT09aS5jaGlsZE5vZGVzLmxlbmd0aCYmKGk9YyksYykpe2ZvcihnPW0ubWFwKHViKGksXCJzY3JpcHRcIikseGIpLGY9Zy5sZW5ndGg7bD5qO2orKylkPWksaiE9PW8mJihkPW0uY2xvbmUoZCwhMCwhMCksZiYmbS5tZXJnZShnLHViKGQsXCJzY3JpcHRcIikpKSxiLmNhbGwodGhpc1tqXSxkLGopO2lmKGYpZm9yKGg9Z1tnLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LG0ubWFwKGcseWIpLGo9MDtmPmo7aisrKWQ9Z1tqXSxvYi50ZXN0KGQudHlwZXx8XCJcIikmJiFtLl9kYXRhKGQsXCJnbG9iYWxFdmFsXCIpJiZtLmNvbnRhaW5zKGgsZCkmJihkLnNyYz9tLl9ldmFsVXJsJiZtLl9ldmFsVXJsKGQuc3JjKTptLmdsb2JhbEV2YWwoKGQudGV4dHx8ZC50ZXh0Q29udGVudHx8ZC5pbm5lckhUTUx8fFwiXCIpLnJlcGxhY2UocWIsXCJcIikpKTtpPWM9bnVsbH1yZXR1cm4gdGhpc319KSxtLmVhY2goe2FwcGVuZFRvOlwiYXBwZW5kXCIscHJlcGVuZFRvOlwicHJlcGVuZFwiLGluc2VydEJlZm9yZTpcImJlZm9yZVwiLGluc2VydEFmdGVyOlwiYWZ0ZXJcIixyZXBsYWNlQWxsOlwicmVwbGFjZVdpdGhcIn0sZnVuY3Rpb24oYSxiKXttLmZuW2FdPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkPTAsZT1bXSxnPW0oYSksaD1nLmxlbmd0aC0xO2g+PWQ7ZCsrKWM9ZD09PWg/dGhpczp0aGlzLmNsb25lKCEwKSxtKGdbZF0pW2JdKGMpLGYuYXBwbHkoZSxjLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZSl9fSk7dmFyIENiLERiPXt9O2Z1bmN0aW9uIEViKGIsYyl7dmFyIGQsZT1tKGMuY3JlYXRlRWxlbWVudChiKSkuYXBwZW5kVG8oYy5ib2R5KSxmPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUmJihkPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUoZVswXSkpP2QuZGlzcGxheTptLmNzcyhlWzBdLFwiZGlzcGxheVwiKTtyZXR1cm4gZS5kZXRhY2goKSxmfWZ1bmN0aW9uIEZiKGEpe3ZhciBiPXksYz1EYlthXTtyZXR1cm4gY3x8KGM9RWIoYSxiKSxcIm5vbmVcIiE9PWMmJmN8fChDYj0oQ2J8fG0oXCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+XCIpKS5hcHBlbmRUbyhiLmRvY3VtZW50RWxlbWVudCksYj0oQ2JbMF0uY29udGVudFdpbmRvd3x8Q2JbMF0uY29udGVudERvY3VtZW50KS5kb2N1bWVudCxiLndyaXRlKCksYi5jbG9zZSgpLGM9RWIoYSxiKSxDYi5kZXRhY2goKSksRGJbYV09YyksY30hZnVuY3Rpb24oKXt2YXIgYTtrLnNocmlua1dyYXBCbG9ja3M9ZnVuY3Rpb24oKXtpZihudWxsIT1hKXJldHVybiBhO2E9ITE7dmFyIGIsYyxkO3JldHVybiBjPXkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdLGMmJmMuc3R5bGU/KGI9eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGQ9eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGQuc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOmFic29sdXRlO2JvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4XCIsYy5hcHBlbmRDaGlsZChkKS5hcHBlbmRDaGlsZChiKSx0eXBlb2YgYi5zdHlsZS56b29tIT09SyYmKGIuc3R5bGUuY3NzVGV4dD1cIi13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjFcIixiLmFwcGVuZENoaWxkKHkuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuc3R5bGUud2lkdGg9XCI1cHhcIixhPTMhPT1iLm9mZnNldFdpZHRoKSxjLnJlbW92ZUNoaWxkKGQpLGEpOnZvaWQgMH19KCk7dmFyIEdiPS9ebWFyZ2luLyxIYj1uZXcgUmVnRXhwKFwiXihcIitTK1wiKSg/IXB4KVthLXolXSskXCIsXCJpXCIpLEliLEpiLEtiPS9eKHRvcHxyaWdodHxib3R0b218bGVmdCkkLzthLmdldENvbXB1dGVkU3R5bGU/KEliPWZ1bmN0aW9uKGEpe3JldHVybiBhLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShhLG51bGwpfSxKYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLnN0eWxlO3JldHVybiBjPWN8fEliKGEpLGc9Yz9jLmdldFByb3BlcnR5VmFsdWUoYil8fGNbYl06dm9pZCAwLGMmJihcIlwiIT09Z3x8bS5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSl8fChnPW0uc3R5bGUoYSxiKSksSGIudGVzdChnKSYmR2IudGVzdChiKSYmKGQ9aC53aWR0aCxlPWgubWluV2lkdGgsZj1oLm1heFdpZHRoLGgubWluV2lkdGg9aC5tYXhXaWR0aD1oLndpZHRoPWcsZz1jLndpZHRoLGgud2lkdGg9ZCxoLm1pbldpZHRoPWUsaC5tYXhXaWR0aD1mKSksdm9pZCAwPT09Zz9nOmcrXCJcIn0pOnkuZG9jdW1lbnRFbGVtZW50LmN1cnJlbnRTdHlsZSYmKEliPWZ1bmN0aW9uKGEpe3JldHVybiBhLmN1cnJlbnRTdHlsZX0sSmI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5zdHlsZTtyZXR1cm4gYz1jfHxJYihhKSxnPWM/Y1tiXTp2b2lkIDAsbnVsbD09ZyYmaCYmaFtiXSYmKGc9aFtiXSksSGIudGVzdChnKSYmIUtiLnRlc3QoYikmJihkPWgubGVmdCxlPWEucnVudGltZVN0eWxlLGY9ZSYmZS5sZWZ0LGYmJihlLmxlZnQ9YS5jdXJyZW50U3R5bGUubGVmdCksaC5sZWZ0PVwiZm9udFNpemVcIj09PWI/XCIxZW1cIjpnLGc9aC5waXhlbExlZnQrXCJweFwiLGgubGVmdD1kLGYmJihlLmxlZnQ9ZikpLHZvaWQgMD09PWc/ZzpnK1wiXCJ8fFwiYXV0b1wifSk7ZnVuY3Rpb24gTGIoYSxiKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7dmFyIGM9YSgpO2lmKG51bGwhPWMpcmV0dXJuIGM/dm9pZCBkZWxldGUgdGhpcy5nZXQ6KHRoaXMuZ2V0PWIpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSFmdW5jdGlvbigpe3ZhciBiLGMsZCxlLGYsZyxoO2lmKGI9eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGIuaW5uZXJIVE1MPVwiICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+XCIsZD1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYVwiKVswXSxjPWQmJmQuc3R5bGUpe2MuY3NzVGV4dD1cImZsb2F0OmxlZnQ7b3BhY2l0eTouNVwiLGsub3BhY2l0eT1cIjAuNVwiPT09Yy5vcGFjaXR5LGsuY3NzRmxvYXQ9ISFjLmNzc0Zsb2F0LGIuc3R5bGUuYmFja2dyb3VuZENsaXA9XCJjb250ZW50LWJveFwiLGIuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cIlwiLGsuY2xlYXJDbG9uZVN0eWxlPVwiY29udGVudC1ib3hcIj09PWIuc3R5bGUuYmFja2dyb3VuZENsaXAsay5ib3hTaXppbmc9XCJcIj09PWMuYm94U2l6aW5nfHxcIlwiPT09Yy5Nb3pCb3hTaXppbmd8fFwiXCI9PT1jLldlYmtpdEJveFNpemluZyxtLmV4dGVuZChrLHtyZWxpYWJsZUhpZGRlbk9mZnNldHM6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09ZyYmaSgpLGd9LGJveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWYmJmkoKSxmfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWUmJmkoKSxlfSxyZWxpYWJsZU1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWgmJmkoKSxofX0pO2Z1bmN0aW9uIGkoKXt2YXIgYixjLGQsaTtjPXkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdLGMmJmMuc3R5bGUmJihiPXkuY3JlYXRlRWxlbWVudChcImRpdlwiKSxkPXkuY3JlYXRlRWxlbWVudChcImRpdlwiKSxkLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweFwiLGMuYXBwZW5kQ2hpbGQoZCkuYXBwZW5kQ2hpbGQoYiksYi5zdHlsZS5jc3NUZXh0PVwiLXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luLXRvcDoxJTt0b3A6MSU7Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt3aWR0aDo0cHg7cG9zaXRpb246YWJzb2x1dGVcIixlPWY9ITEsaD0hMCxhLmdldENvbXB1dGVkU3R5bGUmJihlPVwiMSVcIiE9PShhLmdldENvbXB1dGVkU3R5bGUoYixudWxsKXx8e30pLnRvcCxmPVwiNHB4XCI9PT0oYS5nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCl8fHt3aWR0aDpcIjRweFwifSkud2lkdGgsaT1iLmFwcGVuZENoaWxkKHkuY3JlYXRlRWxlbWVudChcImRpdlwiKSksaS5zdHlsZS5jc3NUZXh0PWIuc3R5bGUuY3NzVGV4dD1cIi13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MFwiLGkuc3R5bGUubWFyZ2luUmlnaHQ9aS5zdHlsZS53aWR0aD1cIjBcIixiLnN0eWxlLndpZHRoPVwiMXB4XCIsaD0hcGFyc2VGbG9hdCgoYS5nZXRDb21wdXRlZFN0eWxlKGksbnVsbCl8fHt9KS5tYXJnaW5SaWdodCkpLGIuaW5uZXJIVE1MPVwiPHRhYmxlPjx0cj48dGQ+PC90ZD48dGQ+dDwvdGQ+PC90cj48L3RhYmxlPlwiLGk9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRkXCIpLGlbMF0uc3R5bGUuY3NzVGV4dD1cIm1hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MDtkaXNwbGF5Om5vbmVcIixnPTA9PT1pWzBdLm9mZnNldEhlaWdodCxnJiYoaVswXS5zdHlsZS5kaXNwbGF5PVwiXCIsaVsxXS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGc9MD09PWlbMF0ub2Zmc2V0SGVpZ2h0KSxjLnJlbW92ZUNoaWxkKGQpKX19fSgpLG0uc3dhcD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9e307Zm9yKGYgaW4gYilnW2ZdPWEuc3R5bGVbZl0sYS5zdHlsZVtmXT1iW2ZdO2U9Yy5hcHBseShhLGR8fFtdKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09Z1tmXTtyZXR1cm4gZX07dmFyIE1iPS9hbHBoYVxcKFteKV0qXFwpL2ksTmI9L29wYWNpdHlcXHMqPVxccyooW14pXSopLyxPYj0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sUGI9bmV3IFJlZ0V4cChcIl4oXCIrUytcIikoLiopJFwiLFwiaVwiKSxRYj1uZXcgUmVnRXhwKFwiXihbKy1dKT0oXCIrUytcIilcIixcImlcIiksUmI9e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix2aXNpYmlsaXR5OlwiaGlkZGVuXCIsZGlzcGxheTpcImJsb2NrXCJ9LFNiPXtsZXR0ZXJTcGFjaW5nOlwiMFwiLGZvbnRXZWlnaHQ6XCI0MDBcIn0sVGI9W1wiV2Via2l0XCIsXCJPXCIsXCJNb3pcIixcIm1zXCJdO2Z1bmN0aW9uIFViKGEsYil7aWYoYiBpbiBhKXJldHVybiBiO3ZhciBjPWIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYi5zbGljZSgxKSxkPWIsZT1UYi5sZW5ndGg7d2hpbGUoZS0tKWlmKGI9VGJbZV0rYyxiIGluIGEpcmV0dXJuIGI7cmV0dXJuIGR9ZnVuY3Rpb24gVmIoYSxiKXtmb3IodmFyIGMsZCxlLGY9W10sZz0wLGg9YS5sZW5ndGg7aD5nO2crKylkPWFbZ10sZC5zdHlsZSYmKGZbZ109bS5fZGF0YShkLFwib2xkZGlzcGxheVwiKSxjPWQuc3R5bGUuZGlzcGxheSxiPyhmW2ddfHxcIm5vbmVcIiE9PWN8fChkLnN0eWxlLmRpc3BsYXk9XCJcIiksXCJcIj09PWQuc3R5bGUuZGlzcGxheSYmVShkKSYmKGZbZ109bS5fZGF0YShkLFwib2xkZGlzcGxheVwiLEZiKGQubm9kZU5hbWUpKSkpOihlPVUoZCksKGMmJlwibm9uZVwiIT09Y3x8IWUpJiZtLl9kYXRhKGQsXCJvbGRkaXNwbGF5XCIsZT9jOm0uY3NzKGQsXCJkaXNwbGF5XCIpKSkpO2ZvcihnPTA7aD5nO2crKylkPWFbZ10sZC5zdHlsZSYmKGImJlwibm9uZVwiIT09ZC5zdHlsZS5kaXNwbGF5JiZcIlwiIT09ZC5zdHlsZS5kaXNwbGF5fHwoZC5zdHlsZS5kaXNwbGF5PWI/ZltnXXx8XCJcIjpcIm5vbmVcIikpO3JldHVybiBhfWZ1bmN0aW9uIFdiKGEsYixjKXt2YXIgZD1QYi5leGVjKGIpO3JldHVybiBkP01hdGgubWF4KDAsZFsxXS0oY3x8MCkpKyhkWzJdfHxcInB4XCIpOmJ9ZnVuY3Rpb24gWGIoYSxiLGMsZCxlKXtmb3IodmFyIGY9Yz09PShkP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpPzQ6XCJ3aWR0aFwiPT09Yj8xOjAsZz0wOzQ+ZjtmKz0yKVwibWFyZ2luXCI9PT1jJiYoZys9bS5jc3MoYSxjK1RbZl0sITAsZSkpLGQ/KFwiY29udGVudFwiPT09YyYmKGctPW0uY3NzKGEsXCJwYWRkaW5nXCIrVFtmXSwhMCxlKSksXCJtYXJnaW5cIiE9PWMmJihnLT1tLmNzcyhhLFwiYm9yZGVyXCIrVFtmXStcIldpZHRoXCIsITAsZSkpKTooZys9bS5jc3MoYSxcInBhZGRpbmdcIitUW2ZdLCEwLGUpLFwicGFkZGluZ1wiIT09YyYmKGcrPW0uY3NzKGEsXCJib3JkZXJcIitUW2ZdK1wiV2lkdGhcIiwhMCxlKSkpO3JldHVybiBnfWZ1bmN0aW9uIFliKGEsYixjKXt2YXIgZD0hMCxlPVwid2lkdGhcIj09PWI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodCxmPUliKGEpLGc9ay5ib3hTaXppbmcmJlwiYm9yZGVyLWJveFwiPT09bS5jc3MoYSxcImJveFNpemluZ1wiLCExLGYpO2lmKDA+PWV8fG51bGw9PWUpe2lmKGU9SmIoYSxiLGYpLCgwPmV8fG51bGw9PWUpJiYoZT1hLnN0eWxlW2JdKSxIYi50ZXN0KGUpKXJldHVybiBlO2Q9ZyYmKGsuYm94U2l6aW5nUmVsaWFibGUoKXx8ZT09PWEuc3R5bGVbYl0pLGU9cGFyc2VGbG9hdChlKXx8MH1yZXR1cm4gZStYYihhLGIsY3x8KGc/XCJib3JkZXJcIjpcImNvbnRlbnRcIiksZCxmKStcInB4XCJ9bS5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz1KYihhLFwib3BhY2l0eVwiKTtyZXR1cm5cIlwiPT09Yz9cIjFcIjpjfX19fSxjc3NOdW1iZXI6e2NvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOntcImZsb2F0XCI6ay5jc3NGbG9hdD9cImNzc0Zsb2F0XCI6XCJzdHlsZUZsb2F0XCJ9LHN0eWxlOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGEmJjMhPT1hLm5vZGVUeXBlJiY4IT09YS5ub2RlVHlwZSYmYS5zdHlsZSl7dmFyIGUsZixnLGg9bS5jYW1lbENhc2UoYiksaT1hLnN0eWxlO2lmKGI9bS5jc3NQcm9wc1toXXx8KG0uY3NzUHJvcHNbaF09VWIoaSxoKSksZz1tLmNzc0hvb2tzW2JdfHxtLmNzc0hvb2tzW2hdLHZvaWQgMD09PWMpcmV0dXJuIGcmJlwiZ2V0XCJpbiBnJiZ2b2lkIDAhPT0oZT1nLmdldChhLCExLGQpKT9lOmlbYl07aWYoZj10eXBlb2YgYyxcInN0cmluZ1wiPT09ZiYmKGU9UWIuZXhlYyhjKSkmJihjPShlWzFdKzEpKmVbMl0rcGFyc2VGbG9hdChtLmNzcyhhLGIpKSxmPVwibnVtYmVyXCIpLG51bGwhPWMmJmM9PT1jJiYoXCJudW1iZXJcIiE9PWZ8fG0uY3NzTnVtYmVyW2hdfHwoYys9XCJweFwiKSxrLmNsZWFyQ2xvbmVTdHlsZXx8XCJcIiE9PWN8fDAhPT1iLmluZGV4T2YoXCJiYWNrZ3JvdW5kXCIpfHwoaVtiXT1cImluaGVyaXRcIiksIShnJiZcInNldFwiaW4gZyYmdm9pZCAwPT09KGM9Zy5zZXQoYSxjLGQpKSkpKXRyeXtpW2JdPWN9Y2F0Y2goail7fX19LGNzczpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGcsaD1tLmNhbWVsQ2FzZShiKTtyZXR1cm4gYj1tLmNzc1Byb3BzW2hdfHwobS5jc3NQcm9wc1toXT1VYihhLnN0eWxlLGgpKSxnPW0uY3NzSG9va3NbYl18fG0uY3NzSG9va3NbaF0sZyYmXCJnZXRcImluIGcmJihmPWcuZ2V0KGEsITAsYykpLHZvaWQgMD09PWYmJihmPUpiKGEsYixkKSksXCJub3JtYWxcIj09PWYmJmIgaW4gU2ImJihmPVNiW2JdKSxcIlwiPT09Y3x8Yz8oZT1wYXJzZUZsb2F0KGYpLGM9PT0hMHx8bS5pc051bWVyaWMoZSk/ZXx8MDpmKTpmfX0pLG0uZWFjaChbXCJoZWlnaHRcIixcIndpZHRoXCJdLGZ1bmN0aW9uKGEsYil7bS5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYz9PYi50ZXN0KG0uY3NzKGEsXCJkaXNwbGF5XCIpKSYmMD09PWEub2Zmc2V0V2lkdGg/bS5zd2FwKGEsUmIsZnVuY3Rpb24oKXtyZXR1cm4gWWIoYSxiLGQpfSk6WWIoYSxiLGQpOnZvaWQgMH0sc2V0OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1kJiZJYihhKTtyZXR1cm4gV2IoYSxjLGQ/WGIoYSxiLGQsay5ib3hTaXppbmcmJlwiYm9yZGVyLWJveFwiPT09bS5jc3MoYSxcImJveFNpemluZ1wiLCExLGUpLGUpOjApfX19KSxrLm9wYWNpdHl8fChtLmNzc0hvb2tzLm9wYWNpdHk9e2dldDpmdW5jdGlvbihhLGIpe3JldHVybiBOYi50ZXN0KChiJiZhLmN1cnJlbnRTdHlsZT9hLmN1cnJlbnRTdHlsZS5maWx0ZXI6YS5zdHlsZS5maWx0ZXIpfHxcIlwiKT8uMDEqcGFyc2VGbG9hdChSZWdFeHAuJDEpK1wiXCI6Yj9cIjFcIjpcIlwifSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnN0eWxlLGQ9YS5jdXJyZW50U3R5bGUsZT1tLmlzTnVtZXJpYyhiKT9cImFscGhhKG9wYWNpdHk9XCIrMTAwKmIrXCIpXCI6XCJcIixmPWQmJmQuZmlsdGVyfHxjLmZpbHRlcnx8XCJcIjtjLnpvb209MSwoYj49MXx8XCJcIj09PWIpJiZcIlwiPT09bS50cmltKGYucmVwbGFjZShNYixcIlwiKSkmJmMucmVtb3ZlQXR0cmlidXRlJiYoYy5yZW1vdmVBdHRyaWJ1dGUoXCJmaWx0ZXJcIiksXCJcIj09PWJ8fGQmJiFkLmZpbHRlcil8fChjLmZpbHRlcj1NYi50ZXN0KGYpP2YucmVwbGFjZShNYixlKTpmK1wiIFwiK2UpfX0pLG0uY3NzSG9va3MubWFyZ2luUmlnaHQ9TGIoay5yZWxpYWJsZU1hcmdpblJpZ2h0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/bS5zd2FwKGEse2Rpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIn0sSmIsW2EsXCJtYXJnaW5SaWdodFwiXSk6dm9pZCAwfSksbS5lYWNoKHttYXJnaW46XCJcIixwYWRkaW5nOlwiXCIsYm9yZGVyOlwiV2lkdGhcIn0sZnVuY3Rpb24oYSxiKXttLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9XCJzdHJpbmdcIj09dHlwZW9mIGM/Yy5zcGxpdChcIiBcIik6W2NdOzQ+ZDtkKyspZVthK1RbZF0rYl09ZltkXXx8ZltkLTJdfHxmWzBdO3JldHVybiBlfX0sR2IudGVzdChhKXx8KG0uY3NzSG9va3NbYStiXS5zZXQ9V2IpfSksbS5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihhLGIpe3JldHVybiBWKHRoaXMsZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj17fSxnPTA7aWYobS5pc0FycmF5KGIpKXtmb3IoZD1JYihhKSxlPWIubGVuZ3RoO2U+ZztnKyspZltiW2ddXT1tLmNzcyhhLGJbZ10sITEsZCk7cmV0dXJuIGZ9cmV0dXJuIHZvaWQgMCE9PWM/bS5zdHlsZShhLGIsYyk6bS5jc3MoYSxiKX0sYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gVmIodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gVmIodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihhKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGE/YT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtVKHRoaXMpP20odGhpcykuc2hvdygpOm0odGhpcykuaGlkZSgpfSl9fSk7ZnVuY3Rpb24gWmIoYSxiLGMsZCxlKXtyZXR1cm4gbmV3IFpiLnByb3RvdHlwZS5pbml0KGEsYixjLGQsZSl9bS5Ud2Vlbj1aYixaYi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlpiLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuZWxlbT1hLHRoaXMucHJvcD1jLHRoaXMuZWFzaW5nPWV8fFwic3dpbmdcIix0aGlzLm9wdGlvbnM9Yix0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9ZCx0aGlzLnVuaXQ9Znx8KG0uY3NzTnVtYmVyW2NdP1wiXCI6XCJweFwiKVxufSxjdXI6ZnVuY3Rpb24oKXt2YXIgYT1aYi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gYSYmYS5nZXQ/YS5nZXQodGhpcyk6WmIucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGEpe3ZhciBiLGM9WmIucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMucG9zPWI9dGhpcy5vcHRpb25zLmR1cmF0aW9uP20uZWFzaW5nW3RoaXMuZWFzaW5nXShhLHRoaXMub3B0aW9ucy5kdXJhdGlvbiphLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOmEsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKmIrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksYyYmYy5zZXQ/Yy5zZXQodGhpcyk6WmIucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0sWmIucHJvdG90eXBlLmluaXQucHJvdG90eXBlPVpiLnByb3RvdHlwZSxaYi5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIG51bGw9PWEuZWxlbVthLnByb3BdfHxhLmVsZW0uc3R5bGUmJm51bGwhPWEuZWxlbS5zdHlsZVthLnByb3BdPyhiPW0uY3NzKGEuZWxlbSxhLnByb3AsXCJcIiksYiYmXCJhdXRvXCIhPT1iP2I6MCk6YS5lbGVtW2EucHJvcF19LHNldDpmdW5jdGlvbihhKXttLmZ4LnN0ZXBbYS5wcm9wXT9tLmZ4LnN0ZXBbYS5wcm9wXShhKTphLmVsZW0uc3R5bGUmJihudWxsIT1hLmVsZW0uc3R5bGVbbS5jc3NQcm9wc1thLnByb3BdXXx8bS5jc3NIb29rc1thLnByb3BdKT9tLnN0eWxlKGEuZWxlbSxhLnByb3AsYS5ub3crYS51bml0KTphLmVsZW1bYS5wcm9wXT1hLm5vd319fSxaYi5wcm9wSG9va3Muc2Nyb2xsVG9wPVpiLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oYSl7YS5lbGVtLm5vZGVUeXBlJiZhLmVsZW0ucGFyZW50Tm9kZSYmKGEuZWxlbVthLnByb3BdPWEubm93KX19LG0uZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LHN3aW5nOmZ1bmN0aW9uKGEpe3JldHVybi41LU1hdGguY29zKGEqTWF0aC5QSSkvMn19LG0uZng9WmIucHJvdG90eXBlLmluaXQsbS5meC5zdGVwPXt9O3ZhciAkYixfYixhYz0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sYmM9bmV3IFJlZ0V4cChcIl4oPzooWystXSk9fCkoXCIrUytcIikoW2EteiVdKikkXCIsXCJpXCIpLGNjPS9xdWV1ZUhvb2tzJC8sZGM9W2ljXSxlYz17XCIqXCI6W2Z1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVUd2VlbihhLGIpLGQ9Yy5jdXIoKSxlPWJjLmV4ZWMoYiksZj1lJiZlWzNdfHwobS5jc3NOdW1iZXJbYV0/XCJcIjpcInB4XCIpLGc9KG0uY3NzTnVtYmVyW2FdfHxcInB4XCIhPT1mJiYrZCkmJmJjLmV4ZWMobS5jc3MoYy5lbGVtLGEpKSxoPTEsaT0yMDtpZihnJiZnWzNdIT09Zil7Zj1mfHxnWzNdLGU9ZXx8W10sZz0rZHx8MTtkbyBoPWh8fFwiLjVcIixnLz1oLG0uc3R5bGUoYy5lbGVtLGEsZytmKTt3aGlsZShoIT09KGg9Yy5jdXIoKS9kKSYmMSE9PWgmJi0taSl9cmV0dXJuIGUmJihnPWMuc3RhcnQ9K2d8fCtkfHwwLGMudW5pdD1mLGMuZW5kPWVbMV0/ZysoZVsxXSsxKSplWzJdOitlWzJdKSxjfV19O2Z1bmN0aW9uIGZjKCl7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXskYj12b2lkIDB9KSwkYj1tLm5vdygpfWZ1bmN0aW9uIGdjKGEsYil7dmFyIGMsZD17aGVpZ2h0OmF9LGU9MDtmb3IoYj1iPzE6MDs0PmU7ZSs9Mi1iKWM9VFtlXSxkW1wibWFyZ2luXCIrY109ZFtcInBhZGRpbmdcIitjXT1hO3JldHVybiBiJiYoZC5vcGFjaXR5PWQud2lkdGg9YSksZH1mdW5jdGlvbiBoYyhhLGIsYyl7Zm9yKHZhciBkLGU9KGVjW2JdfHxbXSkuY29uY2F0KGVjW1wiKlwiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gaWMoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGwsbj10aGlzLG89e30scD1hLnN0eWxlLHE9YS5ub2RlVHlwZSYmVShhKSxyPW0uX2RhdGEoYSxcImZ4c2hvd1wiKTtjLnF1ZXVlfHwoaD1tLl9xdWV1ZUhvb2tzKGEsXCJmeFwiKSxudWxsPT1oLnVucXVldWVkJiYoaC51bnF1ZXVlZD0wLGk9aC5lbXB0eS5maXJlLGguZW1wdHkuZmlyZT1mdW5jdGlvbigpe2gudW5xdWV1ZWR8fGkoKX0pLGgudW5xdWV1ZWQrKyxuLmFsd2F5cyhmdW5jdGlvbigpe24uYWx3YXlzKGZ1bmN0aW9uKCl7aC51bnF1ZXVlZC0tLG0ucXVldWUoYSxcImZ4XCIpLmxlbmd0aHx8aC5lbXB0eS5maXJlKCl9KX0pKSwxPT09YS5ub2RlVHlwZSYmKFwiaGVpZ2h0XCJpbiBifHxcIndpZHRoXCJpbiBiKSYmKGMub3ZlcmZsb3c9W3Aub3ZlcmZsb3cscC5vdmVyZmxvd1gscC5vdmVyZmxvd1ldLGo9bS5jc3MoYSxcImRpc3BsYXlcIiksbD1cIm5vbmVcIj09PWo/bS5fZGF0YShhLFwib2xkZGlzcGxheVwiKXx8RmIoYS5ub2RlTmFtZSk6aixcImlubGluZVwiPT09bCYmXCJub25lXCI9PT1tLmNzcyhhLFwiZmxvYXRcIikmJihrLmlubGluZUJsb2NrTmVlZHNMYXlvdXQmJlwiaW5saW5lXCIhPT1GYihhLm5vZGVOYW1lKT9wLnpvb209MTpwLmRpc3BsYXk9XCJpbmxpbmUtYmxvY2tcIikpLGMub3ZlcmZsb3cmJihwLm92ZXJmbG93PVwiaGlkZGVuXCIsay5zaHJpbmtXcmFwQmxvY2tzKCl8fG4uYWx3YXlzKGZ1bmN0aW9uKCl7cC5vdmVyZmxvdz1jLm92ZXJmbG93WzBdLHAub3ZlcmZsb3dYPWMub3ZlcmZsb3dbMV0scC5vdmVyZmxvd1k9Yy5vdmVyZmxvd1syXX0pKTtmb3IoZCBpbiBiKWlmKGU9YltkXSxhYy5leGVjKGUpKXtpZihkZWxldGUgYltkXSxmPWZ8fFwidG9nZ2xlXCI9PT1lLGU9PT0ocT9cImhpZGVcIjpcInNob3dcIikpe2lmKFwic2hvd1wiIT09ZXx8IXJ8fHZvaWQgMD09PXJbZF0pY29udGludWU7cT0hMH1vW2RdPXImJnJbZF18fG0uc3R5bGUoYSxkKX1lbHNlIGo9dm9pZCAwO2lmKG0uaXNFbXB0eU9iamVjdChvKSlcImlubGluZVwiPT09KFwibm9uZVwiPT09aj9GYihhLm5vZGVOYW1lKTpqKSYmKHAuZGlzcGxheT1qKTtlbHNle3I/XCJoaWRkZW5cImluIHImJihxPXIuaGlkZGVuKTpyPW0uX2RhdGEoYSxcImZ4c2hvd1wiLHt9KSxmJiYoci5oaWRkZW49IXEpLHE/bShhKS5zaG93KCk6bi5kb25lKGZ1bmN0aW9uKCl7bShhKS5oaWRlKCl9KSxuLmRvbmUoZnVuY3Rpb24oKXt2YXIgYjttLl9yZW1vdmVEYXRhKGEsXCJmeHNob3dcIik7Zm9yKGIgaW4gbyltLnN0eWxlKGEsYixvW2JdKX0pO2ZvcihkIGluIG8pZz1oYyhxP3JbZF06MCxkLG4pLGQgaW4gcnx8KHJbZF09Zy5zdGFydCxxJiYoZy5lbmQ9Zy5zdGFydCxnLnN0YXJ0PVwid2lkdGhcIj09PWR8fFwiaGVpZ2h0XCI9PT1kPzE6MCkpfX1mdW5jdGlvbiBqYyhhLGIpe3ZhciBjLGQsZSxmLGc7Zm9yKGMgaW4gYSlpZihkPW0uY2FtZWxDYXNlKGMpLGU9YltkXSxmPWFbY10sbS5pc0FycmF5KGYpJiYoZT1mWzFdLGY9YVtjXT1mWzBdKSxjIT09ZCYmKGFbZF09ZixkZWxldGUgYVtjXSksZz1tLmNzc0hvb2tzW2RdLGcmJlwiZXhwYW5kXCJpbiBnKXtmPWcuZXhwYW5kKGYpLGRlbGV0ZSBhW2RdO2ZvcihjIGluIGYpYyBpbiBhfHwoYVtjXT1mW2NdLGJbY109ZSl9ZWxzZSBiW2RdPWV9ZnVuY3Rpb24ga2MoYSxiLGMpe3ZhciBkLGUsZj0wLGc9ZGMubGVuZ3RoLGg9bS5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSBpLmVsZW19KSxpPWZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4hMTtmb3IodmFyIGI9JGJ8fGZjKCksYz1NYXRoLm1heCgwLGouc3RhcnRUaW1lK2ouZHVyYXRpb24tYiksZD1jL2ouZHVyYXRpb258fDAsZj0xLWQsZz0wLGk9ai50d2VlbnMubGVuZ3RoO2k+ZztnKyspai50d2VlbnNbZ10ucnVuKGYpO3JldHVybiBoLm5vdGlmeVdpdGgoYSxbaixmLGNdKSwxPmYmJmk/YzooaC5yZXNvbHZlV2l0aChhLFtqXSksITEpfSxqPWgucHJvbWlzZSh7ZWxlbTphLHByb3BzOm0uZXh0ZW5kKHt9LGIpLG9wdHM6bS5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e319LGMpLG9yaWdpbmFsUHJvcGVydGllczpiLG9yaWdpbmFsT3B0aW9uczpjLHN0YXJ0VGltZTokYnx8ZmMoKSxkdXJhdGlvbjpjLmR1cmF0aW9uLHR3ZWVuczpbXSxjcmVhdGVUd2VlbjpmdW5jdGlvbihiLGMpe3ZhciBkPW0uVHdlZW4oYSxqLm9wdHMsYixjLGoub3B0cy5zcGVjaWFsRWFzaW5nW2JdfHxqLm9wdHMuZWFzaW5nKTtyZXR1cm4gai50d2VlbnMucHVzaChkKSxkfSxzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPTAsZD1iP2oudHdlZW5zLmxlbmd0aDowO2lmKGUpcmV0dXJuIHRoaXM7Zm9yKGU9ITA7ZD5jO2MrKylqLnR3ZWVuc1tjXS5ydW4oMSk7cmV0dXJuIGI/aC5yZXNvbHZlV2l0aChhLFtqLGJdKTpoLnJlamVjdFdpdGgoYSxbaixiXSksdGhpc319KSxrPWoucHJvcHM7Zm9yKGpjKGssai5vcHRzLnNwZWNpYWxFYXNpbmcpO2c+ZjtmKyspaWYoZD1kY1tmXS5jYWxsKGosYSxrLGoub3B0cykpcmV0dXJuIGQ7cmV0dXJuIG0ubWFwKGssaGMsaiksbS5pc0Z1bmN0aW9uKGoub3B0cy5zdGFydCkmJmoub3B0cy5zdGFydC5jYWxsKGEsaiksbS5meC50aW1lcihtLmV4dGVuZChpLHtlbGVtOmEsYW5pbTpqLHF1ZXVlOmoub3B0cy5xdWV1ZX0pKSxqLnByb2dyZXNzKGoub3B0cy5wcm9ncmVzcykuZG9uZShqLm9wdHMuZG9uZSxqLm9wdHMuY29tcGxldGUpLmZhaWwoai5vcHRzLmZhaWwpLmFsd2F5cyhqLm9wdHMuYWx3YXlzKX1tLkFuaW1hdGlvbj1tLmV4dGVuZChrYyx7dHdlZW5lcjpmdW5jdGlvbihhLGIpe20uaXNGdW5jdGlvbihhKT8oYj1hLGE9W1wiKlwiXSk6YT1hLnNwbGl0KFwiIFwiKTtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyljPWFbZF0sZWNbY109ZWNbY118fFtdLGVjW2NdLnVuc2hpZnQoYil9LHByZWZpbHRlcjpmdW5jdGlvbihhLGIpe2I/ZGMudW5zaGlmdChhKTpkYy5wdXNoKGEpfX0pLG0uc3BlZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEmJlwib2JqZWN0XCI9PXR5cGVvZiBhP20uZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8bS5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFtLmlzRnVuY3Rpb24oYikmJmJ9O3JldHVybiBkLmR1cmF0aW9uPW0uZngub2ZmPzA6XCJudW1iZXJcIj09dHlwZW9mIGQuZHVyYXRpb24/ZC5kdXJhdGlvbjpkLmR1cmF0aW9uIGluIG0uZnguc3BlZWRzP20uZnguc3BlZWRzW2QuZHVyYXRpb25dOm0uZnguc3BlZWRzLl9kZWZhdWx0LChudWxsPT1kLnF1ZXVlfHxkLnF1ZXVlPT09ITApJiYoZC5xdWV1ZT1cImZ4XCIpLGQub2xkPWQuY29tcGxldGUsZC5jb21wbGV0ZT1mdW5jdGlvbigpe20uaXNGdW5jdGlvbihkLm9sZCkmJmQub2xkLmNhbGwodGhpcyksZC5xdWV1ZSYmbS5kZXF1ZXVlKHRoaXMsZC5xdWV1ZSl9LGR9LG0uZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuZmlsdGVyKFUpLmNzcyhcIm9wYWNpdHlcIiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bS5pc0VtcHR5T2JqZWN0KGEpLGY9bS5zcGVlZChiLGMsZCksZz1mdW5jdGlvbigpe3ZhciBiPWtjKHRoaXMsbS5leHRlbmQoe30sYSksZik7KGV8fG0uX2RhdGEodGhpcyxcImZpbmlzaFwiKSkmJmIuc3RvcCghMCl9O3JldHVybiBnLmZpbmlzaD1nLGV8fGYucXVldWU9PT0hMT90aGlzLmVhY2goZyk6dGhpcy5xdWV1ZShmLnF1ZXVlLGcpfSxzdG9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgYj1hLnN0b3A7ZGVsZXRlIGEuc3RvcCxiKGMpfTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgYSYmKGM9YixiPWEsYT12b2lkIDApLGImJmEhPT0hMSYmdGhpcy5xdWV1ZShhfHxcImZ4XCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPSEwLGU9bnVsbCE9YSYmYStcInF1ZXVlSG9va3NcIixmPW0udGltZXJzLGc9bS5fZGF0YSh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZjYy50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyhifHwhYykmJm0uZGVxdWV1ZSh0aGlzLGEpfSl9LGZpbmlzaDpmdW5jdGlvbihhKXtyZXR1cm4gYSE9PSExJiYoYT1hfHxcImZ4XCIpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiLGM9bS5fZGF0YSh0aGlzKSxkPWNbYStcInF1ZXVlXCJdLGU9Y1thK1wicXVldWVIb29rc1wiXSxmPW0udGltZXJzLGc9ZD9kLmxlbmd0aDowO2ZvcihjLmZpbmlzaD0hMCxtLnF1ZXVlKHRoaXMsYSxbXSksZSYmZS5zdG9wJiZlLnN0b3AuY2FsbCh0aGlzLCEwKSxiPWYubGVuZ3RoO2ItLTspZltiXS5lbGVtPT09dGhpcyYmZltiXS5xdWV1ZT09PWEmJihmW2JdLmFuaW0uc3RvcCghMCksZi5zcGxpY2UoYiwxKSk7Zm9yKGI9MDtnPmI7YisrKWRbYl0mJmRbYl0uZmluaXNoJiZkW2JdLmZpbmlzaC5jYWxsKHRoaXMpO2RlbGV0ZSBjLmZpbmlzaH0pfX0pLG0uZWFjaChbXCJ0b2dnbGVcIixcInNob3dcIixcImhpZGVcIl0sZnVuY3Rpb24oYSxiKXt2YXIgYz1tLmZuW2JdO20uZm5bYl09ZnVuY3Rpb24oYSxkLGUpe3JldHVybiBudWxsPT1hfHxcImJvb2xlYW5cIj09dHlwZW9mIGE/Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKGdjKGIsITApLGEsZCxlKX19KSxtLmVhY2goe3NsaWRlRG93bjpnYyhcInNob3dcIiksc2xpZGVVcDpnYyhcImhpZGVcIiksc2xpZGVUb2dnbGU6Z2MoXCJ0b2dnbGVcIiksZmFkZUluOntvcGFjaXR5Olwic2hvd1wifSxmYWRlT3V0OntvcGFjaXR5OlwiaGlkZVwifSxmYWRlVG9nZ2xlOntvcGFjaXR5OlwidG9nZ2xlXCJ9fSxmdW5jdGlvbihhLGIpe20uZm5bYV09ZnVuY3Rpb24oYSxjLGQpe3JldHVybiB0aGlzLmFuaW1hdGUoYixhLGMsZCl9fSksbS50aW1lcnM9W10sbS5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGEsYj1tLnRpbWVycyxjPTA7Zm9yKCRiPW0ubm93KCk7YzxiLmxlbmd0aDtjKyspYT1iW2NdLGEoKXx8YltjXSE9PWF8fGIuc3BsaWNlKGMtLSwxKTtiLmxlbmd0aHx8bS5meC5zdG9wKCksJGI9dm9pZCAwfSxtLmZ4LnRpbWVyPWZ1bmN0aW9uKGEpe20udGltZXJzLnB1c2goYSksYSgpP20uZnguc3RhcnQoKTptLnRpbWVycy5wb3AoKX0sbS5meC5pbnRlcnZhbD0xMyxtLmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7X2J8fChfYj1zZXRJbnRlcnZhbChtLmZ4LnRpY2ssbS5meC5pbnRlcnZhbCkpfSxtLmZ4LnN0b3A9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKF9iKSxfYj1udWxsfSxtLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxtLmZuLmRlbGF5PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bS5meD9tLmZ4LnNwZWVkc1thXXx8YTphLGI9Ynx8XCJmeFwiLHRoaXMucXVldWUoYixmdW5jdGlvbihiLGMpe3ZhciBkPXNldFRpbWVvdXQoYixhKTtjLnN0b3A9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZCl9fSl9LGZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZTtiPXkuY3JlYXRlRWxlbWVudChcImRpdlwiKSxiLnNldEF0dHJpYnV0ZShcImNsYXNzTmFtZVwiLFwidFwiKSxiLmlubmVySFRNTD1cIiAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Jy9hJz5hPC9hPjxpbnB1dCB0eXBlPSdjaGVja2JveCcvPlwiLGQ9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImFcIilbMF0sYz15LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIiksZT1jLmFwcGVuZENoaWxkKHkuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSksYT1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIilbMF0sZC5zdHlsZS5jc3NUZXh0PVwidG9wOjFweFwiLGsuZ2V0U2V0QXR0cmlidXRlPVwidFwiIT09Yi5jbGFzc05hbWUsay5zdHlsZT0vdG9wLy50ZXN0KGQuZ2V0QXR0cmlidXRlKFwic3R5bGVcIikpLGsuaHJlZk5vcm1hbGl6ZWQ9XCIvYVwiPT09ZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLGsuY2hlY2tPbj0hIWEudmFsdWUsay5vcHRTZWxlY3RlZD1lLnNlbGVjdGVkLGsuZW5jdHlwZT0hIXkuY3JlYXRlRWxlbWVudChcImZvcm1cIikuZW5jdHlwZSxjLmRpc2FibGVkPSEwLGsub3B0RGlzYWJsZWQ9IWUuZGlzYWJsZWQsYT15LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxhLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIiksay5pbnB1dD1cIlwiPT09YS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSxhLnZhbHVlPVwidFwiLGEuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwicmFkaW9cIiksay5yYWRpb1ZhbHVlPVwidFwiPT09YS52YWx1ZX0oKTt2YXIgbGM9L1xcci9nO20uZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU9dGhpc1swXTt7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZD1tLmlzRnVuY3Rpb24oYSksdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBlOzE9PT10aGlzLm5vZGVUeXBlJiYoZT1kP2EuY2FsbCh0aGlzLGMsbSh0aGlzKS52YWwoKSk6YSxudWxsPT1lP2U9XCJcIjpcIm51bWJlclwiPT10eXBlb2YgZT9lKz1cIlwiOm0uaXNBcnJheShlKSYmKGU9bS5tYXAoZSxmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9cIlwiOmErXCJcIn0pKSxiPW0udmFsSG9va3NbdGhpcy50eXBlXXx8bS52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJlwic2V0XCJpbiBiJiZ2b2lkIDAhPT1iLnNldCh0aGlzLGUsXCJ2YWx1ZVwiKXx8KHRoaXMudmFsdWU9ZSkpfSk7aWYoZSlyZXR1cm4gYj1tLnZhbEhvb2tzW2UudHlwZV18fG0udmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiZcImdldFwiaW4gYiYmdm9pZCAwIT09KGM9Yi5nZXQoZSxcInZhbHVlXCIpKT9jOihjPWUudmFsdWUsXCJzdHJpbmdcIj09dHlwZW9mIGM/Yy5yZXBsYWNlKGxjLFwiXCIpOm51bGw9PWM/XCJcIjpjKX19fSksbS5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihhKXt2YXIgYj1tLmZpbmQuYXR0cihhLFwidmFsdWVcIik7cmV0dXJuIG51bGwhPWI/YjptLnRyaW0obS50ZXh0KGEpKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQ9YS5vcHRpb25zLGU9YS5zZWxlY3RlZEluZGV4LGY9XCJzZWxlY3Qtb25lXCI9PT1hLnR5cGV8fDA+ZSxnPWY/bnVsbDpbXSxoPWY/ZSsxOmQubGVuZ3RoLGk9MD5lP2g6Zj9lOjA7aD5pO2krKylpZihjPWRbaV0sISghYy5zZWxlY3RlZCYmaSE9PWV8fChrLm9wdERpc2FibGVkP2MuZGlzYWJsZWQ6bnVsbCE9PWMuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikpfHxjLnBhcmVudE5vZGUuZGlzYWJsZWQmJm0ubm9kZU5hbWUoYy5wYXJlbnROb2RlLFwib3B0Z3JvdXBcIikpKXtpZihiPW0oYykudmFsKCksZilyZXR1cm4gYjtnLnB1c2goYil9cmV0dXJuIGd9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT1hLm9wdGlvbnMsZj1tLm1ha2VBcnJheShiKSxnPWUubGVuZ3RoO3doaWxlKGctLSlpZihkPWVbZ10sbS5pbkFycmF5KG0udmFsSG9va3Mub3B0aW9uLmdldChkKSxmKT49MCl0cnl7ZC5zZWxlY3RlZD1jPSEwfWNhdGNoKGgpe2Quc2Nyb2xsSGVpZ2h0fWVsc2UgZC5zZWxlY3RlZD0hMTtyZXR1cm4gY3x8KGEuc2VsZWN0ZWRJbmRleD0tMSksZX19fX0pLG0uZWFjaChbXCJyYWRpb1wiLFwiY2hlY2tib3hcIl0sZnVuY3Rpb24oKXttLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbS5pc0FycmF5KGIpP2EuY2hlY2tlZD1tLmluQXJyYXkobShhKS52YWwoKSxiKT49MDp2b2lkIDB9fSxrLmNoZWNrT258fChtLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWEuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik/XCJvblwiOmEudmFsdWV9KX0pO3ZhciBtYyxuYyxvYz1tLmV4cHIuYXR0ckhhbmRsZSxwYz0vXig/OmNoZWNrZWR8c2VsZWN0ZWQpJC9pLHFjPWsuZ2V0U2V0QXR0cmlidXRlLHJjPWsuaW5wdXQ7bS5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVih0aGlzLG0uYXR0cixhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bS5yZW1vdmVBdHRyKHRoaXMsYSl9KX19KSxtLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoYSYmMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm4gdHlwZW9mIGEuZ2V0QXR0cmlidXRlPT09Sz9tLnByb3AoYSxiLGMpOigxPT09ZiYmbS5pc1hNTERvYyhhKXx8KGI9Yi50b0xvd2VyQ2FzZSgpLGQ9bS5hdHRySG9va3NbYl18fChtLmV4cHIubWF0Y2guYm9vbC50ZXN0KGIpP25jOm1jKSksdm9pZCAwPT09Yz9kJiZcImdldFwiaW4gZCYmbnVsbCE9PShlPWQuZ2V0KGEsYikpP2U6KGU9bS5maW5kLmF0dHIoYSxiKSxudWxsPT1lP3ZvaWQgMDplKTpudWxsIT09Yz9kJiZcInNldFwiaW4gZCYmdm9pZCAwIT09KGU9ZC5zZXQoYSxjLGIpKT9lOihhLnNldEF0dHJpYnV0ZShiLGMrXCJcIiksYyk6dm9pZCBtLnJlbW92ZUF0dHIoYSxiKSl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9MCxmPWImJmIubWF0Y2goRSk7aWYoZiYmMT09PWEubm9kZVR5cGUpd2hpbGUoYz1mW2UrK10pZD1tLnByb3BGaXhbY118fGMsbS5leHByLm1hdGNoLmJvb2wudGVzdChjKT9yYyYmcWN8fCFwYy50ZXN0KGMpP2FbZF09ITE6YVttLmNhbWVsQ2FzZShcImRlZmF1bHQtXCIrYyldPWFbZF09ITE6bS5hdHRyKGEsYyxcIlwiKSxhLnJlbW92ZUF0dHJpYnV0ZShxYz9jOmQpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihhLGIpe2lmKCFrLnJhZGlvVmFsdWUmJlwicmFkaW9cIj09PWImJm0ubm9kZU5hbWUoYSxcImlucHV0XCIpKXt2YXIgYz1hLnZhbHVlO3JldHVybiBhLnNldEF0dHJpYnV0ZShcInR5cGVcIixiKSxjJiYoYS52YWx1ZT1jKSxifX19fX0pLG5jPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPT09ITE/bS5yZW1vdmVBdHRyKGEsYyk6cmMmJnFjfHwhcGMudGVzdChjKT9hLnNldEF0dHJpYnV0ZSghcWMmJm0ucHJvcEZpeFtjXXx8YyxjKTphW20uY2FtZWxDYXNlKFwiZGVmYXVsdC1cIitjKV09YVtjXT0hMCxjfX0sbS5lYWNoKG0uZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXFx3Ky9nKSxmdW5jdGlvbihhLGIpe3ZhciBjPW9jW2JdfHxtLmZpbmQuYXR0cjtvY1tiXT1yYyYmcWN8fCFwYy50ZXN0KGIpP2Z1bmN0aW9uKGEsYixkKXt2YXIgZSxmO3JldHVybiBkfHwoZj1vY1tiXSxvY1tiXT1lLGU9bnVsbCE9YyhhLGIsZCk/Yi50b0xvd2VyQ2FzZSgpOm51bGwsb2NbYl09ZiksZX06ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP3ZvaWQgMDphW20uY2FtZWxDYXNlKFwiZGVmYXVsdC1cIitiKV0/Yi50b0xvd2VyQ2FzZSgpOm51bGx9fSkscmMmJnFjfHwobS5hdHRySG9va3MudmFsdWU9e3NldDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG0ubm9kZU5hbWUoYSxcImlucHV0XCIpP3ZvaWQoYS5kZWZhdWx0VmFsdWU9Yik6bWMmJm1jLnNldChhLGIsYyl9fSkscWN8fChtYz17c2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmdldEF0dHJpYnV0ZU5vZGUoYyk7cmV0dXJuIGR8fGEuc2V0QXR0cmlidXRlTm9kZShkPWEub3duZXJEb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUoYykpLGQudmFsdWU9Yis9XCJcIixcInZhbHVlXCI9PT1jfHxiPT09YS5nZXRBdHRyaWJ1dGUoYyk/Yjp2b2lkIDB9fSxvYy5pZD1vYy5uYW1lPW9jLmNvb3Jkcz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGM/dm9pZCAwOihkPWEuZ2V0QXR0cmlidXRlTm9kZShiKSkmJlwiXCIhPT1kLnZhbHVlP2QudmFsdWU6bnVsbH0sbS52YWxIb29rcy5idXR0b249e2dldDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuZ2V0QXR0cmlidXRlTm9kZShiKTtyZXR1cm4gYyYmYy5zcGVjaWZpZWQ/Yy52YWx1ZTp2b2lkIDB9LHNldDptYy5zZXR9LG0uYXR0ckhvb2tzLmNvbnRlbnRlZGl0YWJsZT17c2V0OmZ1bmN0aW9uKGEsYixjKXttYy5zZXQoYSxcIlwiPT09Yj8hMTpiLGMpfX0sbS5lYWNoKFtcIndpZHRoXCIsXCJoZWlnaHRcIl0sZnVuY3Rpb24oYSxiKXttLmF0dHJIb29rc1tiXT17c2V0OmZ1bmN0aW9uKGEsYyl7cmV0dXJuXCJcIj09PWM/KGEuc2V0QXR0cmlidXRlKGIsXCJhdXRvXCIpLGMpOnZvaWQgMH19fSkpLGsuc3R5bGV8fChtLmF0dHJIb29rcy5zdHlsZT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0eWxlLmNzc1RleHR8fHZvaWQgMH0sc2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuc3R5bGUuY3NzVGV4dD1iK1wiXCJ9fSk7dmFyIHNjPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QpJC9pLHRjPS9eKD86YXxhcmVhKSQvaTttLmZuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihhLGIpe3JldHVybiBWKHRoaXMsbS5wcm9wLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGEpe3JldHVybiBhPW0ucHJvcEZpeFthXXx8YSx0aGlzLmVhY2goZnVuY3Rpb24oKXt0cnl7dGhpc1thXT12b2lkIDAsZGVsZXRlIHRoaXNbYV19Y2F0Y2goYil7fX0pfX0pLG0uZXh0ZW5kKHtwcm9wRml4OntcImZvclwiOlwiaHRtbEZvclwiLFwiY2xhc3NcIjpcImNsYXNzTmFtZVwifSxwcm9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZz1hLm5vZGVUeXBlO2lmKGEmJjMhPT1nJiY4IT09ZyYmMiE9PWcpcmV0dXJuIGY9MSE9PWd8fCFtLmlzWE1MRG9jKGEpLGYmJihiPW0ucHJvcEZpeFtiXXx8YixlPW0ucHJvcEhvb2tzW2JdKSx2b2lkIDAhPT1jP2UmJlwic2V0XCJpbiBlJiZ2b2lkIDAhPT0oZD1lLnNldChhLGMsYikpP2Q6YVtiXT1jOmUmJlwiZ2V0XCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDphW2JdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bS5maW5kLmF0dHIoYSxcInRhYmluZGV4XCIpO3JldHVybiBiP3BhcnNlSW50KGIsMTApOnNjLnRlc3QoYS5ub2RlTmFtZSl8fHRjLnRlc3QoYS5ub2RlTmFtZSkmJmEuaHJlZj8wOi0xfX19fSksay5ocmVmTm9ybWFsaXplZHx8bS5lYWNoKFtcImhyZWZcIixcInNyY1wiXSxmdW5jdGlvbihhLGIpe20ucHJvcEhvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKGIsNCl9fX0pLGsub3B0U2VsZWN0ZWR8fChtLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmKGIuc2VsZWN0ZWRJbmRleCxiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KSxudWxsfX0pLG0uZWFjaChbXCJ0YWJJbmRleFwiLFwicmVhZE9ubHlcIixcIm1heExlbmd0aFwiLFwiY2VsbFNwYWNpbmdcIixcImNlbGxQYWRkaW5nXCIsXCJyb3dTcGFuXCIsXCJjb2xTcGFuXCIsXCJ1c2VNYXBcIixcImZyYW1lQm9yZGVyXCIsXCJjb250ZW50RWRpdGFibGVcIl0sZnVuY3Rpb24oKXttLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSksay5lbmN0eXBlfHwobS5wcm9wRml4LmVuY3R5cGU9XCJlbmNvZGluZ1wiKTt2YXIgdWM9L1tcXHRcXHJcXG5cXGZdL2c7bS5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoPTAsaT10aGlzLmxlbmd0aCxqPVwic3RyaW5nXCI9PXR5cGVvZiBhJiZhO2lmKG0uaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe20odGhpcykuYWRkQ2xhc3MoYS5jYWxsKHRoaXMsYix0aGlzLmNsYXNzTmFtZSkpfSk7aWYoailmb3IoYj0oYXx8XCJcIikubWF0Y2goRSl8fFtdO2k+aDtoKyspaWYoYz10aGlzW2hdLGQ9MT09PWMubm9kZVR5cGUmJihjLmNsYXNzTmFtZT8oXCIgXCIrYy5jbGFzc05hbWUrXCIgXCIpLnJlcGxhY2UodWMsXCIgXCIpOlwiIFwiKSl7Zj0wO3doaWxlKGU9YltmKytdKWQuaW5kZXhPZihcIiBcIitlK1wiIFwiKTwwJiYoZCs9ZStcIiBcIik7Zz1tLnRyaW0oZCksYy5jbGFzc05hbWUhPT1nJiYoYy5jbGFzc05hbWU9Zyl9cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoPTAsaT10aGlzLmxlbmd0aCxqPTA9PT1hcmd1bWVudHMubGVuZ3RofHxcInN0cmluZ1wiPT10eXBlb2YgYSYmYTtpZihtLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXttKHRoaXMpLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGopZm9yKGI9KGF8fFwiXCIpLm1hdGNoKEUpfHxbXTtpPmg7aCsrKWlmKGM9dGhpc1toXSxkPTE9PT1jLm5vZGVUeXBlJiYoYy5jbGFzc05hbWU/KFwiIFwiK2MuY2xhc3NOYW1lK1wiIFwiKS5yZXBsYWNlKHVjLFwiIFwiKTpcIlwiKSl7Zj0wO3doaWxlKGU9YltmKytdKXdoaWxlKGQuaW5kZXhPZihcIiBcIitlK1wiIFwiKT49MClkPWQucmVwbGFjZShcIiBcIitlK1wiIFwiLFwiIFwiKTtnPWE/bS50cmltKGQpOlwiXCIsYy5jbGFzc05hbWUhPT1nJiYoYy5jbGFzc05hbWU9Zyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGE7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBiJiZcInN0cmluZ1wiPT09Yz9iP3RoaXMuYWRkQ2xhc3MoYSk6dGhpcy5yZW1vdmVDbGFzcyhhKTp0aGlzLmVhY2gobS5pc0Z1bmN0aW9uKGEpP2Z1bmN0aW9uKGMpe20odGhpcykudG9nZ2xlQ2xhc3MoYS5jYWxsKHRoaXMsYyx0aGlzLmNsYXNzTmFtZSxiKSxiKX06ZnVuY3Rpb24oKXtpZihcInN0cmluZ1wiPT09Yyl7dmFyIGIsZD0wLGU9bSh0aGlzKSxmPWEubWF0Y2goRSl8fFtdO3doaWxlKGI9ZltkKytdKWUuaGFzQ2xhc3MoYik/ZS5yZW1vdmVDbGFzcyhiKTplLmFkZENsYXNzKGIpfWVsc2UoYz09PUt8fFwiYm9vbGVhblwiPT09YykmJih0aGlzLmNsYXNzTmFtZSYmbS5fZGF0YSh0aGlzLFwiX19jbGFzc05hbWVfX1wiLHRoaXMuY2xhc3NOYW1lKSx0aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFtZXx8YT09PSExP1wiXCI6bS5fZGF0YSh0aGlzLFwiX19jbGFzc05hbWVfX1wiKXx8XCJcIil9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVwiIFwiK2ErXCIgXCIsYz0wLGQ9dGhpcy5sZW5ndGg7ZD5jO2MrKylpZigxPT09dGhpc1tjXS5ub2RlVHlwZSYmKFwiIFwiK3RoaXNbY10uY2xhc3NOYW1lK1wiIFwiKS5yZXBsYWNlKHVjLFwiIFwiKS5pbmRleE9mKGIpPj0wKXJldHVybiEwO3JldHVybiExfX0pLG0uZWFjaChcImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnVcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSxiKXttLmZuW2JdPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKGIsbnVsbCxhLGMpOnRoaXMudHJpZ2dlcihiKX19KSxtLmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9LGJpbmQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm9uKGEsbnVsbCxiLGMpfSx1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vZmYoYSxudWxsLGIpfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihiLGEsYyxkKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGEsXCIqKlwiKTp0aGlzLm9mZihiLGF8fFwiKipcIixjKX19KTt2YXIgdmM9bS5ub3coKSx3Yz0vXFw/Lyx4Yz0vKCwpfChcXFt8eyl8KH18XSl8XCIoPzpbXlwiXFxcXFxcclxcbl18XFxcXFtcIlxcXFxcXC9iZm5ydF18XFxcXHVbXFxkYS1mQS1GXXs0fSkqXCJcXHMqOj98dHJ1ZXxmYWxzZXxudWxsfC0/KD8hMFxcZClcXGQrKD86XFwuXFxkK3wpKD86W2VFXVsrLV0/XFxkK3wpL2c7bS5wYXJzZUpTT049ZnVuY3Rpb24oYil7aWYoYS5KU09OJiZhLkpTT04ucGFyc2UpcmV0dXJuIGEuSlNPTi5wYXJzZShiK1wiXCIpO3ZhciBjLGQ9bnVsbCxlPW0udHJpbShiK1wiXCIpO3JldHVybiBlJiYhbS50cmltKGUucmVwbGFjZSh4YyxmdW5jdGlvbihhLGIsZSxmKXtyZXR1cm4gYyYmYiYmKGQ9MCksMD09PWQ/YTooYz1lfHxiLGQrPSFmLSFlLFwiXCIpfSkpP0Z1bmN0aW9uKFwicmV0dXJuIFwiK2UpKCk6bS5lcnJvcihcIkludmFsaWQgSlNPTjogXCIrYil9LG0ucGFyc2VYTUw9ZnVuY3Rpb24oYil7dmFyIGMsZDtpZighYnx8XCJzdHJpbmdcIiE9dHlwZW9mIGIpcmV0dXJuIG51bGw7dHJ5e2EuRE9NUGFyc2VyPyhkPW5ldyBET01QYXJzZXIsYz1kLnBhcnNlRnJvbVN0cmluZyhiLFwidGV4dC94bWxcIikpOihjPW5ldyBBY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTERPTVwiKSxjLmFzeW5jPVwiZmFsc2VcIixjLmxvYWRYTUwoYikpfWNhdGNoKGUpe2M9dm9pZCAwfXJldHVybiBjJiZjLmRvY3VtZW50RWxlbWVudCYmIWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYXJzZXJlcnJvclwiKS5sZW5ndGh8fG0uZXJyb3IoXCJJbnZhbGlkIFhNTDogXCIrYiksY307dmFyIHljLHpjLEFjPS8jLiokLyxCYz0vKFs/Jl0pXz1bXiZdKi8sQ2M9L14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopXFxyPyQvZ20sRGM9L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sRWM9L14oPzpHRVR8SEVBRCkkLyxGYz0vXlxcL1xcLy8sR2M9L14oW1xcdy4rLV0rOikoPzpcXC9cXC8oPzpbXlxcLz8jXSpAfCkoW15cXC8/IzpdKikoPzo6KFxcZCspfCl8KS8sSGM9e30sSWM9e30sSmM9XCIqL1wiLmNvbmNhdChcIipcIik7dHJ5e3pjPWxvY2F0aW9uLmhyZWZ9Y2F0Y2goS2Mpe3pjPXkuY3JlYXRlRWxlbWVudChcImFcIiksemMuaHJlZj1cIlwiLHpjPXpjLmhyZWZ9eWM9R2MuZXhlYyh6Yy50b0xvd2VyQ2FzZSgpKXx8W107ZnVuY3Rpb24gTGMoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7XCJzdHJpbmdcIiE9dHlwZW9mIGImJihjPWIsYj1cIipcIik7dmFyIGQsZT0wLGY9Yi50b0xvd2VyQ2FzZSgpLm1hdGNoKEUpfHxbXTtpZihtLmlzRnVuY3Rpb24oYykpd2hpbGUoZD1mW2UrK10pXCIrXCI9PT1kLmNoYXJBdCgwKT8oZD1kLnNsaWNlKDEpfHxcIipcIiwoYVtkXT1hW2RdfHxbXSkudW5zaGlmdChjKSk6KGFbZF09YVtkXXx8W10pLnB1c2goYyl9fWZ1bmN0aW9uIE1jKGEsYixjLGQpe3ZhciBlPXt9LGY9YT09PUljO2Z1bmN0aW9uIGcoaCl7dmFyIGk7cmV0dXJuIGVbaF09ITAsbS5lYWNoKGFbaF18fFtdLGZ1bmN0aW9uKGEsaCl7dmFyIGo9aChiLGMsZCk7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlW1wiKlwiXSYmZyhcIipcIil9ZnVuY3Rpb24gTmMoYSxiKXt2YXIgYyxkLGU9bS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihkIGluIGIpdm9pZCAwIT09YltkXSYmKChlW2RdP2E6Y3x8KGM9e30pKVtkXT1iW2RdKTtyZXR1cm4gYyYmbS5leHRlbmQoITAsYSxjKSxhfWZ1bmN0aW9uIE9jKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY29udGVudHMsaT1hLmRhdGFUeXBlczt3aGlsZShcIipcIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWUmJihlPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIikpO2lmKGUpZm9yKGcgaW4gaClpZihoW2ddJiZoW2ddLnRlc3QoZSkpe2kudW5zaGlmdChnKTticmVha31pZihpWzBdaW4gYylmPWlbMF07ZWxzZXtmb3IoZyBpbiBjKXtpZighaVswXXx8YS5jb252ZXJ0ZXJzW2crXCIgXCIraVswXV0pe2Y9ZzticmVha31kfHwoZD1nKX1mPWZ8fGR9cmV0dXJuIGY/KGYhPT1pWzBdJiZpLnVuc2hpZnQoZiksY1tmXSk6dm9pZCAwfWZ1bmN0aW9uIFBjKGEsYixjLGQpe3ZhciBlLGYsZyxoLGksaj17fSxrPWEuZGF0YVR5cGVzLnNsaWNlKCk7aWYoa1sxXSlmb3IoZyBpbiBhLmNvbnZlcnRlcnMpaltnLnRvTG93ZXJDYXNlKCldPWEuY29udmVydGVyc1tnXTtmPWsuc2hpZnQoKTt3aGlsZShmKWlmKGEucmVzcG9uc2VGaWVsZHNbZl0mJihjW2EucmVzcG9uc2VGaWVsZHNbZl1dPWIpLCFpJiZkJiZhLmRhdGFGaWx0ZXImJihiPWEuZGF0YUZpbHRlcihiLGEuZGF0YVR5cGUpKSxpPWYsZj1rLnNoaWZ0KCkpaWYoXCIqXCI9PT1mKWY9aTtlbHNlIGlmKFwiKlwiIT09aSYmaSE9PWYpe2lmKGc9altpK1wiIFwiK2ZdfHxqW1wiKiBcIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdChcIiBcIiksaFsxXT09PWYmJihnPWpbaStcIiBcIitoWzBdXXx8altcIiogXCIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhW1widGhyb3dzXCJdKWI9ZyhiKTtlbHNlIHRyeXtiPWcoYil9Y2F0Y2gobCl7cmV0dXJue3N0YXRlOlwicGFyc2VyZXJyb3JcIixlcnJvcjpnP2w6XCJObyBjb252ZXJzaW9uIGZyb20gXCIraStcIiB0byBcIitmfX19cmV0dXJue3N0YXRlOlwic3VjY2Vzc1wiLGRhdGE6Yn19bS5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOnpjLHR5cGU6XCJHRVRcIixpc0xvY2FsOkRjLnRlc3QoeWNbMV0pLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLGFjY2VwdHM6e1wiKlwiOkpjLHRleHQ6XCJ0ZXh0L3BsYWluXCIsaHRtbDpcInRleHQvaHRtbFwiLHhtbDpcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixqc29uOlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJ9LGNvbnRlbnRzOnt4bWw6L3htbC8saHRtbDovaHRtbC8sanNvbjovanNvbi99LHJlc3BvbnNlRmllbGRzOnt4bWw6XCJyZXNwb25zZVhNTFwiLHRleHQ6XCJyZXNwb25zZVRleHRcIixqc29uOlwicmVzcG9uc2VKU09OXCJ9LGNvbnZlcnRlcnM6e1wiKiB0ZXh0XCI6U3RyaW5nLFwidGV4dCBodG1sXCI6ITAsXCJ0ZXh0IGpzb25cIjptLnBhcnNlSlNPTixcInRleHQgeG1sXCI6bS5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/TmMoTmMoYSxtLmFqYXhTZXR0aW5ncyksYik6TmMobS5hamF4U2V0dGluZ3MsYSl9LGFqYXhQcmVmaWx0ZXI6TGMoSGMpLGFqYXhUcmFuc3BvcnQ6TGMoSWMpLGFqYXg6ZnVuY3Rpb24oYSxiKXtcIm9iamVjdFwiPT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYj1ifHx7fTt2YXIgYyxkLGUsZixnLGgsaSxqLGs9bS5hamF4U2V0dXAoe30sYiksbD1rLmNvbnRleHR8fGssbj1rLmNvbnRleHQmJihsLm5vZGVUeXBlfHxsLmpxdWVyeSk/bShsKTptLmV2ZW50LG89bS5EZWZlcnJlZCgpLHA9bS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxxPWsuc3RhdHVzQ29kZXx8e30scj17fSxzPXt9LHQ9MCx1PVwiY2FuY2VsZWRcIix2PXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoMj09PXQpe2lmKCFqKXtqPXt9O3doaWxlKGI9Q2MuZXhlYyhmKSlqW2JbMV0udG9Mb3dlckNhc2UoKV09YlsyXX1iPWpbYS50b0xvd2VyQ2FzZSgpXX1yZXR1cm4gbnVsbD09Yj9udWxsOmJ9LGdldEFsbFJlc3BvbnNlSGVhZGVyczpmdW5jdGlvbigpe3JldHVybiAyPT09dD9mOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHR8fChhPXNbY109c1tjXXx8YSxyW2FdPWIpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHR8fChrLm1pbWVUeXBlPWEpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoYSlpZigyPnQpZm9yKGIgaW4gYSlxW2JdPVtxW2JdLGFbYl1dO2Vsc2Ugdi5hbHdheXMoYVt2LnN0YXR1c10pO3JldHVybiB0aGlzfSxhYm9ydDpmdW5jdGlvbihhKXt2YXIgYj1hfHx1O3JldHVybiBpJiZpLmFib3J0KGIpLHgoMCxiKSx0aGlzfX07aWYoby5wcm9taXNlKHYpLmNvbXBsZXRlPXAuYWRkLHYuc3VjY2Vzcz12LmRvbmUsdi5lcnJvcj12LmZhaWwsay51cmw9KChhfHxrLnVybHx8emMpK1wiXCIpLnJlcGxhY2UoQWMsXCJcIikucmVwbGFjZShGYyx5Y1sxXStcIi8vXCIpLGsudHlwZT1iLm1ldGhvZHx8Yi50eXBlfHxrLm1ldGhvZHx8ay50eXBlLGsuZGF0YVR5cGVzPW0udHJpbShrLmRhdGFUeXBlfHxcIipcIikudG9Mb3dlckNhc2UoKS5tYXRjaChFKXx8W1wiXCJdLG51bGw9PWsuY3Jvc3NEb21haW4mJihjPUdjLmV4ZWMoay51cmwudG9Mb3dlckNhc2UoKSksay5jcm9zc0RvbWFpbj0hKCFjfHxjWzFdPT09eWNbMV0mJmNbMl09PT15Y1syXSYmKGNbM118fChcImh0dHA6XCI9PT1jWzFdP1wiODBcIjpcIjQ0M1wiKSk9PT0oeWNbM118fChcImh0dHA6XCI9PT15Y1sxXT9cIjgwXCI6XCI0NDNcIikpKSksay5kYXRhJiZrLnByb2Nlc3NEYXRhJiZcInN0cmluZ1wiIT10eXBlb2Ygay5kYXRhJiYoay5kYXRhPW0ucGFyYW0oay5kYXRhLGsudHJhZGl0aW9uYWwpKSxNYyhIYyxrLGIsdiksMj09PXQpcmV0dXJuIHY7aD1rLmdsb2JhbCxoJiYwPT09bS5hY3RpdmUrKyYmbS5ldmVudC50cmlnZ2VyKFwiYWpheFN0YXJ0XCIpLGsudHlwZT1rLnR5cGUudG9VcHBlckNhc2UoKSxrLmhhc0NvbnRlbnQ9IUVjLnRlc3Qoay50eXBlKSxlPWsudXJsLGsuaGFzQ29udGVudHx8KGsuZGF0YSYmKGU9ay51cmwrPSh3Yy50ZXN0KGUpP1wiJlwiOlwiP1wiKStrLmRhdGEsZGVsZXRlIGsuZGF0YSksay5jYWNoZT09PSExJiYoay51cmw9QmMudGVzdChlKT9lLnJlcGxhY2UoQmMsXCIkMV89XCIrdmMrKyk6ZSsod2MudGVzdChlKT9cIiZcIjpcIj9cIikrXCJfPVwiK3ZjKyspKSxrLmlmTW9kaWZpZWQmJihtLmxhc3RNb2RpZmllZFtlXSYmdi5zZXRSZXF1ZXN0SGVhZGVyKFwiSWYtTW9kaWZpZWQtU2luY2VcIixtLmxhc3RNb2RpZmllZFtlXSksbS5ldGFnW2VdJiZ2LnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Ob25lLU1hdGNoXCIsbS5ldGFnW2VdKSksKGsuZGF0YSYmay5oYXNDb250ZW50JiZrLmNvbnRlbnRUeXBlIT09ITF8fGIuY29udGVudFR5cGUpJiZ2LnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixrLmNvbnRlbnRUeXBlKSx2LnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHRcIixrLmRhdGFUeXBlc1swXSYmay5hY2NlcHRzW2suZGF0YVR5cGVzWzBdXT9rLmFjY2VwdHNbay5kYXRhVHlwZXNbMF1dKyhcIipcIiE9PWsuZGF0YVR5cGVzWzBdP1wiLCBcIitKYytcIjsgcT0wLjAxXCI6XCJcIik6ay5hY2NlcHRzW1wiKlwiXSk7Zm9yKGQgaW4gay5oZWFkZXJzKXYuc2V0UmVxdWVzdEhlYWRlcihkLGsuaGVhZGVyc1tkXSk7aWYoay5iZWZvcmVTZW5kJiYoay5iZWZvcmVTZW5kLmNhbGwobCx2LGspPT09ITF8fDI9PT10KSlyZXR1cm4gdi5hYm9ydCgpO3U9XCJhYm9ydFwiO2ZvcihkIGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXZbZF0oa1tkXSk7aWYoaT1NYyhJYyxrLGIsdikpe3YucmVhZHlTdGF0ZT0xLGgmJm4udHJpZ2dlcihcImFqYXhTZW5kXCIsW3Ysa10pLGsuYXN5bmMmJmsudGltZW91dD4wJiYoZz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7di5hYm9ydChcInRpbWVvdXRcIil9LGsudGltZW91dCkpO3RyeXt0PTEsaS5zZW5kKHIseCl9Y2F0Y2godyl7aWYoISgyPnQpKXRocm93IHc7eCgtMSx3KX19ZWxzZSB4KC0xLFwiTm8gVHJhbnNwb3J0XCIpO2Z1bmN0aW9uIHgoYSxiLGMsZCl7dmFyIGoscixzLHUsdyx4PWI7MiE9PXQmJih0PTIsZyYmY2xlYXJUaW1lb3V0KGcpLGk9dm9pZCAwLGY9ZHx8XCJcIix2LnJlYWR5U3RhdGU9YT4wPzQ6MCxqPWE+PTIwMCYmMzAwPmF8fDMwND09PWEsYyYmKHU9T2Moayx2LGMpKSx1PVBjKGssdSx2LGopLGo/KGsuaWZNb2RpZmllZCYmKHc9di5nZXRSZXNwb25zZUhlYWRlcihcIkxhc3QtTW9kaWZpZWRcIiksdyYmKG0ubGFzdE1vZGlmaWVkW2VdPXcpLHc9di5nZXRSZXNwb25zZUhlYWRlcihcImV0YWdcIiksdyYmKG0uZXRhZ1tlXT13KSksMjA0PT09YXx8XCJIRUFEXCI9PT1rLnR5cGU/eD1cIm5vY29udGVudFwiOjMwND09PWE/eD1cIm5vdG1vZGlmaWVkXCI6KHg9dS5zdGF0ZSxyPXUuZGF0YSxzPXUuZXJyb3Isaj0hcykpOihzPXgsKGF8fCF4KSYmKHg9XCJlcnJvclwiLDA+YSYmKGE9MCkpKSx2LnN0YXR1cz1hLHYuc3RhdHVzVGV4dD0oYnx8eCkrXCJcIixqP28ucmVzb2x2ZVdpdGgobCxbcix4LHZdKTpvLnJlamVjdFdpdGgobCxbdix4LHNdKSx2LnN0YXR1c0NvZGUocSkscT12b2lkIDAsaCYmbi50cmlnZ2VyKGo/XCJhamF4U3VjY2Vzc1wiOlwiYWpheEVycm9yXCIsW3YsayxqP3I6c10pLHAuZmlyZVdpdGgobCxbdix4XSksaCYmKG4udHJpZ2dlcihcImFqYXhDb21wbGV0ZVwiLFt2LGtdKSwtLW0uYWN0aXZlfHxtLmV2ZW50LnRyaWdnZXIoXCJhamF4U3RvcFwiKSkpfXJldHVybiB2fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbS5nZXQoYSxiLGMsXCJqc29uXCIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbS5nZXQoYSx2b2lkIDAsYixcInNjcmlwdFwiKX19KSxtLmVhY2goW1wiZ2V0XCIsXCJwb3N0XCJdLGZ1bmN0aW9uKGEsYil7bVtiXT1mdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gbS5pc0Z1bmN0aW9uKGMpJiYoZT1lfHxkLGQ9YyxjPXZvaWQgMCksbS5hamF4KHt1cmw6YSx0eXBlOmIsZGF0YVR5cGU6ZSxkYXRhOmMsc3VjY2VzczpkfSl9fSksbS5lYWNoKFtcImFqYXhTdGFydFwiLFwiYWpheFN0b3BcIixcImFqYXhDb21wbGV0ZVwiLFwiYWpheEVycm9yXCIsXCJhamF4U3VjY2Vzc1wiLFwiYWpheFNlbmRcIl0sZnVuY3Rpb24oYSxiKXttLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9uKGIsYSl9fSksbS5fZXZhbFVybD1mdW5jdGlvbihhKXtyZXR1cm4gbS5hamF4KHt1cmw6YSx0eXBlOlwiR0VUXCIsZGF0YVR5cGU6XCJzY3JpcHRcIixhc3luYzohMSxnbG9iYWw6ITEsXCJ0aHJvd3NcIjohMH0pfSxtLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihhKXtpZihtLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXttKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsYikpfSk7aWYodGhpc1swXSl7dmFyIGI9bShhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApO3RoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RDaGlsZCYmMT09PWEuZmlyc3RDaGlsZC5ub2RlVHlwZSlhPWEuZmlyc3RDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKX1yZXR1cm4gdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2gobS5pc0Z1bmN0aW9uKGEpP2Z1bmN0aW9uKGIpe20odGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX06ZnVuY3Rpb24oKXt2YXIgYj1tKHRoaXMpLGM9Yi5jb250ZW50cygpO2MubGVuZ3RoP2Mud3JhcEFsbChhKTpiLmFwcGVuZChhKX0pfSx3cmFwOmZ1bmN0aW9uKGEpe3ZhciBiPW0uaXNGdW5jdGlvbihhKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe20odGhpcykud3JhcEFsbChiP2EuY2FsbCh0aGlzLGMpOmEpfSl9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXttLm5vZGVOYW1lKHRoaXMsXCJib2R5XCIpfHxtKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX19KSxtLmV4cHIuZmlsdGVycy5oaWRkZW49ZnVuY3Rpb24oYSl7cmV0dXJuIGEub2Zmc2V0V2lkdGg8PTAmJmEub2Zmc2V0SGVpZ2h0PD0wfHwhay5yZWxpYWJsZUhpZGRlbk9mZnNldHMoKSYmXCJub25lXCI9PT0oYS5zdHlsZSYmYS5zdHlsZS5kaXNwbGF5fHxtLmNzcyhhLFwiZGlzcGxheVwiKSl9LG0uZXhwci5maWx0ZXJzLnZpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuIW0uZXhwci5maWx0ZXJzLmhpZGRlbihhKX07dmFyIFFjPS8lMjAvZyxSYz0vXFxbXFxdJC8sU2M9L1xccj9cXG4vZyxUYz0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksVWM9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIFZjKGEsYixjLGQpe3ZhciBlO2lmKG0uaXNBcnJheShiKSltLmVhY2goYixmdW5jdGlvbihiLGUpe2N8fFJjLnRlc3QoYSk/ZChhLGUpOlZjKGErXCJbXCIrKFwib2JqZWN0XCI9PXR5cGVvZiBlP2I6XCJcIikrXCJdXCIsZSxjLGQpfSk7ZWxzZSBpZihjfHxcIm9iamVjdFwiIT09bS50eXBlKGIpKWQoYSxiKTtlbHNlIGZvcihlIGluIGIpVmMoYStcIltcIitlK1wiXVwiLGJbZV0sYyxkKX1tLnBhcmFtPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPWZ1bmN0aW9uKGEsYil7Yj1tLmlzRnVuY3Rpb24oYik/YigpOm51bGw9PWI/XCJcIjpiLGRbZC5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChhKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoYil9O2lmKHZvaWQgMD09PWImJihiPW0uYWpheFNldHRpbmdzJiZtLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCksbS5pc0FycmF5KGEpfHxhLmpxdWVyeSYmIW0uaXNQbGFpbk9iamVjdChhKSltLmVhY2goYSxmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IoYyBpbiBhKVZjKGMsYVtjXSxiLGUpO3JldHVybiBkLmpvaW4oXCImXCIpLnJlcGxhY2UoUWMsXCIrXCIpfSxtLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIG0ucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT1tLnByb3AodGhpcyxcImVsZW1lbnRzXCIpO3JldHVybiBhP20ubWFrZUFycmF5KGEpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgYT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIW0odGhpcykuaXMoXCI6ZGlzYWJsZWRcIikmJlVjLnRlc3QodGhpcy5ub2RlTmFtZSkmJiFUYy50ZXN0KGEpJiYodGhpcy5jaGVja2VkfHwhVy50ZXN0KGEpKX0pLm1hcChmdW5jdGlvbihhLGIpe3ZhciBjPW0odGhpcykudmFsKCk7cmV0dXJuIG51bGw9PWM/bnVsbDptLmlzQXJyYXkoYyk/bS5tYXAoYyxmdW5jdGlvbihhKXtyZXR1cm57bmFtZTpiLm5hbWUsdmFsdWU6YS5yZXBsYWNlKFNjLFwiXFxyXFxuXCIpfX0pOntuYW1lOmIubmFtZSx2YWx1ZTpjLnJlcGxhY2UoU2MsXCJcXHJcXG5cIil9fSkuZ2V0KCl9fSksbS5hamF4U2V0dGluZ3MueGhyPXZvaWQgMCE9PWEuQWN0aXZlWE9iamVjdD9mdW5jdGlvbigpe3JldHVybiF0aGlzLmlzTG9jYWwmJi9eKGdldHxwb3N0fGhlYWR8cHV0fGRlbGV0ZXxvcHRpb25zKSQvaS50ZXN0KHRoaXMudHlwZSkmJlpjKCl8fCRjKCl9OlpjO3ZhciBXYz0wLFhjPXt9LFljPW0uYWpheFNldHRpbmdzLnhocigpO2EuQWN0aXZlWE9iamVjdCYmbShhKS5vbihcInVubG9hZFwiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIFhjKVhjW2FdKHZvaWQgMCwhMCl9KSxrLmNvcnM9ISFZYyYmXCJ3aXRoQ3JlZGVudGlhbHNcImluIFljLFljPWsuYWpheD0hIVljLFljJiZtLmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24oYSl7aWYoIWEuY3Jvc3NEb21haW58fGsuY29ycyl7dmFyIGI7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEueGhyKCksZz0rK1djO2lmKGYub3BlbihhLnR5cGUsYS51cmwsYS5hc3luYyxhLnVzZXJuYW1lLGEucGFzc3dvcmQpLGEueGhyRmllbGRzKWZvcihlIGluIGEueGhyRmllbGRzKWZbZV09YS54aHJGaWVsZHNbZV07YS5taW1lVHlwZSYmZi5vdmVycmlkZU1pbWVUeXBlJiZmLm92ZXJyaWRlTWltZVR5cGUoYS5taW1lVHlwZSksYS5jcm9zc0RvbWFpbnx8Y1tcIlgtUmVxdWVzdGVkLVdpdGhcIl18fChjW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXT1cIlhNTEh0dHBSZXF1ZXN0XCIpO2ZvcihlIGluIGMpdm9pZCAwIT09Y1tlXSYmZi5zZXRSZXF1ZXN0SGVhZGVyKGUsY1tlXStcIlwiKTtmLnNlbmQoYS5oYXNDb250ZW50JiZhLmRhdGF8fG51bGwpLGI9ZnVuY3Rpb24oYyxlKXt2YXIgaCxpLGo7aWYoYiYmKGV8fDQ9PT1mLnJlYWR5U3RhdGUpKWlmKGRlbGV0ZSBYY1tnXSxiPXZvaWQgMCxmLm9ucmVhZHlzdGF0ZWNoYW5nZT1tLm5vb3AsZSk0IT09Zi5yZWFkeVN0YXRlJiZmLmFib3J0KCk7ZWxzZXtqPXt9LGg9Zi5zdGF0dXMsXCJzdHJpbmdcIj09dHlwZW9mIGYucmVzcG9uc2VUZXh0JiYoai50ZXh0PWYucmVzcG9uc2VUZXh0KTt0cnl7aT1mLnN0YXR1c1RleHR9Y2F0Y2goayl7aT1cIlwifWh8fCFhLmlzTG9jYWx8fGEuY3Jvc3NEb21haW4/MTIyMz09PWgmJihoPTIwNCk6aD1qLnRleHQ/MjAwOjQwNH1qJiZkKGgsaSxqLGYuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpfSxhLmFzeW5jPzQ9PT1mLnJlYWR5U3RhdGU/c2V0VGltZW91dChiKTpmLm9ucmVhZHlzdGF0ZWNoYW5nZT1YY1tnXT1iOmIoKX0sYWJvcnQ6ZnVuY3Rpb24oKXtiJiZiKHZvaWQgMCwhMCl9fX19KTtmdW5jdGlvbiBaYygpe3RyeXtyZXR1cm4gbmV3IGEuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYil7fX1mdW5jdGlvbiAkYygpe3RyeXtyZXR1cm4gbmV3IGEuQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxIVFRQXCIpfWNhdGNoKGIpe319bS5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDpcInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0XCJ9LGNvbnRlbnRzOntzY3JpcHQ6Lyg/OmphdmF8ZWNtYSlzY3JpcHQvfSxjb252ZXJ0ZXJzOntcInRleHQgc2NyaXB0XCI6ZnVuY3Rpb24oYSl7cmV0dXJuIG0uZ2xvYmFsRXZhbChhKSxhfX19KSxtLmFqYXhQcmVmaWx0ZXIoXCJzY3JpcHRcIixmdW5jdGlvbihhKXt2b2lkIDA9PT1hLmNhY2hlJiYoYS5jYWNoZT0hMSksYS5jcm9zc0RvbWFpbiYmKGEudHlwZT1cIkdFVFwiLGEuZ2xvYmFsPSExKX0pLG0uYWpheFRyYW5zcG9ydChcInNjcmlwdFwiLGZ1bmN0aW9uKGEpe2lmKGEuY3Jvc3NEb21haW4pe3ZhciBiLGM9eS5oZWFkfHxtKFwiaGVhZFwiKVswXXx8eS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZCxlKXtiPXkuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSxiLmFzeW5jPSEwLGEuc2NyaXB0Q2hhcnNldCYmKGIuY2hhcnNldD1hLnNjcmlwdENoYXJzZXQpLGIuc3JjPWEudXJsLGIub25sb2FkPWIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGEsYyl7KGN8fCFiLnJlYWR5U3RhdGV8fC9sb2FkZWR8Y29tcGxldGUvLnRlc3QoYi5yZWFkeVN0YXRlKSkmJihiLm9ubG9hZD1iLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbCxjfHxlKDIwMCxcInN1Y2Nlc3NcIikpfSxjLmluc2VydEJlZm9yZShiLGMuZmlyc3RDaGlsZCl9LGFib3J0OmZ1bmN0aW9uKCl7YiYmYi5vbmxvYWQodm9pZCAwLCEwKX19fX0pO3ZhciBfYz1bXSxhZD0vKD0pXFw/KD89JnwkKXxcXD9cXD8vO20uYWpheFNldHVwKHtqc29ucDpcImNhbGxiYWNrXCIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBhPV9jLnBvcCgpfHxtLmV4cGFuZG8rXCJfXCIrdmMrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLG0uYWpheFByZWZpbHRlcihcImpzb24ganNvbnBcIixmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGg9Yi5qc29ucCE9PSExJiYoYWQudGVzdChiLnVybCk/XCJ1cmxcIjpcInN0cmluZ1wiPT10eXBlb2YgYi5kYXRhJiYhKGIuY29udGVudFR5cGV8fFwiXCIpLmluZGV4T2YoXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIikmJmFkLnRlc3QoYi5kYXRhKSYmXCJkYXRhXCIpO3JldHVybiBofHxcImpzb25wXCI9PT1iLmRhdGFUeXBlc1swXT8oZT1iLmpzb25wQ2FsbGJhY2s9bS5pc0Z1bmN0aW9uKGIuanNvbnBDYWxsYmFjayk/Yi5qc29ucENhbGxiYWNrKCk6Yi5qc29ucENhbGxiYWNrLGg/YltoXT1iW2hdLnJlcGxhY2UoYWQsXCIkMVwiK2UpOmIuanNvbnAhPT0hMSYmKGIudXJsKz0od2MudGVzdChiLnVybCk/XCImXCI6XCI/XCIpK2IuanNvbnArXCI9XCIrZSksYi5jb252ZXJ0ZXJzW1wic2NyaXB0IGpzb25cIl09ZnVuY3Rpb24oKXtyZXR1cm4gZ3x8bS5lcnJvcihlK1wiIHdhcyBub3QgY2FsbGVkXCIpLGdbMF19LGIuZGF0YVR5cGVzWzBdPVwianNvblwiLGY9YVtlXSxhW2VdPWZ1bmN0aW9uKCl7Zz1hcmd1bWVudHN9LGQuYWx3YXlzKGZ1bmN0aW9uKCl7YVtlXT1mLGJbZV0mJihiLmpzb25wQ2FsbGJhY2s9Yy5qc29ucENhbGxiYWNrLF9jLnB1c2goZSkpLGcmJm0uaXNGdW5jdGlvbihmKSYmZihnWzBdKSxnPWY9dm9pZCAwfSksXCJzY3JpcHRcIik6dm9pZCAwfSksbS5wYXJzZUhUTUw9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhfHxcInN0cmluZ1wiIT10eXBlb2YgYSlyZXR1cm4gbnVsbDtcImJvb2xlYW5cIj09dHlwZW9mIGImJihjPWIsYj0hMSksYj1ifHx5O3ZhciBkPXUuZXhlYyhhKSxlPSFjJiZbXTtyZXR1cm4gZD9bYi5jcmVhdGVFbGVtZW50KGRbMV0pXTooZD1tLmJ1aWxkRnJhZ21lbnQoW2FdLGIsZSksZSYmZS5sZW5ndGgmJm0oZSkucmVtb3ZlKCksbS5tZXJnZShbXSxkLmNoaWxkTm9kZXMpKX07dmFyIGJkPW0uZm4ubG9hZDttLmZuLmxvYWQ9ZnVuY3Rpb24oYSxiLGMpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhJiZiZClyZXR1cm4gYmQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBkLGUsZixnPXRoaXMsaD1hLmluZGV4T2YoXCIgXCIpO3JldHVybiBoPj0wJiYoZD1tLnRyaW0oYS5zbGljZShoLGEubGVuZ3RoKSksYT1hLnNsaWNlKDAsaCkpLG0uaXNGdW5jdGlvbihiKT8oYz1iLGI9dm9pZCAwKTpiJiZcIm9iamVjdFwiPT10eXBlb2YgYiYmKGY9XCJQT1NUXCIpLGcubGVuZ3RoPjAmJm0uYWpheCh7dXJsOmEsdHlwZTpmLGRhdGFUeXBlOlwiaHRtbFwiLGRhdGE6Yn0pLmRvbmUoZnVuY3Rpb24oYSl7ZT1hcmd1bWVudHMsZy5odG1sKGQ/bShcIjxkaXY+XCIpLmFwcGVuZChtLnBhcnNlSFRNTChhKSkuZmluZChkKTphKX0pLmNvbXBsZXRlKGMmJmZ1bmN0aW9uKGEsYil7Zy5lYWNoKGMsZXx8W2EucmVzcG9uc2VUZXh0LGIsYV0pfSksdGhpc30sbS5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG0uZ3JlcChtLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PWIuZWxlbX0pLmxlbmd0aH07dmFyIGNkPWEuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2Z1bmN0aW9uIGRkKGEpe3JldHVybiBtLmlzV2luZG93KGEpP2E6OT09PWEubm9kZVR5cGU/YS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3c6ITF9bS5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaCxpLGosaz1tLmNzcyhhLFwicG9zaXRpb25cIiksbD1tKGEpLG49e307XCJzdGF0aWNcIj09PWsmJihhLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIiksaD1sLm9mZnNldCgpLGY9bS5jc3MoYSxcInRvcFwiKSxpPW0uY3NzKGEsXCJsZWZ0XCIpLGo9KFwiYWJzb2x1dGVcIj09PWt8fFwiZml4ZWRcIj09PWspJiZtLmluQXJyYXkoXCJhdXRvXCIsW2YsaV0pPi0xLGo/KGQ9bC5wb3NpdGlvbigpLGc9ZC50b3AsZT1kLmxlZnQpOihnPXBhcnNlRmxvYXQoZil8fDAsZT1wYXJzZUZsb2F0KGkpfHwwKSxtLmlzRnVuY3Rpb24oYikmJihiPWIuY2FsbChhLGMsaCkpLG51bGwhPWIudG9wJiYobi50b3A9Yi50b3AtaC50b3ArZyksbnVsbCE9Yi5sZWZ0JiYobi5sZWZ0PWIubGVmdC1oLmxlZnQrZSksXCJ1c2luZ1wiaW4gYj9iLnVzaW5nLmNhbGwoYSxuKTpsLmNzcyhuKX19LG0uZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihiKXttLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGIpfSk7dmFyIGIsYyxkPXt0b3A6MCxsZWZ0OjB9LGU9dGhpc1swXSxmPWUmJmUub3duZXJEb2N1bWVudDtpZihmKXJldHVybiBiPWYuZG9jdW1lbnRFbGVtZW50LG0uY29udGFpbnMoYixlKT8odHlwZW9mIGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0IT09SyYmKGQ9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksYz1kZChmKSx7dG9wOmQudG9wKyhjLnBhZ2VZT2Zmc2V0fHxiLnNjcm9sbFRvcCktKGIuY2xpZW50VG9wfHwwKSxsZWZ0OmQubGVmdCsoYy5wYWdlWE9mZnNldHx8Yi5zY3JvbGxMZWZ0KS0oYi5jbGllbnRMZWZ0fHwwKX0pOmR9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGEsYixjPXt0b3A6MCxsZWZ0OjB9LGQ9dGhpc1swXTtyZXR1cm5cImZpeGVkXCI9PT1tLmNzcyhkLFwicG9zaXRpb25cIik/Yj1kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOihhPXRoaXMub2Zmc2V0UGFyZW50KCksYj10aGlzLm9mZnNldCgpLG0ubm9kZU5hbWUoYVswXSxcImh0bWxcIil8fChjPWEub2Zmc2V0KCkpLGMudG9wKz1tLmNzcyhhWzBdLFwiYm9yZGVyVG9wV2lkdGhcIiwhMCksYy5sZWZ0Kz1tLmNzcyhhWzBdLFwiYm9yZGVyTGVmdFdpZHRoXCIsITApKSx7dG9wOmIudG9wLWMudG9wLW0uY3NzKGQsXCJtYXJnaW5Ub3BcIiwhMCksbGVmdDpiLmxlZnQtYy5sZWZ0LW0uY3NzKGQsXCJtYXJnaW5MZWZ0XCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXMub2Zmc2V0UGFyZW50fHxjZDt3aGlsZShhJiYhbS5ub2RlTmFtZShhLFwiaHRtbFwiKSYmXCJzdGF0aWNcIj09PW0uY3NzKGEsXCJwb3NpdGlvblwiKSlhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxjZH0pfX0pLG0uZWFjaCh7c2Nyb2xsTGVmdDpcInBhZ2VYT2Zmc2V0XCIsc2Nyb2xsVG9wOlwicGFnZVlPZmZzZXRcIn0sZnVuY3Rpb24oYSxiKXt2YXIgYz0vWS8udGVzdChiKTttLmZuW2FdPWZ1bmN0aW9uKGQpe3JldHVybiBWKHRoaXMsZnVuY3Rpb24oYSxkLGUpe3ZhciBmPWRkKGEpO3JldHVybiB2b2lkIDA9PT1lP2Y/YiBpbiBmP2ZbYl06Zi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbZF06YVtkXTp2b2lkKGY/Zi5zY3JvbGxUbyhjP20oZikuc2Nyb2xsTGVmdCgpOmUsYz9lOm0oZikuc2Nyb2xsVG9wKCkpOmFbZF09ZSl9LGEsZCxhcmd1bWVudHMubGVuZ3RoLG51bGwpfX0pLG0uZWFjaChbXCJ0b3BcIixcImxlZnRcIl0sZnVuY3Rpb24oYSxiKXttLmNzc0hvb2tzW2JdPUxiKGsucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihhLGMpe3JldHVybiBjPyhjPUpiKGEsYiksSGIudGVzdChjKT9tKGEpLnBvc2l0aW9uKClbYl0rXCJweFwiOmMpOnZvaWQgMH0pfSksbS5lYWNoKHtIZWlnaHQ6XCJoZWlnaHRcIixXaWR0aDpcIndpZHRoXCJ9LGZ1bmN0aW9uKGEsYil7bS5lYWNoKHtwYWRkaW5nOlwiaW5uZXJcIithLGNvbnRlbnQ6YixcIlwiOlwib3V0ZXJcIithfSxmdW5jdGlvbihjLGQpe20uZm5bZF09ZnVuY3Rpb24oZCxlKXt2YXIgZj1hcmd1bWVudHMubGVuZ3RoJiYoY3x8XCJib29sZWFuXCIhPXR5cGVvZiBkKSxnPWN8fChkPT09ITB8fGU9PT0hMD9cIm1hcmdpblwiOlwiYm9yZGVyXCIpO3JldHVybiBWKHRoaXMsZnVuY3Rpb24oYixjLGQpe3ZhciBlO3JldHVybiBtLmlzV2luZG93KGIpP2IuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50W1wiY2xpZW50XCIrYV06OT09PWIubm9kZVR5cGU/KGU9Yi5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYi5ib2R5W1wic2Nyb2xsXCIrYV0sZVtcInNjcm9sbFwiK2FdLGIuYm9keVtcIm9mZnNldFwiK2FdLGVbXCJvZmZzZXRcIithXSxlW1wiY2xpZW50XCIrYV0pKTp2b2lkIDA9PT1kP20uY3NzKGIsYyxnKTptLnN0eWxlKGIsYyxkLGcpfSxiLGY/ZDp2b2lkIDAsZixudWxsKX19KX0pLG0uZm4uc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sbS5mbi5hbmRTZWxmPW0uZm4uYWRkQmFjayxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZShcImpxdWVyeVwiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIG19KTt2YXIgZWQ9YS5qUXVlcnksZmQ9YS4kO3JldHVybiBtLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oYil7cmV0dXJuIGEuJD09PW0mJihhLiQ9ZmQpLGImJmEualF1ZXJ5PT09bSYmKGEualF1ZXJ5PWVkKSxtfSx0eXBlb2YgYj09PUsmJihhLmpRdWVyeT1hLiQ9bSksbX0pO1xuXG47IGJyb3dzZXJpZnlfc2hpbV9fZGVmaW5lX19tb2R1bGVfX2V4cG9ydF9fKHR5cGVvZiAkICE9IFwidW5kZWZpbmVkXCIgPyAkIDogd2luZG93LiQpO1xuXG59KS5jYWxsKGdsb2JhbCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24gZGVmaW5lRXhwb3J0KGV4KSB7IG1vZHVsZS5leHBvcnRzID0gZXg7IH0pO1xuIl19
