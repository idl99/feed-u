(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var V3_URL = 'https://js.stripe.com/v3';
var V3_URL_REGEX = /^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;
var EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';
var findScript = function findScript() {
  var scripts = document.querySelectorAll("script[src^=\"".concat(V3_URL, "\"]"));

  for (var i = 0; i < scripts.length; i++) {
    var script = scripts[i];

    if (!V3_URL_REGEX.test(script.src)) {
      continue;
    }

    return script;
  }

  return null;
};

var injectScript = function injectScript(params) {
  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';
  var script = document.createElement('script');
  script.src = "".concat(V3_URL).concat(queryString);
  var headOrBody = document.head || document.body;

  if (!headOrBody) {
    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');
  }

  headOrBody.appendChild(script);
  return script;
};

var registerWrapper = function registerWrapper(stripe, startTime) {
  if (!stripe || !stripe._registerWrapper) {
    return;
  }

  stripe._registerWrapper({
    name: 'stripe-js',
    version: "1.11.0",
    startTime: startTime
  });
};

var stripePromise = null;
var loadScript = function loadScript(params) {
  // Ensure that we only attempt to load Stripe.js at most once
  if (stripePromise !== null) {
    return stripePromise;
  }

  stripePromise = new Promise(function (resolve, reject) {
    if (typeof window === 'undefined') {
      // Resolve to null when imported server side. This makes the module
      // safe to import in an isomorphic code base.
      resolve(null);
      return;
    }

    if (window.Stripe && params) {
      console.warn(EXISTING_SCRIPT_MESSAGE);
    }

    if (window.Stripe) {
      resolve(window.Stripe);
      return;
    }

    try {
      var script = findScript();

      if (script && params) {
        console.warn(EXISTING_SCRIPT_MESSAGE);
      } else if (!script) {
        script = injectScript(params);
      }

      script.addEventListener('load', function () {
        if (window.Stripe) {
          resolve(window.Stripe);
        } else {
          reject(new Error('Stripe.js not available'));
        }
      });
      script.addEventListener('error', function () {
        reject(new Error('Failed to load Stripe.js'));
      });
    } catch (error) {
      reject(error);
      return;
    }
  });
  return stripePromise;
};
var initStripe = function initStripe(maybeStripe, args, startTime) {
  if (maybeStripe === null) {
    return null;
  }

  var stripe = maybeStripe.apply(undefined, args);
  registerWrapper(stripe, startTime);
  return stripe;
};

// own script injection.

var stripePromise$1 = Promise.resolve().then(function () {
  return loadScript(null);
});
var loadCalled = false;
stripePromise$1["catch"](function (err) {
  if (!loadCalled) {
    console.warn(err);
  }
});
var loadStripe = function loadStripe() {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  loadCalled = true;
  var startTime = Date.now();
  return stripePromise$1.then(function (maybeStripe) {
    return initStripe(maybeStripe, args, startTime);
  });
};

exports.loadStripe = loadStripe;

},{}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EmailJSResponseStatus = exports.sendForm = exports.send = exports.init = void 0;
var EmailJSResponseStatus_1 = require("./models/EmailJSResponseStatus");
Object.defineProperty(exports, "EmailJSResponseStatus", { enumerable: true, get: function () { return EmailJSResponseStatus_1.EmailJSResponseStatus; } });
var UI_1 = require("./services/ui/UI");
var _userID = null;
var _origin = 'https://api.emailjs.com';
function sendPost(url, data, headers) {
    if (headers === void 0) { headers = {}; }
    return new Promise(function (resolve, reject) {
        var xhr = new XMLHttpRequest();
        xhr.addEventListener('load', function (event) {
            var responseStatus = new EmailJSResponseStatus_1.EmailJSResponseStatus(event.target);
            if (responseStatus.status === 200 || responseStatus.text === 'OK') {
                resolve(responseStatus);
            }
            else {
                reject(responseStatus);
            }
        });
        xhr.addEventListener('error', function (event) {
            reject(new EmailJSResponseStatus_1.EmailJSResponseStatus(event.target));
        });
        xhr.open('POST', url, true);
        for (var key in headers) {
            xhr.setRequestHeader(key, headers[key]);
        }
        xhr.send(data);
    });
}
function appendGoogleCaptcha(templatePrams) {
    var element = document && document.getElementById('g-recaptcha-response');
    if (element && element.value) {
        templatePrams['g-recaptcha-response'] = element.value;
    }
    element = null;
    return templatePrams;
}
function fixIdSelector(selector) {
    if (selector[0] !== '#' && selector[0] !== '.') {
        return '#' + selector;
    }
    return selector;
}
/**
 * Initiation
 * @param {string} userID - set the EmailJS user ID
 * @param {string} origin - set the EmailJS origin
 */
function init(userID, origin) {
    _userID = userID;
    _origin = origin || 'https://api.emailjs.com';
}
exports.init = init;
/**
 * Send a template to the specific EmailJS service
 * @param {string} serviceID - the EmailJS service ID
 * @param {string} templateID - the EmailJS template ID
 * @param {Object} templatePrams - the template params, what will be set to the EmailJS template
 * @param {string} userID - the EmailJS user ID
 * @returns {Promise<EmailJSResponseStatus>}
 */
function send(serviceID, templateID, templatePrams, userID) {
    var params = {
        lib_version: '2.6.4',
        user_id: userID || _userID,
        service_id: serviceID,
        template_id: templateID,
        template_params: appendGoogleCaptcha(templatePrams)
    };
    return sendPost(_origin + '/api/v1.0/email/send', JSON.stringify(params), {
        'Content-type': 'application/json'
    });
}
exports.send = send;
/**
 * Send a form the specific EmailJS service
 * @param {string} serviceID - the EmailJS service ID
 * @param {string} templateID - the EmailJS template ID
 * @param {string | HTMLFormElement} form - the form element or selector
 * @param {string} userID - the EmailJS user ID
 * @returns {Promise<EmailJSResponseStatus>}
 */
function sendForm(serviceID, templateID, form, userID) {
    if (typeof form === 'string') {
        form = document.querySelector(fixIdSelector(form));
    }
    if (!form || form.nodeName !== 'FORM') {
        throw 'Expected the HTML form element or the style selector of form';
    }
    UI_1.UI.progressState(form);
    var formData = new FormData(form);
    formData.append('lib_version', '2.6.4');
    formData.append('service_id', serviceID);
    formData.append('template_id', templateID);
    formData.append('user_id', userID || _userID);
    return sendPost(_origin + '/api/v1.0/email/send-form', formData)
        .then(function (response) {
        UI_1.UI.successState(form);
        return response;
    }, function (error) {
        UI_1.UI.errorState(form);
        return Promise.reject(error);
    });
}
exports.sendForm = sendForm;
exports.default = {
    init: init,
    send: send,
    sendForm: sendForm
};

},{"./models/EmailJSResponseStatus":3,"./services/ui/UI":4}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EmailJSResponseStatus = void 0;
var EmailJSResponseStatus = /** @class */ (function () {
    function EmailJSResponseStatus(httpResponse) {
        this.status = httpResponse.status;
        this.text = httpResponse.responseText;
    }
    return EmailJSResponseStatus;
}());
exports.EmailJSResponseStatus = EmailJSResponseStatus;

},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.UI = void 0;
var UI = /** @class */ (function () {
    function UI() {
    }
    UI.clearAll = function (form) {
        form.classList.remove(this.PROGRESS);
        form.classList.remove(this.DONE);
        form.classList.remove(this.ERROR);
    };
    UI.progressState = function (form) {
        this.clearAll(form);
        form.classList.add(this.PROGRESS);
    };
    UI.successState = function (form) {
        form.classList.remove(this.PROGRESS);
        form.classList.add(this.DONE);
    };
    UI.errorState = function (form) {
        form.classList.remove(this.PROGRESS);
        form.classList.add(this.ERROR);
    };
    UI.PROGRESS = 'emailjs-sending';
    UI.DONE = 'emailjs-success';
    UI.ERROR = 'emailjs-error';
    return UI;
}());
exports.UI = UI;

},{}],5:[function(require,module,exports){
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
;(function (factory) {
	var registeredInModuleLoader;
	if (typeof define === 'function' && define.amd) {
		define(factory);
		registeredInModuleLoader = true;
	}
	if (typeof exports === 'object') {
		module.exports = factory();
		registeredInModuleLoader = true;
	}
	if (!registeredInModuleLoader) {
		var OldCookies = window.Cookies;
		var api = window.Cookies = factory();
		api.noConflict = function () {
			window.Cookies = OldCookies;
			return api;
		};
	}
}(function () {
	function extend () {
		var i = 0;
		var result = {};
		for (; i < arguments.length; i++) {
			var attributes = arguments[ i ];
			for (var key in attributes) {
				result[key] = attributes[key];
			}
		}
		return result;
	}

	function decode (s) {
		return s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);
	}

	function init (converter) {
		function api() {}

		function set (key, value, attributes) {
			if (typeof document === 'undefined') {
				return;
			}

			attributes = extend({
				path: '/'
			}, api.defaults, attributes);

			if (typeof attributes.expires === 'number') {
				attributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);
			}

			// We're using "expires" because "max-age" is not supported by IE
			attributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';

			try {
				var result = JSON.stringify(value);
				if (/^[\{\[]/.test(result)) {
					value = result;
				}
			} catch (e) {}

			value = converter.write ?
				converter.write(value, key) :
				encodeURIComponent(String(value))
					.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);

			key = encodeURIComponent(String(key))
				.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)
				.replace(/[\(\)]/g, escape);

			var stringifiedAttributes = '';
			for (var attributeName in attributes) {
				if (!attributes[attributeName]) {
					continue;
				}
				stringifiedAttributes += '; ' + attributeName;
				if (attributes[attributeName] === true) {
					continue;
				}

				// Considers RFC 6265 section 5.2:
				// ...
				// 3.  If the remaining unparsed-attributes contains a %x3B (";")
				//     character:
				// Consume the characters of the unparsed-attributes up to,
				// not including, the first %x3B (";") character.
				// ...
				stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];
			}

			return (document.cookie = key + '=' + value + stringifiedAttributes);
		}

		function get (key, json) {
			if (typeof document === 'undefined') {
				return;
			}

			var jar = {};
			// To prevent the for loop in the first place assign an empty array
			// in case there are no cookies at all.
			var cookies = document.cookie ? document.cookie.split('; ') : [];
			var i = 0;

			for (; i < cookies.length; i++) {
				var parts = cookies[i].split('=');
				var cookie = parts.slice(1).join('=');

				if (!json && cookie.charAt(0) === '"') {
					cookie = cookie.slice(1, -1);
				}

				try {
					var name = decode(parts[0]);
					cookie = (converter.read || converter)(cookie, name) ||
						decode(cookie);

					if (json) {
						try {
							cookie = JSON.parse(cookie);
						} catch (e) {}
					}

					jar[name] = cookie;

					if (key === name) {
						break;
					}
				} catch (e) {}
			}

			return key ? jar[key] : jar;
		}

		api.set = set;
		api.get = function (key) {
			return get(key, false /* read as raw */);
		};
		api.getJSON = function (key) {
			return get(key, true /* read as json */);
		};
		api.remove = function (key, attributes) {
			set(key, '', extend(attributes, {
				expires: -1
			}));
		};

		api.defaults = {};

		api.withConverter = init;

		return api;
	}

	return init(function () {});
}));

},{}],6:[function(require,module,exports){
var cookie = require('js-cookie')

const CART_STORAGE_KEY = 'cart';

// TODO remove mock data
// const INITIAL_CART_STATE = {
//     vendor: {
//         vendorName: 'Burgers Ahoy!',
//         deliveryTime: '30 - 40 mins'
//     },
//     items: [
//         {
//             itemName: 'Tom Yump Soup',
//             itemPrice: 400,
//             quantity: 1,
//             notes: "Less spicy",
//         }
//     ]
// };

const INITIAL_CART_STATE = Object.freeze({
    vendor: {
    },
    items: [
    ],
    paymentMethod: 'cash'
});


module.exports = function () {

    // IN EACH FUNCTION, DO NOT FORGET TO RETRIEVE THE CART INFO FROM LOCAL STORAGE
    // AND ALSO TO SAVE IT AT THE END

    return {
        // this object is the public API accessible to other modules
        init: function () {
            // empty cart at initialization with no restaurant set
            if (!cookie.getJSON(CART_STORAGE_KEY)) {
                cookie.set(CART_STORAGE_KEY, INITIAL_CART_STATE);
            }
        },
        summary: function () {
            /**
             * JSON structure of summary
             * 
             * items: [
             *      {
             *          itemTitle: "name of the item",
             *          quantity: 1,
             *          itemPrice: 400,
             *      }
             * ]
             * 
             */
            return cookie.getJSON(CART_STORAGE_KEY);
        },
        addItemToCart: function ({ vendor, item }) {
            const cart = cookie.getJSON(CART_STORAGE_KEY);

            // if vendor is set
            if (cart.vendor.vendorName) {
                // check if user is tyring to add item from same vendor
                if (cart.vendor.vendorName === vendor.vendorName) {
                    // add item and return true for success
                    cart.items.push(item);
                    cookie.set(CART_STORAGE_KEY, cart);
                    return null;
                } else {
                    // else return false with error message indicate why
                    return `You may only order items from one vendor at a time. 
                    You have currently chosen ${cart.vendor.vendorName}.`
                }
            } else {
                // Reset cart
                // VERY IMPORTANT: using JSON serialization follow with JSON deserialization for deep copy
                // otherwise there is a bug where when you add a new item and try clearing the cart it won't work, 
                // because the INITIAL_CART_STATE object has gotten updated by a reference passed to another named variable
                // Refer https://stackoverflow.com/a/61422332/7803975 for more
                const newCart = JSON.parse(JSON.stringify(INITIAL_CART_STATE)) // Reset cart
                newCart.vendor = vendor; // Initialize vendor details
                newCart.items.push(item) // Add item to cart
                cookie.set(CART_STORAGE_KEY, newCart);
            }
        },
        clearCart: function () {
            console.log('Clearing cart...');
            cookie.set(CART_STORAGE_KEY, INITIAL_CART_STATE);
        },
        setPaymentMethod: function (paymentMethod) {
            const currentCart = cookie.getJSON(CART_STORAGE_KEY);
            currentCart.paymentMethod = paymentMethod;
            cookie.set(CART_STORAGE_KEY, currentCart);
        },
        getPointsForCart() {
            const currentCart = cookie.getJSON(CART_STORAGE_KEY);
            return currentCart.items.reduce((acc, { itemPrice, quantity }) => acc += (itemPrice * quantity), 0) * 0.01; // 100 Rs. -> 1 Point
        }
    }
}()
},{"js-cookie":5}],7:[function(require,module,exports){
// const user = require('./user');

const data = Object.freeze({
    vendors: [
        {
            "vendorId": "v1",
            "vendorImageLocation": "../assets/vendor_list_view_images/burgers_ahouy.jpg",
            "vendorName": "Burgers Ahouy!",
            "vendorCatergories": [
                "Burgers",
                "American"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.6,
                "vendorNoOfRatings": 100
            },
            "location": "Colombo 3",
            "deliveryTime": "25-30 mins",
            "items": [
                {
                    "itemImageLocation": "../assets/vendor_page_images/tom_yum_soup.jpg",
                    "itemId": "v1i1",
                    "itemTitle": "Tom Yum Soup",
                    "itemDescription": "Picked from the fresh vegetables and fish from the with special Chicken Broth.",
                    "itemRatings": {
                        "itemRatingValue": 4.6,
                        "itemNoOfRatings": 47
                    },
                    "itemPrice": 800
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/crispy_chicken_burger.jpg",
                    "itemId": "v1i2",
                    "itemTitle": "Crispy Chicken Burger",
                    "itemDescription": "Crispy, Chicky, Crispy Chicken Burger. It’s pretty much self-explanatory.",
                    "itemRatings": {
                        "itemRatingValue": 4.0,
                        "itemNoOfRatings": 10
                    },
                    "itemPrice": 450
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/hawaiian_burger.jpg",
                    "itemId": "v1i3",
                    "itemTitle": "Hawaiian Burger",
                    "itemDescription": "Yes! Pineapples go on burgers too. Don’t let others tell you otherwise.",
                    "itemRatings": {
                        "itemRatingValue": 4.8,
                        "itemNoOfRatings": 45
                    },
                    "itemPrice": 600
                }
            ],
        },
        {
            "vendorId": "v2",
            "vendorImageLocation": "../assets/vendor_list_view_images/pizza_palpatha.jpg",
            "vendorName": "Pizza Palpatha",
            "vendorCatergories": [
                "Italian",
                "American",
                "Pizza"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.8,
                "vendorNoOfRatings": 99
            },
            "location": "Colombo 5",
            "deliveryTime": "15-20 mins",
            "items": [
                {
                    "itemImageLocation": "../assets/vendor_page_images/cheese_lovers_pizza.jpg",
                    "itemId": "v2i1",
                    "itemTitle": "Cheese Lovers Pizza",
                    "itemDescription": "Rich tomato sauce with a triple layer of mozzarella cheese.",
                    "itemRatings": {
                        "itemRatingValue": 4.5,
                        "itemNoOfRatings": 55
                    },
                    "itemPrice": 500
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/chicken_bacon_pizza.jpg",
                    "itemId": "v2i2",
                    "itemTitle": "Chicken Bacon Pizza",
                    "itemDescription": "Chicken bacon, onions & green chillies with a double layer of mozzarella cheese.",
                    "itemRatings": {
                        "itemRatingValue": 4.9,
                        "itemNoOfRatings": 90
                    },
                    "itemPrice": 300
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/devilled_chicken_pizza.jpg",
                    "itemId": "v2i3",
                    "itemTitle": "Devilled Chicken Pizza",
                    "itemDescription": "Devilled chicken in spicy sauce with a double layer of mozzarella cheese.",
                    "itemRatings": {
                        "itemRatingValue": 4.1,
                        "itemNoOfRatings": 75
                    },
                    "itemPrice": 470
                }
            ],
        },
        {
            "vendorId": "v3",
            "vendorImageLocation": "../assets/vendor_list_view_images/bathui_pol_sambolai.jpg",
            "vendorName": "Bathui Pol Sambolai",
            "vendorCatergories": [
                "Rice",
                "Sri Lankan"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.5,
                "vendorNoOfRatings": 150
            },
            "location": "Colombo 7",
            "deliveryTime": "5-10 mins",
            "items": [
                {
                    "itemImageLocation": "../assets/vendor_page_images/prawn_curry_and_rice.jpg",
                    "itemId": "v3i1",
                    "itemTitle": "Prawn Curry and Rice",
                    "itemDescription": "Prawn curry prepared to special Goa recipe with thick coconut gravy.",
                    "itemRatings": {
                        "itemRatingValue": 4.2,
                        "itemNoOfRatings": 21
                    },
                    "itemPrice": 575
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/fish_rice_and_curry.jpg",
                    "itemId": "v3i2",
                    "itemTitle": "Fish Rice and Curry",
                    "itemDescription": "Thalapath Fish, 4 curries and papadam enhriched with the Sri Lankan taste.",
                    "itemRatings": {
                        "itemRatingValue": 4.2,
                        "itemNoOfRatings": 21
                    },
                    "itemPrice": 575
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/chicken_rice_and_curry.jpg",
                    "itemId": "v3i3",
                    "itemTitle": "Chicken Rice and Curry",
                    "itemDescription": "With 4 curries and papadam mixed with Sri Lankan spices.",
                    "itemRatings": {
                        "itemRatingValue": 4.4,
                        "itemNoOfRatings": 65
                    },
                    "itemPrice": 350
                },
            ],
        },
        {
            "vendorId": "v4",
            "vendorImageLocation": "../assets/vendor_list_view_images/the_impasta.jpg",
            "vendorName": "The Impasta",
            "vendorCatergories": [
                "Pasta",
                "Italian"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.1,
                "vendorNoOfRatings": 82
            },
            "location": "Colombo 1",
            "deliveryTime": "25-40 mins",
            "items": [
                {
                    "itemImageLocation": "../assets/vendor_page_images/bruschetta_pasta.jpg",
                    "itemId": "v4i1",
                    "itemTitle": "Brushcetta Pasta",
                    "itemDescription": "This Bruschetta Pasta with fresh tomatoes, basil, garlic, and olive oil.",
                    "itemRatings": {
                        "itemRatingValue": 4.0,
                        "itemNoOfRatings": 10
                    },
                    "itemPrice": 375
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/cheese_pasta.jpg",
                    "itemId": "v4i2",
                    "itemTitle": "Cheese Pasta",
                    "itemDescription": "Just remember that a single is a double and a double is a triple at Chicago’s Au Cheval.",
                    "itemRatings": {
                        "itemRatingValue": 4.7,
                        "itemNoOfRatings": 21
                    },
                    "itemPrice": 200
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/creamy_tomato_and_spinach_pasta.jpg",
                    "itemId": "v4i3",
                    "itemTitle": "Creamy Tomato and Spinach Pasta",
                    "itemDescription": "With special pesto sauce and mozzarella cheese.",
                    "itemRatings": {
                        "itemRatingValue": 3.5,
                        "itemNoOfRatings": 15
                    },
                    "itemPrice": 230
                },
            ],
        },
        {
            "vendorId": "v5",
            "vendorImageLocation": "../assets/vendor_list_view_images/thai_tanic.jpg",
            "vendorName": "Thai Tanic",
            "vendorCatergories": [
                "Soup",
                "Salad",
                "Thai"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.9,
                "vendorNoOfRatings": 29
            },
            "location": "Colombo 1",
            "deliveryTime": "20-35 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v6",
            "vendorImageLocation": "../assets/vendor_list_view_images/pita_pan.jpg",
            "vendorName": "Pita Pan",
            "vendorCatergories": [
                "Burgers",
                "Mediterrenean",
                "Thai"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.3,
                "vendorNoOfRatings": 10
            },
            "location": "Colombo 1",
            "deliveryTime": "12-15 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v7",
            "vendorImageLocation": "../assets/vendor_list_view_images/hoppers_and_betrayals.jpg",
            "vendorName": "Hoppers and Betrayals",
            "vendorCatergories": [
                "Hoppers",
                "Sri Lankan",
                "Indian"
            ],
            "vendorRatings": {
                "vendorRatingValue": 3.9,
                "vendorNoOfRatings": 84
            },
            "location": "Colombo 1",
            "deliveryTime": "22-35 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v8",
            "vendorImageLocation": "../assets/vendor_list_view_images/cutie_pies_and_cupcakes.jpg",
            "vendorName": "Cutie Pies and Cupcakes",
            "vendorCatergories": [
                "Cupcakes",
                "Sweet",
                "Sour"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.4,
                "vendorNoOfRatings": 97
            },
            "location": "Colombo 1",
            "deliveryTime": "35-50 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v9",
            "vendorImageLocation": "../assets/vendor_list_view_images/tikka-k_inta.jpg",
            "vendorName": "Tikka-k Inta",
            "vendorCatergories": [
                "Paratha",
                "Indian"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.9,
                "vendorNoOfRatings": 200
            },
            "location": "Colombo 1",
            "deliveryTime": "40-45 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v10",
            "vendorImageLocation": "../assets/vendor_list_view_images/the_codfather.jpg",
            "vendorName": "The Codfather",
            "vendorCatergories": [
                "Chips",
                "Fried Fish",
                "American"
            ],
            "vendorRatings": {
                "vendorRatingValue": 3.5,
                "vendorNoOfRatings": 73
            },
            "location": "Colombo 1",
            "deliveryTime": "5-15 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v11",
            "vendorImageLocation": "../assets/vendor_list_view_images/the_tipsy_cow.jpg",
            "vendorName": "The Tipsy Cow",
            "vendorCatergories": [
                "Cocktails",
                "Smoothies",
                "Juice"
            ],
            "vendorRatings": {
                "vendorRatingValue": 5.0,
                "vendorNoOfRatings": 55
            },
            "location": "Colombo 1",
            "deliveryTime": "10-30 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v12",
            "vendorImageLocation": "../assets/vendor_list_view_images/the_dairy_godmother.jpg",
            "vendorName": "The Dairy Godmother",
            "vendorCatergories": [
                "Dairy",
                "Milk",
                "Smoothies"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.0,
                "vendorNoOfRatings": 67
            },
            "location": "Colombo 1",
            "deliveryTime": "20-50 mins",
            "items": [

            ],
        },
    ],
    leaderboard: [
        {
            name: "Ihan Lelwala",
            points: 250
        },
        {
            name: "Vinula Uthsara",
            points: 300
        },
        {
            name: "Thenuka Perera",
            points: 260
        },
        {
            name: "Deshan Koswatte",
            points: 280
        },
    ]
});

module.exports = function () {
    return {
        getAllVendors: function () {
            return data.vendors;
        },
        getSpecificVendor: function (vendorId) {
            // returns vendor details for provided vendorId
            const vendor = data.vendors.find(vendor => vendor.vendorId === vendorId);
            return vendor;
        },
        getSpecificItem: function (itemId) {
            // return item details for provided itemId
            const allVendorsItems = data.vendors.flatMap(vendor => vendor.items)
            const item = allVendorsItems.find(item => item.itemId === itemId);
            return item;
        },
        getVendorIdFromVendorName: function (vendorName) {
            const vendor = data.vendors.find(vendor => vendor.vendorName === vendorName);
            return vendor.vendorId;
        },
        updateVendorAndItemRatings: function (vendorId, vendorRating, itemTitles, ratings) {
            // Updates the vendor ratings and item ratings accordingly.

            // Retrieve the vendor using the vendor Id so that it can be updated.
            const vendor = data.vendors.find(vendor => vendor.vendorId === vendorId);

            // Update the vendor ratings and increase the count of no: of rated people.
            vendor.vendorRatings.vendorRatingValue = (parseFloat(vendor.vendorRatings.vendorRatingValue * vendor.vendorRatings.vendorNoOfRatings) + parseFloat(vendorRating)) / (vendor.vendorRatings.vendorNoOfRatings + 1);
            vendor.vendorRatings.vendorNoOfRatings = vendor.vendorRatings.vendorNoOfRatings + 1;

            // Update the ratings of the vendor's items.
            var updatedVendorAndItemRatings = [];
            for (var i = 0; i < itemTitles.length; i++) {
                vendor.items.map(item => {
                    // Update if the item names match.
                    if (item.itemTitle.replace(/\s/g, "") === itemTitles[i]) {
                        updatedVendorAndItemRatings.push({
                            "itemImageLocation": item.itemImageLocation,
                            "itemId": item.itemId,
                            "itemTitle": item.itemTitle,
                            "itemDescription": item.itemDescription,
                            "itemRatings": {
                                "itemRatingValue": (parseFloat(item.itemRatings.itemRatingValue * item.itemRatings.itemNoOfRatings) + parseFloat(ratings[i])) / (item.itemRatings.itemNoOfRatings + 1),
                                "itemNoOfRatings": item.itemRatings.itemNoOfRatings + 1
                            },
                            "itemPrice": item.itemPrice
                        });
                    } else {
                        // Else check if the item is already there and add it if it is not there.
                        if (updatedVendorAndItemRatings.find(updatedItem => updatedItem.itemId === item.itemId) === undefined) {
                            updatedVendorAndItemRatings.push({
                                "itemImageLocation": item.itemImageLocation,
                                "itemId": item.itemId,
                                "itemTitle": item.itemTitle,
                                "itemDescription": item.itemDescription,
                                "itemRatings": {
                                    "itemRatingValue": item.itemRatings.itemRatingValue,
                                    "itemNoOfRatings": item.itemRatings.itemNoOfRatings
                                },
                                "itemPrice": item.itemPrice
                            });
                        }
                    }
                });
            }
            vendor.items = updatedVendorAndItemRatings;

            // CHeck if the update was successfull.
            var test = data.vendors.find(vendor => vendor.vendorId === vendorId);
            console.log("Updated Vendor:", test);
        },
        getLeaderboard: function ({ points }) {
            const loggedInUser = { name: "You", points };
            const leaderboardWithLoggedInUser = [...data.leaderboard, loggedInUser];
            return leaderboardWithLoggedInUser.sort((user1, user2) => user2.points - user1.points)
        }
    }
}()
},{}],8:[function(require,module,exports){
var $ = require('jquery')
$.mobile = require('jquery-mobile')

var cart = require('./cart');
cart.init();

var user = require('./user')
user.init();

var datastore = require('./datastore')

var utils = require('./utils')

var payment = require('./payment')

var vendorlist = require('./vendorlist')

var stripe = require('@stripe/stripe-js');

var emailjs = require('emailjs-com');
emailjs.init('user_9qHmfUChqBKT2SNghQ1v1');

window.app = {
    cart,
    user,
    datastore,
    utils,
    payment,
    stripe,
    vendorlist,
    emailjs
}

/**
 * Remove following scripts (attached to the window) before hiding the current page to load the next.
 * Since we are using AJAX navigation between the pages, these scripts will thrown us an error 
 * indicating that we are trying to load the scripts multple times.
 * The code given below prevents that issue by resetting the source code set on the window
 * each time the respective script is loaded.
 */
$(document).on("pagecontainerbeforehide", function (event, ui) {
    console.log('Page going to hide ... removing Google Maps scripts')
    window.google = undefined;
    window.Stripe = undefined;
})

const screenDimens = {
    iPad: 1024
}

const navigationPanelBlockedScreens = ["landing", "vendor-stories", "vendor-rating", "item-rating",
    "order-in-progress-page", "delivery-in-progress-page", "signin", "signup"];

/**
 * This function opens the navigation panel programatically
 * if the screen width is above the specified size
 * 
 * Refer https://forum.jquery.com/topic/responsive-panel-demo-broken-how-to-keep-a-panel-open-on-a-large-window
 */
const evaluatePanelOpen = function () {
    var width = $(window).width();
    if (width >= screenDimens.iPad) {
        console.log('Opening navigation panel');
        $("#navigation-menu").panel("open");
    } else {
        $("#navigation-menu").panel("close");
    }
}

/**
 * https://github.com/jquery/demos.jquerymobile.com/blob/master/1.4.5/panel-external/index.html
 */
$(document).on("pagecontainercreate", function () {
    $.get("navigation_side_bar.html", function (markup) {
        // Add the panel to the body
        $('body').append(markup);

        // Manually initialize the panel
        $("body>[data-role='panel']").enhanceWithin().panel();
        const activePage = $(":mobile-pagecontainer").pagecontainer("getActivePage")[0];
        const shouldShowPanel = !navigationPanelBlockedScreens.includes(activePage.id);
        if (shouldShowPanel) {
            // Check again when we navigate to another page
            evaluatePanelOpen();
        }

        $('body').on("pagecontainerchange", function (event, ui) {
            console.log("Navigating to page:", ui.toPage[0].id);
            if (!navigationPanelBlockedScreens.includes(ui.toPage[0].id)) {
                // Check again when we navigate to another page
                evaluatePanelOpen();
            }
        })

        $(window).on("resize", function () {
            // Check again when the window gets resized (maybe due to change in screen orientation)
            const activePage = $(":mobile-pagecontainer").pagecontainer("getActivePage")[0];
            const shouldShowPanel = !navigationPanelBlockedScreens.includes(activePage.id);
            if (shouldShowPanel) {
                // Check again when we navigate to another page
                evaluatePanelOpen();
            }
        })
    })
})

},{"./cart":6,"./datastore":7,"./payment":9,"./user":10,"./utils":11,"./vendorlist":12,"@stripe/stripe-js":1,"emailjs-com":2,"jquery":14,"jquery-mobile":13}],9:[function(require,module,exports){
const $ = require('jquery');

const SECRET_KEY = 'sk_test_51I3c8WBYsXgRXg4suIS6WCRMMcfMsNgopWokzuqiKXSo6pmVX00zIk7Up6ukdjZLEY6YfpclJ1lAUCBKpl6Y4fe600CfNE584P';

const postToStripeAPI = function ({ url, data, success, error }) {
    return $.ajax({
        beforeSend: function (xhr) {
            xhr.setRequestHeader('Authorization', `Bearer ${SECRET_KEY}`);
        },
        url: "https://api.stripe.com/v1/" + url,
        type: "POST",
        data,
        dataType: "json",
        success,
        error,
    })
}

const getFromStripeAPI = function ({ url, queryParams, success, error }) {
    return $.ajax({
        beforeSend: function (xhr) {
            xhr.setRequestHeader('Authorization', `Bearer ${SECRET_KEY}`);
        },
        url: "https://api.stripe.com/v1/" + url,
        type: "GET",
        data: queryParams,
        dataType: "json",
        success,
        error,
    })
}

module.exports = function () {
    return {
        createSessionToSaveCardDetails: function (options, success, error) {
            return postToStripeAPI({
                url: 'checkout/sessions',
                data: {
                    payment_method_types: ['card'],
                    mode: 'setup', // only setup the payment method, without charging any initial payment
                    ...options
                },
                success,
                error
            })
        },
        getAllCardsForCustomer: function (success, error) {
            const loggedInUser = require('./user').getPaymentDetails();

            // https://stripe.com/docs/api/payment_methods/list?lang=curl
            return getFromStripeAPI({
                url: 'payment_methods',
                queryParams: {
                    customer: loggedInUser.stripe_customer_id,
                    type: 'card'
                },
                success,
                error
            });
        },
        removeCard: function (cardId, success, error) {
            return postToStripeAPI({
                url: `payment_methods/${cardId}/detach`,
                success,
                error
            });
        },
        createCheckoutSession(options, success, error) {
            const loggedInUser = require('./user').getPaymentDetails();

            return postToStripeAPI({
                url: 'checkout/sessions',
                success,
                error,
                data: {
                    customer: loggedInUser.stripe_customer_id,
                    ...options,
                }
            })
        }
    }
}()
},{"./user":10,"jquery":14}],10:[function(require,module,exports){
const cookie = require('js-cookie');
const datastore = require('./datastore');

const USER = "user";

const DEFAULT_USER = {
    profile: {
        name: "John Doe",
        points: 270,
    },
    payment: {
        stripe_customer_id: 'cus_IhWwxopENtlI1P',
    },
    location: {
        display: "Delkanda, Nugegoda",
    },
    favorites: {
        items: [],
        vendors: [],
    }
}

const orders = {
    pastOrders: [
        {
            "pastOrderId": "ord1",
            "vendorCoverImageLocation": "../assets/past_orders/past_order_cover_image.jpg",
            "vendorLogoImageLocation": "../assets/stories_images/story-big.png",
            "vendorName": "Burgers Ahouy!",
            "noOfOrderedItems": 3,
            "price": 1000,
            "date": "Oct 10 at 12:12 PM",
            "vendorRating": 0,
            "vendorComment": "",
            "orderedItems": [
                {
                    "itemName": "Hawaiian Burger",
                    "quantity": 2,
                    "rating": 0,
                    "comment": ""
                },
                {
                    "itemName": "Pudding",
                    "quantity": 2,
                    "rating": 0,
                    "comment": ""
                },
                {
                    "itemName": "Special Chilli Sauce",
                    "quantity": 1,
                    "rating": 0,
                    "comment": ""
                }
            ]
        },
        {
            "pastOrderId": "ord2",
            "vendorCoverImageLocation": "../assets/past_orders/past_order_cover_image.jpg",
            "vendorLogoImageLocation": "../assets/stories_images/story-big.png",
            "vendorName": "Burgers Ahouy!",
            "noOfOrderedItems": 1,
            "price": 500,
            "date": "Oct 01 at 08:30 PM",
            "vendorRating": 4,
            "vendorComment": "The food is great but the quantity is not enough.",
            "orderedItems": [
                {
                    "itemName": "Fish and Chips Burger",
                    "quantity": 2,
                    "rating": 4,
                    "comment": "Great food. Please increase on the quantity a bit."
                },
            ]
        },
    ]
}

module.exports = function () {
    return {
        FAVORITE_TYPES: {
            ITEM: 'item',
            VENDOR: 'vendor',
        },
        init: function () {
            if (!cookie.get(USER)) { // Set cookie only if not already set
                cookie.set(USER, DEFAULT_USER)
            }
        },
        updateLocation: function ({ updatedLocation }) {
            const user = cookie.getJSON(USER);
            user.location.display = updatedLocation;
            cookie.set(USER, user);
            return null;
        },
        getDetails: function () {
            return cookie.getJSON(USER)
        },
        getPaymentDetails: function () {
            return cookie.getJSON(USER).payment
        },
        getAllOrders: function () {
            return orders.pastOrders;
        },
        getSpecificOrder: function (pastOrderId) {
            const order = orders.pastOrders.find(order => order.pastOrderId == pastOrderId);
            return order;
        },
        getFavorites: function () {
            let { vendors, items } = cookie.getJSON(USER).favorites;
            vendors = vendors.map(vendor => vendor.vendorId);
            items = items.map(item => item.itemId);

            const favoriteVendors = [];
            const favoriteItems = [];

            for (const vendor of datastore.getAllVendors()) {
                const vendorsItems = vendor.items;
                if (vendors.includes(vendor.vendorId)) {
                    favoriteVendors.push(vendor);
                }

                vendorsItems.forEach(item => {
                    if (items.includes(item.itemId)) {
                        favoriteItems.push(item);
                    }
                })

                if (vendors.length == favoriteVendors.length &&
                    items.length == favoriteItems.length) {
                    break;
                }
            }

            return { vendors: favoriteVendors, items: favoriteItems };
        },
        isItemFavorite: function (type, favoriteItem) {
            const loggedInUser = cookie.getJSON(USER);
            const currentFavorites = loggedInUser.favorites;

            switch (type) {
                case this.FAVORITE_TYPES.VENDOR:
                    return currentFavorites['vendors']
                        .findIndex(vendor => vendor.vendorId === favoriteItem.vendorId) > -1;

                case this.FAVORITE_TYPES.ITEM:
                    return currentFavorites['items']
                        .findIndex(i => i.itemId === favoriteItem.itemId) > -1;
            }

        },
        addFavorite: function (type, favoriteItem) {
            console.log('Adding favorite ...');

            // Retrieve details from cookie
            const loggedInUser = cookie.getJSON(USER);
            const currentFavorites = loggedInUser.favorites;

            // Update favorites
            switch (type) {
                case this.FAVORITE_TYPES.VENDOR:
                    const isVendorAlreadyMarkedFavorite = currentFavorites['vendors'].find(i => i.vendorId === favoriteItem.vendorId)
                    if (!isVendorAlreadyMarkedFavorite) {
                        const { vendorId } = favoriteItem;
                        currentFavorites['vendors'].push({ vendorId });
                    }
                    break;
                case this.FAVORITE_TYPES.ITEM:
                    const isItemAlreadyMarkedFavorite = currentFavorites['items'].find(i => i.itemId === favoriteItem.itemId)
                    if (!isItemAlreadyMarkedFavorite) {
                        const { itemId } = favoriteItem;
                        currentFavorites['items'].push({ itemId });
                    }
                    break;
            }

            const newFavorites = currentFavorites;
            const updatedUser = { ...loggedInUser, favorites: newFavorites };

            // Set the cookie
            console.log('Updated User ...', updatedUser);
            cookie.set(USER, updatedUser);
        },
        removeFavorite: function (type, favoriteItem) {
            console.log('Removing favorite ...');

            // Retrieve details from cookie
            const loggedInUser = cookie.getJSON(USER);
            const currentFavorites = loggedInUser.favorites;

            // Update favorites
            var newFavorites = {};
            if (type === this.FAVORITE_TYPES.VENDOR) {
                currentFavorites['vendors'] = currentFavorites['vendors'].filter(i => i.vendorId != favoriteItem.vendorId);
                newFavorites = { ...currentFavorites };
            } else if (type === this.FAVORITE_TYPES.ITEM) {
                currentFavorites['items'] = currentFavorites['items'].filter(i => i.itemId != favoriteItem.itemId);
                newFavorites = { ...currentFavorites };
            }

            const updatedUser = { ...loggedInUser, favorites: newFavorites };

            // Set the cookie
            console.log('Updated User ...', updatedUser);
            cookie.set(USER, updatedUser);
        },
        updateSpecificOrder: function (pastOrderId, updatedVendorRating, updatedVendorComment,
            updatedItemNames, updateItemRatings, updatedItemComments) {

            const order = orders.pastOrders.find(order => order.pastOrderId == pastOrderId);
            // Update the vendor rating and comment.
            order.vendorRating = updatedVendorRating
            order.vendorComment = updatedVendorComment

            // Update the item raings and comments.
            var updatedOrderItems = [];
            for (var i = 0; i < updatedItemNames.length; i++) {
                order.orderedItems.map(item => {
                    if (item.itemName.replace(/\s/g, "") === updatedItemNames[i]) {
                        updatedOrderItems.push({
                            "itemName": item.itemName,
                            "quantity": item.quantity,
                            "rating": updateItemRatings[i],
                            "comment": "",
                            // "comment": updatedItemComments[i] // TODO - Comments part Thenuka
                        });
                    }
                });
            }
            order.orderedItems = updatedOrderItems;

            var test = orders.pastOrders.find(order => order.pastOrderId == pastOrderId);
            console.log("Updated Order:", test);
        },
        addPointsToUser(points) {
            const loggedInUser = cookie.getJSON(USER);
            loggedInUser.profile.points += points;
            const updatedUser = loggedInUser;
            cookie.set(USER, updatedUser);
        }
    }
}()

},{"./datastore":7,"js-cookie":5}],11:[function(require,module,exports){
module.exports = function () {
    return {
        parseUrlForQueryParams: function (url) {
            const queryParamString = url.split('?')[1]
            return queryParamString && queryParamString.split('&').reduce((acc, param) => {
                const key_value = param.split("=");
                acc[key_value[0]] = key_value[1]
                return acc;
            }, {}) || {};
        }
    }
}();
},{}],12:[function(require,module,exports){
const user = require('./user');

const data = Object.freeze({
    vendors: [
        {
            "vendorId": "v1",
            "vendorImageLocation": "../assets/vendor_list_view_images/burgers_ahouy.jpg",
            "vendorName": "Burgers Ahouy!",
            "vendorCatergories": [
                "Burgers",
                "American"
            ],
            "vendorRatings": {
                "vendorRatingValue": 2.6,
                "vendorNoOfRatings": 100
            },
            "location": "Colombo 3",
            "deliveryTime": "25-30 mins",
            "items": [
                {
                    "itemImageLocation": "../assets/vendor_page_images/tom_yum_soup.jpg",
                    "itemId": "v1i1",
                    "itemTitle": "Tom Yum Soup",
                    "itemDescription": "Picked from the fresh vegetables and fish from the with special Chicken Broth.",
                    "itemRatings": {
                        "itemRatingValue": 4.6,
                        "itemNoOfRatings": 47
                    },
                    "itemPrice": 800
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/crispy_chicken_burger.jpg",
                    "itemId": "v1i2",
                    "itemTitle": "Crispy Chicken Burger",
                    "itemDescription": "Crispy, Chicky, Crispy Chicken Burger. It’s pretty much self-explanatory.",
                    "itemRatings": {
                        "itemRatingValue": 4.0,
                        "itemNoOfRatings": 10
                    },
                    "itemPrice": 450
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/hawaiian_burger.jpg",
                    "itemId": "v1i3",
                    "itemTitle": "Hawaiian Burger",
                    "itemDescription": "Yes! Pineapples go on burgers too. Don’t let others tell you otherwise.",
                    "itemRatings": {
                        "itemRatingValue": 4.8,
                        "itemNoOfRatings": 45
                    },
                    "itemPrice": 600
                }
            ],
        },
        {
            "vendorId": "v2",
            "vendorImageLocation": "../assets/vendor_list_view_images/pizza_palpatha.jpg",
            "vendorName": "Pizza Palpatha",
            "vendorCatergories": [
                "Italian",
                "American",
                "Pizza"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.8,
                "vendorNoOfRatings": 99
            },
            "location": "Colombo 5",
            "deliveryTime": "15-20 mins",
            "items": [
                {
                    "itemImageLocation": "../assets/vendor_page_images/cheese_lovers_pizza.jpg",
                    "itemId": "v2i1",
                    "itemTitle": "Cheese Lovers Pizza",
                    "itemDescription": "Rich tomato sauce with a triple layer of mozzarella cheese.",
                    "itemRatings": {
                        "itemRatingValue": 4.5,
                        "itemNoOfRatings": 55
                    },
                    "itemPrice": 500
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/chicken_bacon_pizza.jpg",
                    "itemId": "v2i2",
                    "itemTitle": "Chicken Bacon Pizza",
                    "itemDescription": "Chicken bacon, onions & green chillies with a double layer of mozzarella cheese.",
                    "itemRatings": {
                        "itemRatingValue": 4.9,
                        "itemNoOfRatings": 90
                    },
                    "itemPrice": 300
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/devilled_chicken_pizza.jpg",
                    "itemId": "v2i3",
                    "itemTitle": "Devilled Chicken Pizza",
                    "itemDescription": "Devilled chicken in spicy sauce with a double layer of mozzarella cheese.",
                    "itemRatings": {
                        "itemRatingValue": 4.1,
                        "itemNoOfRatings": 75
                    },
                    "itemPrice": 470
                }
            ],
        },
        {
            "vendorId": "v3",
            "vendorImageLocation": "../assets/vendor_list_view_images/bathui_pol_sambolai.jpg",
            "vendorName": "Bathui Pol Sambolai",
            "vendorCatergories": [
                "Rice",
                "Sri Lankan"
            ],
            "vendorRatings": {
                "vendorRatingValue": 4.5,
                "vendorNoOfRatings": 150
            },
            "location": "Colombo 7",
            "deliveryTime": "5-10 mins",
            "items": [
                {
                    "itemImageLocation": "../assets/vendor_page_images/prawn_curry_and_rice.jpg",
                    "itemId": "v3i1",
                    "itemTitle": "Prawn Curry and Rice",
                    "itemDescription": "Prawn curry prepared to special Goa recipe with thick coconut gravy.",
                    "itemRatings": {
                        "itemRatingValue": 4.2,
                        "itemNoOfRatings": 21
                    },
                    "itemPrice": 575
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/fish_rice_and_curry.jpg",
                    "itemId": "v3i2",
                    "itemTitle": "Fish Rice and Curry",
                    "itemDescription": "Thalapath Fish, 4 curries and papadam enhriched with the Sri Lankan taste.",
                    "itemRatings": {
                        "itemRatingValue": 4.2,
                        "itemNoOfRatings": 21
                    },
                    "itemPrice": 575
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/chicken_rice_and_curry.jpg",
                    "itemId": "v3i3",
                    "itemTitle": "Chicken Rice and Curry",
                    "itemDescription": "With 4 curries and papadam mixed with Sri Lankan spices.",
                    "itemRatings": {
                        "itemRatingValue": 4.4,
                        "itemNoOfRatings": 65
                    },
                    "itemPrice": 350
                },
            ],
        },
        {
            "vendorId": "v4",
            "vendorImageLocation": "../assets/vendor_list_view_images/the_impasta.jpg",
            "vendorName": "The Impasta",
            "vendorCatergories": [
                "Pasta",
                "Italian"
            ],
            "vendorRatings": {
                "vendorRatingValue": 3.1,
                "vendorNoOfRatings": 82
            },
            "location": "Colombo 1",
            "deliveryTime": "40-50 mins",
            "items": [
                {
                    "itemImageLocation": "../assets/vendor_page_images/bruschetta_pasta.jpg",
                    "itemId": "v4i1",
                    "itemTitle": "Brushcetta Pasta",
                    "itemDescription": "This Bruschetta Pasta with fresh tomatoes, basil, garlic, and olive oil.",
                    "itemRatings": {
                        "itemRatingValue": 4.0,
                        "itemNoOfRatings": 10
                    },
                    "itemPrice": 375
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/cheese_pasta.jpg",
                    "itemId": "v4i2",
                    "itemTitle": "Cheese Pasta",
                    "itemDescription": "Just remember that a single is a double and a double is a triple at Chicago’s Au Cheval.",
                    "itemRatings": {
                        "itemRatingValue": 4.7,
                        "itemNoOfRatings": 21
                    },
                    "itemPrice": 200
                },
                {
                    "itemImageLocation": "../assets/vendor_page_images/creamy_tomato_and_spinach_pasta.jpg",
                    "itemId": "v4i3",
                    "itemTitle": "Creamy Tomato and Spinach Pasta",
                    "itemDescription": "With special pesto sauce and mozzarella cheese.",
                    "itemRatings": {
                        "itemRatingValue": 3.5,
                        "itemNoOfRatings": 15
                    },
                    "itemPrice": 230
                },
            ],
        },
        {
            "vendorId": "v5",
            "vendorImageLocation": "../assets/vendor_list_view_images/thai_tanic.jpg",
            "vendorName": "Thai Tanic",
            "vendorCatergories": [
                "Soup",
                "Salad",
                "Thai"
            ],
            "vendorRatings": {
                "vendorRatingValue": 3.9,
                "vendorNoOfRatings": 29
            },
            "location": "Colombo 1",
            "deliveryTime": "20-30 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v6",
            "vendorImageLocation": "../assets/vendor_list_view_images/pita_pan.jpg",
            "vendorName": "Pita Pan",
            "vendorCatergories": [
                "Burgers",
                "Mediterrenean",
                "Thai"
            ],
            "vendorRatings": {
                "vendorRatingValue": 2.3,
                "vendorNoOfRatings": 10
            },
            "location": "Colombo 1",
            "deliveryTime": "12-15 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v7",
            "vendorImageLocation": "../assets/vendor_list_view_images/hoppers_and_betrayals.jpg",
            "vendorName": "Hoppers and Betrayals",
            "vendorCatergories": [
                "Hoppers",
                "Sri Lankan",
                "Indian"
            ],
            "vendorRatings": {
                "vendorRatingValue": 1.9,
                "vendorNoOfRatings": 84
            },
            "location": "Colombo 1",
            "deliveryTime": "35-40 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v8",
            "vendorImageLocation": "../assets/vendor_list_view_images/cutie_pies_and_cupcakes.jpg",
            "vendorName": "Cutie Pies and Cupcakes",
            "vendorCatergories": [
                "Cupcakes",
                "Sweet",
                "Sour"
            ],
            "vendorRatings": {
                "vendorRatingValue": 3.4,
                "vendorNoOfRatings": 97
            },
            "location": "Colombo 1",
            "deliveryTime": "50-55 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v9",
            "vendorImageLocation": "../assets/vendor_list_view_images/tikka-k_inta.jpg",
            "vendorName": "Tikka-k Inta",
            "vendorCatergories": [
                "Paratha",
                "Indian"
            ],
            "vendorRatings": {
                "vendorRatingValue": 3.9,
                "vendorNoOfRatings": 200
            },
            "location": "Colombo 1",
            "deliveryTime": "45-50 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v10",
            "vendorImageLocation": "../assets/vendor_list_view_images/the_codfather.jpg",
            "vendorName": "The Codfather",
            "vendorCatergories": [
                "Chips",
                "Fried Fish",
                "American"
            ],
            "vendorRatings": {
                "vendorRatingValue": 5.5,
                "vendorNoOfRatings": 73
            },
            "location": "Colombo 1",
            "deliveryTime": "5-15 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v11",
            "vendorImageLocation": "../assets/vendor_list_view_images/the_tipsy_cow.jpg",
            "vendorName": "The Tipsy Cow",
            "vendorCatergories": [
                "Cocktails",
                "Smoothies",
                "Juice"
            ],
            "vendorRatings": {
                "vendorRatingValue": 5.0,
                "vendorNoOfRatings": 55
            },
            "location": "Colombo 1",
            "deliveryTime": "10-15 mins",
            "items": [

            ],
        },
        {
            "vendorId": "v12",
            "vendorImageLocation": "../assets/vendor_list_view_images/the_dairy_godmother.jpg",
            "vendorName": "The Dairy Godmother",
            "vendorCatergories": [
                "Dairy",
                "Milk",
                "Smoothies"
            ],
            "vendorRatings": {
                "vendorRatingValue": 5.6,
                "vendorNoOfRatings": 67
            },
            "location": "Colombo 1",
            "deliveryTime": "55-60 mins",
            "items": [

            ],
        },
    ],
    leaderboard: [
        {
            name: "Ihan Lelwala",
            points: 250
        },
        {
            name: "Vinula Uthsara",
            points: 300
        },
        {
            name: "Thenuka Perera",
            points: 260
        },
        {
            name: "Deshan Koswatte",
            points: 280
        },
    ]
});

module.exports = function () {
    return {
        getAllVendors: function () {
            return data.vendors;
        },
        getSpecificVendor: function (vendorId) {
            // returns vendor details for provided vendorId
            const vendor = data.vendors.find(vendor => vendor.vendorId === vendorId);
            return vendor;
        },
        getSpecificItem: function (itemId) {
            // return item details for provided itemId
            const allVendorsItems = data.vendors.flatMap(vendor => vendor.items)
            const item = allVendorsItems.find(item => item.itemId === itemId);
            return item;
        },
        getLeaderboard: function () {
            const { points } = user.getDetails().profile;
            const loggedInUser = { name: "You", points };
            const leaderboardWithLoggedInUser = [...data.leaderboard, loggedInUser];
            return leaderboardWithLoggedInUser.sort((user1, user2) => user2.points - user1.points)
        }
    }
}()
},{"./user":10}],13:[function(require,module,exports){
(function (global){(function (){
(function browserifyShim(module, exports, define, browserify_shim__define__module__export__) {

; global.$ = require("jquery");
/*! jQuery Mobile 1.4.5 | Git HEADhash: 68e55e7 <> 2014-10-31T17:33:30Z | (c) 2010, 2014 jQuery Foundation, Inc. | jquery.org/license */

!function(a,b,c){"function"==typeof define&&define.amd?define(["jquery"],function(d){return c(d,a,b),d.mobile}):c(a.jQuery,a,b)}(this,document,function(a,b,c){!function(a){a.mobile={}}(a),function(a,b){function d(b,c){var d,f,g,h=b.nodeName.toLowerCase();return"area"===h?(d=b.parentNode,f=d.name,b.href&&f&&"map"===d.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&e(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&e(b)}function e(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var f=0,g=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"c0ab71056b936627e8a7821f03c044aec6280a40",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(this[0].ownerDocument||c):b},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++f)})},removeUniqueId:function(){return this.each(function(){g.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return d(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),e=isNaN(c);return(e||c>=0)&&d(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in c.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(d){if(d!==b)return this.css("zIndex",d);if(this.length)for(var e,f,g=a(this[0]);g.length&&g[0]!==c;){if(e=g.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(f=parseInt(g.css("zIndex"),10),!isNaN(f)&&0!==f))return f;g=g.parent()}return 0}}),a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}}}(a),function(a,b){var d=function(b,c){var d=b.parent(),e=[],f=function(){var b=a(this),c=a.mobile.toolbar&&b.data("mobile-toolbar")?b.toolbar("option"):{position:b.attr("data-"+a.mobile.ns+"position"),updatePagePadding:b.attr("data-"+a.mobile.ns+"update-page-padding")!==!1};return!("fixed"===c.position&&c.updatePagePadding===!0)},g=d.children(":jqmData(role='header')").filter(f),h=b.children(":jqmData(role='header')"),i=d.children(":jqmData(role='footer')").filter(f),j=b.children(":jqmData(role='footer')");return 0===h.length&&g.length>0&&(e=e.concat(g.toArray())),0===j.length&&i.length>0&&(e=e.concat(i.toArray())),a.each(e,function(b,d){c-=a(d).outerHeight()}),Math.max(0,c)};a.extend(a.mobile,{window:a(b),document:a(c),keyCode:a.ui.keyCode,behaviors:{},silentScroll:function(c){"number"!==a.type(c)&&(c=a.mobile.defaultHomeScroll),a.event.special.scrollstart.enabled=!1,setTimeout(function(){b.scrollTo(0,c),a.mobile.document.trigger("silentscroll",{x:0,y:c})},20),setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},getClosestBaseUrl:function(b){var c=a(b).closest(".ui-page").jqmData("url"),d=a.mobile.path.documentBase.hrefNoHash;return a.mobile.dynamicBaseEnabled&&c&&a.mobile.path.isPath(c)||(c=d),a.mobile.path.makeUrlAbsolute(c,d)},removeActiveLinkClass:function(b){!a.mobile.activeClickedLink||a.mobile.activeClickedLink.closest("."+a.mobile.activePageClass).length&&!b||a.mobile.activeClickedLink.removeClass(a.mobile.activeBtnClass),a.mobile.activeClickedLink=null},getInheritedTheme:function(a,b){for(var c,d,e=a[0],f="",g=/ui-(bar|body|overlay)-([a-z])\b/;e&&(c=e.className||"",!(c&&(d=g.exec(c))&&(f=d[2])));)e=e.parentNode;return f||b||"a"},enhanceable:function(a){return this.haveParents(a,"enhance")},hijackable:function(a){return this.haveParents(a,"ajax")},haveParents:function(b,c){if(!a.mobile.ignoreContentEnabled)return b;var d,e,f,g,h,i=b.length,j=a();for(g=0;i>g;g++){for(e=b.eq(g),f=!1,d=b[g];d;){if(h=d.getAttribute?d.getAttribute("data-"+a.mobile.ns+c):"","false"===h){f=!0;break}d=d.parentNode}f||(j=j.add(e))}return j},getScreenHeight:function(){return b.innerHeight||a.mobile.window.height()},resetActivePageHeight:function(b){var c=a("."+a.mobile.activePageClass),e=c.height(),f=c.outerHeight(!0);b=d(c,"number"==typeof b?b:a.mobile.getScreenHeight()),c.css("min-height",""),c.height()<b&&c.css("min-height",b-(f-e))},loading:function(){var b=this.loading._widget||a(a.mobile.loader.prototype.defaultHtml).loader(),c=b.loader.apply(b,arguments);return this.loading._widget=b,c}}),a.addDependents=function(b,c){var d=a(b),e=d.jqmData("dependents")||a();d.jqmData("dependents",a(e).add(c))},a.fn.extend({removeWithDependents:function(){a.removeWithDependents(this)},enhanceWithin:function(){var b,c={},d=a.mobile.page.prototype.keepNativeSelector(),e=this;a.mobile.nojs&&a.mobile.nojs(this),a.mobile.links&&a.mobile.links(this),a.mobile.degradeInputsWithin&&a.mobile.degradeInputsWithin(this),a.fn.buttonMarkup&&this.find(a.fn.buttonMarkup.initSelector).not(d).jqmEnhanceable().buttonMarkup(),a.fn.fieldcontain&&this.find(":jqmData(role='fieldcontain')").not(d).jqmEnhanceable().fieldcontain(),a.each(a.mobile.widgets,function(b,f){if(f.initSelector){var g=a.mobile.enhanceable(e.find(f.initSelector));g.length>0&&(g=g.not(d)),g.length>0&&(c[f.prototype.widgetName]=g)}});for(b in c)c[b][b]();return this},addDependents:function(b){a.addDependents(this,b)},getEncodedText:function(){return a("<a>").text(this.text()).html()},jqmEnhanceable:function(){return a.mobile.enhanceable(this)},jqmHijackable:function(){return a.mobile.hijackable(this)}}),a.removeWithDependents=function(b){var c=a(b);(c.jqmData("dependents")||a()).remove(),c.remove()},a.addDependents=function(b,c){var d=a(b),e=d.jqmData("dependents")||a();d.jqmData("dependents",a(e).add(c))},a.find.matches=function(b,c){return a.find(b,null,null,c)},a.find.matchesSelector=function(b,c){return a.find(c,null,null,[b]).length>0}}(a,this),function(a){a.extend(a.mobile,{version:"1.4.5",subPageUrlKey:"ui-page",hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:0,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,buttonMarkup:{hoverDelay:200},dynamicBaseEnabled:!0,pageContainer:a(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})}(a,this),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];return b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g),g},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,this.each(h?function(){var d,e=a.data(this,f);return"instance"===g?(j=e,!1):e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}:function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(a),function(a,b,c){var d={},e=a.find,f=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,g=/:jqmData\(([^)]*)\)/g;a.extend(a.mobile,{ns:"",getAttribute:function(b,c){var d;b=b.jquery?b[0]:b,b&&b.getAttribute&&(d=b.getAttribute("data-"+a.mobile.ns+c));try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:f.test(d)?JSON.parse(d):d}catch(e){}return d},nsNormalizeDict:d,nsNormalize:function(b){return d[b]||(d[b]=a.camelCase(a.mobile.ns+b))},closestPageData:function(a){return a.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),a.fn.jqmData=function(b,d){var e;return"undefined"!=typeof b&&(b&&(b=a.mobile.nsNormalize(b)),e=arguments.length<2||d===c?this.data(b):this.data(b,d)),e},a.jqmData=function(b,c,d){var e;return"undefined"!=typeof c&&(e=a.data(b,c?a.mobile.nsNormalize(c):c,d)),e},a.fn.jqmRemoveData=function(b){return this.removeData(a.mobile.nsNormalize(b))},a.jqmRemoveData=function(b,c){return a.removeData(b,a.mobile.nsNormalize(c))},a.find=function(b,c,d,f){return b.indexOf(":jqmData")>-1&&(b=b.replace(g,"[data-"+(a.mobile.ns||"")+"$1]")),e.call(this,b,c,d,f)},a.extend(a.find,e)}(a,this),function(a){var b=/[A-Z]/g,c=function(a){return"-"+a.toLowerCase()};a.extend(a.Widget.prototype,{_getCreateOptions:function(){var d,e,f=this.element[0],g={};if(!a.mobile.getAttribute(f,"defaults"))for(d in this.options)e=a.mobile.getAttribute(f,d.replace(b,c)),null!=e&&(g[d]=e);return g}}),a.mobile.widget=a.Widget}(a),function(a){var b="ui-loader",c=a("html");a.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+b+"'><span class='ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var b=a("."+a.mobile.activeBtnClass).first();this.element.css({top:a.support.scrollTop&&this.window.scrollTop()+this.window.height()/2||b.length&&b.offset().top||100})},checkLoaderPosition:function(){var b=this.element.offset(),c=this.window.scrollTop(),d=a.mobile.getScreenHeight();(b.top<c||b.top-c>d)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),this.window.unbind("scroll",this.checkLoaderPosition).bind("scroll",a.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(a(this.defaultHtml).html())},show:function(d,e,f){var g,h,i;this.resetHtml(),"object"===a.type(d)?(i=a.extend({},this.options,d),d=i.theme):(i=this.options,d=d||i.theme),h=e||(i.text===!1?"":i.text),c.addClass("ui-loading"),g=i.textVisible,this.element.attr("class",b+" ui-corner-all ui-body-"+d+" ui-loader-"+(g||e||d.text?"verbose":"default")+(i.textonly||f?" ui-loader-textonly":"")),i.html?this.element.html(i.html):this.element.find("h1").text(h),this.element.appendTo(a(a.mobile.pagecontainer?":mobile-pagecontainer":"body")),this.checkLoaderPosition(),this.window.bind("scroll",a.proxy(this.checkLoaderPosition,this))},hide:function(){c.removeClass("ui-loading"),this.options.text&&this.element.removeClass("ui-loader-fakefix"),this.window.unbind("scroll",this.fakeFixLoader),this.window.unbind("scroll",this.checkLoaderPosition)}})}(a,this),function(a,b,d){"$:nomunge";function e(a){return a=a||location.href,"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var f,g="hashchange",h=c,i=a.event.special,j=h.documentMode,k="on"+g in b&&(j===d||j>7);a.fn[g]=function(a){return a?this.bind(g,a):this.trigger(g)},a.fn[g].delay=50,i[g]=a.extend(i[g],{setup:function(){return k?!1:void a(f.start)},teardown:function(){return k?!1:void a(f.stop)}}),f=function(){function c(){var d=e(),h=n(j);d!==j?(m(j=d,h),a(b).trigger(g)):h!==j&&(location.href=location.href.replace(/#.*/,"")+h),f=setTimeout(c,a.fn[g].delay)}var f,i={},j=e(),l=function(a){return a},m=l,n=l;return i.start=function(){f||c()},i.stop=function(){f&&clearTimeout(f),f=d},b.attachEvent&&!b.addEventListener&&!k&&function(){var b,d;i.start=function(){b||(d=a.fn[g].src,d=d&&d+e(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){d||m(e()),c()}).attr("src",d||"javascript:0").insertAfter("body")[0].contentWindow,h.onpropertychange=function(){try{"title"===event.propertyName&&(b.document.title=h.title)}catch(a){}})},i.stop=l,n=function(){return e(b.location.href)},m=function(c,d){var e=b.document,f=a.fn[g].domain;c!==d&&(e.title=h.title,e.open(),f&&e.write('<script>document.domain="'+f+'"</script>'),e.close(),b.location.hash=c)}}(),i}()}(a,this),function(a){b.matchMedia=b.matchMedia||function(a){var b,c=a.documentElement,d=c.firstElementChild||c.firstChild,e=a.createElement("body"),f=a.createElement("div");return f.id="mq-test-1",f.style.cssText="position:absolute;top:-100em",e.style.background="none",e.appendChild(f),function(a){return f.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',c.insertBefore(e,d),b=42===f.offsetWidth,c.removeChild(e),{matches:b,media:a}}}(c),a.mobile.media=function(a){return b.matchMedia(a).matches}}(a),function(a){var b={touch:"ontouchend"in c};a.mobile.support=a.mobile.support||{},a.extend(a.support,b),a.extend(a.mobile.support,b)}(a),function(a){a.extend(a.support,{orientation:"orientation"in b&&"onorientationchange"in b})}(a),function(a,d){function e(a){var b,c=a.charAt(0).toUpperCase()+a.substr(1),e=(a+" "+o.join(c+" ")+c).split(" ");for(b in e)if(n[e[b]]!==d)return!0}function f(){var c=b,d=!(!c.document.createElementNS||!c.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||c.opera&&-1===navigator.userAgent.indexOf("Chrome")),e=function(b){b&&d||a("html").addClass("ui-nosvg")},f=new c.Image;f.onerror=function(){e(!1)},f.onload=function(){e(1===f.width&&1===f.height)},f.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}function g(){var e,f,g,h="transform-3d",i=a.mobile.media("(-"+o.join("-"+h+"),(-")+"-"+h+"),("+h+")");if(i)return!!i;e=c.createElement("div"),f={MozTransform:"-moz-transform",transform:"transform"},m.append(e);for(g in f)e.style[g]!==d&&(e.style[g]="translate3d( 100px, 1px, 1px )",i=b.getComputedStyle(e).getPropertyValue(f[g]));return!!i&&"none"!==i}function h(){var b,c,d=location.protocol+"//"+location.host+location.pathname+"ui-dir/",e=a("head base"),f=null,g="";return e.length?g=e.attr("href"):e=f=a("<base>",{href:d}).appendTo("head"),b=a("<a href='testurl' />").prependTo(m),c=b[0].href,e[0].href=g||location.pathname,f&&f.remove(),0===c.indexOf(d)}function i(){var a,d=c.createElement("x"),e=c.documentElement,f=b.getComputedStyle;return"pointerEvents"in d.style?(d.style.pointerEvents="auto",d.style.pointerEvents="x",e.appendChild(d),a=f&&"auto"===f(d,"").pointerEvents,e.removeChild(d),!!a):!1}function j(){var a=c.createElement("div");return"undefined"!=typeof a.getBoundingClientRect}function k(){var a=b,c=navigator.userAgent,d=navigator.platform,e=c.match(/AppleWebKit\/([0-9]+)/),f=!!e&&e[1],g=c.match(/Fennec\/([0-9]+)/),h=!!g&&g[1],i=c.match(/Opera Mobi\/([0-9]+)/),j=!!i&&i[1];return(d.indexOf("iPhone")>-1||d.indexOf("iPad")>-1||d.indexOf("iPod")>-1)&&f&&534>f||a.operamini&&"[object OperaMini]"==={}.toString.call(a.operamini)||i&&7458>j||c.indexOf("Android")>-1&&f&&533>f||h&&6>h||"palmGetResource"in b&&f&&534>f||c.indexOf("MeeGo")>-1&&c.indexOf("NokiaBrowser/8.5.0")>-1?!1:!0}var l,m=a("<body>").prependTo("html"),n=m[0].style,o=["Webkit","Moz","O"],p="palmGetResource"in b,q=b.operamini&&"[object OperaMini]"==={}.toString.call(b.operamini),r=b.blackberry&&!e("-webkit-transform");a.extend(a.mobile,{browser:{}}),a.mobile.browser.oldIE=function(){var a=3,b=c.createElement("div"),d=b.all||[];do b.innerHTML="<!--[if gt IE "+ ++a+"]><br><![endif]-->";while(d[0]);return a>4?a:!a}(),a.extend(a.support,{pushState:"pushState"in history&&"replaceState"in history&&!(b.navigator.userAgent.indexOf("Firefox")>=0&&b.top!==b)&&-1===b.navigator.userAgent.search(/CriOS/),mediaquery:a.mobile.media("only all"),cssPseudoElement:!!e("content"),touchOverflow:!!e("overflowScrolling"),cssTransform3d:g(),boxShadow:!!e("boxShadow")&&!r,fixedPosition:k(),scrollTop:("pageXOffset"in b||"scrollTop"in c.documentElement||"scrollTop"in m[0])&&!p&&!q,dynamicBaseTag:h(),cssPointerEvents:i(),boundingRect:j(),inlineSVG:f}),m.remove(),l=function(){var a=b.navigator.userAgent;return a.indexOf("Nokia")>-1&&(a.indexOf("Symbian/3")>-1||a.indexOf("Series60/5")>-1)&&a.indexOf("AppleWebKit")>-1&&a.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),a.mobile.gradeA=function(){return(a.support.mediaquery&&a.support.cssPseudoElement||a.mobile.browser.oldIE&&a.mobile.browser.oldIE>=8)&&(a.support.boundingRect||null!==a.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},a.mobile.ajaxBlacklist=b.blackberry&&!b.WebKitPoint||q||l,l&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),a.support.boxShadow||a("html").addClass("ui-noboxshadow")}(a),function(a,b){var c,d=a.mobile.window,e=function(){};a.event.special.beforenavigate={setup:function(){d.on("navigate",e)},teardown:function(){d.off("navigate",e)}},a.event.special.navigate=c={bound:!1,pushStateEnabled:!0,originalEventName:b,isPushStateEnabled:function(){return a.support.pushState&&a.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return a.mobile.hashListeningEnabled===!0},popstate:function(b){var c=new a.Event("navigate"),e=new a.Event("beforenavigate"),f=b.originalEvent.state||{};e.originalEvent=b,d.trigger(e),e.isDefaultPrevented()||(b.historyState&&a.extend(f,b.historyState),c.originalEvent=b,setTimeout(function(){d.trigger(c,{state:f})},0))},hashchange:function(b){var c=new a.Event("navigate"),e=new a.Event("beforenavigate");e.originalEvent=b,d.trigger(e),e.isDefaultPrevented()||(c.originalEvent=b,d.trigger(c,{state:b.hashchangeState||{}}))},setup:function(){c.bound||(c.bound=!0,c.isPushStateEnabled()?(c.originalEventName="popstate",d.bind("popstate.navigate",c.popstate)):c.isHashChangeEnabled()&&(c.originalEventName="hashchange",d.bind("hashchange.navigate",c.hashchange)))}}}(a),function(a,c){var d,e,f="&ui-state=dialog";a.mobile.path=d={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(a){var b=this.parseUrl(a||location.href),c=a?b:location,d=b.hash;return d="#"===d?"":d,c.protocol+b.doubleSlash+c.host+(""!==c.protocol&&"/"!==c.pathname.substring(0,1)?"/":"")+c.pathname+c.search+d},getDocumentUrl:function(b){return b?a.extend({},d.documentUrl):d.documentUrl.href},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(b){if("object"===a.type(b))return b;var c=d.urlParseRE.exec(b||"")||[];return{href:c[0]||"",hrefNoHash:c[1]||"",hrefNoSearch:c[2]||"",domain:c[3]||"",protocol:c[4]||"",doubleSlash:c[5]||"",authority:c[6]||"",username:c[8]||"",password:c[9]||"",host:c[10]||"",hostname:c[11]||"",port:c[12]||"",pathname:c[13]||"",directory:c[14]||"",filename:c[15]||"",search:c[16]||"",hash:c[17]||""}},makePathAbsolute:function(a,b){var c,d,e,f;if(a&&"/"===a.charAt(0))return a;for(a=a||"",b=b?b.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",c=b?b.split("/"):[],d=a.split("/"),e=0;e<d.length;e++)switch(f=d[e]){case".":break;case"..":c.length&&c.pop();break;default:c.push(f)}return"/"+c.join("/")},isSameDomain:function(a,b){return d.parseUrl(a).domain.toLowerCase()===d.parseUrl(b).domain.toLowerCase()},isRelativeUrl:function(a){return""===d.parseUrl(a).protocol},isAbsoluteUrl:function(a){return""!==d.parseUrl(a).protocol},makeUrlAbsolute:function(a,b){if(!d.isRelativeUrl(a))return a;b===c&&(b=this.documentBase);var e=d.parseUrl(a),f=d.parseUrl(b),g=e.protocol||f.protocol,h=e.protocol?e.doubleSlash:e.doubleSlash||f.doubleSlash,i=e.authority||f.authority,j=""!==e.pathname,k=d.makePathAbsolute(e.pathname||f.filename,f.pathname),l=e.search||!j&&f.search||"",m=e.hash;return g+h+i+k+l+m},addSearchParams:function(b,c){var e=d.parseUrl(b),f="object"==typeof c?a.param(c):c,g=e.search||"?";return e.hrefNoSearch+g+("?"!==g.charAt(g.length-1)?"&":"")+f+(e.hash||"")},convertUrlToDataUrl:function(a){var c=a,e=d.parseUrl(a);return d.isEmbeddedPage(e)?c=e.hash.split(f)[0].replace(/^#/,"").replace(/\?.*$/,""):d.isSameDomain(e,this.documentBase)&&(c=e.hrefNoHash.replace(this.documentBase.domain,"").split(f)[0]),b.decodeURIComponent(c)},get:function(a){return a===c&&(a=d.parseLocation().hash),d.stripHash(a).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(a){location.hash=a},isPath:function(a){return/\//.test(a)},clean:function(a){return a.replace(this.documentBase.domain,"")},stripHash:function(a){return a.replace(/^#/,"")},stripQueryParams:function(a){return a.replace(/\?.*$/,"")},cleanHash:function(a){return d.stripHash(a.replace(/\?.*$/,"").replace(f,""))},isHashValid:function(a){return/^#[^#]+$/.test(a)},isExternal:function(a){var b=d.parseUrl(a);return!(!b.protocol||b.domain.toLowerCase()===this.documentUrl.domain.toLowerCase())},hasProtocol:function(a){return/^(:?\w+:)/.test(a)},isEmbeddedPage:function(a){var b=d.parseUrl(a);return""!==b.protocol?!this.isPath(b.hash)&&b.hash&&(b.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&b.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(b.href)},squash:function(a,b){var c,e,f,g,h,i=this.isPath(a),j=this.parseUrl(a),k=j.hash,l="";return b||(i?b=d.getLocation():(h=d.getDocumentUrl(!0),b=d.isPath(h.hash)?d.squash(h.href):h.href)),e=i?d.stripHash(a):a,e=d.isPath(j.hash)?d.stripHash(j.hash):e,g=e.indexOf(this.uiStateKey),g>-1&&(l=e.slice(g),e=e.slice(0,g)),c=d.makeUrlAbsolute(e,b),f=this.parseUrl(c).search,i?((d.isPath(k)||0===k.replace("#","").indexOf(this.uiStateKey))&&(k=""),l&&-1===k.indexOf(this.uiStateKey)&&(k+=l),-1===k.indexOf("#")&&""!==k&&(k="#"+k),c=d.parseUrl(c),c=c.protocol+c.doubleSlash+c.host+c.pathname+f+k):c+=c.indexOf("#")>-1?l:"#"+l,c},isPreservableHash:function(a){return 0===a.replace("#","").indexOf(this.uiStateKey)},hashToSelector:function(a){var b="#"===a.substring(0,1);return b&&(a=a.substring(1)),(b?"#":"")+a.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")},getFilePath:function(a){return a&&a.split(f)[0]},isFirstPageUrl:function(b){var e=d.parseUrl(d.makeUrlAbsolute(b,this.documentBase)),f=e.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&e.hrefNoHash===this.documentBase.hrefNoHash,g=a.mobile.firstPage,h=g&&g[0]?g[0].id:c;return f&&(!e.hash||"#"===e.hash||h&&e.hash.replace(/^#/,"")===h)},isPermittedCrossDomainRequest:function(b,c){return a.mobile.allowCrossDomainPages&&("file:"===b.protocol||"content:"===b.protocol)&&-1!==c.search(/^https?:/)}},d.documentUrl=d.parseLocation(),e=a("head").find("base"),d.documentBase=e.length?d.parseUrl(d.makeUrlAbsolute(e.attr("href"),d.documentUrl.href)):d.documentUrl,d.documentBaseDiffers=d.documentUrl.hrefNoHash!==d.documentBase.hrefNoHash,d.getDocumentBase=function(b){return b?a.extend({},d.documentBase):d.documentBase.href},a.extend(a.mobile,{getDocumentUrl:d.getDocumentUrl,getDocumentBase:d.getDocumentBase})}(a),function(a,b){a.mobile.History=function(a,b){this.stack=a||[],this.activeIndex=b||0},a.extend(a.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(a,b){b=b||{},this.getNext()&&this.clearForward(),b.hash&&-1===b.hash.indexOf("#")&&(b.hash="#"+b.hash),b.url=a,this.stack.push(b),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(a,b,c){b=b||this.stack;var d,e,f,g=b.length;for(e=0;g>e;e++)if(d=b[e],(decodeURIComponent(a)===decodeURIComponent(d.url)||decodeURIComponent(a)===decodeURIComponent(d.hash))&&(f=e,c))return f;return f},closest:function(a){var c,d=this.activeIndex;return c=this.find(a,this.stack.slice(0,d)),c===b&&(c=this.find(a,this.stack.slice(d),!0),c=c===b?c:c+d),c},direct:function(c){var d=this.closest(c.url),e=this.activeIndex;d!==b&&(this.activeIndex=d,this.previousIndex=e),e>d?(c.present||c.back||a.noop)(this.getActive(),"back"):d>e?(c.present||c.forward||a.noop)(this.getActive(),"forward"):d===b&&c.missing&&c.missing(this.getActive())}})}(a),function(a){var d=a.mobile.path,e=location.href;a.mobile.Navigator=function(b){this.history=b,this.ignoreInitialHashChange=!0,a.mobile.window.bind({"popstate.history":a.proxy(this.popstate,this),"hashchange.history":a.proxy(this.hashchange,this)})},a.extend(a.mobile.Navigator.prototype,{squash:function(e,f){var g,h,i=d.isPath(e)?d.stripHash(e):e;return h=d.squash(e),g=a.extend({hash:i,url:h},f),b.history.replaceState(g,g.title||c.title,h),g},hash:function(a,b){var c,e,f,g;return c=d.parseUrl(a),e=d.parseLocation(),e.pathname+e.search===c.pathname+c.search?f=c.hash?c.hash:c.pathname+c.search:d.isPath(a)?(g=d.parseUrl(b),f=g.pathname+g.search+(d.isPreservableHash(g.hash)?g.hash.replace("#",""):"")):f=a,f},go:function(e,f,g){var h,i,j,k,l=a.event.special.navigate.isPushStateEnabled();
i=d.squash(e),j=this.hash(e,i),g&&j!==d.stripHash(d.parseLocation().hash)&&(this.preventNextHashChange=g),this.preventHashAssignPopState=!0,b.location.hash=j,this.preventHashAssignPopState=!1,h=a.extend({url:i,hash:j,title:c.title},f),l&&(k=new a.Event("popstate"),k.originalEvent={type:"popstate",state:null},this.squash(e,h),g||(this.ignorePopState=!0,a.mobile.window.trigger(k))),this.history.add(h.url,h)},popstate:function(b){var c,f;if(a.event.special.navigate.isPushStateEnabled())return this.preventHashAssignPopState?(this.preventHashAssignPopState=!1,void b.stopImmediatePropagation()):this.ignorePopState?void(this.ignorePopState=!1):!b.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1,location.href===e)?void b.preventDefault():(c=d.parseLocation().hash,!b.originalEvent.state&&c?(f=this.squash(c),this.history.add(f.url,f),void(b.historyState=f)):void this.history.direct({url:(b.originalEvent.state||{}).url||c,present:function(c,d){b.historyState=a.extend({},c),b.historyState.direction=d}}))},hashchange:function(b){var e,f;if(a.event.special.navigate.isHashChangeEnabled()&&!a.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange)return this.preventNextHashChange=!1,void b.stopImmediatePropagation();e=this.history,f=d.parseLocation().hash,this.history.direct({url:f,present:function(c,d){b.hashchangeState=a.extend({},c),b.hashchangeState.direction=d},missing:function(){e.add(f,{hash:f,title:c.title})}})}}})}(a),function(a){a.mobile.navigate=function(b,c,d){a.mobile.navigate.navigator.go(b,c,d)},a.mobile.navigate.history=new a.mobile.History,a.mobile.navigate.navigator=new a.mobile.Navigator(a.mobile.navigate.history);var b=a.mobile.path.parseLocation();a.mobile.navigate.history.add(b.href,{hash:b.hash})}(a),function(a,b){var d={animation:{},transition:{}},e=c.createElement("a"),f=["","webkit-","moz-","o-"];a.each(["animation","transition"],function(c,g){var h=0===c?g+"-name":g;a.each(f,function(c,f){return e.style[a.camelCase(f+h)]!==b?(d[g].prefix=f,!1):void 0}),d[g].duration=a.camelCase(d[g].prefix+g+"-duration"),d[g].event=a.camelCase(d[g].prefix+g+"-end"),""===d[g].prefix&&(d[g].event=d[g].event.toLowerCase())}),a.support.cssTransitions=d.transition.prefix!==b,a.support.cssAnimations=d.animation.prefix!==b,a(e).remove(),a.fn.animationComplete=function(e,f,g){var h,i,j=this,k=function(){clearTimeout(h),e.apply(this,arguments)},l=f&&"animation"!==f?"transition":"animation";return a.support.cssTransitions&&"transition"===l||a.support.cssAnimations&&"animation"===l?(g===b&&(a(this).context!==c&&(i=3e3*parseFloat(a(this).css(d[l].duration))),(0===i||i===b||isNaN(i))&&(i=a.fn.animationComplete.defaultDuration)),h=setTimeout(function(){a(j).off(d[l].event,k),e.apply(j)},i),a(this).one(d[l].event,k)):(setTimeout(a.proxy(e,this),0),a(this))},a.fn.animationComplete.defaultDuration=1e3}(a),function(a,b,c,d){function e(a){for(;a&&"undefined"!=typeof a.originalEvent;)a=a.originalEvent;return a}function f(b,c){var f,g,h,i,j,k,l,m,n,o=b.type;if(b=a.Event(b),b.type=c,f=b.originalEvent,g=a.event.props,o.search(/^(mouse|click)/)>-1&&(g=E),f)for(l=g.length,i;l;)i=g[--l],b[i]=f[i];if(o.search(/mouse(down|up)|click/)>-1&&!b.which&&(b.which=1),-1!==o.search(/^touch/)&&(h=e(f),o=h.touches,j=h.changedTouches,k=o&&o.length?o[0]:j&&j.length?j[0]:d))for(m=0,n=C.length;n>m;m++)i=C[m],b[i]=k[i];return b}function g(b){for(var c,d,e={};b;){c=a.data(b,z);for(d in c)c[d]&&(e[d]=e.hasVirtualBinding=!0);b=b.parentNode}return e}function h(b,c){for(var d;b;){if(d=a.data(b,z),d&&(!c||d[c]))return b;b=b.parentNode}return null}function i(){M=!1}function j(){M=!0}function k(){Q=0,K.length=0,L=!1,j()}function l(){i()}function m(){n(),G=setTimeout(function(){G=0,k()},a.vmouse.resetTimerDuration)}function n(){G&&(clearTimeout(G),G=0)}function o(b,c,d){var e;return(d&&d[b]||!d&&h(c.target,b))&&(e=f(c,b),a(c.target).trigger(e)),e}function p(b){var c,d=a.data(b.target,A);L||Q&&Q===d||(c=o("v"+b.type,b),c&&(c.isDefaultPrevented()&&b.preventDefault(),c.isPropagationStopped()&&b.stopPropagation(),c.isImmediatePropagationStopped()&&b.stopImmediatePropagation()))}function q(b){var c,d,f,h=e(b).touches;h&&1===h.length&&(c=b.target,d=g(c),d.hasVirtualBinding&&(Q=P++,a.data(c,A,Q),n(),l(),J=!1,f=e(b).touches[0],H=f.pageX,I=f.pageY,o("vmouseover",b,d),o("vmousedown",b,d)))}function r(a){M||(J||o("vmousecancel",a,g(a.target)),J=!0,m())}function s(b){if(!M){var c=e(b).touches[0],d=J,f=a.vmouse.moveDistanceThreshold,h=g(b.target);J=J||Math.abs(c.pageX-H)>f||Math.abs(c.pageY-I)>f,J&&!d&&o("vmousecancel",b,h),o("vmousemove",b,h),m()}}function t(a){if(!M){j();var b,c,d=g(a.target);o("vmouseup",a,d),J||(b=o("vclick",a,d),b&&b.isDefaultPrevented()&&(c=e(a).changedTouches[0],K.push({touchID:Q,x:c.clientX,y:c.clientY}),L=!0)),o("vmouseout",a,d),J=!1,m()}}function u(b){var c,d=a.data(b,z);if(d)for(c in d)if(d[c])return!0;return!1}function v(){}function w(b){var c=b.substr(1);return{setup:function(){u(this)||a.data(this,z,{});var d=a.data(this,z);d[b]=!0,F[b]=(F[b]||0)+1,1===F[b]&&O.bind(c,p),a(this).bind(c,v),N&&(F.touchstart=(F.touchstart||0)+1,1===F.touchstart&&O.bind("touchstart",q).bind("touchend",t).bind("touchmove",s).bind("scroll",r))},teardown:function(){--F[b],F[b]||O.unbind(c,p),N&&(--F.touchstart,F.touchstart||O.unbind("touchstart",q).unbind("touchmove",s).unbind("touchend",t).unbind("scroll",r));var d=a(this),e=a.data(this,z);e&&(e[b]=!1),d.unbind(c,v),u(this)||d.removeData(z)}}}var x,y,z="virtualMouseBindings",A="virtualTouchID",B="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),C="clientX clientY pageX pageY screenX screenY".split(" "),D=a.event.mouseHooks?a.event.mouseHooks.props:[],E=a.event.props.concat(D),F={},G=0,H=0,I=0,J=!1,K=[],L=!1,M=!1,N="addEventListener"in c,O=a(c),P=1,Q=0;for(a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},y=0;y<B.length;y++)a.event.special[B[y]]=w(B[y]);N&&c.addEventListener("click",function(b){var c,d,e,f,g,h,i=K.length,j=b.target;if(i)for(c=b.clientX,d=b.clientY,x=a.vmouse.clickDistanceThreshold,e=j;e;){for(f=0;i>f;f++)if(g=K[f],h=0,e===j&&Math.abs(g.x-c)<x&&Math.abs(g.y-d)<x||a.data(e,A)===g.touchID)return b.preventDefault(),void b.stopPropagation();e=e.parentNode}},!0)}(a,b,c),function(a,b,d){function e(b,c,e,f){var g=e.type;e.type=c,f?a.event.trigger(e,d,b):a.event.dispatch.call(b,e),e.type=g}var f=a(c),g=a.mobile.support.touch,h="touchmove scroll",i=g?"touchstart":"mousedown",j=g?"touchend":"mouseup",k=g?"touchmove":"mousemove";a.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(b,c){a.fn[c]=function(a){return a?this.bind(c,a):this.trigger(c)},a.attrFn&&(a.attrFn[c]=!0)}),a.event.special.scrollstart={enabled:!0,setup:function(){function b(a,b){c=b,e(f,c?"scrollstart":"scrollstop",a)}var c,d,f=this,g=a(f);g.bind(h,function(e){a.event.special.scrollstart.enabled&&(c||b(e,!0),clearTimeout(d),d=setTimeout(function(){b(e,!1)},50))})},teardown:function(){a(this).unbind(h)}},a.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var b=this,c=a(b),d=!1;c.bind("vmousedown",function(g){function h(){clearTimeout(k)}function i(){h(),c.unbind("vclick",j).unbind("vmouseup",h),f.unbind("vmousecancel",i)}function j(a){i(),d||l!==a.target?d&&a.preventDefault():e(b,"tap",a)}if(d=!1,g.which&&1!==g.which)return!1;var k,l=g.target;c.bind("vmouseup",h).bind("vclick",j),f.bind("vmousecancel",i),k=setTimeout(function(){a.event.special.tap.emitTapOnTaphold||(d=!0),e(b,"taphold",a.Event("taphold",{target:l}))},a.event.special.tap.tapholdThreshold)})},teardown:function(){a(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),f.unbind("vmousecancel")}},a.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(a){var c=b.pageXOffset,d=b.pageYOffset,e=a.clientX,f=a.clientY;return 0===a.pageY&&Math.floor(f)>Math.floor(a.pageY)||0===a.pageX&&Math.floor(e)>Math.floor(a.pageX)?(e-=c,f-=d):(f<a.pageY-d||e<a.pageX-c)&&(e=a.pageX-c,f=a.pageY-d),{x:e,y:f}},start:function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b,d=a.event.special.swipe.getLocation(c);return{time:(new Date).getTime(),coords:[d.x,d.y],origin:a(b.target)}},stop:function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b,d=a.event.special.swipe.getLocation(c);return{time:(new Date).getTime(),coords:[d.x,d.y]}},handleSwipe:function(b,c,d,f){if(c.time-b.time<a.event.special.swipe.durationThreshold&&Math.abs(b.coords[0]-c.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(b.coords[1]-c.coords[1])<a.event.special.swipe.verticalDistanceThreshold){var g=b.coords[0]>c.coords[0]?"swipeleft":"swiperight";return e(d,"swipe",a.Event("swipe",{target:f,swipestart:b,swipestop:c}),!0),e(d,g,a.Event(g,{target:f,swipestart:b,swipestop:c}),!0),!0}return!1},eventInProgress:!1,setup:function(){var b,c=this,d=a(c),e={};b=a.data(this,"mobile-events"),b||(b={length:0},a.data(this,"mobile-events",b)),b.length++,b.swipe=e,e.start=function(b){if(!a.event.special.swipe.eventInProgress){a.event.special.swipe.eventInProgress=!0;var d,g=a.event.special.swipe.start(b),h=b.target,i=!1;e.move=function(b){g&&!b.isDefaultPrevented()&&(d=a.event.special.swipe.stop(b),i||(i=a.event.special.swipe.handleSwipe(g,d,c,h),i&&(a.event.special.swipe.eventInProgress=!1)),Math.abs(g.coords[0]-d.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&b.preventDefault())},e.stop=function(){i=!0,a.event.special.swipe.eventInProgress=!1,f.off(k,e.move),e.move=null},f.on(k,e.move).one(j,e.stop)}},d.on(i,e.start)},teardown:function(){var b,c;b=a.data(this,"mobile-events"),b&&(c=b.swipe,delete b.swipe,b.length--,0===b.length&&a.removeData(this,"mobile-events")),c&&(c.start&&a(this).off(i,c.start),c.move&&f.off(k,c.move),c.stop&&f.off(j,c.stop))}},a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(b,c){a.event.special[b]={setup:function(){a(this).bind(c,a.noop)},teardown:function(){a(this).unbind(c)}}})}(a,this),function(a){a.event.special.throttledresize={setup:function(){a(this).bind("resize",f)},teardown:function(){a(this).unbind("resize",f)}};var b,c,d,e=250,f=function(){c=(new Date).getTime(),d=c-g,d>=e?(g=c,a(this).trigger("throttledresize")):(b&&clearTimeout(b),b=setTimeout(f,e-d))},g=0}(a),function(a,b){function d(){var a=e();a!==f&&(f=a,l.trigger(m))}var e,f,g,h,i,j,k,l=a(b),m="orientationchange",n={0:!0,180:!0};a.support.orientation&&(i=b.innerWidth||l.width(),j=b.innerHeight||l.height(),k=50,g=i>j&&i-j>k,h=n[b.orientation],(g&&h||!g&&!h)&&(n={"-90":!0,90:!0})),a.event.special.orientationchange=a.extend({},a.event.special.orientationchange,{setup:function(){return a.support.orientation&&!a.event.special.orientationchange.disabled?!1:(f=e(),void l.bind("throttledresize",d))},teardown:function(){return a.support.orientation&&!a.event.special.orientationchange.disabled?!1:void l.unbind("throttledresize",d)},add:function(a){var b=a.handler;a.handler=function(a){return a.orientation=e(),b.apply(this,arguments)}}}),a.event.special.orientationchange.orientation=e=function(){var d=!0,e=c.documentElement;return d=a.support.orientation?n[b.orientation]:e&&e.clientWidth/e.clientHeight<1.1,d?"portrait":"landscape"},a.fn[m]=function(a){return a?this.bind(m,a):this.trigger(m)},a.attrFn&&(a.attrFn[m]=!0)}(a,this),function(a){var b=a("head").children("base"),c={element:b.length?b:a("<base>",{href:a.mobile.path.documentBase.hrefNoHash}).prependTo(a("head")),linkSelector:"[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]",set:function(b){a.mobile.dynamicBaseEnabled&&a.support.dynamicBaseTag&&c.element.attr("href",a.mobile.path.makeUrlAbsolute(b,a.mobile.path.documentBase))},rewrite:function(b,d){var e=a.mobile.path.get(b);d.find(c.linkSelector).each(function(b,c){var d=a(c).is("[href]")?"href":a(c).is("[src]")?"src":"action",f=a.mobile.path.parseLocation(),g=a(c).attr(d);g=g.replace(f.protocol+f.doubleSlash+f.host+f.pathname,""),/^(\w+:|#|\/)/.test(g)||a(c).attr(d,e+g)})},reset:function(){c.element.attr("href",a.mobile.path.documentBase.hrefNoSearch)}};a.mobile.base=c}(a),function(a,b){a.mobile.widgets={};var c=a.widget,d=a.mobile.keepNative;a.widget=function(c){return function(){var d=c.apply(this,arguments),e=d.prototype.widgetName;return d.initSelector=d.prototype.initSelector!==b?d.prototype.initSelector:":jqmData(role='"+e+"')",a.mobile.widgets[e]=d,d}}(a.widget),a.extend(a.widget,c),a.mobile.document.on("create",function(b){a(b.target).enhanceWithin()}),a.widget("mobile.page",{options:{theme:"a",domCache:!1,keepNativeDefault:a.mobile.keepNative,contentTheme:null,enhanced:!1},_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_create:function(){return this._trigger("beforecreate")===!1?!1:(this.options.enhanced||this._enhance(),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}),this.element.enhanceWithin(),void("dialog"===a.mobile.getAttribute(this.element[0],"role")&&a.mobile.dialog&&this.element.dialog()))},_enhance:function(){var c="data-"+a.mobile.ns,d=this;this.options.role&&this.element.attr("data-"+a.mobile.ns+"role",this.options.role),this.element.attr("tabindex","0").addClass("ui-page ui-page-theme-"+this.options.theme),this.element.find("["+c+"role='content']").each(function(){var e=a(this),f=this.getAttribute(c+"theme")||b;d.options.contentTheme=f||d.options.contentTheme||d.options.dialog&&d.options.theme||"dialog"===d.element.jqmData("role")&&d.options.theme,e.addClass("ui-content"),d.options.contentTheme&&e.addClass("ui-body-"+d.options.contentTheme),e.attr("role","main").addClass("ui-content")})},bindRemove:function(b){var c=this.element;!c.data("mobile-page").options.domCache&&c.is(":jqmData(external-page='true')")&&c.bind("pagehide.remove",b||function(b,c){if(!c.samePage){var d=a(this),e=new a.Event("pageremove");d.trigger(e),e.isDefaultPrevented()||d.removeWithDependents()}})},_setOptions:function(c){c.theme!==b&&this.element.removeClass("ui-page-theme-"+this.options.theme).addClass("ui-page-theme-"+c.theme),c.contentTheme!==b&&this.element.find("[data-"+a.mobile.ns+"='content']").removeClass("ui-body-"+this.options.contentTheme).addClass("ui-body-"+c.contentTheme)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){this.element.closest(":mobile-pagecontainer").pagecontainer({theme:"none"})},setContainerBackground:function(a){this.element.parent().pagecontainer({theme:a||this.options.theme})},keepNativeSelector:function(){var b=this.options,c=a.trim(b.keepNative||""),e=a.trim(a.mobile.keepNative),f=a.trim(b.keepNativeDefault),g=d===e?"":e,h=""===g?f:"";return(c?[c]:[]).concat(g?[g]:[]).concat(h?[h]:[]).join(", ")}})}(a),function(a,d){a.widget("mobile.pagecontainer",{options:{theme:"a"},initSelector:!1,_create:function(){this._trigger("beforecreate"),this.setLastScrollEnabled=!0,this._on(this.window,{navigate:"_disableRecordScroll",scrollstop:"_delayedRecordScroll"}),this._on(this.window,{navigate:"_filterNavigateEvents"}),this._on({pagechange:"_afterContentChange"}),this.window.one("navigate",a.proxy(function(){this.setLastScrollEnabled=!0},this))},_setOptions:function(a){a.theme!==d&&"none"!==a.theme?this.element.removeClass("ui-overlay-"+this.options.theme).addClass("ui-overlay-"+a.theme):a.theme!==d&&this.element.removeClass("ui-overlay-"+this.options.theme),this._super(a)},_disableRecordScroll:function(){this.setLastScrollEnabled=!1},_enableRecordScroll:function(){this.setLastScrollEnabled=!0},_afterContentChange:function(){this.setLastScrollEnabled=!0,this._off(this.window,"scrollstop"),this._on(this.window,{scrollstop:"_delayedRecordScroll"})},_recordScroll:function(){if(this.setLastScrollEnabled){var a,b,c,d=this._getActiveHistory();d&&(a=this._getScroll(),b=this._getMinScroll(),c=this._getDefaultScroll(),d.lastScroll=b>a?c:a)}},_delayedRecordScroll:function(){setTimeout(a.proxy(this,"_recordScroll"),100)},_getScroll:function(){return this.window.scrollTop()},_getMinScroll:function(){return a.mobile.minScrollBack},_getDefaultScroll:function(){return a.mobile.defaultHomeScroll},_filterNavigateEvents:function(b,c){var d;b.originalEvent&&b.originalEvent.isDefaultPrevented()||(d=b.originalEvent.type.indexOf("hashchange")>-1?c.state.hash:c.state.url,d||(d=this._getHash()),d&&"#"!==d&&0!==d.indexOf("#"+a.mobile.path.uiStateKey)||(d=location.href),this._handleNavigate(d,c.state))},_getHash:function(){return a.mobile.path.parseLocation().hash},getActivePage:function(){return this.activePage},_getInitialContent:function(){return a.mobile.firstPage},_getHistory:function(){return a.mobile.navigate.history},_getActiveHistory:function(){return this._getHistory().getActive()},_getDocumentBase:function(){return a.mobile.path.documentBase},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(c){if(a.mobile.hashListeningEnabled)b.history.go(c);else{var d=a.mobile.navigate.history.activeIndex,e=d+parseInt(c,10),f=a.mobile.navigate.history.stack[e].url,g=c>=1?"forward":"back";a.mobile.navigate.history.activeIndex=e,a.mobile.navigate.history.previousIndex=d,this.change(f,{direction:g,changeHash:!1,fromHashChange:!0})}},_handleDestination:function(b){var c;return"string"===a.type(b)&&(b=a.mobile.path.stripHash(b)),b&&(c=this._getHistory(),b=a.mobile.path.isPath(b)?b:a.mobile.path.makeUrlAbsolute("#"+b,this._getDocumentBase())),b||this._getInitialContent()},_transitionFromHistory:function(a,b){var c=this._getHistory(),d="back"===a?c.getLast():c.getActive();return d&&d.transition||b},_handleDialog:function(b,c){var d,e,f=this.getActivePage();return f&&!f.data("mobile-dialog")?("back"===c.direction?this.back():this.forward(),!1):(d=c.pageUrl,e=this._getActiveHistory(),a.extend(b,{role:e.role,transition:this._transitionFromHistory(c.direction,b.transition),reverse:"back"===c.direction}),d)},_handleNavigate:function(b,c){var d=a.mobile.path.stripHash(b),e=this._getHistory(),f=0===e.stack.length?"none":this._transitionFromHistory(c.direction),g={changeHash:!1,fromHashChange:!0,reverse:"back"===c.direction};a.extend(g,c,{transition:f}),e.activeIndex>0&&d.indexOf(a.mobile.dialogHashKey)>-1&&(d=this._handleDialog(g,c),d===!1)||this._changeContent(this._handleDestination(d),g)},_changeContent:function(b,c){a.mobile.changePage(b,c)},_getBase:function(){return a.mobile.base},_getNs:function(){return a.mobile.ns},_enhance:function(a,b){return a.page({role:b})},_include:function(a,b){a.appendTo(this.element),this._enhance(a,b.role),a.page("bindRemove")},_find:function(b){var c,d=this._createFileUrl(b),e=this._createDataUrl(b),f=this._getInitialContent();return c=this.element.children("[data-"+this._getNs()+"url='"+a.mobile.path.hashToSelector(e)+"']"),0===c.length&&e&&!a.mobile.path.isPath(e)&&(c=this.element.children(a.mobile.path.hashToSelector("#"+e)).attr("data-"+this._getNs()+"url",e).jqmData("url",e)),0===c.length&&a.mobile.path.isFirstPageUrl(d)&&f&&f.parent().length&&(c=a(f)),c},_getLoader:function(){return a.mobile.loading()},_showLoading:function(b,c,d,e){this._loadMsg||(this._loadMsg=setTimeout(a.proxy(function(){this._getLoader().loader("show",c,d,e),this._loadMsg=0},this),b))},_hideLoading:function(){clearTimeout(this._loadMsg),this._loadMsg=0,this._getLoader().loader("hide")},_showError:function(){this._hideLoading(),this._showLoading(0,a.mobile.pageLoadErrorMessageTheme,a.mobile.pageLoadErrorMessage,!0),setTimeout(a.proxy(this,"_hideLoading"),1500)},_parse:function(b,c){var d,e=a("<div></div>");return e.get(0).innerHTML=b,d=e.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),d.length||(d=a("<div data-"+this._getNs()+"role='page'>"+(b.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),d.attr("data-"+this._getNs()+"url",this._createDataUrl(c)).attr("data-"+this._getNs()+"external-page",!0),d},_setLoadedTitle:function(b,c){var d=c.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;d&&!b.jqmData("title")&&(d=a("<div>"+d+"</div>").text(),b.jqmData("title",d))},_isRewritableBaseTag:function(){return a.mobile.dynamicBaseEnabled&&!a.support.dynamicBaseTag},_createDataUrl:function(b){return a.mobile.path.convertUrlToDataUrl(b)},_createFileUrl:function(b){return a.mobile.path.getFilePath(b)},_triggerWithDeprecated:function(b,c,d){var e=a.Event("page"+b),f=a.Event(this.widgetName+b);return(d||this.element).trigger(e,c),this._trigger(b,f,c),{deprecatedEvent:e,event:f}},_loadSuccess:function(b,c,e,f){var g=this._createFileUrl(b);return a.proxy(function(h,i,j){var k,l=new RegExp("(<[^>]+\\bdata-"+this._getNs()+"role=[\"']?page[\"']?[^>]*>)"),m=new RegExp("\\bdata-"+this._getNs()+"url=[\"']?([^\"'>]*)[\"']?");l.test(h)&&RegExp.$1&&m.test(RegExp.$1)&&RegExp.$1&&(g=a.mobile.path.getFilePath(a("<div>"+RegExp.$1+"</div>").text()),g=this.window[0].encodeURIComponent(g)),e.prefetch===d&&this._getBase().set(g),k=this._parse(h,g),this._setLoadedTitle(k,h),c.xhr=j,c.textStatus=i,c.page=k,c.content=k,c.toPage=k,this._triggerWithDeprecated("load",c).event.isDefaultPrevented()||(this._isRewritableBaseTag()&&k&&this._getBase().rewrite(g,k),this._include(k,e),e.showLoadMsg&&this._hideLoading(),f.resolve(b,e,k))},this)},_loadDefaults:{type:"get",data:d,reloadPage:!1,reload:!1,role:d,showLoadMsg:!1,loadMsgDelay:50},load:function(b,c){var e,f,g,h,i=c&&c.deferred||a.Deferred(),j=c&&c.reload===d&&c.reloadPage!==d?{reload:c.reloadPage}:{},k=a.extend({},this._loadDefaults,c,j),l=null,m=a.mobile.path.makeUrlAbsolute(b,this._findBaseWithDefault());return k.data&&"get"===k.type&&(m=a.mobile.path.addSearchParams(m,k.data),k.data=d),k.data&&"post"===k.type&&(k.reload=!0),e=this._createFileUrl(m),f=this._createDataUrl(m),l=this._find(m),0===l.length&&a.mobile.path.isEmbeddedPage(e)&&!a.mobile.path.isFirstPageUrl(e)?(i.reject(m,k),i.promise()):(this._getBase().reset(),l.length&&!k.reload?(this._enhance(l,k.role),i.resolve(m,k,l),k.prefetch||this._getBase().set(b),i.promise()):(h={url:b,absUrl:m,toPage:b,prevPage:c?c.fromPage:d,dataUrl:f,deferred:i,options:k},g=this._triggerWithDeprecated("beforeload",h),g.deprecatedEvent.isDefaultPrevented()||g.event.isDefaultPrevented()?i.promise():(k.showLoadMsg&&this._showLoading(k.loadMsgDelay),k.prefetch===d&&this._getBase().reset(),a.mobile.allowCrossDomainPages||a.mobile.path.isSameDomain(a.mobile.path.documentUrl,m)?(a.ajax({url:e,type:k.type,data:k.data,contentType:k.contentType,dataType:"html",success:this._loadSuccess(m,h,k,i),error:this._loadError(m,h,k,i)}),i.promise()):(i.reject(m,k),i.promise()))))},_loadError:function(b,c,d,e){return a.proxy(function(f,g,h){this._getBase().set(a.mobile.path.get()),c.xhr=f,c.textStatus=g,c.errorThrown=h;var i=this._triggerWithDeprecated("loadfailed",c);i.deprecatedEvent.isDefaultPrevented()||i.event.isDefaultPrevented()||(d.showLoadMsg&&this._showError(),e.reject(b,d))},this)},_getTransitionHandler:function(b){return b=a.mobile._maybeDegradeTransition(b),a.mobile.transitionHandlers[b]||a.mobile.defaultTransitionHandler},_triggerCssTransitionEvents:function(b,c,d){var e=!1;d=d||"",c&&(b[0]===c[0]&&(e=!0),this._triggerWithDeprecated(d+"hide",{nextPage:b,toPage:b,prevPage:c,samePage:e},c)),this._triggerWithDeprecated(d+"show",{prevPage:c||a(""),toPage:b},b)},_cssTransition:function(b,c,d){var e,f,g=d.transition,h=d.reverse,i=d.deferred;this._triggerCssTransitionEvents(b,c,"before"),this._hideLoading(),e=this._getTransitionHandler(g),f=new e(g,h,b,c).transition(),f.done(a.proxy(function(){this._triggerCssTransitionEvents(b,c)},this)),f.done(function(){i.resolve.apply(i,arguments)})},_releaseTransitionLock:function(){f=!1,e.length>0&&a.mobile.changePage.apply(null,e.pop())},_removeActiveLinkClass:function(b){a.mobile.removeActiveLinkClass(b)},_loadUrl:function(b,c,d){d.target=b,d.deferred=a.Deferred(),this.load(b,d),d.deferred.done(a.proxy(function(a,b,d){f=!1,b.absUrl=c.absUrl,this.transition(d,c,b)},this)),d.deferred.fail(a.proxy(function(){this._removeActiveLinkClass(!0),this._releaseTransitionLock(),this._triggerWithDeprecated("changefailed",c)},this))},_triggerPageBeforeChange:function(b,c,d){var e;return c.prevPage=this.activePage,a.extend(c,{toPage:b,options:d}),c.absUrl="string"===a.type(b)?a.mobile.path.makeUrlAbsolute(b,this._findBaseWithDefault()):d.absUrl,e=this._triggerWithDeprecated("beforechange",c),e.event.isDefaultPrevented()||e.deprecatedEvent.isDefaultPrevented()?!1:!0},change:function(b,c){if(f)return void e.unshift(arguments);var d=a.extend({},a.mobile.changePage.defaults,c),g={};d.fromPage=d.fromPage||this.activePage,this._triggerPageBeforeChange(b,g,d)&&(b=g.toPage,"string"===a.type(b)?(f=!0,this._loadUrl(b,g,d)):this.transition(b,g,d))},transition:function(b,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v;if(f)return void e.unshift([b,h]);if(this._triggerPageBeforeChange(b,g,h)&&(g.prevPage=h.fromPage,v=this._triggerWithDeprecated("beforetransition",g),!v.deprecatedEvent.isDefaultPrevented()&&!v.event.isDefaultPrevented())){if(f=!0,b[0]!==a.mobile.firstPage[0]||h.dataUrl||(h.dataUrl=a.mobile.path.documentUrl.hrefNoHash),i=h.fromPage,j=h.dataUrl&&a.mobile.path.convertUrlToDataUrl(h.dataUrl)||b.jqmData("url"),k=j,l=a.mobile.path.getFilePath(j),m=a.mobile.navigate.history.getActive(),n=0===a.mobile.navigate.history.activeIndex,o=0,p=c.title,q=("dialog"===h.role||"dialog"===b.jqmData("role"))&&b.jqmData("dialog")!==!0,i&&i[0]===b[0]&&!h.allowSamePageTransition)return f=!1,this._triggerWithDeprecated("transition",g),this._triggerWithDeprecated("change",g),void(h.fromHashChange&&a.mobile.navigate.history.direct({url:j}));b.page({role:h.role}),h.fromHashChange&&(o="back"===h.direction?-1:1);try{c.activeElement&&"body"!==c.activeElement.nodeName.toLowerCase()?a(c.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(w){}r=!1,q&&m&&(m.url&&m.url.indexOf(a.mobile.dialogHashKey)>-1&&this.activePage&&!this.activePage.hasClass("ui-dialog")&&a.mobile.navigate.history.activeIndex>0&&(h.changeHash=!1,r=!0),j=m.url||"",j+=!r&&j.indexOf("#")>-1?a.mobile.dialogHashKey:"#"+a.mobile.dialogHashKey),s=m?b.jqmData("title")||b.children(":jqmData(role='header')").find(".ui-title").text():p,s&&p===c.title&&(p=s),b.jqmData("title")||b.jqmData("title",p),h.transition=h.transition||(o&&!n?m.transition:d)||(q?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition),!o&&r&&(a.mobile.navigate.history.getActive().pageUrl=k),j&&!h.fromHashChange&&(!a.mobile.path.isPath(j)&&j.indexOf("#")<0&&(j="#"+j),t={transition:h.transition,title:p,pageUrl:k,role:h.role},h.changeHash!==!1&&a.mobile.hashListeningEnabled?a.mobile.navigate(this.window[0].encodeURI(j),t,!0):b[0]!==a.mobile.firstPage[0]&&a.mobile.navigate.history.add(j,t)),c.title=p,a.mobile.activePage=b,this.activePage=b,h.reverse=h.reverse||0>o,u=a.Deferred(),this._cssTransition(b,i,{transition:h.transition,reverse:h.reverse,deferred:u}),u.done(a.proxy(function(c,d,e,f,i){a.mobile.removeActiveLinkClass(),h.duplicateCachedPage&&h.duplicateCachedPage.remove(),i||a.mobile.focusPage(b),this._releaseTransitionLock(),this._triggerWithDeprecated("transition",g),this._triggerWithDeprecated("change",g)},this))}},_findBaseWithDefault:function(){var b=this.activePage&&a.mobile.getClosestBaseUrl(this.activePage);return b||a.mobile.path.documentBase.hrefNoHash}}),a.mobile.navreadyDeferred=a.Deferred();var e=[],f=!1}(a),function(a,d){function e(a){for(;a&&("string"!=typeof a.nodeName||"a"!==a.nodeName.toLowerCase());)a=a.parentNode;return a}var f=a.Deferred(),g=a.Deferred(),h=function(){g.resolve(),g=null},i=a.mobile.path.documentUrl,j=null;a.mobile.loadPage=function(b,c){var d;return c=c||{},d=c.pageContainer||a.mobile.pageContainer,c.deferred=a.Deferred(),d.pagecontainer("load",b,c),c.deferred.promise()},a.mobile.back=function(){var c=b.navigator;this.phonegapNavigationEnabled&&c&&c.app&&c.app.backHistory?c.app.backHistory():a.mobile.pageContainer.pagecontainer("back")},a.mobile.focusPage=function(a){var b=a.find("[autofocus]"),c=a.find(".ui-title:eq(0)");return b.length?void b.focus():void(c.length?c.focus():a.focus())},a.mobile._maybeDegradeTransition=a.mobile._maybeDegradeTransition||function(a){return a},a.mobile.changePage=function(b,c){a.mobile.pageContainer.pagecontainer("change",b,c)},a.mobile.changePage.defaults={transition:d,reverse:!1,changeHash:!0,fromHashChange:!1,role:d,duplicateCachedPage:d,pageContainer:d,showLoadMsg:!0,dataUrl:d,fromPage:d,allowSamePageTransition:!1},a.mobile._registerInternalEvents=function(){var c=function(b,c){var d,e,f,g,h=!0;return!a.mobile.ajaxEnabled||b.is(":jqmData(ajax='false')")||!b.jqmHijackable().length||b.attr("target")?!1:(d=j&&j.attr("formaction")||b.attr("action"),g=(b.attr("method")||"get").toLowerCase(),d||(d=a.mobile.getClosestBaseUrl(b),"get"===g&&(d=a.mobile.path.parseUrl(d).hrefNoSearch),d===a.mobile.path.documentBase.hrefNoHash&&(d=i.hrefNoSearch)),d=a.mobile.path.makeUrlAbsolute(d,a.mobile.getClosestBaseUrl(b)),a.mobile.path.isExternal(d)&&!a.mobile.path.isPermittedCrossDomainRequest(i,d)?!1:(c||(e=b.serializeArray(),j&&j[0].form===b[0]&&(f=j.attr("name"),f&&(a.each(e,function(a,b){return b.name===f?(f="",!1):void 0}),f&&e.push({name:f,value:j.attr("value")}))),h={url:d,options:{type:g,data:a.param(e),transition:b.jqmData("transition"),reverse:"reverse"===b.jqmData("direction"),reloadPage:!0}}),h))};a.mobile.document.delegate("form","submit",function(b){var d;b.isDefaultPrevented()||(d=c(a(this)),d&&(a.mobile.changePage(d.url,d.options),b.preventDefault()))}),a.mobile.document.bind("vclick",function(b){var d,f,g=b.target,h=!1;if(!(b.which>1)&&a.mobile.linkBindingEnabled){if(j=a(g),a.data(g,"mobile-button")){if(!c(a(g).closest("form"),!0))return;g.parentNode&&(g=g.parentNode)}else{if(g=e(g),!g||"#"===a.mobile.path.parseUrl(g.getAttribute("href")||"#").hash)return;if(!a(g).jqmHijackable().length)return}~g.className.indexOf("ui-link-inherit")?g.parentNode&&(f=a.data(g.parentNode,"buttonElements")):f=a.data(g,"buttonElements"),f?g=f.outer:h=!0,d=a(g),h&&(d=d.closest(".ui-btn")),d.length>0&&!d.hasClass("ui-state-disabled")&&(a.mobile.removeActiveLinkClass(!0),a.mobile.activeClickedLink=d,a.mobile.activeClickedLink.addClass(a.mobile.activeBtnClass))}}),a.mobile.document.bind("click",function(c){if(a.mobile.linkBindingEnabled&&!c.isDefaultPrevented()){var f,g,h,j,k,l,m,n=e(c.target),o=a(n),p=function(){b.setTimeout(function(){a.mobile.removeActiveLinkClass(!0)},200)};if(a.mobile.activeClickedLink&&a.mobile.activeClickedLink[0]===c.target.parentNode&&p(),n&&!(c.which>1)&&o.jqmHijackable().length){if(o.is(":jqmData(rel='back')"))return a.mobile.back(),!1;if(f=a.mobile.getClosestBaseUrl(o),g=a.mobile.path.makeUrlAbsolute(o.attr("href")||"#",f),!a.mobile.ajaxEnabled&&!a.mobile.path.isEmbeddedPage(g))return void p();if(!(-1===g.search("#")||a.mobile.path.isExternal(g)&&a.mobile.path.isAbsoluteUrl(g))){if(g=g.replace(/[^#]*#/,""),!g)return void c.preventDefault();g=a.mobile.path.isPath(g)?a.mobile.path.makeUrlAbsolute(g,f):a.mobile.path.makeUrlAbsolute("#"+g,i.hrefNoHash)}if(h=o.is("[rel='external']")||o.is(":jqmData(ajax='false')")||o.is("[target]"),j=h||a.mobile.path.isExternal(g)&&!a.mobile.path.isPermittedCrossDomainRequest(i,g))return void p();k=o.jqmData("transition"),l="reverse"===o.jqmData("direction")||o.jqmData("back"),m=o.attr("data-"+a.mobile.ns+"rel")||d,a.mobile.changePage(g,{transition:k,reverse:l,role:m,link:o}),c.preventDefault()}}}),a.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var b=[];a(this).find("a:jqmData(prefetch)").each(function(){var c=a(this),d=c.attr("href");d&&-1===a.inArray(d,b)&&(b.push(d),a.mobile.loadPage(d,{role:c.attr("data-"+a.mobile.ns+"rel"),prefetch:!0}))})}),a.mobile.pageContainer.pagecontainer(),a.mobile.document.bind("pageshow",function(){g?g.done(a.mobile.resetActivePageHeight):a.mobile.resetActivePageHeight()
}),a.mobile.window.bind("throttledresize",a.mobile.resetActivePageHeight)},a(function(){f.resolve()}),"complete"===c.readyState?h():a.mobile.window.load(h),a.when(f,a.mobile.navreadyDeferred).done(function(){a.mobile._registerInternalEvents()})}(a),function(a,b){a.mobile.Transition=function(){this.init.apply(this,arguments)},a.extend(a.mobile.Transition.prototype,{toPreClass:" ui-page-pre-in",init:function(b,c,d,e){a.extend(this,{name:b,reverse:c,$to:d,$from:e,deferred:new a.Deferred})},cleanFrom:function(){this.$from.removeClass(a.mobile.activePageClass+" out in reverse "+this.name).height("")},beforeDoneIn:function(){},beforeDoneOut:function(){},beforeStartOut:function(){},doneIn:function(){this.beforeDoneIn(),this.$to.removeClass("out in reverse "+this.name).height(""),this.toggleViewportClass(),a.mobile.window.scrollTop()!==this.toScroll&&this.scrollPage(),this.sequential||this.$to.addClass(a.mobile.activePageClass),this.deferred.resolve(this.name,this.reverse,this.$to,this.$from,!0)},doneOut:function(a,b,c,d){this.beforeDoneOut(),this.startIn(a,b,c,d)},hideIn:function(a){this.$to.css("z-index",-10),a.call(this),this.$to.css("z-index","")},scrollPage:function(){a.event.special.scrollstart.enabled=!1,(a.mobile.hideUrlBar||this.toScroll!==a.mobile.defaultHomeScroll)&&b.scrollTo(0,this.toScroll),setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},startIn:function(b,c,d,e){this.hideIn(function(){this.$to.addClass(a.mobile.activePageClass+this.toPreClass),e||a.mobile.focusPage(this.$to),this.$to.height(b+this.toScroll),d||this.scrollPage()}),this.$to.removeClass(this.toPreClass).addClass(this.name+" in "+c),d?this.doneIn():this.$to.animationComplete(a.proxy(function(){this.doneIn()},this))},startOut:function(b,c,d){this.beforeStartOut(b,c,d),this.$from.height(b+a.mobile.window.scrollTop()).addClass(this.name+" out"+c)},toggleViewportClass:function(){a.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+this.name)},transition:function(){var b,c=this.reverse?" reverse":"",d=a.mobile.getScreenHeight(),e=a.mobile.maxTransitionWidth!==!1&&a.mobile.window.width()>a.mobile.maxTransitionWidth;return this.toScroll=a.mobile.navigate.history.getActive().lastScroll||a.mobile.defaultHomeScroll,b=!a.support.cssTransitions||!a.support.cssAnimations||e||!this.name||"none"===this.name||Math.max(a.mobile.window.scrollTop(),this.toScroll)>a.mobile.getMaxScrollForTransition(),this.toggleViewportClass(),this.$from&&!b?this.startOut(d,c,b):this.doneOut(d,c,b,!0),this.deferred.promise()}})}(a,this),function(a){a.mobile.SerialTransition=function(){this.init.apply(this,arguments)},a.extend(a.mobile.SerialTransition.prototype,a.mobile.Transition.prototype,{sequential:!0,beforeDoneOut:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(b,c,d){this.$from.animationComplete(a.proxy(function(){this.doneOut(b,c,d)},this))}})}(a),function(a){a.mobile.ConcurrentTransition=function(){this.init.apply(this,arguments)},a.extend(a.mobile.ConcurrentTransition.prototype,a.mobile.Transition.prototype,{sequential:!1,beforeDoneIn:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(a,b,c){this.doneOut(a,b,c)}})}(a),function(a){var b=function(){return 3*a.mobile.getScreenHeight()};a.mobile.transitionHandlers={sequential:a.mobile.SerialTransition,simultaneous:a.mobile.ConcurrentTransition},a.mobile.defaultTransitionHandler=a.mobile.transitionHandlers.sequential,a.mobile.transitionFallbacks={},a.mobile._maybeDegradeTransition=function(b){return b&&!a.support.cssTransform3d&&a.mobile.transitionFallbacks[b]&&(b=a.mobile.transitionFallbacks[b]),b},a.mobile.getMaxScrollForTransition=a.mobile.getMaxScrollForTransition||b}(a),function(a){a.mobile.transitionFallbacks.flip="fade"}(a,this),function(a){a.mobile.transitionFallbacks.flow="fade"}(a,this),function(a){a.mobile.transitionFallbacks.pop="fade"}(a,this),function(a){a.mobile.transitionHandlers.slide=a.mobile.transitionHandlers.simultaneous,a.mobile.transitionFallbacks.slide="fade"}(a,this),function(a){a.mobile.transitionFallbacks.slidedown="fade"}(a,this),function(a){a.mobile.transitionFallbacks.slidefade="fade"}(a,this),function(a){a.mobile.transitionFallbacks.slideup="fade"}(a,this),function(a){a.mobile.transitionFallbacks.turn="fade"}(a,this),function(a){a.mobile.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},a.mobile.page.prototype.options.degradeInputs=a.mobile.degradeInputs,a.mobile.degradeInputsWithin=function(b){b=a(b),b.find("input").not(a.mobile.page.prototype.keepNativeSelector()).each(function(){var b,c,d,e,f=a(this),g=this.getAttribute("type"),h=a.mobile.degradeInputs[g]||"text";a.mobile.degradeInputs[g]&&(b=a("<div>").html(f.clone()).html(),c=b.indexOf(" type=")>-1,d=c?/\s+type=["']?\w+['"]?/:/\/?>/,e=' type="'+h+'" data-'+a.mobile.ns+'type="'+g+'"'+(c?"":">"),f.replaceWith(b.replace(d,e)))})}}(a),function(a,b,c){a.widget("mobile.page",a.mobile.page,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,dialog:!1},_create:function(){this._super(),this.options.dialog&&(a.extend(this,{_inner:this.element.children(),_headerCloseButton:null}),this.options.enhanced||this._setCloseBtn(this.options.closeBtn))},_enhance:function(){this._super(),this.options.dialog&&this.element.addClass("ui-dialog").wrapInner(a("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(this.options.corners?" ui-corner-all":"")}))},_setOptions:function(b){var d,e,f=this.options;b.corners!==c&&this._inner.toggleClass("ui-corner-all",!!b.corners),b.overlayTheme!==c&&a.mobile.activePage[0]===this.element[0]&&(f.overlayTheme=b.overlayTheme,this._handlePageBeforeShow()),b.closeBtnText!==c&&(d=f.closeBtn,e=b.closeBtnText),b.closeBtn!==c&&(d=b.closeBtn),d&&this._setCloseBtn(d,e),this._super(b)},_handlePageBeforeShow:function(){this.options.overlayTheme&&this.options.dialog?(this.removeContainerBackground(),this.setContainerBackground(this.options.overlayTheme)):this._super()},_setCloseBtn:function(b,c){var d,e=this._headerCloseButton;b="left"===b?"left":"right"===b?"right":"none","none"===b?e&&(e.remove(),e=null):e?(e.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+b),c&&e.text(c)):(d=this._inner.find(":jqmData(role='header')").first(),e=a("<a></a>",{href:"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+b}).attr("data-"+a.mobile.ns+"rel","back").text(c||this.options.closeBtnText||"").prependTo(d)),this._headerCloseButton=e}})}(a,this),function(a,b,c){a.widget("mobile.dialog",{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_handlePageBeforeHide:function(){this._isCloseable=!1},_handleVClickSubmit:function(b){var c,d=a(b.target).closest("vclick"===b.type?"a":"form");d.length&&!d.jqmData("transition")&&(c={},c["data-"+a.mobile.ns+"transition"]=(a.mobile.navigate.history.getActive()||{}).transition||a.mobile.defaultDialogTransition,c["data-"+a.mobile.ns+"direction"]="reverse",d.attr(c))},_create:function(){var b=this.element,c=this.options;b.addClass("ui-dialog").wrapInner(a("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(c.corners?" ui-corner-all":"")})),a.extend(this,{_isCloseable:!1,_inner:b.children(),_headerCloseButton:null}),this._on(b,{vclick:"_handleVClickSubmit",submit:"_handleVClickSubmit",pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"}),this._setCloseBtn(c.closeBtn)},_setOptions:function(b){var d,e,f=this.options;b.corners!==c&&this._inner.toggleClass("ui-corner-all",!!b.corners),b.overlayTheme!==c&&a.mobile.activePage[0]===this.element[0]&&(f.overlayTheme=b.overlayTheme,this._handlePageBeforeShow()),b.closeBtnText!==c&&(d=f.closeBtn,e=b.closeBtnText),b.closeBtn!==c&&(d=b.closeBtn),d&&this._setCloseBtn(d,e),this._super(b)},_setCloseBtn:function(b,c){var d,e=this._headerCloseButton;b="left"===b?"left":"right"===b?"right":"none","none"===b?e&&(e.remove(),e=null):e?(e.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+b),c&&e.text(c)):(d=this._inner.find(":jqmData(role='header')").first(),e=a("<a></a>",{role:"button",href:"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+b}).text(c||this.options.closeBtnText||"").prependTo(d),this._on(e,{click:"close"})),this._headerCloseButton=e},close:function(){var b=a.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,a.mobile.hashListeningEnabled&&b.activeIndex>0?a.mobile.back():a.mobile.pageContainer.pagecontainer("back"))}})}(a,this),function(a,b){var c=/([A-Z])/g,d=function(a){return"ui-btn-icon-"+(null===a?"left":a)};a.widget("mobile.collapsible",{options:{enhanced:!1,expandCueText:null,collapseCueText:null,collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:null,expandedIcon:null,iconpos:null,theme:null,contentTheme:null,inset:null,corners:null,mini:null},_create:function(){var b=this.element,c={accordion:b.closest(":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')"+(a.mobile.collapsibleset?", :mobile-collapsibleset":"")).addClass("ui-collapsible-set")};this._ui=c,this._renderedOptions=this._getOptions(this.options),this.options.enhanced?(c.heading=this.element.children(".ui-collapsible-heading"),c.content=c.heading.next(),c.anchor=c.heading.children(),c.status=c.anchor.children(".ui-collapsible-heading-status")):this._enhance(b,c),this._on(c.heading,{tap:function(){c.heading.find("a").first().addClass(a.mobile.activeBtnClass)},click:function(a){this._handleExpandCollapse(!c.heading.hasClass("ui-collapsible-heading-collapsed")),a.preventDefault(),a.stopPropagation()}})},_getOptions:function(b){var d,e=this._ui.accordion,f=this._ui.accordionWidget;b=a.extend({},b),e.length&&!f&&(this._ui.accordionWidget=f=e.data("mobile-collapsibleset"));for(d in b)b[d]=null!=b[d]?b[d]:f?f.options[d]:e.length?a.mobile.getAttribute(e[0],d.replace(c,"-$1").toLowerCase()):null,null==b[d]&&(b[d]=a.mobile.collapsible.defaults[d]);return b},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:""},_enhance:function(b,c){var e,f=this._renderedOptions,g=this._themeClassFromOption("ui-body-",f.contentTheme);return b.addClass("ui-collapsible "+(f.inset?"ui-collapsible-inset ":"")+(f.inset&&f.corners?"ui-corner-all ":"")+(g?"ui-collapsible-themed-content ":"")),c.originalHeading=b.children(this.options.heading).first(),c.content=b.wrapInner("<div class='ui-collapsible-content "+g+"'></div>").children(".ui-collapsible-content"),c.heading=c.originalHeading,c.heading.is("legend")&&(c.heading=a("<div role='heading'>"+c.heading.html()+"</div>"),c.placeholder=a("<div><!-- placeholder for legend --></div>").insertBefore(c.originalHeading),c.originalHeading.remove()),e=f.collapsed?f.collapsedIcon?"ui-icon-"+f.collapsedIcon:"":f.expandedIcon?"ui-icon-"+f.expandedIcon:"",c.status=a("<span class='ui-collapsible-heading-status'></span>"),c.anchor=c.heading.detach().addClass("ui-collapsible-heading").append(c.status).wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().addClass("ui-btn "+(e?e+" ":"")+(e?d(f.iconpos)+" ":"")+this._themeClassFromOption("ui-btn-",f.theme)+" "+(f.mini?"ui-mini ":"")),c.heading.insertBefore(c.content),this._handleExpandCollapse(this.options.collapsed),c},refresh:function(){this._applyOptions(this.options),this._renderedOptions=this._getOptions(this.options)},_applyOptions:function(a){var c,e,f,g,h,i=this.element,j=this._renderedOptions,k=this._ui,l=k.anchor,m=k.status,n=this._getOptions(a);a.collapsed!==b&&this._handleExpandCollapse(a.collapsed),c=i.hasClass("ui-collapsible-collapsed"),c?n.expandCueText!==b&&m.text(n.expandCueText):n.collapseCueText!==b&&m.text(n.collapseCueText),h=n.collapsedIcon!==b?n.collapsedIcon!==!1:j.collapsedIcon!==!1,(n.iconpos!==b||n.collapsedIcon!==b||n.expandedIcon!==b)&&(l.removeClass([d(j.iconpos)].concat(j.expandedIcon?["ui-icon-"+j.expandedIcon]:[]).concat(j.collapsedIcon?["ui-icon-"+j.collapsedIcon]:[]).join(" ")),h&&l.addClass([d(n.iconpos!==b?n.iconpos:j.iconpos)].concat(c?["ui-icon-"+(n.collapsedIcon!==b?n.collapsedIcon:j.collapsedIcon)]:["ui-icon-"+(n.expandedIcon!==b?n.expandedIcon:j.expandedIcon)]).join(" "))),n.theme!==b&&(f=this._themeClassFromOption("ui-btn-",j.theme),e=this._themeClassFromOption("ui-btn-",n.theme),l.removeClass(f).addClass(e)),n.contentTheme!==b&&(f=this._themeClassFromOption("ui-body-",j.contentTheme),e=this._themeClassFromOption("ui-body-",n.contentTheme),k.content.removeClass(f).addClass(e)),n.inset!==b&&(i.toggleClass("ui-collapsible-inset",n.inset),g=!(!n.inset||!n.corners&&!j.corners)),n.corners!==b&&(g=!(!n.corners||!n.inset&&!j.inset)),g!==b&&i.toggleClass("ui-corner-all",g),n.mini!==b&&l.toggleClass("ui-mini",n.mini)},_setOptions:function(a){this._applyOptions(a),this._super(a),this._renderedOptions=this._getOptions(this.options)},_handleExpandCollapse:function(b){var c=this._renderedOptions,d=this._ui;d.status.text(b?c.expandCueText:c.collapseCueText),d.heading.toggleClass("ui-collapsible-heading-collapsed",b).find("a").first().toggleClass("ui-icon-"+c.expandedIcon,!b).toggleClass("ui-icon-"+c.collapsedIcon,b||c.expandedIcon===c.collapsedIcon).removeClass(a.mobile.activeBtnClass),this.element.toggleClass("ui-collapsible-collapsed",b),d.content.toggleClass("ui-collapsible-content-collapsed",b).attr("aria-hidden",b).trigger("updatelayout"),this.options.collapsed=b,this._trigger(b?"collapse":"expand")},expand:function(){this._handleExpandCollapse(!1)},collapse:function(){this._handleExpandCollapse(!0)},_destroy:function(){var a=this._ui,b=this.options;b.enhanced||(a.placeholder?(a.originalHeading.insertBefore(a.placeholder),a.placeholder.remove(),a.heading.remove()):(a.status.remove(),a.heading.removeClass("ui-collapsible-heading ui-collapsible-heading-collapsed").children().contents().unwrap()),a.anchor.contents().unwrap(),a.content.contents().unwrap(),this.element.removeClass("ui-collapsible ui-collapsible-collapsed ui-collapsible-themed-content ui-collapsible-inset ui-corner-all"))}}),a.mobile.collapsible.defaults={expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsedIcon:"plus",contentTheme:"inherit",expandedIcon:"minus",iconpos:"left",inset:!0,corners:!0,theme:"inherit",mini:!1}}(a),function(a){function b(b){var d,e=b.length,f=[];for(d=0;e>d;d++)b[d].className.match(c)||f.push(b[d]);return a(f)}var c=/\bui-screen-hidden\b/;a.mobile.behaviors.addFirstLastClasses={_getVisibles:function(a,c){var d;return c?d=b(a):(d=a.filter(":visible"),0===d.length&&(d=b(a))),d},_addFirstLastClasses:function(a,b,c){a.removeClass("ui-first-child ui-last-child"),b.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),c||this.element.trigger("updatelayout")},_removeFirstLastClasses:function(a){a.removeClass("ui-first-child ui-last-child")}}}(a),function(a,b){var c=":mobile-collapsible, "+a.mobile.collapsible.initSelector;a.widget("mobile.collapsibleset",a.extend({initSelector:":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')",options:a.extend({enhanced:!1},a.mobile.collapsible.defaults),_handleCollapsibleExpand:function(b){var c=a(b.target).closest(".ui-collapsible");c.parent().is(":mobile-collapsibleset, :jqmData(role='collapsible-set')")&&c.siblings(".ui-collapsible:not(.ui-collapsible-collapsed)").collapsible("collapse")},_create:function(){var b=this.element,c=this.options;a.extend(this,{_classes:""}),c.enhanced||(b.addClass("ui-collapsible-set "+this._themeClassFromOption("ui-group-theme-",c.theme)+" "+(c.corners&&c.inset?"ui-corner-all ":"")),this.element.find(a.mobile.collapsible.initSelector).collapsible()),this._on(b,{collapsibleexpand:"_handleCollapsibleExpand"})},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:""},_init:function(){this._refresh(!0),this.element.children(c).filter(":jqmData(collapsed='false')").collapsible("expand")},_setOptions:function(a){var c,d,e=this.element,f=this._themeClassFromOption("ui-group-theme-",a.theme);return f&&e.removeClass(this._themeClassFromOption("ui-group-theme-",this.options.theme)).addClass(f),a.inset!==b&&(d=!(!a.inset||!a.corners&&!this.options.corners)),a.corners!==b&&(d=!(!a.corners||!a.inset&&!this.options.inset)),d!==b&&e.toggleClass("ui-corner-all",d),c=this._super(a),this.element.children(":mobile-collapsible").collapsible("refresh"),c},_destroy:function(){var a=this.element;this._removeFirstLastClasses(a.children(c)),a.removeClass("ui-collapsible-set ui-corner-all "+this._themeClassFromOption("ui-group-theme-",this.options.theme)).children(":mobile-collapsible").collapsible("destroy")},_refresh:function(b){var d=this.element.children(c);this.element.find(a.mobile.collapsible.initSelector).not(".ui-collapsible").collapsible(),this._addFirstLastClasses(d,this._getVisibles(d,b),b)},refresh:function(){this._refresh(!1)}},a.mobile.behaviors.addFirstLastClasses))}(a),function(a){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain")}}(a),function(a){a.fn.grid=function(b){return this.each(function(){var c,d,e=a(this),f=a.extend({grid:null},b),g=e.children(),h={solo:1,a:2,b:3,c:4,d:5},i=f.grid;if(!i)if(g.length<=5)for(d in h)h[d]===g.length&&(i=d);else i="a",e.addClass("ui-grid-duo");c=h[i],e.addClass("ui-grid-"+i),g.filter(":nth-child("+c+"n+1)").addClass("ui-block-a"),c>1&&g.filter(":nth-child("+c+"n+2)").addClass("ui-block-b"),c>2&&g.filter(":nth-child("+c+"n+3)").addClass("ui-block-c"),c>3&&g.filter(":nth-child("+c+"n+4)").addClass("ui-block-d"),c>4&&g.filter(":nth-child("+c+"n+5)").addClass("ui-block-e")})}}(a),function(a,b){a.widget("mobile.navbar",{options:{iconpos:"top",grid:null},_create:function(){var d=this.element,e=d.find("a, button"),f=e.filter(":jqmData(icon)").length?this.options.iconpos:b;d.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),e.each(function(){var b=a.mobile.getAttribute(this,"icon"),c=a.mobile.getAttribute(this,"theme"),d="ui-btn";c&&(d+=" ui-btn-"+c),b&&(d+=" ui-icon-"+b+" ui-btn-icon-"+f),a(this).addClass(d)}),d.delegate("a","vclick",function(){var b=a(this);b.hasClass("ui-state-disabled")||b.hasClass("ui-disabled")||b.hasClass(a.mobile.activeBtnClass)||(e.removeClass(a.mobile.activeBtnClass),b.addClass(a.mobile.activeBtnClass),a(c).one("pagehide",function(){b.removeClass(a.mobile.activeBtnClass)}))}),d.closest(".ui-page").bind("pagebeforeshow",function(){e.filter(".ui-state-persist").addClass(a.mobile.activeBtnClass)})}})}(a),function(a){var b=a.mobile.getAttribute;a.widget("mobile.listview",a.extend({options:{theme:null,countTheme:null,dividerTheme:null,icon:"carat-r",splitIcon:"carat-r",splitTheme:null,corners:!0,shadow:!0,inset:!1},_create:function(){var a=this,b="";b+=a.options.inset?" ui-listview-inset":"",a.options.inset&&(b+=a.options.corners?" ui-corner-all":"",b+=a.options.shadow?" ui-shadow":""),a.element.addClass(" ui-listview"+b),a.refresh(!0)},_findFirstElementByTagName:function(a,b,c,d){var e={};for(e[c]=e[d]=!0;a;){if(e[a.nodeName])return a;a=a[b]}return null},_addThumbClasses:function(b){var c,d,e=b.length;for(c=0;e>c;c++)d=a(this._findFirstElementByTagName(b[c].firstChild,"nextSibling","img","IMG")),d.length&&a(this._findFirstElementByTagName(d[0].parentNode,"parentNode","li","LI")).addClass(d.hasClass("ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")},_getChildrenByTagName:function(b,c,d){var e=[],f={};for(f[c]=f[d]=!0,b=b.firstChild;b;)f[b.nodeName]&&e.push(b),b=b.nextSibling;return a(e)},_beforeListviewRefresh:a.noop,_afterListviewRefresh:a.noop,refresh:function(c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=this.options,y=this.element,z=!!a.nodeName(y[0],"ol"),A=y.attr("start"),B={},C=y.find(".ui-li-count"),D=b(y[0],"counttheme")||this.options.countTheme,E=D?"ui-body-"+D:"ui-body-inherit";for(x.theme&&y.addClass("ui-group-theme-"+x.theme),z&&(A||0===A)&&(n=parseInt(A,10)-1,y.css("counter-reset","listnumbering "+n)),this._beforeListviewRefresh(),w=this._getChildrenByTagName(y[0],"li","LI"),e=0,f=w.length;f>e;e++)g=w.eq(e),h="",(c||g[0].className.search(/\bui-li-static\b|\bui-li-divider\b/)<0)&&(l=this._getChildrenByTagName(g[0],"a","A"),m="list-divider"===b(g[0],"role"),p=g.attr("value"),i=b(g[0],"theme"),l.length&&l[0].className.search(/\bui-btn\b/)<0&&!m?(j=b(g[0],"icon"),k=j===!1?!1:j||x.icon,l.removeClass("ui-link"),d="ui-btn",i&&(d+=" ui-btn-"+i),l.length>1?(h="ui-li-has-alt",q=l.last(),r=b(q[0],"theme")||x.splitTheme||b(g[0],"theme",!0),s=r?" ui-btn-"+r:"",t=b(q[0],"icon")||b(g[0],"icon")||x.splitIcon,u="ui-btn ui-btn-icon-notext ui-icon-"+t+s,q.attr("title",a.trim(q.getEncodedText())).addClass(u).empty(),l=l.first()):k&&(d+=" ui-btn-icon-right ui-icon-"+k),l.addClass(d)):m?(v=b(g[0],"theme")||x.dividerTheme||x.theme,h="ui-li-divider ui-bar-"+(v?v:"inherit"),g.attr("role","heading")):l.length<=0&&(h="ui-li-static ui-body-"+(i?i:"inherit")),z&&p&&(o=parseInt(p,10)-1,g.css("counter-reset","listnumbering "+o))),B[h]||(B[h]=[]),B[h].push(g[0]);for(h in B)a(B[h]).addClass(h);C.each(function(){a(this).closest("li").addClass("ui-li-has-count")}),E&&C.not("[class*='ui-body-']").addClass(E),this._addThumbClasses(w),this._addThumbClasses(w.find(".ui-btn")),this._afterListviewRefresh(),this._addFirstLastClasses(w,this._getVisibles(w,c),c)}},a.mobile.behaviors.addFirstLastClasses))}(a),function(a){function b(b){var c=a.trim(b.text())||null;return c?c=c.slice(0,1).toUpperCase():null}a.widget("mobile.listview",a.mobile.listview,{options:{autodividers:!1,autodividersSelector:b},_beforeListviewRefresh:function(){this.options.autodividers&&(this._replaceDividers(),this._superApply(arguments))},_replaceDividers:function(){var b,d,e,f,g,h=null,i=this.element;for(i.children("li:jqmData(role='list-divider')").remove(),d=i.children("li"),b=0;b<d.length;b++)e=d[b],f=this.options.autodividersSelector(a(e)),f&&h!==f&&(g=c.createElement("li"),g.appendChild(c.createTextNode(f)),g.setAttribute("data-"+a.mobile.ns+"role","list-divider"),e.parentNode.insertBefore(g,e)),h=f}})}(a),function(a){var b=/(^|\s)ui-li-divider($|\s)/,c=/(^|\s)ui-screen-hidden($|\s)/;a.widget("mobile.listview",a.mobile.listview,{options:{hideDividers:!1},_afterListviewRefresh:function(){var a,d,e,f=!0;if(this._superApply(arguments),this.options.hideDividers)for(a=this._getChildrenByTagName(this.element[0],"li","LI"),d=a.length-1;d>-1;d--)e=a[d],e.className.match(b)?(f&&(e.className=e.className+" ui-screen-hidden"),f=!0):e.className.match(c)||(f=!1)}})}(a),function(a){a.mobile.nojs=function(b){a(":jqmData(role='nojs')",b).addClass("ui-nojs")}}(a),function(a){a.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(a),function(a,b){var c=a.mobile.path.hashToSelector;a.widget("mobile.checkboxradio",a.extend({initSelector:"input:not( :jqmData(role='flipswitch' ) )[type='checkbox'],input[type='radio']:not( :jqmData(role='flipswitch' ))",options:{theme:"inherit",mini:!1,wrapperClass:null,enhanced:!1,iconpos:"left"},_create:function(){var b=this.element,c=this.options,d=function(a,b){return a.jqmData(b)||a.closest("form, fieldset").jqmData(b)},e=this.options.enhanced?{element:this.element.siblings("label"),isParent:!1}:this._findLabel(),f=b[0].type,g="ui-"+f+"-on",h="ui-"+f+"-off";("checkbox"===f||"radio"===f)&&(this.element[0].disabled&&(this.options.disabled=!0),c.iconpos=d(b,"iconpos")||e.element.attr("data-"+a.mobile.ns+"iconpos")||c.iconpos,c.mini=d(b,"mini")||c.mini,a.extend(this,{input:b,label:e.element,labelIsParent:e.isParent,inputtype:f,checkedClass:g,uncheckedClass:h}),this.options.enhanced||this._enhance(),this._on(e.element,{vmouseover:"_handleLabelVMouseOver",vclick:"_handleLabelVClick"}),this._on(b,{vmousedown:"_cacheVals",vclick:"_handleInputVClick",focus:"_handleInputFocus",blur:"_handleInputBlur"}),this._handleFormReset(),this.refresh())},_findLabel:function(){var b,d,e,f=this.element,g=f[0].labels;return g&&g.length>0?(d=a(g[0]),e=a.contains(d[0],f[0])):(b=f.closest("label"),e=b.length>0,d=e?b:a(this.document[0].getElementsByTagName("label")).filter("[for='"+c(f[0].id)+"']").first()),{element:d,isParent:e}},_enhance:function(){this.label.addClass("ui-btn ui-corner-all"),this.labelIsParent?this.input.add(this.label).wrapAll(this._wrapper()):(this.element.wrap(this._wrapper()),this.element.parent().prepend(this.label)),this._setOptions({theme:this.options.theme,iconpos:this.options.iconpos,mini:this.options.mini})},_wrapper:function(){return a("<div class='"+(this.options.wrapperClass?this.options.wrapperClass:"")+" ui-"+this.inputtype+(this.options.disabled?" ui-state-disabled":"")+"' ></div>")},_handleInputFocus:function(){this.label.addClass(a.mobile.focusClass)},_handleInputBlur:function(){this.label.removeClass(a.mobile.focusClass)},_handleInputVClick:function(){this.element.prop("checked",this.element.is(":checked")),this._getInputSet().not(this.element).prop("checked",!1),this._updateAll(!0)},_handleLabelVMouseOver:function(a){this.label.parent().hasClass("ui-state-disabled")&&a.stopPropagation()},_handleLabelVClick:function(a){var b=this.element;return b.is(":disabled")?void a.preventDefault():(this._cacheVals(),b.prop("checked","radio"===this.inputtype&&!0||!b.prop("checked")),b.triggerHandler("click"),this._getInputSet().not(b).prop("checked",!1),this._updateAll(),!1)},_cacheVals:function(){this._getInputSet().each(function(){a(this).attr("data-"+a.mobile.ns+"cacheVal",this.checked)})},_getInputSet:function(){var b,d,e=this.element[0],f=e.name,g=e.form,h=this.element.parents().last().get(0),i=this.element;return f&&"radio"===this.inputtype&&h&&(b="input[type='radio'][name='"+c(f)+"']",g?(d=g.getAttribute("id"),d&&(i=a(b+"[form='"+c(d)+"']",h)),i=a(g).find(b).filter(function(){return this.form===g}).add(i)):i=a(b,h).filter(function(){return!this.form})),i},_updateAll:function(b){var c=this;this._getInputSet().each(function(){var d=a(this);!this.checked&&"checkbox"!==c.inputtype||b||d.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},_hasIcon:function(){var b,c,d=a.mobile.controlgroup;return d&&(b=this.element.closest(":mobile-controlgroup,"+d.prototype.initSelector),b.length>0)?(c=a.data(b[0],"mobile-controlgroup"),"horizontal"!==(c?c.options.type:b.attr("data-"+a.mobile.ns+"type"))):!0},refresh:function(){var b=this.element[0].checked,c=a.mobile.activeBtnClass,d="ui-btn-icon-"+this.options.iconpos,e=[],f=[];this._hasIcon()?(f.push(c),e.push(d)):(f.push(d),(b?e:f).push(c)),b?(e.push(this.checkedClass),f.push(this.uncheckedClass)):(e.push(this.uncheckedClass),f.push(this.checkedClass)),this.widget().toggleClass("ui-state-disabled",this.element.prop("disabled")),this.label.addClass(e.join(" ")).removeClass(f.join(" "))},widget:function(){return this.label.parent()},_setOptions:function(a){var c=this.label,d=this.options,e=this.widget(),f=this._hasIcon();a.disabled!==b&&(this.input.prop("disabled",!!a.disabled),e.toggleClass("ui-state-disabled",!!a.disabled)),a.mini!==b&&e.toggleClass("ui-mini",!!a.mini),a.theme!==b&&c.removeClass("ui-btn-"+d.theme).addClass("ui-btn-"+a.theme),a.wrapperClass!==b&&e.removeClass(d.wrapperClass).addClass(a.wrapperClass),a.iconpos!==b&&f?c.removeClass("ui-btn-icon-"+d.iconpos).addClass("ui-btn-icon-"+a.iconpos):f||c.removeClass("ui-btn-icon-"+d.iconpos),this._super(a)}},a.mobile.behaviors.formReset))}(a),function(a,b){a.widget("mobile.button",{initSelector:"input[type='button'], input[type='submit'], input[type='reset']",options:{theme:null,icon:null,iconpos:"left",iconshadow:!1,corners:!0,shadow:!0,inline:null,mini:null,wrapperClass:null,enhanced:!1},_create:function(){this.element.is(":disabled")&&(this.options.disabled=!0),this.options.enhanced||this._enhance(),a.extend(this,{wrapper:this.element.parent()}),this._on({focus:function(){this.widget().addClass(a.mobile.focusClass)},blur:function(){this.widget().removeClass(a.mobile.focusClass)}}),this.refresh(!0)},_enhance:function(){this.element.wrap(this._button())},_button:function(){var b=this.options,c=this._getIconClasses(this.options);return a("<div class='ui-btn ui-input-btn"+(b.wrapperClass?" "+b.wrapperClass:"")+(b.theme?" ui-btn-"+b.theme:"")+(b.corners?" ui-corner-all":"")+(b.shadow?" ui-shadow":"")+(b.inline?" ui-btn-inline":"")+(b.mini?" ui-mini":"")+(b.disabled?" ui-state-disabled":"")+(c?" "+c:"")+"' >"+this.element.val()+"</div>")},widget:function(){return this.wrapper},_destroy:function(){this.element.insertBefore(this.wrapper),this.wrapper.remove()},_getIconClasses:function(a){return a.icon?"ui-icon-"+a.icon+(a.iconshadow?" ui-shadow-icon":"")+" ui-btn-icon-"+a.iconpos:""},_setOptions:function(c){var d=this.widget();c.theme!==b&&d.removeClass(this.options.theme).addClass("ui-btn-"+c.theme),c.corners!==b&&d.toggleClass("ui-corner-all",c.corners),c.shadow!==b&&d.toggleClass("ui-shadow",c.shadow),c.inline!==b&&d.toggleClass("ui-btn-inline",c.inline),c.mini!==b&&d.toggleClass("ui-mini",c.mini),c.disabled!==b&&(this.element.prop("disabled",c.disabled),d.toggleClass("ui-state-disabled",c.disabled)),(c.icon!==b||c.iconshadow!==b||c.iconpos!==b)&&d.removeClass(this._getIconClasses(this.options)).addClass(this._getIconClasses(a.extend({},this.options,c))),this._super(c)},refresh:function(b){var c,d=this.element.prop("disabled");this.options.icon&&"notext"===this.options.iconpos&&this.element.attr("title")&&this.element.attr("title",this.element.val()),b||(c=this.element.detach(),a(this.wrapper).text(this.element.val()).append(c)),this.options.disabled!==d&&this._setOptions({disabled:d})}})}(a),function(a){var b=a("meta[name=viewport]"),c=b.attr("content"),d=c+",maximum-scale=1, user-scalable=no",e=c+",maximum-scale=10, user-scalable=yes",f=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(c);a.mobile.zoom=a.extend({},{enabled:!f,locked:!1,disable:function(c){f||a.mobile.zoom.locked||(b.attr("content",d),a.mobile.zoom.enabled=!1,a.mobile.zoom.locked=c||!1)},enable:function(c){f||a.mobile.zoom.locked&&c!==!0||(b.attr("content",e),a.mobile.zoom.enabled=!0,a.mobile.zoom.locked=!1)},restore:function(){f||(b.attr("content",c),a.mobile.zoom.enabled=!0)}})}(a),function(a,b){a.widget("mobile.textinput",{initSelector:"input[type='text'],input[type='search'],:jqmData(type='search'),input[type='number'],:jqmData(type='number'),input[type='password'],input[type='email'],input[type='url'],input[type='tel'],textarea,input[type='time'],input[type='date'],input[type='month'],input[type='week'],input[type='datetime'],input[type='datetime-local'],input[type='color'],input:not([type]),input[type='file']",options:{theme:null,corners:!0,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,wrapperClass:"",enhanced:!1},_create:function(){var b=this.options,c=this.element.is("[type='search'], :jqmData(type='search')"),d="TEXTAREA"===this.element[0].tagName,e=this.element.is("[data-"+(a.mobile.ns||"")+"type='range']"),f=(this.element.is("input")||this.element.is("[data-"+(a.mobile.ns||"")+"type='search']"))&&!e;this.element.prop("disabled")&&(b.disabled=!0),a.extend(this,{classes:this._classesFromOptions(),isSearch:c,isTextarea:d,isRange:e,inputNeedsWrap:f}),this._autoCorrect(),b.enhanced||this._enhance(),this._on({focus:"_handleFocus",blur:"_handleBlur"})},refresh:function(){this.setOptions({disabled:this.element.is(":disabled")})},_enhance:function(){var a=[];this.isTextarea&&a.push("ui-input-text"),(this.isTextarea||this.isRange)&&a.push("ui-shadow-inset"),this.inputNeedsWrap?this.element.wrap(this._wrap()):a=a.concat(this.classes),this.element.addClass(a.join(" "))},widget:function(){return this.inputNeedsWrap?this.element.parent():this.element},_classesFromOptions:function(){var a=this.options,b=[];return b.push("ui-body-"+(null===a.theme?"inherit":a.theme)),a.corners&&b.push("ui-corner-all"),a.mini&&b.push("ui-mini"),a.disabled&&b.push("ui-state-disabled"),a.wrapperClass&&b.push(a.wrapperClass),b
},_wrap:function(){return a("<div class='"+(this.isSearch?"ui-input-search ":"ui-input-text ")+this.classes.join(" ")+" ui-shadow-inset'></div>")},_autoCorrect:function(){"undefined"==typeof this.element[0].autocorrect||a.support.touchOverflow||(this.element[0].setAttribute("autocorrect","off"),this.element[0].setAttribute("autocomplete","off"))},_handleBlur:function(){this.widget().removeClass(a.mobile.focusClass),this.options.preventFocusZoom&&a.mobile.zoom.enable(!0)},_handleFocus:function(){this.options.preventFocusZoom&&a.mobile.zoom.disable(!0),this.widget().addClass(a.mobile.focusClass)},_setOptions:function(a){var c=this.widget();this._super(a),(a.disabled!==b||a.mini!==b||a.corners!==b||a.theme!==b||a.wrapperClass!==b)&&(c.removeClass(this.classes.join(" ")),this.classes=this._classesFromOptions(),c.addClass(this.classes.join(" "))),a.disabled!==b&&this.element.prop("disabled",!!a.disabled)},_destroy:function(){this.options.enhanced||(this.inputNeedsWrap&&this.element.unwrap(),this.element.removeClass("ui-input-text "+this.classes.join(" ")))}})}(a),function(a,d){a.widget("mobile.slider",a.extend({initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!1},_create:function(){var e,f,g,h,i,j,k,l,m,n,o=this,p=this.element,q=this.options.trackTheme||a.mobile.getAttribute(p[0],"theme"),r=q?" ui-bar-"+q:" ui-bar-inherit",s=this.options.corners||p.jqmData("corners")?" ui-corner-all":"",t=this.options.mini||p.jqmData("mini")?" ui-mini":"",u=p[0].nodeName.toLowerCase(),v="select"===u,w=p.parent().is(":jqmData(role='rangeslider')"),x=v?"ui-slider-switch":"",y=p.attr("id"),z=a("[for='"+y+"']"),A=z.attr("id")||y+"-label",B=v?0:parseFloat(p.attr("min")),C=v?p.find("option").length-1:parseFloat(p.attr("max")),D=b.parseFloat(p.attr("step")||1),E=c.createElement("a"),F=a(E),G=c.createElement("div"),H=a(G),I=this.options.highlight&&!v?function(){var b=c.createElement("div");return b.className="ui-slider-bg "+a.mobile.activeBtnClass,a(b).prependTo(H)}():!1;if(z.attr("id",A),this.isToggleSwitch=v,E.setAttribute("href","#"),G.setAttribute("role","application"),G.className=[this.isToggleSwitch?"ui-slider ui-slider-track ui-shadow-inset ":"ui-slider-track ui-shadow-inset ",x,r,s,t].join(""),E.className="ui-slider-handle",G.appendChild(E),F.attr({role:"slider","aria-valuemin":B,"aria-valuemax":C,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":A}),a.extend(this,{slider:H,handle:F,control:p,type:u,step:D,max:C,min:B,valuebg:I,isRangeslider:w,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),v){for(k=p.attr("tabindex"),k&&F.attr("tabindex",k),p.attr("tabindex","-1").focus(function(){a(this).blur(),F.focus()}),f=c.createElement("div"),f.className="ui-slider-inneroffset",g=0,h=G.childNodes.length;h>g;g++)f.appendChild(G.childNodes[g]);for(G.appendChild(f),F.addClass("ui-slider-handle-snapping"),e=p.find("option"),i=0,j=e.length;j>i;i++)l=i?"a":"b",m=i?" "+a.mobile.activeBtnClass:"",n=c.createElement("span"),n.className=["ui-slider-label ui-slider-label-",l,m].join(""),n.setAttribute("role","img"),n.appendChild(c.createTextNode(e[i].innerHTML)),a(n).prependTo(H);o._labels=a(".ui-slider-label",H)}p.addClass(v?"ui-slider-switch":"ui-slider-input"),this._on(p,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"}),H.bind("vmousedown",a.proxy(this._sliderVMouseDown,this)).bind("vclick",!1),this._on(c,{vmousemove:"_preventDocumentDrag"}),this._on(H.add(c),{vmouseup:"_sliderVMouseUp"}),H.insertAfter(p),v||w||(f=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",p.add(H).wrapAll(f)),this._on(this.handle,{vmousedown:"_handleVMouseDown",keydown:"_handleKeydown",keyup:"_handleKeyup"}),this.handle.bind("vclick",!1),this._handleFormReset(),this.refresh(d,d,!0)},_setOptions:function(a){a.theme!==d&&this._setTheme(a.theme),a.trackTheme!==d&&this._setTrackTheme(a.trackTheme),a.corners!==d&&this._setCorners(a.corners),a.mini!==d&&this._setMini(a.mini),a.highlight!==d&&this._setHighlight(a.highlight),a.disabled!==d&&this._setDisabled(a.disabled),this._super(a)},_controlChange:function(a){return this._trigger("controlchange",a)===!1?!1:void(this.mouseMoved||this.refresh(this._value(),!0))},_controlKeyup:function(){this.refresh(this._value(),!0,!0)},_controlBlur:function(){this.refresh(this._value(),!0)},_controlVMouseUp:function(){this._checkedRefresh()},_handleVMouseDown:function(){this.handle.focus()},_handleKeydown:function(b){var c=this._value();if(!this.options.disabled){switch(b.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:b.preventDefault(),this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(b.keyCode){case a.mobile.keyCode.HOME:this.refresh(this.min);break;case a.mobile.keyCode.END:this.refresh(this.max);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:this.refresh(c+this.step);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:this.refresh(c-this.step)}}},_handleKeyup:function(){this._keySliding&&(this._keySliding=!1,this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(a){return this.options.disabled||1!==a.which&&0!==a.which&&a.which!==d?!1:this._trigger("beforestart",a)===!1?!1:(this.dragging=!0,this.userModified=!1,this.mouseMoved=!1,this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex),this.refresh(a),this._trigger("start"),!1)},_sliderVMouseUp:function(){return this.dragging?(this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.refresh(this.mouseMoved?this.userModified?0===this.beforeStart?1:0:this.beforeStart:0===this.beforeStart?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1):void 0},_preventDocumentDrag:function(a){return this._trigger("drag",a)===!1?!1:this.dragging&&!this.options.disabled?(this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(a),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1):void 0},_checkedRefresh:function(){this.value!==this._value()&&this.refresh(this._value())},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(d,!1,!0)},refresh:function(b,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=this,A=a.mobile.getAttribute(this.element[0],"theme"),B=this.options.theme||A,C=B?" ui-btn-"+B:"",D=this.options.trackTheme||A,E=D?" ui-bar-"+D:" ui-bar-inherit",F=this.options.corners?" ui-corner-all":"",G=this.options.mini?" ui-mini":"";if(z.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch ui-slider-track ui-shadow-inset":"ui-slider-track ui-shadow-inset",E,F,G].join(""),(this.options.disabled||this.element.prop("disabled"))&&this.disable(),this.value=this._value(),this.options.highlight&&!this.isToggleSwitch&&0===this.slider.find(".ui-slider-bg").length&&(this.valuebg=function(){var b=c.createElement("div");return b.className="ui-slider-bg "+a.mobile.activeBtnClass,a(b).prependTo(z.slider)}()),this.handle.addClass("ui-btn"+C+" ui-shadow"),l=this.element,m=!this.isToggleSwitch,n=m?[]:l.find("option"),o=m?parseFloat(l.attr("min")):0,p=m?parseFloat(l.attr("max")):n.length-1,q=m&&parseFloat(l.attr("step"))>0?parseFloat(l.attr("step")):1,"object"==typeof b){if(h=b,i=8,f=this.slider.offset().left,g=this.slider.width(),j=g/((p-o)/q),!this.dragging||h.pageX<f-i||h.pageX>f+g+i)return;k=j>1?(h.pageX-f)/g*100:Math.round((h.pageX-f)/g*100)}else null==b&&(b=m?parseFloat(l.val()||0):l[0].selectedIndex),k=(parseFloat(b)-o)/(p-o)*100;if(!isNaN(k)&&(r=k/100*(p-o)+o,s=(r-o)%q,t=r-s,2*Math.abs(s)>=q&&(t+=s>0?q:-q),u=100/((p-o)/q),r=parseFloat(t.toFixed(5)),"undefined"==typeof j&&(j=g/((p-o)/q)),j>1&&m&&(k=(r-o)*u*(1/q)),0>k&&(k=0),k>100&&(k=100),o>r&&(r=o),r>p&&(r=p),this.handle.css("left",k+"%"),this.handle[0].setAttribute("aria-valuenow",m?r:n.eq(r).attr("value")),this.handle[0].setAttribute("aria-valuetext",m?r:n.eq(r).getEncodedText()),this.handle[0].setAttribute("title",m?r:n.eq(r).getEncodedText()),this.valuebg&&this.valuebg.css("width",k+"%"),this._labels&&(v=this.handle.width()/this.slider.width()*100,w=k&&v+(100-v)*k/100,x=100===k?0:Math.min(v+100-w,100),this._labels.each(function(){var b=a(this).hasClass("ui-slider-label-a");a(this).width((b?w:x)+"%")})),!e)){if(y=!1,m?(y=parseFloat(l.val())!==r,l.val(r)):(y=l[0].selectedIndex!==r,l[0].selectedIndex=r),this._trigger("beforechange",b)===!1)return!1;!d&&y&&l.trigger("change")}},_setHighlight:function(a){a=!!a,a?(this.options.highlight=!!a,this.refresh()):this.valuebg&&(this.valuebg.remove(),this.valuebg=!1)},_setTheme:function(a){this.handle.removeClass("ui-btn-"+this.options.theme).addClass("ui-btn-"+a);var b=this.options.theme?this.options.theme:"inherit",c=a?a:"inherit";this.control.removeClass("ui-body-"+b).addClass("ui-body-"+c)},_setTrackTheme:function(a){var b=this.options.trackTheme?this.options.trackTheme:"inherit",c=a?a:"inherit";this.slider.removeClass("ui-body-"+b).addClass("ui-body-"+c)},_setMini:function(a){a=!!a,this.isToggleSwitch||this.isRangeslider||(this.slider.parent().toggleClass("ui-mini",a),this.element.toggleClass("ui-mini",a)),this.slider.toggleClass("ui-mini",a)},_setCorners:function(a){this.slider.toggleClass("ui-corner-all",a),this.isToggleSwitch||this.control.toggleClass("ui-corner-all",a)},_setDisabled:function(a){a=!!a,this.element.prop("disabled",a),this.slider.toggleClass("ui-state-disabled",a).attr("aria-disabled",a),this.element.toggleClass("ui-state-disabled",a)}},a.mobile.behaviors.formReset))}(a),function(a){function b(){return c||(c=a("<div></div>",{"class":"ui-slider-popup ui-shadow ui-corner-all"})),c.clone()}var c;a.widget("mobile.slider",a.mobile.slider,{options:{popupEnabled:!1,showValue:!1},_create:function(){this._super(),a.extend(this,{_currentValue:null,_popup:null,_popupVisible:!1}),this._setOption("popupEnabled",this.options.popupEnabled),this._on(this.handle,{vmousedown:"_showPopup"}),this._on(this.slider.add(this.document),{vmouseup:"_hidePopup"}),this._refresh()},_positionPopup:function(){var a=this.handle.offset();this._popup.offset({left:a.left+(this.handle.width()-this._popup.width())/2,top:a.top-this._popup.outerHeight()-5})},_setOption:function(a,c){this._super(a,c),"showValue"===a?this.handle.html(c&&!this.options.mini?this._value():""):"popupEnabled"===a&&c&&!this._popup&&(this._popup=b().addClass("ui-body-"+(this.options.theme||"a")).hide().insertBefore(this.element))},refresh:function(){this._super.apply(this,arguments),this._refresh()},_refresh:function(){var a,b=this.options;b.popupEnabled&&this.handle.removeAttr("title"),a=this._value(),a!==this._currentValue&&(this._currentValue=a,b.popupEnabled&&this._popup&&(this._positionPopup(),this._popup.html(a)),b.showValue&&!this.options.mini&&this.handle.html(a))},_showPopup:function(){this.options.popupEnabled&&!this._popupVisible&&(this.handle.html(""),this._popup.show(),this._positionPopup(),this._popupVisible=!0)},_hidePopup:function(){var a=this.options;a.popupEnabled&&this._popupVisible&&(a.showValue&&!a.mini&&this.handle.html(this._value()),this._popup.hide(),this._popupVisible=!1)}})}(a),function(a,b){a.widget("mobile.flipswitch",a.extend({options:{onText:"On",offText:"Off",theme:null,enhanced:!1,wrapperClass:null,corners:!0,mini:!1},_create:function(){this.options.enhanced?a.extend(this,{flipswitch:this.element.parent(),on:this.element.find(".ui-flipswitch-on").eq(0),off:this.element.find(".ui-flipswitch-off").eq(0),type:this.element.get(0).tagName}):this._enhance(),this._handleFormReset(),this._originalTabIndex=this.element.attr("tabindex"),null!=this._originalTabIndex&&this.on.attr("tabindex",this._originalTabIndex),this.element.attr("tabindex","-1"),this._on({focus:"_handleInputFocus"}),this.element.is(":disabled")&&this._setOptions({disabled:!0}),this._on(this.flipswitch,{click:"_toggle",swipeleft:"_left",swiperight:"_right"}),this._on(this.on,{keydown:"_keydown"}),this._on({change:"refresh"})},_handleInputFocus:function(){this.on.focus()},widget:function(){return this.flipswitch},_left:function(){this.flipswitch.removeClass("ui-flipswitch-active"),"SELECT"===this.type?this.element.get(0).selectedIndex=0:this.element.prop("checked",!1),this.element.trigger("change")},_right:function(){this.flipswitch.addClass("ui-flipswitch-active"),"SELECT"===this.type?this.element.get(0).selectedIndex=1:this.element.prop("checked",!0),this.element.trigger("change")},_enhance:function(){var b=a("<div>"),c=this.options,d=this.element,e=c.theme?c.theme:"inherit",f=a("<a></a>",{href:"#"}),g=a("<span></span>"),h=d.get(0).tagName,i="INPUT"===h?c.onText:d.find("option").eq(1).text(),j="INPUT"===h?c.offText:d.find("option").eq(0).text();f.addClass("ui-flipswitch-on ui-btn ui-shadow ui-btn-inherit").text(i),g.addClass("ui-flipswitch-off").text(j),b.addClass("ui-flipswitch ui-shadow-inset ui-bar-"+e+" "+(c.wrapperClass?c.wrapperClass:"")+" "+(d.is(":checked")||d.find("option").eq(1).is(":selected")?"ui-flipswitch-active":"")+(d.is(":disabled")?" ui-state-disabled":"")+(c.corners?" ui-corner-all":"")+(c.mini?" ui-mini":"")).append(f,g),d.addClass("ui-flipswitch-input").after(b).appendTo(b),a.extend(this,{flipswitch:b,on:f,off:g,type:h})},_reset:function(){this.refresh()},refresh:function(){var a,b=this.flipswitch.hasClass("ui-flipswitch-active")?"_right":"_left";a="SELECT"===this.type?this.element.get(0).selectedIndex>0?"_right":"_left":this.element.prop("checked")?"_right":"_left",a!==b&&this[a]()},_toggle:function(){var a=this.flipswitch.hasClass("ui-flipswitch-active")?"_left":"_right";this[a]()},_keydown:function(b){b.which===a.mobile.keyCode.LEFT?this._left():b.which===a.mobile.keyCode.RIGHT?this._right():b.which===a.mobile.keyCode.SPACE&&(this._toggle(),b.preventDefault())},_setOptions:function(a){if(a.theme!==b){var c=a.theme?a.theme:"inherit",d=a.theme?a.theme:"inherit";this.widget().removeClass("ui-bar-"+c).addClass("ui-bar-"+d)}a.onText!==b&&this.on.text(a.onText),a.offText!==b&&this.off.text(a.offText),a.disabled!==b&&this.widget().toggleClass("ui-state-disabled",a.disabled),a.mini!==b&&this.widget().toggleClass("ui-mini",a.mini),a.corners!==b&&this.widget().toggleClass("ui-corner-all",a.corners),this._super(a)},_destroy:function(){this.options.enhanced||(null!=this._originalTabIndex?this.element.attr("tabindex",this._originalTabIndex):this.element.removeAttr("tabindex"),this.on.remove(),this.off.remove(),this.element.unwrap(),this.flipswitch.remove(),this.removeClass("ui-flipswitch-input"))}},a.mobile.behaviors.formReset))}(a),function(a,b){a.widget("mobile.rangeslider",a.extend({options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!0},_create:function(){var b=this.element,c=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",d=b.find("input").first(),e=b.find("input").last(),f=b.find("label").first(),g=a.data(d.get(0),"mobile-slider")||a.data(d.slider().get(0),"mobile-slider"),h=a.data(e.get(0),"mobile-slider")||a.data(e.slider().get(0),"mobile-slider"),i=g.slider,j=h.slider,k=g.handle,l=a("<div class='ui-rangeslider-sliders' />").appendTo(b);d.addClass("ui-rangeslider-first"),e.addClass("ui-rangeslider-last"),b.addClass(c),i.appendTo(l),j.appendTo(l),f.insertBefore(b),k.prependTo(j),a.extend(this,{_inputFirst:d,_inputLast:e,_sliderFirst:i,_sliderLast:j,_label:f,_targetVal:null,_sliderTarget:!1,_sliders:l,_proxy:!1}),this.refresh(),this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"}),this._on({mousedown:"_change"}),this._on(this.element.closest("form"),{reset:"_handleReset"}),this._on(k,{vmousedown:"_dragFirstHandle"})},_handleReset:function(){var a=this;setTimeout(function(){a._updateHighlight()},0)},_dragFirstHandle:function(b){return a.data(this._inputFirst.get(0),"mobile-slider").dragging=!0,a.data(this._inputFirst.get(0),"mobile-slider").refresh(b),a.data(this._inputFirst.get(0),"mobile-slider")._trigger("start"),!1},_slidedrag:function(b){var c=a(b.target).is(this._inputFirst),d=c?this._inputLast:this._inputFirst;return this._sliderTarget=!1,"first"===this._proxy&&c||"last"===this._proxy&&!c?(a.data(d.get(0),"mobile-slider").dragging=!0,a.data(d.get(0),"mobile-slider").refresh(b),!1):void 0},_slidestop:function(b){var c=a(b.target).is(this._inputFirst);this._proxy=!1,this.element.find("input").trigger("vmouseup"),this._sliderFirst.css("z-index",c?1:"")},_slidebeforestart:function(b){this._sliderTarget=!1,a(b.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=a(b.target).val())},_setOptions:function(a){a.theme!==b&&this._setTheme(a.theme),a.trackTheme!==b&&this._setTrackTheme(a.trackTheme),a.mini!==b&&this._setMini(a.mini),a.highlight!==b&&this._setHighlight(a.highlight),a.disabled!==b&&this._setDisabled(a.disabled),this._super(a),this.refresh()},refresh:function(){var a=this.element,b=this.options;(this._inputFirst.is(":disabled")||this._inputLast.is(":disabled"))&&(this.options.disabled=!0),a.find("input").slider({theme:b.theme,trackTheme:b.trackTheme,disabled:b.disabled,corners:b.corners,mini:b.mini,highlight:b.highlight}).slider("refresh"),this._updateHighlight()},_change:function(b){if("keyup"===b.type)return this._updateHighlight(),!1;var c=this,d=parseFloat(this._inputFirst.val(),10),e=parseFloat(this._inputLast.val(),10),f=a(b.target).hasClass("ui-rangeslider-first"),g=f?this._inputFirst:this._inputLast,h=f?this._inputLast:this._inputFirst;if(this._inputFirst.val()>this._inputLast.val()&&"mousedown"===b.type&&!a(b.target).hasClass("ui-slider-handle"))g.blur();else if("mousedown"===b.type)return;return d>e&&!this._sliderTarget?(g.val(f?e:d).slider("refresh"),this._trigger("normalize")):d>e&&(g.val(this._targetVal).slider("refresh"),setTimeout(function(){h.val(f?d:e).slider("refresh"),a.data(h.get(0),"mobile-slider").handle.focus(),c._sliderFirst.css("z-index",f?"":1),c._trigger("normalize")},0),this._proxy=f?"first":"last"),d===e?(a.data(g.get(0),"mobile-slider").handle.css("z-index",1),a.data(h.get(0),"mobile-slider").handle.css("z-index",0)):(a.data(h.get(0),"mobile-slider").handle.css("z-index",""),a.data(g.get(0),"mobile-slider").handle.css("z-index","")),this._updateHighlight(),d>=e?!1:void 0},_updateHighlight:function(){var b=parseInt(a.data(this._inputFirst.get(0),"mobile-slider").handle.get(0).style.left,10),c=parseInt(a.data(this._inputLast.get(0),"mobile-slider").handle.get(0).style.left,10),d=c-b;this.element.find(".ui-slider-bg").css({"margin-left":b+"%",width:d+"%"})},_setTheme:function(a){this._inputFirst.slider("option","theme",a),this._inputLast.slider("option","theme",a)},_setTrackTheme:function(a){this._inputFirst.slider("option","trackTheme",a),this._inputLast.slider("option","trackTheme",a)},_setMini:function(a){this._inputFirst.slider("option","mini",a),this._inputLast.slider("option","mini",a),this.element.toggleClass("ui-mini",!!a)},_setHighlight:function(a){this._inputFirst.slider("option","highlight",a),this._inputLast.slider("option","highlight",a)},_setDisabled:function(a){this._inputFirst.prop("disabled",a),this._inputLast.prop("disabled",a)},_destroy:function(){this._label.prependTo(this.element),this.element.removeClass("ui-rangeslider ui-mini"),this._inputFirst.after(this._sliderFirst),this._inputLast.after(this._sliderLast),this._sliders.remove(),this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}},a.mobile.behaviors.formReset))}(a),function(a,b){a.widget("mobile.textinput",a.mobile.textinput,{options:{clearBtn:!1,clearBtnText:"Clear text"},_create:function(){this._super(),this.isSearch&&(this.options.clearBtn=!0),this.options.clearBtn&&this.inputNeedsWrap&&this._addClearBtn()},clearButton:function(){return a("<a href='#' tabindex='-1' aria-hidden='true' class='ui-input-clear ui-btn ui-icon-delete ui-btn-icon-notext ui-corner-all'></a>").attr("title",this.options.clearBtnText).text(this.options.clearBtnText)},_clearBtnClick:function(a){this.element.val("").focus().trigger("change"),this._clearBtn.addClass("ui-input-clear-hidden"),a.preventDefault()},_addClearBtn:function(){this.options.enhanced||this._enhanceClear(),a.extend(this,{_clearBtn:this.widget().find("a.ui-input-clear")}),this._bindClearEvents(),this._toggleClear()},_enhanceClear:function(){this.clearButton().appendTo(this.widget()),this.widget().addClass("ui-input-has-clear")},_bindClearEvents:function(){this._on(this._clearBtn,{click:"_clearBtnClick"}),this._on({keyup:"_toggleClear",change:"_toggleClear",input:"_toggleClear",focus:"_toggleClear",blur:"_toggleClear",cut:"_toggleClear",paste:"_toggleClear"})},_unbindClear:function(){this._off(this._clearBtn,"click"),this._off(this.element,"keyup change input focus blur cut paste")},_setOptions:function(a){this._super(a),a.clearBtn===b||this.element.is("textarea, :jqmData(type='range')")||(a.clearBtn?this._addClearBtn():this._destroyClear()),a.clearBtnText!==b&&this._clearBtn!==b&&this._clearBtn.text(a.clearBtnText).attr("title",a.clearBtnText)},_toggleClear:function(){this._delay("_toggleClearClass",0)},_toggleClearClass:function(){this._clearBtn.toggleClass("ui-input-clear-hidden",!this.element.val())},_destroyClear:function(){this.widget().removeClass("ui-input-has-clear"),this._unbindClear(),this._clearBtn.remove()},_destroy:function(){this._super(),this.options.clearBtn&&this._destroyClear()}})}(a),function(a,b){a.widget("mobile.textinput",a.mobile.textinput,{options:{autogrow:!0,keyupTimeoutBuffer:100},_create:function(){this._super(),this.options.autogrow&&this.isTextarea&&this._autogrow()},_autogrow:function(){this.element.addClass("ui-textinput-autogrow"),this._on({keyup:"_timeout",change:"_timeout",input:"_timeout",paste:"_timeout"}),this._on(!0,this.document,{pageshow:"_handleShow",popupbeforeposition:"_handleShow",updatelayout:"_handleShow",panelopen:"_handleShow"})},_handleShow:function(b){a.contains(b.target,this.element[0])&&this.element.is(":visible")&&("popupbeforeposition"!==b.type&&this.element.addClass("ui-textinput-autogrow-resize").animationComplete(a.proxy(function(){this.element.removeClass("ui-textinput-autogrow-resize")},this),"transition"),this._prepareHeightUpdate())},_unbindAutogrow:function(){this.element.removeClass("ui-textinput-autogrow"),this._off(this.element,"keyup change input paste"),this._off(this.document,"pageshow popupbeforeposition updatelayout panelopen")},keyupTimeout:null,_prepareHeightUpdate:function(a){this.keyupTimeout&&clearTimeout(this.keyupTimeout),a===b?this._updateHeight():this.keyupTimeout=this._delay("_updateHeight",a)},_timeout:function(){this._prepareHeightUpdate(this.options.keyupTimeoutBuffer)},_updateHeight:function(){var a,b,c,d,e,f,g,h,i,j=this.window.scrollTop();this.keyupTimeout=0,"onpage"in this.element[0]||this.element.css({height:0,"min-height":0,"max-height":0}),d=this.element[0].scrollHeight,e=this.element[0].clientHeight,f=parseFloat(this.element.css("border-top-width")),g=parseFloat(this.element.css("border-bottom-width")),h=f+g,i=d+h+15,0===e&&(a=parseFloat(this.element.css("padding-top")),b=parseFloat(this.element.css("padding-bottom")),c=a+b,i+=c),this.element.css({height:i,"min-height":"","max-height":""}),this.window.scrollTop(j)},refresh:function(){this.options.autogrow&&this.isTextarea&&this._updateHeight()},_setOptions:function(a){this._super(a),a.autogrow!==b&&this.isTextarea&&(a.autogrow?this._autogrow():this._unbindAutogrow())}})}(a),function(a){a.widget("mobile.selectmenu",a.extend({initSelector:"select:not( :jqmData(role='slider')):not( :jqmData(role='flipswitch') )",options:{theme:null,icon:"carat-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!1,overlayTheme:null,dividerTheme:null,hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,mini:!1},_button:function(){return a("<div/>")},_setDisabled:function(a){return this.element.attr("disabled",a),this.button.attr("aria-disabled",a),this._setOption("disabled",a)},_focusButton:function(){var a=this;setTimeout(function(){a.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var b=this.options.inline||this.element.jqmData("inline"),c=this.options.mini||this.element.jqmData("mini"),d="";~this.element[0].className.indexOf("ui-btn-left")&&(d=" ui-btn-left"),~this.element[0].className.indexOf("ui-btn-right")&&(d=" ui-btn-right"),b&&(d+=" ui-btn-inline"),c&&(d+=" ui-mini"),this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+d+"'>"),this.selectId=this.select.attr("id")||"select-"+this.uuid,this.buttonId=this.selectId+"-button",this.label=a("label[for='"+this.selectId+"']"),this.isMultiple=this.select[0].multiple},_destroy:function(){var a=this.element.parents(".ui-select");a.length>0&&(a.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(a.hasClass("ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(a),a.remove())},_create:function(){this._preExtension(),this.button=this._button();var c=this,d=this.options,e=d.icon?d.iconpos||this.select.jqmData("iconpos"):!1,f=this.button.insertBefore(this.select).attr("id",this.buttonId).addClass("ui-btn"+(d.icon?" ui-icon-"+d.icon+" ui-btn-icon-"+e+(d.iconshadow?" ui-shadow-icon":""):"")+(d.theme?" ui-btn-"+d.theme:"")+(d.corners?" ui-corner-all":"")+(d.shadow?" ui-shadow":""));this.setButtonText(),d.nativeMenu&&b.opera&&b.opera.version&&f.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=a("<span>").addClass("ui-li-count ui-body-inherit").hide().appendTo(f.addClass("ui-li-has-count"))),(d.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){c.refresh(),d.nativeMenu&&c._delay(function(){c.select.blur()})}),this._handleFormReset(),this._on(this.button,{keydown:"_handleKeydown"}),this.build()},build:function(){var b=this;this.select.appendTo(b.button).bind("vmousedown",function(){b.button.addClass(a.mobile.activeBtnClass)}).bind("focus",function(){b.button.addClass(a.mobile.focusClass)}).bind("blur",function(){b.button.removeClass(a.mobile.focusClass)}).bind("focus vmouseover",function(){b.button.trigger("vmouseover")}).bind("vmousemove",function(){b.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){b.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}),b.button.bind("vmousedown",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.label.bind("click focus",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.select.bind("focus",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.button.bind("mouseup",function(){b.options.preventFocusZoom&&setTimeout(function(){a.mobile.zoom.enable(!0)},0)}),b.select.bind("blur",function(){b.options.preventFocusZoom&&a.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var a=this;return this.selected().map(function(){return a._selectOptions().index(this)}).get()},setButtonText:function(){var b=this,d=this.selected(),e=this.placeholder,f=a(c.createElement("span"));this.button.children("span").not(".ui-li-count").remove().end().end().prepend(function(){return e=d.length?d.map(function(){return a(this).text()}).get().join(", "):b.placeholder,e?f.text(e):f.html("&#160;"),f.addClass(b.select.attr("class")).addClass(d.attr("class")).removeClass("ui-screen-hidden")}())},setButtonCount:function(){var a=this.selected();this.isMultiple&&this.buttonCount[a.length>1?"show":"hide"]().text(a.length)},_handleKeydown:function(){this._delay("_refreshButton")},_reset:function(){this.refresh()},_refreshButton:function(){this.setButtonText(),this.setButtonCount()},refresh:function(){this._refreshButton()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-state-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-state-disabled")}},a.mobile.behaviors.formReset))}(a),function(a){a.mobile.links=function(b){a(b).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var a=this,b=a.getAttribute("href").substring(1);b&&(a.setAttribute("aria-haspopup",!0),a.setAttribute("aria-owns",b),a.setAttribute("aria-expanded",!1))}).end().not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")}}(a),function(a,c){function d(a,b,c,d){var e=d;return e=b>a?c+(a-b)/2:Math.min(Math.max(c,d-b/2),c+a-b)}function e(a){return{x:a.scrollLeft(),y:a.scrollTop(),cx:a[0].innerWidth||a.width(),cy:a[0].innerHeight||a.height()}}a.widget("mobile.popup",{options:{wrapperClass:null,theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,enhanced:!1,history:!a.mobile.browser.oldIE},_handleDocumentVmousedown:function(b){this._isOpen&&a.contains(this._ui.container[0],b.target)&&this._ignoreResizeEvents()},_create:function(){var b=this.element,c=b.attr("id"),d=this.options;d.history=d.history&&a.mobile.ajaxEnabled&&a.mobile.hashListeningEnabled,this._on(this.document,{vmousedown:"_handleDocumentVmousedown"}),a.extend(this,{_scrollTop:0,_page:b.closest(".ui-page"),_ui:null,_fallbackTransition:"",_currentTransition:!1,_prerequisites:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),0===this._page.length&&(this._page=a("body")),d.enhanced?this._ui={container:b.parent(),screen:b.parent().prev(),placeholder:a(this.document[0].getElementById(c+"-placeholder"))}:(this._ui=this._enhance(b,c),this._applyTransition(d.transition)),this._setTolerance(d.tolerance)._ui.focusElement=this._ui.container,this._on(this._ui.screen,{vclick:"_eatEventAndClose"}),this._on(this.window,{orientationchange:a.proxy(this,"_handleWindowOrientationchange"),resize:a.proxy(this,"_handleWindowResize"),keyup:a.proxy(this,"_handleWindowKeyUp")}),this._on(this.document,{focusin:"_handleDocumentFocusIn"})},_enhance:function(b,c){var d=this.options,e=d.wrapperClass,f={screen:a("<div class='ui-screen-hidden ui-popup-screen "+this._themeClassFromOption("ui-overlay-",d.overlayTheme)+"'></div>"),placeholder:a("<div style='display: none;'><!-- placeholder --></div>"),container:a("<div class='ui-popup-container ui-popup-hidden ui-popup-truncate"+(e?" "+e:"")+"'></div>")},g=this.document[0].createDocumentFragment();return g.appendChild(f.screen[0]),g.appendChild(f.container[0]),c&&(f.screen.attr("id",c+"-screen"),f.container.attr("id",c+"-popup"),f.placeholder.attr("id",c+"-placeholder").html("<!-- placeholder for "+c+" -->")),this._page[0].appendChild(g),f.placeholder.insertAfter(b),b.detach().addClass("ui-popup "+this._themeClassFromOption("ui-body-",d.theme)+" "+(d.shadow?"ui-overlay-shadow ":"")+(d.corners?"ui-corner-all ":"")).appendTo(f.container),f},_eatEventAndClose:function(a){return a.preventDefault(),a.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var a=this._ui.screen,b=this._ui.container.outerHeight(!0),c=a.removeAttr("style").height(),d=this.document.height()-1;d>c?a.height(d):b>c&&a.height(b)},_handleWindowKeyUp:function(b){return this._isOpen&&b.keyCode===a.mobile.keyCode.ESCAPE?this._eatEventAndClose(b):void 0},_expectResizeEvent:function(){var a=e(this.window);
if(this._resizeData){if(a.x===this._resizeData.windowCoordinates.x&&a.y===this._resizeData.windowCoordinates.y&&a.cx===this._resizeData.windowCoordinates.cx&&a.cy===this._resizeData.windowCoordinates.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:this._delay("_resizeTimeout",200),windowCoordinates:a},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden ui-popup-truncate"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_stopIgnoringResizeEvents:function(){this._ignoreResizeTo=0},_ignoreResizeEvents:function(){this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=this._delay("_stopIgnoringResizeEvents",1e3)},_handleWindowResize:function(){this._isOpen&&0===this._ignoreResizeTo&&(!this._expectResizeEvent()&&!this._orientationchangeInProgress||this._ui.container.hasClass("ui-popup-hidden")||this._ui.container.addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style"))},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(b){var c,d=b.target,e=this._ui;if(this._isOpen){if(d!==e.container[0]){if(c=a(d),!a.contains(e.container[0],d))return a(this.document[0].activeElement).one("focus",a.proxy(function(){this._safelyBlur(d)},this)),e.focusElement.focus(),b.preventDefault(),b.stopImmediatePropagation(),!1;e.focusElement[0]===e.container[0]&&(e.focusElement=c)}this._ignoreResizeEvents()}},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:a+"inherit"},_applyTransition:function(b){return b&&(this._ui.container.removeClass(this._fallbackTransition),"none"!==b&&(this._fallbackTransition=a.mobile._maybeDegradeTransition(b),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))),this},_setOptions:function(a){var b=this.options,d=this.element,e=this._ui.screen;return a.wrapperClass!==c&&this._ui.container.removeClass(b.wrapperClass).addClass(a.wrapperClass),a.theme!==c&&d.removeClass(this._themeClassFromOption("ui-body-",b.theme)).addClass(this._themeClassFromOption("ui-body-",a.theme)),a.overlayTheme!==c&&(e.removeClass(this._themeClassFromOption("ui-overlay-",b.overlayTheme)).addClass(this._themeClassFromOption("ui-overlay-",a.overlayTheme)),this._isOpen&&e.addClass("in")),a.shadow!==c&&d.toggleClass("ui-overlay-shadow",a.shadow),a.corners!==c&&d.toggleClass("ui-corner-all",a.corners),a.transition!==c&&(this._currentTransition||this._applyTransition(a.transition)),a.tolerance!==c&&this._setTolerance(a.tolerance),a.disabled!==c&&a.disabled&&this.close(),this._super(a)},_setTolerance:function(b){var d,e={t:30,r:15,b:30,l:15};if(b!==c)switch(d=String(b).split(","),a.each(d,function(a,b){d[a]=parseInt(b,10)}),d.length){case 1:isNaN(d[0])||(e.t=e.r=e.b=e.l=d[0]);break;case 2:isNaN(d[0])||(e.t=e.b=d[0]),isNaN(d[1])||(e.l=e.r=d[1]);break;case 4:isNaN(d[0])||(e.t=d[0]),isNaN(d[1])||(e.r=d[1]),isNaN(d[2])||(e.b=d[2]),isNaN(d[3])||(e.l=d[3])}return this._tolerance=e,this},_clampPopupWidth:function(a){var b,c=e(this.window),d={x:this._tolerance.l,y:c.y+this._tolerance.t,cx:c.cx-this._tolerance.l-this._tolerance.r,cy:c.cy-this._tolerance.t-this._tolerance.b};return a||this._ui.container.css("max-width",d.cx),b={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},{rc:d,menuSize:b}},_calculateFinalLocation:function(a,b){var c,e=b.rc,f=b.menuSize;return c={left:d(e.cx,f.cx,e.x,a.x),top:d(e.cy,f.cy,e.y,a.y)},c.top=Math.max(0,c.top),c.top-=Math.min(c.top,Math.max(0,c.top+f.cy-this.document.height())),c},_placementCoords:function(a){return this._calculateFinalLocation(a,this._clampPopupWidth())},_createPrerequisites:function(b,c,d){var e,f=this;e={screen:a.Deferred(),container:a.Deferred()},e.screen.then(function(){e===f._prerequisites&&b()}),e.container.then(function(){e===f._prerequisites&&c()}),a.when(e.screen,e.container).done(function(){e===f._prerequisites&&(f._prerequisites=null,d())}),f._prerequisites=e},_animate:function(b){return this._ui.screen.removeClass(b.classToRemove).addClass(b.screenClassToAdd),b.prerequisites.screen.resolve(),b.transition&&"none"!==b.transition&&(b.applyTransition&&this._applyTransition(b.transition),this._fallbackTransition)?void this._ui.container.addClass(b.containerClassToAdd).removeClass(b.classToRemove).animationComplete(a.proxy(b.prerequisites.container,"resolve")):(this._ui.container.removeClass(b.classToRemove),void b.prerequisites.container.resolve())},_desiredCoords:function(b){var c,d=null,f=e(this.window),g=b.x,h=b.y,i=b.positionTo;if(i&&"origin"!==i)if("window"===i)g=f.cx/2+f.x,h=f.cy/2+f.y;else{try{d=a(i)}catch(j){d=null}d&&(d.filter(":visible"),0===d.length&&(d=null))}return d&&(c=d.offset(),g=c.left+d.outerWidth()/2,h=c.top+d.outerHeight()/2),("number"!==a.type(g)||isNaN(g))&&(g=f.cx/2+f.x),("number"!==a.type(h)||isNaN(h))&&(h=f.cy/2+f.y),{x:g,y:h}},_reposition:function(a){a={x:a.x,y:a.y,positionTo:a.positionTo},this._trigger("beforeposition",c,a),this._ui.container.offset(this._placementCoords(this._desiredCoords(a)))},reposition:function(a){this._isOpen&&this._reposition(a)},_safelyBlur:function(b){b!==this.window[0]&&"body"!==b.nodeName.toLowerCase()&&a(b).blur()},_openPrerequisitesComplete:function(){var b=this.element.attr("id"),c=this._ui.container.find(":focusable").first();this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),a.contains(this._ui.container[0],this.document[0].activeElement)||this._safelyBlur(this.document[0].activeElement),c.length>0&&(this._ui.focusElement=c),this._ignoreResizeEvents(),b&&this.document.find("[aria-haspopup='true'][aria-owns='"+b+"']").attr("aria-expanded",!0),this._trigger("afteropen")},_open:function(b){var c=a.extend({},this.options,b),d=function(){var a=navigator.userAgent,b=a.match(/AppleWebKit\/([0-9\.]+)/),c=!!b&&b[1],d=a.match(/Android (\d+(?:\.\d+))/),e=!!d&&d[1],f=a.indexOf("Chrome")>-1;return null!==d&&"4.0"===e&&c&&c>534.13&&!f?!0:!1}();this._createPrerequisites(a.noop,a.noop,a.proxy(this,"_openPrerequisitesComplete")),this._currentTransition=c.transition,this._applyTransition(c.transition),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-truncate"),this._reposition(c),this._ui.container.removeClass("ui-popup-hidden"),this.options.overlayTheme&&d&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:c.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prerequisites:this._prerequisites})},_closePrerequisiteScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrerequisiteContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style")},_closePrerequisitesDone:function(){var b=this._ui.container,d=this.element.attr("id");a.mobile.popup.active=c,a(":focus",b[0]).add(b[0]).blur(),d&&this.document.find("[aria-haspopup='true'][aria-owns='"+d+"']").attr("aria-expanded",!1),this._trigger("afterclose")},_close:function(b){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrerequisites(a.proxy(this,"_closePrerequisiteScreen"),a.proxy(this,"_closePrerequisiteContainer"),a.proxy(this,"_closePrerequisitesDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:b?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prerequisites:this._prerequisites})},_unenhance:function(){this.options.enhanced||(this._setOptions({theme:a.mobile.popup.prototype.options.theme}),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all ui-body-inherit"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove())},_destroy:function(){return a.mobile.popup.active===this?(this.element.one("popupafterclose",a.proxy(this,"_unenhance")),this.close()):this._unenhance(),this},_closePopup:function(c,d){var e,f,g=this.options,h=!1;c&&c.isDefaultPrevented()||a.mobile.popup.active!==this||(b.scrollTo(0,this._scrollTop),c&&"pagebeforechange"===c.type&&d&&(e="string"==typeof d.toPage?d.toPage:d.toPage.jqmData("url"),e=a.mobile.path.parseUrl(e),f=e.pathname+e.search+e.hash,this._myUrl!==a.mobile.path.makeUrlAbsolute(f)?h=!0:c.preventDefault()),this.window.off(g.closeEvents),this.element.undelegate(g.closeLinkSelector,g.closeLinkEvents),this._close(h))},_bindContainerClose:function(){this.window.on(this.options.closeEvents,a.proxy(this,"_closePopup"))},widget:function(){return this._ui.container},open:function(b){var c,d,e,f,g,h,i=this,j=this.options;return a.mobile.popup.active||j.disabled?this:(a.mobile.popup.active=this,this._scrollTop=this.window.scrollTop(),j.history?(h=a.mobile.navigate.history,d=a.mobile.dialogHashKey,e=a.mobile.activePage,f=e?e.hasClass("ui-dialog"):!1,this._myUrl=c=h.getActive().url,(g=c.indexOf(d)>-1&&!f&&h.activeIndex>0)?(i._open(b),i._bindContainerClose(),this):(-1!==c.indexOf(d)||f?c=a.mobile.path.parseLocation().hash+d:c+=c.indexOf("#")>-1?d:"#"+d,this.window.one("beforenavigate",function(a){a.preventDefault(),i._open(b),i._bindContainerClose()}),this.urlAltered=!0,a.mobile.navigate(c,{role:"dialog"}),this)):(i._open(b),i._bindContainerClose(),i.element.delegate(j.closeLinkSelector,j.closeLinkEvents,function(a){i.close(),a.preventDefault()}),this))},close:function(){return a.mobile.popup.active!==this?this:(this._scrollTop=this.window.scrollTop(),this.options.history&&this.urlAltered?(a.mobile.back(),this.urlAltered=!1):this._closePopup(),this)}}),a.mobile.popup.handleLink=function(b){var c,d=a.mobile.path,e=a(d.hashToSelector(d.parseUrl(b.attr("href")).hash)).first();e.length>0&&e.data("mobile-popup")&&(c=b.offset(),e.popup("open",{x:c.left+b.outerWidth()/2,y:c.top+b.outerHeight()/2,transition:b.jqmData("transition"),positionTo:b.jqmData("position-to")})),setTimeout(function(){b.removeClass(a.mobile.activeBtnClass)},300)},a.mobile.document.on("pagebeforechange",function(b,c){"popup"===c.options.role&&(a.mobile.popup.handleLink(c.options.link),b.preventDefault())})}(a),function(a,b){var d=".ui-disabled,.ui-state-disabled,.ui-li-divider,.ui-screen-hidden,:jqmData(role='placeholder')",e=function(a,b,c){var e=a[c+"All"]().not(d).first();e.length&&(b.blur().attr("tabindex","-1"),e.find("a").first().focus())};a.widget("mobile.selectmenu",a.mobile.selectmenu,{_create:function(){var a=this.options;return a.nativeMenu=a.nativeMenu||this.element.parents(":jqmData(role='popup'),:mobile-popup").length>0,this._super()},_handleSelectFocus:function(){this.element.blur(),this.button.focus()},_handleKeydown:function(a){this._super(a),this._handleButtonVclickKeydown(a)},_handleButtonVclickKeydown:function(b){this.options.disabled||this.isOpen||this.options.nativeMenu||("vclick"===b.type||b.keyCode&&(b.keyCode===a.mobile.keyCode.ENTER||b.keyCode===a.mobile.keyCode.SPACE))&&(this._decideFormat(),"overlay"===this.menuType?this.button.attr("href","#"+this.popupId).attr("data-"+(a.mobile.ns||"")+"rel","popup"):this.button.attr("href","#"+this.dialogId).attr("data-"+(a.mobile.ns||"")+"rel","dialog"),this.isOpen=!0)},_handleListFocus:function(b){var c="focusin"===b.type?{tabindex:"0",event:"vmouseover"}:{tabindex:"-1",event:"vmouseout"};a(b.target).attr("tabindex",c.tabindex).trigger(c.event)},_handleListKeydown:function(b){var c=a(b.target),d=c.closest("li");switch(b.keyCode){case 38:return e(d,c,"prev"),!1;case 40:return e(d,c,"next"),!1;case 13:case 32:return c.trigger("click"),!1}},_handleMenuPageHide:function(){this._delayedTrigger(),this.thisPage.page("bindRemove")},_handleHeaderCloseClick:function(){return"overlay"===this.menuType?(this.close(),!1):void 0},_handleListItemClick:function(b){var c=a(b.target).closest("li"),d=this.select[0].selectedIndex,e=a.mobile.getAttribute(c,"option-index"),f=this._selectOptions().eq(e)[0];f.selected=this.isMultiple?!f.selected:!0,this.isMultiple&&c.find("a").toggleClass("ui-checkbox-on",f.selected).toggleClass("ui-checkbox-off",!f.selected),this.isMultiple||d===e||(this._triggerChange=!0),this.isMultiple?(this.select.trigger("change"),this.list.find("li:not(.ui-li-divider)").eq(e).find("a").first().focus()):this.close(),b.preventDefault()},build:function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this.options;return v.nativeMenu?this._super():(c=this.selectId,d=c+"-listbox",e=c+"-dialog",f=this.label,g=this.element.closest(".ui-page"),h=this.element[0].multiple,i=c+"-menu",j=v.theme?" data-"+a.mobile.ns+"theme='"+v.theme+"'":"",k=v.overlayTheme||v.theme||null,l=k?" data-"+a.mobile.ns+"overlay-theme='"+k+"'":"",m=v.dividerTheme&&h?" data-"+a.mobile.ns+"divider-theme='"+v.dividerTheme+"'":"",n=a("<div data-"+a.mobile.ns+"role='dialog' class='ui-selectmenu' id='"+e+"'"+j+l+"><div data-"+a.mobile.ns+"role='header'><div class='ui-title'></div></div><div data-"+a.mobile.ns+"role='content'></div></div>"),o=a("<div"+j+l+" id='"+d+"' class='ui-selectmenu'></div>").insertAfter(this.select).popup(),p=a("<ul class='ui-selectmenu-list' id='"+i+"' role='listbox' aria-labelledby='"+this.buttonId+"'"+j+m+"></ul>").appendTo(o),q=a("<div class='ui-header ui-bar-"+(v.theme?v.theme:"inherit")+"'></div>").prependTo(o),r=a("<h1 class='ui-title'></h1>").appendTo(q),this.isMultiple&&(u=a("<a>",{role:"button",text:v.closeText,href:"#","class":"ui-btn ui-corner-all ui-btn-left ui-btn-icon-notext ui-icon-delete"}).appendTo(q)),a.extend(this,{selectId:c,menuId:i,popupId:d,dialogId:e,thisPage:g,menuPage:n,label:f,isMultiple:h,theme:v.theme,listbox:o,list:p,header:q,headerTitle:r,headerClose:u,menuPageContent:s,menuPageClose:t,placeholder:""}),this.refresh(),this._origTabIndex===b&&(this._origTabIndex=null===this.select[0].getAttribute("tabindex")?!1:this.select.attr("tabindex")),this.select.attr("tabindex","-1"),this._on(this.select,{focus:"_handleSelectFocus"}),this._on(this.button,{vclick:"_handleButtonVclickKeydown"}),this.list.attr("role","listbox"),this._on(this.list,{focusin:"_handleListFocus",focusout:"_handleListFocus",keydown:"_handleListKeydown","click li:not(.ui-disabled,.ui-state-disabled,.ui-li-divider)":"_handleListItemClick"}),this._on(this.menuPage,{pagehide:"_handleMenuPageHide"}),this._on(this.listbox,{popupafterclose:"_popupClosed"}),this.isMultiple&&this._on(this.headerClose,{click:"_handleHeaderCloseClick"}),this)},_popupClosed:function(){this.close(),this._delayedTrigger()},_delayedTrigger:function(){this._triggerChange&&this.element.trigger("change"),this._triggerChange=!1},_isRebuildRequired:function(){var a=this.list.find("li"),b=this._selectOptions().not(".ui-screen-hidden");return b.text()!==a.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(b){var c,d;return this.options.nativeMenu?this._super(b):(c=this,(b||this._isRebuildRequired())&&c._buildList(),d=this.selectedIndices(),c.setButtonText(),c.setButtonCount(),void c.list.find("li:not(.ui-li-divider)").find("a").removeClass(a.mobile.activeBtnClass).end().attr("aria-selected",!1).each(function(b){var e=a(this);a.inArray(b,d)>-1?(e.attr("aria-selected",!0),c.isMultiple?e.find("a").removeClass("ui-checkbox-off").addClass("ui-checkbox-on"):e.hasClass("ui-screen-hidden")?e.next().find("a").addClass(a.mobile.activeBtnClass):e.find("a").addClass(a.mobile.activeBtnClass)):c.isMultiple&&e.find("a").removeClass("ui-checkbox-on").addClass("ui-checkbox-off")}))},close:function(){if(!this.options.disabled&&this.isOpen){var a=this;"page"===a.menuType?(a.menuPage.dialog("close"),a.list.appendTo(a.listbox)):a.listbox.popup("close"),a._focusButton(),a.isOpen=!1}},open:function(){this.button.click()},_focusMenuItem:function(){var b=this.list.find("a."+a.mobile.activeBtnClass);0===b.length&&(b=this.list.find("li:not("+d+") a.ui-btn")),b.first().focus()},_decideFormat:function(){var b=this,c=this.window,d=b.list.parent(),e=d.outerHeight(),f=c.scrollTop(),g=b.button.offset().top,h=c.height();e>h-80||!a.support.scrollTop?(b.menuPage.appendTo(a.mobile.pageContainer).page(),b.menuPageContent=b.menuPage.find(".ui-content"),b.menuPageClose=b.menuPage.find(".ui-header a"),b.thisPage.unbind("pagehide.remove"),0===f&&g>h&&b.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",g)}),b.menuPage.one({pageshow:a.proxy(this,"_focusMenuItem"),pagehide:a.proxy(this,"close")}),b.menuType="page",b.menuPageContent.append(b.list),b.menuPage.find("div .ui-title").text(b.label.getEncodedText()||b.placeholder)):(b.menuType="overlay",b.listbox.one({popupafteropen:a.proxy(this,"_focusMenuItem")}))},_buildList:function(){var b,d,e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=this.options,s=this.placeholder,t=!0,u="false",v="data-"+a.mobile.ns,w=v+"option-index",x=v+"icon",y=v+"role",z=v+"placeholder",A=c.createDocumentFragment(),B=!1;for(q.list.empty().filter(".ui-listview").listview("destroy"),b=this._selectOptions(),d=b.length,e=this.select[0],g=0;d>g;g++,B=!1)h=b[g],i=a(h),i.hasClass("ui-screen-hidden")||(j=h.parentNode,m=[],k=i.text(),l=c.createElement("a"),l.setAttribute("href","#"),l.appendChild(c.createTextNode(k)),j!==e&&"optgroup"===j.nodeName.toLowerCase()&&(n=j.getAttribute("label"),n!==f&&(o=c.createElement("li"),o.setAttribute(y,"list-divider"),o.setAttribute("role","option"),o.setAttribute("tabindex","-1"),o.appendChild(c.createTextNode(n)),A.appendChild(o),f=n)),!t||h.getAttribute("value")&&0!==k.length&&!i.jqmData("placeholder")||(t=!1,B=!0,null===h.getAttribute(z)&&(this._removePlaceholderAttr=!0),h.setAttribute(z,!0),r.hidePlaceholderMenuItems&&m.push("ui-screen-hidden"),s!==k&&(s=q.placeholder=k)),p=c.createElement("li"),h.disabled&&(m.push("ui-state-disabled"),p.setAttribute("aria-disabled",!0)),p.setAttribute(w,g),p.setAttribute(x,u),B&&p.setAttribute(z,!0),p.className=m.join(" "),p.setAttribute("role","option"),l.setAttribute("tabindex","-1"),this.isMultiple&&a(l).addClass("ui-btn ui-checkbox-off ui-btn-icon-right"),p.appendChild(l),A.appendChild(p));q.list[0].appendChild(A),this.isMultiple||s.length?this.headerTitle.text(this.placeholder):this.header.addClass("ui-screen-hidden"),q.list.listview()},_button:function(){return this.options.nativeMenu?this._super():a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.options.nativeMenu||(this.close(),this._origTabIndex!==b&&(this._origTabIndex!==!1?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+a.mobile.ns+"placeholder"),this.listbox.remove(),this.menuPage.remove()),this._super()}})}(a),function(a,b){function c(a,b){var c=b?b:[];return c.push("ui-btn"),a.theme&&c.push("ui-btn-"+a.theme),a.icon&&(c=c.concat(["ui-icon-"+a.icon,"ui-btn-icon-"+a.iconpos]),a.iconshadow&&c.push("ui-shadow-icon")),a.inline&&c.push("ui-btn-inline"),a.shadow&&c.push("ui-shadow"),a.corners&&c.push("ui-corner-all"),a.mini&&c.push("ui-mini"),c}function d(a){var c,d,e,g=!1,h=!0,i={icon:"",inline:!1,shadow:!1,corners:!1,iconshadow:!1,mini:!1},j=[];for(a=a.split(" "),c=0;c<a.length;c++)e=!0,d=f[a[c]],d!==b?(e=!1,i[d]=!0):0===a[c].indexOf("ui-btn-icon-")?(e=!1,h=!1,i.iconpos=a[c].substring(12)):0===a[c].indexOf("ui-icon-")?(e=!1,i.icon=a[c].substring(8)):0===a[c].indexOf("ui-btn-")&&8===a[c].length?(e=!1,i.theme=a[c].substring(7)):"ui-btn"===a[c]&&(e=!1,g=!0),e&&j.push(a[c]);return h&&(i.icon=""),{options:i,unknownClasses:j,alreadyEnhanced:g}}function e(a){return"-"+a.toLowerCase()}var f={"ui-shadow":"shadow","ui-corner-all":"corners","ui-btn-inline":"inline","ui-shadow-icon":"iconshadow","ui-mini":"mini"},g=function(){var c=a.mobile.getAttribute.apply(this,arguments);return null==c?b:c},h=/[A-Z]/g;a.fn.buttonMarkup=function(f,i){var j,k,l,m,n,o=a.fn.buttonMarkup.defaults;for(j=0;j<this.length;j++){if(l=this[j],k=i?{alreadyEnhanced:!1,unknownClasses:[]}:d(l.className),m=a.extend({},k.alreadyEnhanced?k.options:{},f),!k.alreadyEnhanced)for(n in o)m[n]===b&&(m[n]=g(l,n.replace(h,e)));l.className=c(a.extend({},o,m),k.unknownClasses).join(" "),"button"!==l.tagName.toLowerCase()&&l.setAttribute("role","button")}return this},a.fn.buttonMarkup.defaults={icon:"",iconpos:"left",theme:null,inline:!1,shadow:!0,corners:!0,iconshadow:!1,mini:!1},a.extend(a.fn.buttonMarkup,{initSelector:"a:jqmData(role='button'), .ui-bar > a, .ui-bar > :jqmData(role='controlgroup') > a, button:not(:jqmData(role='navbar') button)"})}(a),function(a,b){a.widget("mobile.controlgroup",a.extend({options:{enhanced:!1,theme:null,shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1},_create:function(){var b=this.element,c=this.options,d=a.mobile.page.prototype.keepNativeSelector();a.fn.buttonMarkup&&this.element.find(a.fn.buttonMarkup.initSelector).not(d).buttonMarkup(),a.each(this._childWidgets,a.proxy(function(b,c){a.mobile[c]&&this.element.find(a.mobile[c].initSelector).not(d)[c]()},this)),a.extend(this,{_ui:null,_initialRefresh:!0}),this._ui=c.enhanced?{groupLegend:b.children(".ui-controlgroup-label").children(),childWrapper:b.children(".ui-controlgroup-controls")}:this._enhance()},_childWidgets:["checkboxradio","selectmenu","button"],_themeClassFromOption:function(a){return a?"none"===a?"":"ui-group-theme-"+a:""},_enhance:function(){var b=this.element,c=this.options,d={groupLegend:b.children("legend"),childWrapper:b.addClass("ui-controlgroup ui-controlgroup-"+("horizontal"===c.type?"horizontal":"vertical")+" "+this._themeClassFromOption(c.theme)+" "+(c.corners?"ui-corner-all ":"")+(c.mini?"ui-mini ":"")).wrapInner("<div class='ui-controlgroup-controls "+(c.shadow===!0?"ui-shadow":"")+"'></div>").children()};return d.groupLegend.length>0&&a("<div role='heading' class='ui-controlgroup-label'></div>").append(d.groupLegend).prependTo(b),d},_init:function(){this.refresh()},_setOptions:function(a){var c,d,e=this.element;return a.type!==b&&(e.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+("horizontal"===a.type?"horizontal":"vertical")),c=!0),a.theme!==b&&e.removeClass(this._themeClassFromOption(this.options.theme)).addClass(this._themeClassFromOption(a.theme)),a.corners!==b&&e.toggleClass("ui-corner-all",a.corners),a.mini!==b&&e.toggleClass("ui-mini",a.mini),a.shadow!==b&&this._ui.childWrapper.toggleClass("ui-shadow",a.shadow),a.excludeInvisible!==b&&(this.options.excludeInvisible=a.excludeInvisible,c=!0),d=this._super(a),c&&this.refresh(),d},container:function(){return this._ui.childWrapper},refresh:function(){var b=this.container(),c=b.find(".ui-btn").not(".ui-slider-handle"),d=this._initialRefresh;a.mobile.checkboxradio&&b.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(c,this.options.excludeInvisible?this._getVisibles(c,d):c,d),this._initialRefresh=!1},_destroy:function(){var a,b,c=this.options;return c.enhanced?this:(a=this._ui,b=this.element.removeClass("ui-controlgroup ui-controlgroup-horizontal ui-controlgroup-vertical ui-corner-all ui-mini "+this._themeClassFromOption(c.theme)).find(".ui-btn").not(".ui-slider-handle"),this._removeFirstLastClasses(b),a.groupLegend.unwrap(),void a.childWrapper.children().unwrap())}},a.mobile.behaviors.addFirstLastClasses))}(a),function(a,b){a.widget("mobile.toolbar",{initSelector:":jqmData(role='footer'), :jqmData(role='header')",options:{theme:null,addBackBtn:!1,backBtnTheme:null,backBtnText:"Back"},_create:function(){var b,c,d=this.element.is(":jqmData(role='header')")?"header":"footer",e=this.element.closest(".ui-page");0===e.length&&(e=!1,this._on(this.document,{pageshow:"refresh"})),a.extend(this,{role:d,page:e,leftbtn:b,rightbtn:c}),this.element.attr("role","header"===d?"banner":"contentinfo").addClass("ui-"+d),this.refresh(),this._setOptions(this.options)},_setOptions:function(a){if(a.addBackBtn!==b&&this._updateBackButton(),null!=a.backBtnTheme&&this.element.find(".ui-toolbar-back-btn").addClass("ui-btn ui-btn-"+a.backBtnTheme),a.backBtnText!==b&&this.element.find(".ui-toolbar-back-btn .ui-btn-text").text(a.backBtnText),a.theme!==b){var c=this.options.theme?this.options.theme:"inherit",d=a.theme?a.theme:"inherit";this.element.removeClass("ui-bar-"+c).addClass("ui-bar-"+d)}this._super(a)},refresh:function(){"header"===this.role&&this._addHeaderButtonClasses(),this.page||(this._setRelative(),"footer"===this.role?this.element.appendTo("body"):"header"===this.role&&this._updateBackButton()),this._addHeadingClasses(),this._btnMarkup()},_setRelative:function(){a("[data-"+a.mobile.ns+"role='page']").css({position:"relative"})},_btnMarkup:function(){this.element.children("a").filter(":not([data-"+a.mobile.ns+"role='none'])").attr("data-"+a.mobile.ns+"role","button"),this.element.trigger("create")},_addHeaderButtonClasses:function(){var a=this.element.children("a, button");this.leftbtn=a.hasClass("ui-btn-left")&&!a.hasClass("ui-toolbar-back-btn"),this.rightbtn=a.hasClass("ui-btn-right"),this.leftbtn=this.leftbtn||a.eq(0).not(".ui-btn-right,.ui-toolbar-back-btn").addClass("ui-btn-left").length,this.rightbtn=this.rightbtn||a.eq(1).addClass("ui-btn-right").length},_updateBackButton:function(){var b,c=this.options,d=c.backBtnTheme||c.theme;b=this._backButton=this._backButton||{},this.options.addBackBtn&&"header"===this.role&&a(".ui-page").length>1&&(this.page?this.page[0].getAttribute("data-"+a.mobile.ns+"url")!==a.mobile.path.stripHash(location.hash):a.mobile.navigate&&a.mobile.navigate.history&&a.mobile.navigate.history.activeIndex>0)&&!this.leftbtn?b.attached||(this.backButton=b.element=(b.element||a("<a role='button' href='javascript:void(0);' class='ui-btn ui-corner-all ui-shadow ui-btn-left "+(d?"ui-btn-"+d+" ":"")+"ui-toolbar-back-btn ui-icon-carat-l ui-btn-icon-left' data-"+a.mobile.ns+"rel='back'>"+c.backBtnText+"</a>")).prependTo(this.element),b.attached=!0):b.element&&(b.element.detach(),b.attached=!1)},_addHeadingClasses:function(){this.element.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})},_destroy:function(){var a;this.element.children("h1, h2, h3, h4, h5, h6").removeClass("ui-title").removeAttr("role").removeAttr("aria-level"),"header"===this.role&&(this.element.children("a, button").removeClass("ui-btn-left ui-btn-right ui-btn ui-shadow ui-corner-all"),this.backButton&&this.backButton.remove()),a=this.options.theme?this.options.theme:"inherit",this.element.removeClass("ui-bar-"+a),this.element.removeClass("ui-"+this.role).removeAttr("role")}})}(a),function(a,b){a.widget("mobile.toolbar",a.mobile.toolbar,{options:{position:null,visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-flipswitch, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!a.support.fixedPosition}},_create:function(){this._super(),this.pagecontainer=a(":mobile-pagecontainer"),"fixed"!==this.options.position||this.options.supportBlacklist()||this._makeFixed()},_makeFixed:function(){this.element.addClass("ui-"+this.role+"-fixed"),this.updatePagePadding(),this._addTransitionClass(),this._bindPageEvents(),this._bindToggleHandlers()},_setOptions:function(c){if("fixed"===c.position&&"fixed"!==this.options.position&&this._makeFixed(),"fixed"===this.options.position&&!this.options.supportBlacklist()){var d=this.page?this.page:a(".ui-page-active").length>0?a(".ui-page-active"):a(".ui-page").eq(0);c.fullscreen!==b&&(c.fullscreen?(this.element.addClass("ui-"+this.role+"-fullscreen"),d.addClass("ui-page-"+this.role+"-fullscreen")):(this.element.removeClass("ui-"+this.role+"-fullscreen"),d.removeClass("ui-page-"+this.role+"-fullscreen").addClass("ui-page-"+this.role+"-fixed")))}this._super(c)},_addTransitionClass:function(){var a=this.options.transition;a&&"none"!==a&&("slide"===a&&(a=this.element.hasClass("ui-header")?"slidedown":"slideup"),this.element.addClass(a))},_bindPageEvents:function(){var a=this.page?this.element.closest(".ui-page"):this.document;this._on(a,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var b=this.options;b.disablePageZoom&&a.mobile.zoom.disable(!0),b.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this.page?this.page:".ui-page-active")},_handlePageShow:function(){this.updatePagePadding(this.page?this.page:".ui-page-active"),this.options.updatePagePadding&&this._on(this.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(b,c){var d,e,f,g,h=this.options;h.disablePageZoom&&a.mobile.zoom.enable(!0),h.updatePagePadding&&this._off(this.window,"throttledresize"),h.trackPersistentToolbars&&(d=a(".ui-footer-fixed:jqmData(id)",this.page),e=a(".ui-header-fixed:jqmData(id)",this.page),f=d.length&&c.nextPage&&a(".ui-footer-fixed:jqmData(id='"+d.jqmData("id")+"')",c.nextPage)||a(),g=e.length&&c.nextPage&&a(".ui-header-fixed:jqmData(id='"+e.jqmData("id")+"')",c.nextPage)||a(),(f.length||g.length)&&(f.add(g).appendTo(a.mobile.pageContainer),c.nextPage.one("pageshow",function(){g.prependTo(this),f.appendTo(this)})))},_visible:!0,updatePagePadding:function(c){var d=this.element,e="header"===this.role,f=parseFloat(d.css(e?"top":"bottom"));this.options.fullscreen||(c=c&&c.type===b&&c||this.page||d.closest(".ui-page"),c=this.page?this.page:".ui-page-active",a(c).css("padding-"+(e?"top":"bottom"),d.outerHeight()+f))},_useTransition:function(b){var c=this.window,d=this.element,e=c.scrollTop(),f=d.height(),g=this.page?d.closest(".ui-page").height():a(".ui-page-active").height(),h=a.mobile.getScreenHeight();return!b&&(this.options.transition&&"none"!==this.options.transition&&("header"===this.role&&!this.options.fullscreen&&e>f||"footer"===this.role&&!this.options.fullscreen&&g-f>e+h)||this.options.fullscreen)},show:function(a){var b="ui-fixed-hidden",c=this.element;this._useTransition(a)?c.removeClass("out "+b).addClass("in").animationComplete(function(){c.removeClass("in")}):c.removeClass(b),this._visible=!0},hide:function(a){var b="ui-fixed-hidden",c=this.element,d="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(a)?c.addClass(d).removeClass("in").animationComplete(function(){c.addClass(b).removeClass(d)}):c.addClass(b).removeClass(d),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var b,c,d=this,e=d.options,f=!0,g=this.page?this.page:a(".ui-page");g.bind("vclick",function(b){e.tapToggle&&!a(b.target).closest(e.tapToggleBlacklist).length&&d.toggle()}).bind("focusin focusout",function(g){screen.width<1025&&a(g.target).is(e.hideDuringFocus)&&!a(g.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==g.type||f?"focusin"===g.type&&f&&(clearTimeout(b),f=!1,c=setTimeout(function(){d.hide()},0)):(f=!0,clearTimeout(c),b=setTimeout(function(){d.show()},0)))})},_setRelative:function(){"fixed"!==this.options.position&&a("[data-"+a.mobile.ns+"role='page']").css({position:"relative"})},_destroy:function(){var b,c,d,e,f,g=this.pagecontainer.pagecontainer("getActivePage");this._super(),"fixed"===this.options.position&&(d=a("body>.ui-"+this.role+"-fixed").add(g.find(".ui-"+this.options.role+"-fixed")).not(this.element).length>0,f=a("body>.ui-"+this.role+"-fixed").add(g.find(".ui-"+this.options.role+"-fullscreen")).not(this.element).length>0,c="ui-header-fixed ui-footer-fixed ui-header-fullscreen in out ui-footer-fullscreen fade slidedown slideup ui-fixed-hidden",this.element.removeClass(c),f||(b="ui-page-"+this.role+"-fullscreen"),d||(e="header"===this.role,b+=" ui-page-"+this.role+"-fixed",g.css("padding-"+(e?"top":"bottom"),"")),g.removeClass(b))
}})}(a),function(a){a.widget("mobile.toolbar",a.mobile.toolbar,{_makeFixed:function(){this._super(),this._workarounds()},_workarounds:function(){var a=navigator.userAgent,b=navigator.platform,c=a.match(/AppleWebKit\/([0-9]+)/),d=!!c&&c[1],e=null,f=this;if(b.indexOf("iPhone")>-1||b.indexOf("iPad")>-1||b.indexOf("iPod")>-1)e="ios";else{if(!(a.indexOf("Android")>-1))return;e="android"}if("ios"===e)f._bindScrollWorkaround();else{if(!("android"===e&&d&&534>d))return;f._bindScrollWorkaround(),f._bindListThumbWorkaround()}},_viewportOffset:function(){var a=this.element,b=a.hasClass("ui-header"),c=Math.abs(a.offset().top-this.window.scrollTop());return b||(c=Math.round(c-this.window.height()+a.outerHeight())-60),c},_bindScrollWorkaround:function(){var a=this;this._on(this.window,{scrollstop:function(){var b=a._viewportOffset();b>2&&a._visible&&a._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var b=parseFloat(a(".ui-page-active").css("padding-bottom"));a(".ui-page-active").css("padding-bottom",b+1+"px"),setTimeout(function(){a(".ui-page-active").css("padding-bottom",b+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(a),function(a,b){function c(){var a=e.clone(),b=a.eq(0),c=a.eq(1),d=c.children();return{arEls:c.add(b),gd:b,ct:c,ar:d}}var d=a.mobile.browser.oldIE&&a.mobile.browser.oldIE<=8,e=a("<div class='ui-popup-arrow-guide'></div><div class='ui-popup-arrow-container"+(d?" ie":"")+"'><div class='ui-popup-arrow'></div></div>");a.widget("mobile.popup",a.mobile.popup,{options:{arrow:""},_create:function(){var a,b=this._super();return this.options.arrow&&(this._ui.arrow=a=this._addArrow()),b},_addArrow:function(){var a,b=this.options,d=c();return a=this._themeClassFromOption("ui-body-",b.theme),d.ar.addClass(a+(b.shadow?" ui-overlay-shadow":"")),d.arEls.hide().appendTo(this.element),d},_unenhance:function(){var a=this._ui.arrow;return a&&a.arEls.remove(),this._super()},_tryAnArrow:function(a,b,c,d,e){var f,g,h,i={},j={};return d.arFull[a.dimKey]>d.guideDims[a.dimKey]?e:(i[a.fst]=c[a.fst]+(d.arHalf[a.oDimKey]+d.menuHalf[a.oDimKey])*a.offsetFactor-d.contentBox[a.fst]+(d.clampInfo.menuSize[a.oDimKey]-d.contentBox[a.oDimKey])*a.arrowOffsetFactor,i[a.snd]=c[a.snd],f=d.result||this._calculateFinalLocation(i,d.clampInfo),g={x:f.left,y:f.top},j[a.fst]=g[a.fst]+d.contentBox[a.fst]+a.tipOffset,j[a.snd]=Math.max(f[a.prop]+d.guideOffset[a.prop]+d.arHalf[a.dimKey],Math.min(f[a.prop]+d.guideOffset[a.prop]+d.guideDims[a.dimKey]-d.arHalf[a.dimKey],c[a.snd])),h=Math.abs(c.x-j.x)+Math.abs(c.y-j.y),(!e||h<e.diff)&&(j[a.snd]-=d.arHalf[a.dimKey]+f[a.prop]+d.contentBox[a.snd],e={dir:b,diff:h,result:f,posProp:a.prop,posVal:j[a.snd]}),e)},_getPlacementState:function(a){var b,c,d=this._ui.arrow,e={clampInfo:this._clampPopupWidth(!a),arFull:{cx:d.ct.width(),cy:d.ct.height()},guideDims:{cx:d.gd.width(),cy:d.gd.height()},guideOffset:d.gd.offset()};return b=this.element.offset(),d.gd.css({left:0,top:0,right:0,bottom:0}),c=d.gd.offset(),e.contentBox={x:c.left-b.left,y:c.top-b.top,cx:d.gd.width(),cy:d.gd.height()},d.gd.removeAttr("style"),e.guideOffset={left:e.guideOffset.left-b.left,top:e.guideOffset.top-b.top},e.arHalf={cx:e.arFull.cx/2,cy:e.arFull.cy/2},e.menuHalf={cx:e.clampInfo.menuSize.cx/2,cy:e.clampInfo.menuSize.cy/2},e},_placementCoords:function(b){var c,e,f,g,h,i=this.options.arrow,j=this._ui.arrow;return j?(j.arEls.show(),h={},c=this._getPlacementState(!0),f={l:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:1,tipOffset:-c.arHalf.cx,arrowOffsetFactor:0},r:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:-1,tipOffset:c.arHalf.cx+c.contentBox.cx,arrowOffsetFactor:1},b:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:-1,tipOffset:c.arHalf.cy+c.contentBox.cy,arrowOffsetFactor:1},t:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:1,tipOffset:-c.arHalf.cy,arrowOffsetFactor:0}},a.each((i===!0?"l,t,r,b":i).split(","),a.proxy(function(a,d){e=this._tryAnArrow(f[d],d,b,c,e)},this)),e?(j.ct.removeClass("ui-popup-arrow-l ui-popup-arrow-t ui-popup-arrow-r ui-popup-arrow-b").addClass("ui-popup-arrow-"+e.dir).removeAttr("style").css(e.posProp,e.posVal).show(),d||(g=this.element.offset(),h[f[e.dir].fst]=j.ct.offset(),h[f[e.dir].snd]={left:g.left+c.contentBox.x,top:g.top+c.contentBox.y}),e.result):(j.arEls.hide(),this._super(b))):this._super(b)},_setOptions:function(a){var c,d=this.options.theme,e=this._ui.arrow,f=this._super(a);if(a.arrow!==b){if(!e&&a.arrow)return void(this._ui.arrow=this._addArrow());e&&!a.arrow&&(e.arEls.remove(),this._ui.arrow=null)}return e=this._ui.arrow,e&&(a.theme!==b&&(d=this._themeClassFromOption("ui-body-",d),c=this._themeClassFromOption("ui-body-",a.theme),e.ar.removeClass(d).addClass(c)),a.shadow!==b&&e.ar.toggleClass("ui-overlay-shadow",a.shadow)),f},_destroy:function(){var a=this._ui.arrow;return a&&a.arEls.remove(),this._super()}})}(a),function(a,c){a.widget("mobile.panel",{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pageContainer:"ui-panel-page-container",pageWrapper:"ui-panel-wrapper",pageFixedToolbar:"ui-panel-fixed-toolbar",pageContentPrefix:"ui-panel-page-content",animate:"ui-panel-animate"},animate:!0,theme:null,position:"left",dismissible:!0,display:"reveal",swipeClose:!0,positionFixed:!1},_closeLink:null,_parentPage:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbars:null,_create:function(){var b=this.element,c=b.closest(".ui-page, :jqmData(role='page')");a.extend(this,{_closeLink:b.find(":jqmData(rel='close')"),_parentPage:c.length>0?c:!1,_openedPage:null,_page:this._getPage,_panelInner:this._getPanelInner(),_fixedToolbars:this._getFixedToolbars}),"overlay"!==this.options.display&&this._getWrapper(),this._addPanelClasses(),a.support.cssTransform3d&&this.options.animate&&this.element.addClass(this.options.classes.animate),this._bindUpdateLayout(),this._bindCloseEvents(),this._bindLinkListeners(),this._bindPageEvents(),this.options.dismissible&&this._createModal(),this._bindSwipeEvents()},_getPanelInner:function(){var a=this.element.find("."+this.options.classes.panelInner);return 0===a.length&&(a=this.element.children().wrapAll("<div class='"+this.options.classes.panelInner+"' />").parent()),a},_createModal:function(){var b=this,c=b._parentPage?b._parentPage.parent():b.element.parent();b._modal=a("<div class='"+b.options.classes.modal+"'></div>").on("mousedown",function(){b.close()}).appendTo(c)},_getPage:function(){var b=this._openedPage||this._parentPage||a("."+a.mobile.activePageClass);return b},_getWrapper:function(){var a=this._page().find("."+this.options.classes.pageWrapper);0===a.length&&(a=this._page().children(".ui-header:not(.ui-header-fixed), .ui-content:not(.ui-popup), .ui-footer:not(.ui-footer-fixed)").wrapAll("<div class='"+this.options.classes.pageWrapper+"'></div>").parent()),this._wrapper=a},_getFixedToolbars:function(){var b=a("body").children(".ui-header-fixed, .ui-footer-fixed"),c=this._page().find(".ui-header-fixed, .ui-footer-fixed"),d=b.add(c).addClass(this.options.classes.pageFixedToolbar);return d},_getPosDisplayClasses:function(a){return a+"-position-"+this.options.position+" "+a+"-display-"+this.options.display},_getPanelClasses:function(){var a=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed+" ui-body-"+(this.options.theme?this.options.theme:"inherit");return this.options.positionFixed&&(a+=" "+this.options.classes.panelFixed),a},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_handleCloseClick:function(a){a.isDefaultPrevented()||this.close()},_bindCloseEvents:function(){this._on(this._closeLink,{click:"_handleCloseClick"}),this._on({"click a:jqmData(ajax='false')":"_handleCloseClick"})},_positionPanel:function(b){var c=this,d=c._panelInner.outerHeight(),e=d>a.mobile.getScreenHeight();e||!c.options.positionFixed?(e&&(c._unfixPanel(),a.mobile.resetActivePageHeight(d)),b&&this.window[0].scrollTo(0,a.mobile.defaultHomeScroll)):c._fixPanel()},_bindFixListener:function(){this._on(a(b),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(a(b),"throttledresize")},_unfixPanel:function(){this.options.positionFixed&&a.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){this.options.positionFixed&&a.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var a=this;a.element.on("updatelayout",function(){a._open&&a._positionPanel()})},_bindLinkListeners:function(){this._on("body",{"click a":"_handleClick"})},_handleClick:function(b){var d,e=this.element.attr("id");b.currentTarget.href.split("#")[1]===e&&e!==c&&(b.preventDefault(),d=a(b.target),d.hasClass("ui-btn")&&(d.addClass(a.mobile.activeBtnClass),this.element.one("panelopen panelclose",function(){d.removeClass(a.mobile.activeBtnClass)})),this.toggle())},_bindSwipeEvents:function(){var a=this,b=a._modal?a.element.add(a._modal):a.element;a.options.swipeClose&&("left"===a.options.position?b.on("swipeleft.panel",function(){a.close()}):b.on("swiperight.panel",function(){a.close()}))},_bindPageEvents:function(){var a=this;this.document.on("panelbeforeopen",function(b){a._open&&b.target!==a.element[0]&&a.close()}).on("keyup.panel",function(b){27===b.keyCode&&a._open&&a.close()}),this._parentPage||"overlay"===this.options.display||this._on(this.document,{pageshow:function(){this._openedPage=null,this._getWrapper()}}),a._parentPage?this.document.on("pagehide",":jqmData(role='page')",function(){a._open&&a.close(!0)}):this.document.on("pagebeforehide",function(){a._open&&a.close(!0)})},_open:!1,_pageContentOpenClasses:null,_modalOpenClasses:null,open:function(b){if(!this._open){var c=this,d=c.options,e=function(){c._off(c.document,"panelclose"),c._page().jqmData("panel","open"),a.support.cssTransform3d&&d.animate&&"overlay"!==d.display&&(c._wrapper.addClass(d.classes.animate),c._fixedToolbars().addClass(d.classes.animate)),!b&&a.support.cssTransform3d&&d.animate?(c._wrapper||c.element).animationComplete(f,"transition"):setTimeout(f,0),d.theme&&"overlay"!==d.display&&c._page().parent().addClass(d.classes.pageContainer+"-themed "+d.classes.pageContainer+"-"+d.theme),c.element.removeClass(d.classes.panelClosed).addClass(d.classes.panelOpen),c._positionPanel(!0),c._pageContentOpenClasses=c._getPosDisplayClasses(d.classes.pageContentPrefix),"overlay"!==d.display&&(c._page().parent().addClass(d.classes.pageContainer),c._wrapper.addClass(c._pageContentOpenClasses),c._fixedToolbars().addClass(c._pageContentOpenClasses)),c._modalOpenClasses=c._getPosDisplayClasses(d.classes.modal)+" "+d.classes.modalOpen,c._modal&&c._modal.addClass(c._modalOpenClasses).height(Math.max(c._modal.height(),c.document.height()))},f=function(){c._open&&("overlay"!==d.display&&(c._wrapper.addClass(d.classes.pageContentPrefix+"-open"),c._fixedToolbars().addClass(d.classes.pageContentPrefix+"-open")),c._bindFixListener(),c._trigger("open"),c._openedPage=c._page())};c._trigger("beforeopen"),"open"===c._page().jqmData("panel")?c._on(c.document,{panelclose:e}):e(),c._open=!0}},close:function(b){if(this._open){var c=this,d=this.options,e=function(){c.element.removeClass(d.classes.panelOpen),"overlay"!==d.display&&(c._wrapper.removeClass(c._pageContentOpenClasses),c._fixedToolbars().removeClass(c._pageContentOpenClasses)),!b&&a.support.cssTransform3d&&d.animate?(c._wrapper||c.element).animationComplete(f,"transition"):setTimeout(f,0),c._modal&&c._modal.removeClass(c._modalOpenClasses).height("")},f=function(){d.theme&&"overlay"!==d.display&&c._page().parent().removeClass(d.classes.pageContainer+"-themed "+d.classes.pageContainer+"-"+d.theme),c.element.addClass(d.classes.panelClosed),"overlay"!==d.display&&(c._page().parent().removeClass(d.classes.pageContainer),c._wrapper.removeClass(d.classes.pageContentPrefix+"-open"),c._fixedToolbars().removeClass(d.classes.pageContentPrefix+"-open")),a.support.cssTransform3d&&d.animate&&"overlay"!==d.display&&(c._wrapper.removeClass(d.classes.animate),c._fixedToolbars().removeClass(d.classes.animate)),c._fixPanel(),c._unbindFixListener(),a.mobile.resetActivePageHeight(),c._page().jqmRemoveData("panel"),c._trigger("close"),c._openedPage=null};c._trigger("beforeclose"),e(),c._open=!1}},toggle:function(){this[this._open?"close":"open"]()},_destroy:function(){var b,c=this.options,d=a("body > :mobile-panel").length+a.mobile.activePage.find(":mobile-panel").length>1;"overlay"!==c.display&&(b=a("body > :mobile-panel").add(a.mobile.activePage.find(":mobile-panel")),0===b.not(".ui-panel-display-overlay").not(this.element).length&&this._wrapper.children().unwrap(),this._open&&(this._fixedToolbars().removeClass(c.classes.pageContentPrefix+"-open"),a.support.cssTransform3d&&c.animate&&this._fixedToolbars().removeClass(c.classes.animate),this._page().parent().removeClass(c.classes.pageContainer),c.theme&&this._page().parent().removeClass(c.classes.pageContainer+"-themed "+c.classes.pageContainer+"-"+c.theme))),d||this.document.off("panelopen panelclose"),this._open&&this._page().jqmRemoveData("panel"),this._panelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),c.classes.panelOpen,c.classes.animate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._modal&&this._modal.remove()}})}(a),function(a,b){a.widget("mobile.table",{options:{classes:{table:"ui-table"},enhanced:!1},_create:function(){this.options.enhanced||this.element.addClass(this.options.classes.table),a.extend(this,{headers:b,allHeaders:b}),this._refresh(!0)},_setHeaders:function(){var a=this.element.find("thead tr");this.headers=this.element.find("tr:eq(0)").children(),this.allHeaders=this.headers.add(a.children())},refresh:function(){this._refresh()},rebuild:a.noop,_refresh:function(){var b=this.element,c=b.find("thead tr");this._setHeaders(),c.each(function(){var d=0;a(this).children().each(function(){var e,f=parseInt(this.getAttribute("colspan"),10),g=":nth-child("+(d+1)+")";if(this.setAttribute("data-"+a.mobile.ns+"colstart",d+1),f)for(e=0;f-1>e;e++)d++,g+=", :nth-child("+(d+1)+")";a(this).jqmData("cells",b.find("tr").not(c.eq(0)).not(this).children(g)),d++})})}})}(a),function(a){a.widget("mobile.table",a.mobile.table,{options:{mode:"columntoggle",columnBtnTheme:null,columnPopupTheme:null,columnBtnText:"Columns...",classes:a.extend(a.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"})},_create:function(){this._super(),"columntoggle"===this.options.mode&&(a.extend(this,{_menu:null}),this.options.enhanced?(this._menu=a(this.document[0].getElementById(this._id()+"-popup")).children().first(),this._addToggles(this._menu,!0)):(this._menu=this._enhanceColToggle(),this.element.addClass(this.options.classes.columnToggleTable)),this._setupEvents(),this._setToggleState())},_id:function(){return this.element.attr("id")||this.widgetName+this.uuid},_setupEvents:function(){this._on(this.window,{throttledresize:"_setToggleState"}),this._on(this._menu,{"change input":"_menuInputChange"})},_addToggles:function(b,c){var d,e=0,f=this.options,g=b.controlgroup("container");c?d=b.find("input"):g.empty(),this.headers.not("td").each(function(){var b,h,i=a(this),j=a.mobile.getAttribute(this,"priority");j&&(h=i.add(i.jqmData("cells")),h.addClass(f.classes.priorityPrefix+j),b=(c?d.eq(e++):a("<label><input type='checkbox' checked />"+(i.children("abbr").first().attr("title")||i.text())+"</label>").appendTo(g).children(0).checkboxradio({theme:f.columnPopupTheme})).jqmData("header",i).jqmData("cells",h),i.jqmData("input",b))}),c||b.controlgroup("refresh")},_menuInputChange:function(b){var c=a(b.target),d=c[0].checked;c.jqmData("cells").toggleClass("ui-table-cell-hidden",!d).toggleClass("ui-table-cell-visible",d)},_unlockCells:function(a){a.removeClass("ui-table-cell-hidden ui-table-cell-visible")},_enhanceColToggle:function(){var b,c,d,e,f=this.element,g=this.options,h=a.mobile.ns,i=this.document[0].createDocumentFragment();return b=this._id()+"-popup",c=a("<a href='#"+b+"' class='"+g.classes.columnBtn+" ui-btn ui-btn-"+(g.columnBtnTheme||"a")+" ui-corner-all ui-shadow ui-mini' data-"+h+"rel='popup'>"+g.columnBtnText+"</a>"),d=a("<div class='"+g.classes.popup+"' id='"+b+"'></div>"),e=a("<fieldset></fieldset>").controlgroup(),this._addToggles(e,!1),e.appendTo(d),i.appendChild(d[0]),i.appendChild(c[0]),f.before(i),d.popup(),e},rebuild:function(){this._super(),"columntoggle"===this.options.mode&&this._refresh(!1)},_refresh:function(b){var c,d,e;if(this._super(b),!b&&"columntoggle"===this.options.mode)for(c=this.headers,d=[],this._menu.find("input").each(function(){var b=a(this),e=b.jqmData("header"),f=c.index(e[0]);f>-1&&!b.prop("checked")&&d.push(f)}),this._unlockCells(this.element.find(".ui-table-cell-hidden, .ui-table-cell-visible")),this._addToggles(this._menu,b),e=d.length-1;e>-1;e--)c.eq(d[e]).jqmData("input").prop("checked",!1).checkboxradio("refresh").trigger("change")},_setToggleState:function(){this._menu.find("input").each(function(){var b=a(this);this.checked="table-cell"===b.jqmData("cells").eq(0).css("display"),b.checkboxradio("refresh")})},_destroy:function(){this._super()}})}(a),function(a){a.widget("mobile.table",a.mobile.table,{options:{mode:"reflow",classes:a.extend(a.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"})},_create:function(){this._super(),"reflow"===this.options.mode&&(this.options.enhanced||(this.element.addClass(this.options.classes.reflowTable),this._updateReflow()))},rebuild:function(){this._super(),"reflow"===this.options.mode&&this._refresh(!1)},_refresh:function(a){this._super(a),a||"reflow"!==this.options.mode||this._updateReflow()},_updateReflow:function(){var b=this,c=this.options;a(b.allHeaders.get().reverse()).each(function(){var d,e,f=a(this).jqmData("cells"),g=a.mobile.getAttribute(this,"colstart"),h=f.not(this).filter("thead th").length&&" ui-table-cell-label-top",i=a(this).clone().contents();i.length>0&&(h?(d=parseInt(this.getAttribute("colspan"),10),e="",d&&(e="td:nth-child("+d+"n + "+g+")"),b._addLabels(f.filter(e),c.classes.cellLabels+h,i)):b._addLabels(f,c.classes.cellLabels,i))})},_addLabels:function(b,c,d){1===d.length&&"abbr"===d[0].nodeName.toLowerCase()&&(d=d.eq(0).attr("title")),b.not(":has(b."+c+")").prepend(a("<b class='"+c+"'></b>").append(d))}})}(a),function(a,c){var d=function(b,c){return-1===(""+(a.mobile.getAttribute(this,"filtertext")||a(this).text())).toLowerCase().indexOf(c)};a.widget("mobile.filterable",{initSelector:":jqmData(filter='true')",options:{filterReveal:!1,filterCallback:d,enhanced:!1,input:null,children:"> li, > option, > optgroup option, > tbody tr, > .ui-controlgroup-controls > .ui-btn, > .ui-controlgroup-controls > .ui-checkbox, > .ui-controlgroup-controls > .ui-radio"},_create:function(){var b=this.options;a.extend(this,{_search:null,_timer:0}),this._setInput(b.input),b.enhanced||this._filterItems((this._search&&this._search.val()||"").toLowerCase())},_onKeyUp:function(){var c,d,e=this._search;if(e){if(c=e.val().toLowerCase(),d=a.mobile.getAttribute(e[0],"lastval")+"",d&&d===c)return;this._timer&&(b.clearTimeout(this._timer),this._timer=0),this._timer=this._delay(function(){return this._trigger("beforefilter",null,{input:e})===!1?!1:(e[0].setAttribute("data-"+a.mobile.ns+"lastval",c),this._filterItems(c),void(this._timer=0))},250)}},_getFilterableItems:function(){var b=this.element,c=this.options.children,d=c?a.isFunction(c)?c():c.nodeName?a(c):c.jquery?c:this.element.find(c):{length:0};return 0===d.length&&(d=b.children()),d},_filterItems:function(b){var c,e,f,g,h=[],i=[],j=this.options,k=this._getFilterableItems();if(null!=b)for(e=j.filterCallback||d,f=k.length,c=0;f>c;c++)g=e.call(k[c],c,b)?i:h,g.push(k[c]);0===i.length?k[j.filterReveal&&0===b.length?"addClass":"removeClass"]("ui-screen-hidden"):(a(i).addClass("ui-screen-hidden"),a(h).removeClass("ui-screen-hidden")),this._refreshChildWidget(),this._trigger("filter",null,{items:k})},_refreshChildWidget:function(){var b,c,d=["collapsibleset","selectmenu","controlgroup","listview"];for(c=d.length-1;c>-1;c--)b=d[c],a.mobile[b]&&(b=this.element.data("mobile-"+b),b&&a.isFunction(b.refresh)&&b.refresh())},_setInput:function(c){var d=this._search;this._timer&&(b.clearTimeout(this._timer),this._timer=0),d&&(this._off(d,"keyup change input"),d=null),c&&(d=c.jquery?c:c.nodeName?a(c):this.document.find(c),this._on(d,{keydown:"_onKeyDown",keypress:"_onKeyPress",keyup:"_onKeyUp",change:"_onKeyUp",input:"_onKeyUp"})),this._search=d},_onKeyDown:function(b){b.keyCode===a.ui.keyCode.ENTER&&(b.preventDefault(),this._preventKeyPress=!0)},_onKeyPress:function(a){this._preventKeyPress&&(a.preventDefault(),this._preventKeyPress=!1)},_setOptions:function(a){var b=!(a.filterReveal===c&&a.filterCallback===c&&a.children===c);this._super(a),a.input!==c&&(this._setInput(a.input),b=!0),b&&this.refresh()},_destroy:function(){var a=this.options,b=this._getFilterableItems();a.enhanced?b.toggleClass("ui-screen-hidden",a.filterReveal):b.removeClass("ui-screen-hidden")},refresh:function(){this._timer&&(b.clearTimeout(this._timer),this._timer=0),this._filterItems((this._search&&this._search.val()||"").toLowerCase())}})}(a),function(a,b){var c=function(a,b){return function(c){b.call(this,c),a._syncTextInputOptions(c)}},d=/(^|\s)ui-li-divider(\s|$)/,e=a.mobile.filterable.prototype.options.filterCallback;a.mobile.filterable.prototype.options.filterCallback=function(a,b){return!this.className.match(d)&&e.call(this,a,b)},a.widget("mobile.filterable",a.mobile.filterable,{options:{filterPlaceholder:"Filter items...",filterTheme:null},_create:function(){var b,c,d=this.element,e=["collapsibleset","selectmenu","controlgroup","listview"],f={};for(this._super(),a.extend(this,{_widget:null}),b=e.length-1;b>-1;b--)if(c=e[b],a.mobile[c]){if(this._setWidget(d.data("mobile-"+c)))break;f[c+"create"]="_handleCreate"}this._widget||this._on(d,f)},_handleCreate:function(a){this._setWidget(this.element.data("mobile-"+a.type.substring(0,a.type.length-6)))},_trigger:function(a,b,c){return this._widget&&"mobile-listview"===this._widget.widgetFullName&&"beforefilter"===a&&this._widget._trigger("beforefilter",b,c),this._super(a,b,c)},_setWidget:function(a){return!this._widget&&a&&(this._widget=a,this._widget._setOptions=c(this,this._widget._setOptions)),this._widget&&(this._syncTextInputOptions(this._widget.options),"listview"===this._widget.widgetName&&(this._widget.options.hideDividers=!0,this._widget.element.listview("refresh"))),!!this._widget},_isSearchInternal:function(){return this._search&&this._search.jqmData("ui-filterable-"+this.uuid+"-internal")},_setInput:function(b){var c=this.options,d=!0,e={};if(!b){if(this._isSearchInternal())return;d=!1,b=a("<input data-"+a.mobile.ns+"type='search' placeholder='"+c.filterPlaceholder+"'></input>").jqmData("ui-filterable-"+this.uuid+"-internal",!0),a("<form class='ui-filterable'></form>").append(b).submit(function(a){a.preventDefault(),b.blur()}).insertBefore(this.element),a.mobile.textinput&&(null!=this.options.filterTheme&&(e.theme=c.filterTheme),b.textinput(e))}this._super(b),this._isSearchInternal()&&d&&this._search.attr("placeholder",this.options.filterPlaceholder)},_setOptions:function(c){var d=this._super(c);return c.filterPlaceholder!==b&&this._isSearchInternal()&&this._search.attr("placeholder",c.filterPlaceholder),c.filterTheme!==b&&this._search&&a.mobile.textinput&&this._search.textinput("option","theme",c.filterTheme),d},_refreshChildWidget:function(){this._refreshingChildWidget=!0,this._superApply(arguments),this._refreshingChildWidget=!1},refresh:function(){this._refreshingChildWidget||this._superApply(arguments)},_destroy:function(){this._isSearchInternal()&&this._search.remove(),this._super()},_syncTextInputOptions:function(c){var d,e={};if(this._isSearchInternal()&&a.mobile.textinput){for(d in a.mobile.textinput.prototype.options)c[d]!==b&&(e[d]="theme"===d&&null!=this.options.filterTheme?this.options.filterTheme:c[d]);this._search.textinput("option",e)}}}),a.widget("mobile.listview",a.mobile.listview,{options:{filter:!1},_create:function(){return this.options.filter!==!0||this.element.data("mobile-filterable")||this.element.filterable(),this._super()},refresh:function(){var a;this._superApply(arguments),this.options.filter===!0&&(a=this.element.data("mobile-filterable"),a&&a.refresh())}})}(a),function(a,b){function c(){return++e}function d(a){return a.hash.length>1&&decodeURIComponent(a.href.replace(f,""))===decodeURIComponent(location.href.replace(f,""))}var e=0,f=/#.*$/;a.widget("ui.tabs",{version:"fadf2b312a05040436451c64bbfaf4814bc62c56",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,c=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",c.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),c.active=this._initialActive(),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(c.active):a(),this._refresh(),this.active.length&&this.load(c.active)},_initialActive:function(){var b=this.options.active,c=this.options.collapsible,d=location.hash.substring(1);return null===b&&(d&&this.tabs.each(function(c,e){return a(e).attr("aria-controls")===d?(b=c,!1):void 0}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===b||-1===b)&&(b=this.tabs.length?0:!1)),b!==!1&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&(b=c?!1:0)),!c&&b===!1&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(this.document[0].activeElement).closest("li"),d=this.tabs.index(c),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d);case a.ui.keyCode.ENTER:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d===this.options.active?!1:d);default:return}b.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,e),b.ctrlKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(b,c){function d(){return b>e&&(b=0),0>b&&(b=e),b}for(var e=this.tabs.length-1;-1!==a.inArray(d(),this.options.disabled);)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?void this._activate(b):"disabled"===a?void this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b)))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+c()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)}),this._processTabs(),b.active!==!1&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=a(),this.anchors.each(function(c,e){var f,g,h,i=a(e).uniqueId().attr("id"),j=a(e).closest("li"),k=j.attr("aria-controls");d(e)?(f=e.hash,g=b.element.find(b._sanitizeSelector(f))):(h=b._tabId(j),f="#"+h,g=b.element.find(f),g.length||(g=b._createPanel(h),g.insertAfter(b.panels[c-1]||b.tablist)),g.attr("aria-live","polite")),g.length&&(b.panels=b.panels.add(g)),k&&j.data("ui-tabs-aria-controls",k),j.attr({"aria-controls":f.substring(1),"aria-labelledby":i}),g.attr("aria-labelledby",i)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c,d=0;c=this.tabs[d];d++)b===!0||-1!==a.inArray(d,b)?a(c).addClass("ui-state-disabled").attr("aria-disabled","true"):a(c).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b},_setupEvents:function(b){var c={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)
}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault(),f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===!1||(c.active=h?!1:this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),j.length||i.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k))},_toggle:function(b,c){function d(){f.running=!1,f._trigger("activate",b,c)}function e(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.show(),d())}var f=this,g=c.newPanel,h=c.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h.hide(),e()),h.attr({"aria-expanded":"false","aria-hidden":"true"}),c.oldTab.attr("aria-selected","false"),g.length&&h.length?c.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr({"aria-expanded":"true","aria-hidden":"false"}),c.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return b===!1?a():this.tabs.eq(b)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(c){var d=this.options.disabled;d!==!1&&(c===b?d=!1:(c=this._getIndex(c),d=a.isArray(d)?a.map(d,function(a){return a!==c?a:null}):a.map(this.tabs,function(a,b){return b!==c?b:null})),this._setupDisabled(d))},disable:function(c){var d=this.options.disabled;if(d!==!0){if(c===b)d=!0;else{if(c=this._getIndex(c),-1!==a.inArray(c,d))return;d=a.isArray(d)?a.merge([c],d).sort():[c]}this._setupDisabled(d)}},load:function(b,c){b=this._getIndex(b);var e=this,f=this.tabs.eq(b),g=f.find(".ui-tabs-anchor"),h=this._getPanelForTab(f),i={tab:f,panel:h};d(g[0])||(this.xhr=a.ajax(this._ajaxSettings(g,c,i)),this.xhr&&"canceled"!==this.xhr.statusText&&(f.addClass("ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){h.html(a),e._trigger("load",c,i)},1)}).complete(function(a,b){setTimeout(function(){"abort"===b&&e.panels.stop(!1,!0),f.removeClass("ui-tabs-loading"),h.removeAttr("aria-busy"),a===e.xhr&&delete e.xhr},1)})))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href"),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}})}(a),function(){}(a),function(a,b){function c(a){e=a.originalEvent,i=e.accelerationIncludingGravity,f=Math.abs(i.x),g=Math.abs(i.y),h=Math.abs(i.z),!b.orientation&&(f>7||(h>6&&8>g||8>h&&g>6)&&f>5)?d.enabled&&d.disable():d.enabled||d.enable()}a.mobile.iosorientationfixEnabled=!0;var d,e,f,g,h,i,j=navigator.userAgent;return/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(j)&&j.indexOf("AppleWebKit")>-1?(d=a.mobile.zoom,void a.mobile.document.on("mobileinit",function(){a.mobile.iosorientationfixEnabled&&a.mobile.window.bind("orientationchange.iosorientationfix",d.enable).bind("devicemotion.iosorientationfix",c)})):void(a.mobile.iosorientationfixEnabled=!1)}(a,this),function(a,b,d){function e(){f.removeClass("ui-mobile-rendering")}var f=a("html"),g=a.mobile.window;a(b.document).trigger("mobileinit"),a.mobile.gradeA()&&(a.mobile.ajaxBlacklist&&(a.mobile.ajaxEnabled=!1),f.addClass("ui-mobile ui-mobile-rendering"),setTimeout(e,5e3),a.extend(a.mobile,{initializePage:function(){var b=a.mobile.path,f=a(":jqmData(role='page'), :jqmData(role='dialog')"),h=b.stripHash(b.stripQueryParams(b.parseLocation().hash)),i=a.mobile.path.parseLocation(),j=h?c.getElementById(h):d;f.length||(f=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0)),f.each(function(){var c=a(this);c[0].getAttribute("data-"+a.mobile.ns+"url")||c.attr("data-"+a.mobile.ns+"url",c.attr("id")||b.convertUrlToDataUrl(i.pathname+i.search))}),a.mobile.firstPage=f.first(),a.mobile.pageContainer=a.mobile.firstPage.parent().addClass("ui-mobile-viewport").pagecontainer(),a.mobile.navreadyDeferred.resolve(),g.trigger("pagecontainercreate"),a.mobile.loading("show"),e(),a.mobile.hashListeningEnabled&&a.mobile.path.isHashValid(location.hash)&&(a(j).is(":jqmData(role='page')")||a.mobile.path.isPath(h)||h===a.mobile.dialogHashKey)?a.event.special.navigate.isPushStateEnabled()?(a.mobile.navigate.history.stack=[],a.mobile.navigate(a.mobile.path.isPath(location.hash)?location.hash:location.href)):g.trigger("hashchange",[!0]):(a.event.special.navigate.isPushStateEnabled()&&a.mobile.navigate.navigator.squash(b.parseLocation().href),a.mobile.changePage(a.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),a(function(){a.support.inlineSVG(),a.mobile.hideUrlBar&&b.scrollTo(0,1),a.mobile.defaultHomeScroll=a.support.scrollTop&&1!==a.mobile.window.scrollTop()?1:0,a.mobile.autoInitializePage&&a.mobile.initializePage(),a.mobile.hideUrlBar&&g.load(a.mobile.silentScroll),a.support.cssPointerEvents||a.mobile.document.delegate(".ui-state-disabled,.ui-disabled","vclick",function(a){a.preventDefault(),a.stopImmediatePropagation()})}))}(a,this)});

; browserify_shim__define__module__export__(typeof $.mobile != "undefined" ? $.mobile : window.$.mobile);

}).call(global, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"jquery":14}],14:[function(require,module,exports){
(function (global){(function (){
(function browserifyShim(module, exports, define, browserify_shim__define__module__export__) {
/*! jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.1",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b=a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C="undefined",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=N.replace("w","w#"),P="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",Q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||"string"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(",")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=ib(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&q.push("[*^$]="+M+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+M+"*(?:value|"+L+")"),a.querySelectorAll(":checked").length||q.push(":checked")}),ib(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||"")||fb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)return I.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ib(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||jb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||jb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute("disabled")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K="undefined",L;for(L in m(k))break;k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;
if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function ab(){return!0}function bb(){return!1}function cb(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==cb()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===cb()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ab:bb):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:bb,isPropagationStopped:bb,isImmediatePropagationStopped:bb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ab,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ab,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ab,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=bb;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=bb),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function db(a){var b=eb.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var eb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fb=/ jQuery\d+="(?:null|\d+)"/g,gb=new RegExp("<(?:"+eb+")[\\s/>]","i"),hb=/^\s+/,ib=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jb=/<([\w:]+)/,kb=/<tbody/i,lb=/<|&#?\w+;/,mb=/<(?:script|style|link)/i,nb=/checked\s*(?:[^=]|=\s*.checked.)/i,ob=/^$|\/(?:java|ecma)script/i,pb=/^true\/(.*)/,qb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sb=db(y),tb=sb.appendChild(y.createElement("div"));rb.optgroup=rb.option,rb.tbody=rb.tfoot=rb.colgroup=rb.caption=rb.thead,rb.th=rb.td;function ub(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ub(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function vb(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wb(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xb(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function yb(a){var b=pb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function zb(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function Ab(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Bb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xb(b).text=a.text,yb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!gb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(tb.innerHTML=a.outerHTML,tb.removeChild(f=tb.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ub(f),h=ub(a),g=0;null!=(e=h[g]);++g)d[g]&&Bb(e,d[g]);if(b)if(c)for(h=h||ub(a),d=d||ub(f),g=0;null!=(e=h[g]);g++)Ab(e,d[g]);else Ab(a,f);return d=ub(f,"script"),d.length>0&&zb(d,!i&&ub(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=db(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(lb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(jb.exec(f)||["",""])[1].toLowerCase(),l=rb[i]||rb._default,h.innerHTML=l[1]+f.replace(ib,"<$1></$2>")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&hb.test(f)&&p.push(b.createTextNode(hb.exec(f)[0])),!k.tbody){f="table"!==i||kb.test(f)?"<table>"!==l[1]||kb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(ub(p,"input"),vb),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ub(o.appendChild(f),"script"),g&&zb(h),c)){e=0;while(f=h[e++])ob.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ub(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&zb(ub(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ub(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fb,""):void 0;if(!("string"!=typeof a||mb.test(a)||!k.htmlSerialize&&gb.test(a)||!k.leadingWhitespace&&hb.test(a)||rb[(jb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ib,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ub(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ub(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&nb.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ub(i,"script"),xb),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ub(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,yb),j=0;f>j;j++)d=g[j],ob.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qb,"")));i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Cb,Db={};function Eb(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fb(a){var b=y,c=Db[a];return c||(c=Eb(a,b),"none"!==c&&c||(Cb=(Cb||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Cb[0].contentWindow||Cb[0].contentDocument).document,b.write(),b.close(),c=Eb(a,b),Cb.detach()),Db[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Gb=/^margin/,Hb=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ib,Jb,Kb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ib=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Hb.test(g)&&Gb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ib=function(a){return a.currentStyle},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Hb.test(g)&&!Kb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Lb(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Mb=/alpha\([^)]*\)/i,Nb=/opacity\s*=\s*([^)]*)/,Ob=/^(none|table(?!-c[ea]).+)/,Pb=new RegExp("^("+S+")(.*)$","i"),Qb=new RegExp("^([+-])=("+S+")","i"),Rb={position:"absolute",visibility:"hidden",display:"block"},Sb={letterSpacing:"0",fontWeight:"400"},Tb=["Webkit","O","Moz","ms"];function Ub(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Tb.length;while(e--)if(b=Tb[e]+c,b in a)return b;return d}function Vb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fb(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Wb(a,b,c){var d=Pb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function Yb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ib(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Jb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Hb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xb(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Jb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ub(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Qb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ub(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Jb(a,b,d)),"normal"===f&&b in Sb&&(f=Sb[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Ob.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Rb,function(){return Yb(a,b,d)}):Yb(a,b,d):void 0},set:function(a,c,d){var e=d&&Ib(a);return Wb(a,c,d?Xb(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Mb.test(f)?f.replace(Mb,e):f+" "+e)}}),m.cssHooks.marginRight=Lb(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Jb,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Gb.test(a)||(m.cssHooks[a+b].set=Wb)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ib(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Vb(this,!0)},hide:function(){return Vb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Zb(a,b,c,d,e){return new Zb.prototype.init(a,b,c,d,e)}m.Tween=Zb,Zb.prototype={constructor:Zb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")
},cur:function(){var a=Zb.propHooks[this.prop];return a&&a.get?a.get(this):Zb.propHooks._default.get(this)},run:function(a){var b,c=Zb.propHooks[this.prop];return this.pos=b=this.options.duration?m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Zb.propHooks._default.set(this),this}},Zb.prototype.init.prototype=Zb.prototype,Zb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Zb.propHooks.scrollTop=Zb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Zb.prototype.init,m.fx.step={};var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cc=/queueHooks$/,dc=[ic],ec={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bc.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bc.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fc(){return setTimeout(function(){$b=void 0}),$b=m.now()}function gc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function hc(a,b,c){for(var d,e=(ec[b]||[]).concat(ec["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ic(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fb(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fb(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ac.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))"inline"===("none"===j?Fb(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=hc(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function jc(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kc(a,b,c){var d,e,f=0,g=dc.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$b||fc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||fc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jc(k,j.opts.specialEasing);g>f;f++)if(d=dc[f].call(j,a,k,j.opts))return d;return m.map(k,hc,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kc,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kc(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gc(b,!0),a,d,e)}}),m.each({slideDown:gc("show"),slideUp:gc("hide"),slideToggle:gc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($b=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$b=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_b||(_b=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_b),_b=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lc=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lc,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mc,nc,oc=m.expr.attrHandle,pc=/^(?:checked|selected)$/i,qc=k.getSetAttribute,rc=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nc:mc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rc&&qc||!pc.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qc?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nc={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rc&&qc||!pc.test(c)?a.setAttribute(!qc&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=oc[b]||m.find.attr;oc[b]=rc&&qc||!pc.test(b)?function(a,b,d){var e,f;return d||(f=oc[b],oc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,oc[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rc&&qc||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):mc&&mc.set(a,b,c)}}),qc||(mc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},oc.id=oc.name=oc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mc.set},m.attrHooks.contenteditable={set:function(a,b,c){mc.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sc=/^(?:input|select|textarea|button|object)$/i,tc=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sc.test(a.nodeName)||tc.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var uc=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(uc," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vc=m.now(),wc=/\?/,xc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yc,zc,Ac=/#.*$/,Bc=/([?&])_=[^&]*/,Cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ec=/^(?:GET|HEAD)$/,Fc=/^\/\//,Gc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hc={},Ic={},Jc="*/".concat("*");try{zc=location.href}catch(Kc){zc=y.createElement("a"),zc.href="",zc=zc.href}yc=Gc.exec(zc.toLowerCase())||[];function Lc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mc(a,b,c,d){var e={},f=a===Ic;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nc(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Oc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zc,type:"GET",isLocal:Dc.test(yc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nc(Nc(a,m.ajaxSettings),b):Nc(m.ajaxSettings,a)},ajaxPrefilter:Lc(Hc),ajaxTransport:Lc(Ic),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cc.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zc)+"").replace(Ac,"").replace(Fc,yc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yc[1]&&c[2]===yc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yc[3]||("http:"===yc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mc(Hc,k,b,v),2===t)return v;h=k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Ec.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bc.test(e)?e.replace(Bc,"$1_="+vc++):e+(wc.test(e)?"&":"?")+"_="+vc++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mc(Ic,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Oc(k,v,c)),u=Pc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qc=/%20/g,Rc=/\[\]$/,Sc=/\r?\n/g,Tc=/^(?:submit|button|image|reset|file)$/i,Uc=/^(?:input|select|textarea|keygen)/i;function Vc(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rc.test(a)?d(a,e):Vc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)Vc(a+"["+e+"]",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vc(c,a[c],b,e);return d.join("&").replace(Qc,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Uc.test(this.nodeName)&&!Tc.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sc,"\r\n")}}):{name:b.name,value:c.replace(Sc,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zc()||$c()}:Zc;var Wc=0,Xc={},Yc=m.ajaxSettings.xhr();a.ActiveXObject&&m(a).on("unload",function(){for(var a in Xc)Xc[a](void 0,!0)}),k.cors=!!Yc&&"withCredentials"in Yc,Yc=k.ajax=!!Yc,Yc&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xc[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zc(){try{return new a.XMLHttpRequest}catch(b){}}function $c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _c=[],ad=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_c.pop()||m.expando+"_"+vc++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ad.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ad.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ad,"$1"+e):b.jsonp!==!1&&(b.url+=(wc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_c.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bd=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bd)return bd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cd=a.document.documentElement;function dd(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dd(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cd;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position"))a=a.offsetParent;return a||cd})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dd(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=Lb(k.pixelPosition,function(a,c){return c?(c=Jb(a,b),Hb.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ed=a.jQuery,fd=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fd),b&&a.jQuery===m&&(a.jQuery=ed),m},typeof b===K&&(a.jQuery=a.$=m),m});

; browserify_shim__define__module__export__(typeof $ != "undefined" ? $ : window.$);

}).call(global, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}]},{},[8])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvQHN0cmlwZS9zdHJpcGUtanMvZGlzdC9zdHJpcGUuanMiLCJub2RlX21vZHVsZXMvZW1haWxqcy1jb20vc291cmNlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2VtYWlsanMtY29tL3NvdXJjZS9tb2RlbHMvRW1haWxKU1Jlc3BvbnNlU3RhdHVzLmpzIiwibm9kZV9tb2R1bGVzL2VtYWlsanMtY29tL3NvdXJjZS9zZXJ2aWNlcy91aS9VSS5qcyIsIm5vZGVfbW9kdWxlcy9qcy1jb29raWUvc3JjL2pzLmNvb2tpZS5qcyIsInNyYy9zY3JpcHRzL2NhcnQuanMiLCJzcmMvc2NyaXB0cy9kYXRhc3RvcmUuanMiLCJzcmMvc2NyaXB0cy9pbmRleC5qcyIsInNyYy9zY3JpcHRzL3BheW1lbnQuanMiLCJzcmMvc2NyaXB0cy91c2VyLmpzIiwic3JjL3NjcmlwdHMvdXRpbHMuanMiLCJzcmMvc2NyaXB0cy92ZW5kb3JsaXN0LmpzIiwidmVuZG9yL2pxdWVyeS5tb2JpbGUtMS40LjUvanF1ZXJ5Lm1vYmlsZS0xLjQuNS5taW4uanMiLCJ2ZW5kb3IvanF1ZXJ5L2pxdWVyeS0xLjExLjEvanF1ZXJ5LTEuMTEuMS5taW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25LQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0Y0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDaFpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgVjNfVVJMID0gJ2h0dHBzOi8vanMuc3RyaXBlLmNvbS92Myc7XG52YXIgVjNfVVJMX1JFR0VYID0gL15odHRwczpcXC9cXC9qc1xcLnN0cmlwZVxcLmNvbVxcL3YzXFwvPyhcXD8uKik/JC87XG52YXIgRVhJU1RJTkdfU0NSSVBUX01FU1NBR0UgPSAnbG9hZFN0cmlwZS5zZXRMb2FkUGFyYW1ldGVycyB3YXMgY2FsbGVkIGJ1dCBhbiBleGlzdGluZyBTdHJpcGUuanMgc2NyaXB0IGFscmVhZHkgZXhpc3RzIGluIHRoZSBkb2N1bWVudDsgZXhpc3Rpbmcgc2NyaXB0IHBhcmFtZXRlcnMgd2lsbCBiZSB1c2VkJztcbnZhciBmaW5kU2NyaXB0ID0gZnVuY3Rpb24gZmluZFNjcmlwdCgpIHtcbiAgdmFyIHNjcmlwdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic2NyaXB0W3NyY149XFxcIlwiLmNvbmNhdChWM19VUkwsIFwiXFxcIl1cIikpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc2NyaXB0cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzY3JpcHQgPSBzY3JpcHRzW2ldO1xuXG4gICAgaWYgKCFWM19VUkxfUkVHRVgudGVzdChzY3JpcHQuc3JjKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNjcmlwdDtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxudmFyIGluamVjdFNjcmlwdCA9IGZ1bmN0aW9uIGluamVjdFNjcmlwdChwYXJhbXMpIHtcbiAgdmFyIHF1ZXJ5U3RyaW5nID0gcGFyYW1zICYmICFwYXJhbXMuYWR2YW5jZWRGcmF1ZFNpZ25hbHMgPyAnP2FkdmFuY2VkRnJhdWRTaWduYWxzPWZhbHNlJyA6ICcnO1xuICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIHNjcmlwdC5zcmMgPSBcIlwiLmNvbmNhdChWM19VUkwpLmNvbmNhdChxdWVyeVN0cmluZyk7XG4gIHZhciBoZWFkT3JCb2R5ID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5ib2R5O1xuXG4gIGlmICghaGVhZE9yQm9keSkge1xuICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgZG9jdW1lbnQuYm9keSBub3QgdG8gYmUgbnVsbC4gU3RyaXBlLmpzIHJlcXVpcmVzIGEgPGJvZHk+IGVsZW1lbnQuJyk7XG4gIH1cblxuICBoZWFkT3JCb2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gIHJldHVybiBzY3JpcHQ7XG59O1xuXG52YXIgcmVnaXN0ZXJXcmFwcGVyID0gZnVuY3Rpb24gcmVnaXN0ZXJXcmFwcGVyKHN0cmlwZSwgc3RhcnRUaW1lKSB7XG4gIGlmICghc3RyaXBlIHx8ICFzdHJpcGUuX3JlZ2lzdGVyV3JhcHBlcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN0cmlwZS5fcmVnaXN0ZXJXcmFwcGVyKHtcbiAgICBuYW1lOiAnc3RyaXBlLWpzJyxcbiAgICB2ZXJzaW9uOiBcIjEuMTEuMFwiLFxuICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lXG4gIH0pO1xufTtcblxudmFyIHN0cmlwZVByb21pc2UgPSBudWxsO1xudmFyIGxvYWRTY3JpcHQgPSBmdW5jdGlvbiBsb2FkU2NyaXB0KHBhcmFtcykge1xuICAvLyBFbnN1cmUgdGhhdCB3ZSBvbmx5IGF0dGVtcHQgdG8gbG9hZCBTdHJpcGUuanMgYXQgbW9zdCBvbmNlXG4gIGlmIChzdHJpcGVQcm9taXNlICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIHN0cmlwZVByb21pc2U7XG4gIH1cblxuICBzdHJpcGVQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gUmVzb2x2ZSB0byBudWxsIHdoZW4gaW1wb3J0ZWQgc2VydmVyIHNpZGUuIFRoaXMgbWFrZXMgdGhlIG1vZHVsZVxuICAgICAgLy8gc2FmZSB0byBpbXBvcnQgaW4gYW4gaXNvbW9ycGhpYyBjb2RlIGJhc2UuXG4gICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3cuU3RyaXBlICYmIHBhcmFtcykge1xuICAgICAgY29uc29sZS53YXJuKEVYSVNUSU5HX1NDUklQVF9NRVNTQUdFKTtcbiAgICB9XG5cbiAgICBpZiAod2luZG93LlN0cmlwZSkge1xuICAgICAgcmVzb2x2ZSh3aW5kb3cuU3RyaXBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgdmFyIHNjcmlwdCA9IGZpbmRTY3JpcHQoKTtcblxuICAgICAgaWYgKHNjcmlwdCAmJiBwYXJhbXMpIHtcbiAgICAgICAgY29uc29sZS53YXJuKEVYSVNUSU5HX1NDUklQVF9NRVNTQUdFKTtcbiAgICAgIH0gZWxzZSBpZiAoIXNjcmlwdCkge1xuICAgICAgICBzY3JpcHQgPSBpbmplY3RTY3JpcHQocGFyYW1zKTtcbiAgICAgIH1cblxuICAgICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh3aW5kb3cuU3RyaXBlKSB7XG4gICAgICAgICAgcmVzb2x2ZSh3aW5kb3cuU3RyaXBlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdTdHJpcGUuanMgbm90IGF2YWlsYWJsZScpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIFN0cmlwZS5qcycpKTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBzdHJpcGVQcm9taXNlO1xufTtcbnZhciBpbml0U3RyaXBlID0gZnVuY3Rpb24gaW5pdFN0cmlwZShtYXliZVN0cmlwZSwgYXJncywgc3RhcnRUaW1lKSB7XG4gIGlmIChtYXliZVN0cmlwZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHN0cmlwZSA9IG1heWJlU3RyaXBlLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gIHJlZ2lzdGVyV3JhcHBlcihzdHJpcGUsIHN0YXJ0VGltZSk7XG4gIHJldHVybiBzdHJpcGU7XG59O1xuXG4vLyBvd24gc2NyaXB0IGluamVjdGlvbi5cblxudmFyIHN0cmlwZVByb21pc2UkMSA9IFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICByZXR1cm4gbG9hZFNjcmlwdChudWxsKTtcbn0pO1xudmFyIGxvYWRDYWxsZWQgPSBmYWxzZTtcbnN0cmlwZVByb21pc2UkMVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnIpIHtcbiAgaWYgKCFsb2FkQ2FsbGVkKSB7XG4gICAgY29uc29sZS53YXJuKGVycik7XG4gIH1cbn0pO1xudmFyIGxvYWRTdHJpcGUgPSBmdW5jdGlvbiBsb2FkU3RyaXBlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgbG9hZENhbGxlZCA9IHRydWU7XG4gIHZhciBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICByZXR1cm4gc3RyaXBlUHJvbWlzZSQxLnRoZW4oZnVuY3Rpb24gKG1heWJlU3RyaXBlKSB7XG4gICAgcmV0dXJuIGluaXRTdHJpcGUobWF5YmVTdHJpcGUsIGFyZ3MsIHN0YXJ0VGltZSk7XG4gIH0pO1xufTtcblxuZXhwb3J0cy5sb2FkU3RyaXBlID0gbG9hZFN0cmlwZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5FbWFpbEpTUmVzcG9uc2VTdGF0dXMgPSBleHBvcnRzLnNlbmRGb3JtID0gZXhwb3J0cy5zZW5kID0gZXhwb3J0cy5pbml0ID0gdm9pZCAwO1xudmFyIEVtYWlsSlNSZXNwb25zZVN0YXR1c18xID0gcmVxdWlyZShcIi4vbW9kZWxzL0VtYWlsSlNSZXNwb25zZVN0YXR1c1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkVtYWlsSlNSZXNwb25zZVN0YXR1c1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gRW1haWxKU1Jlc3BvbnNlU3RhdHVzXzEuRW1haWxKU1Jlc3BvbnNlU3RhdHVzOyB9IH0pO1xudmFyIFVJXzEgPSByZXF1aXJlKFwiLi9zZXJ2aWNlcy91aS9VSVwiKTtcbnZhciBfdXNlcklEID0gbnVsbDtcbnZhciBfb3JpZ2luID0gJ2h0dHBzOi8vYXBpLmVtYWlsanMuY29tJztcbmZ1bmN0aW9uIHNlbmRQb3N0KHVybCwgZGF0YSwgaGVhZGVycykge1xuICAgIGlmIChoZWFkZXJzID09PSB2b2lkIDApIHsgaGVhZGVycyA9IHt9OyB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIHJlc3BvbnNlU3RhdHVzID0gbmV3IEVtYWlsSlNSZXNwb25zZVN0YXR1c18xLkVtYWlsSlNSZXNwb25zZVN0YXR1cyhldmVudC50YXJnZXQpO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlU3RhdHVzLnN0YXR1cyA9PT0gMjAwIHx8IHJlc3BvbnNlU3RhdHVzLnRleHQgPT09ICdPSycpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlU3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChyZXNwb25zZVN0YXR1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRW1haWxKU1Jlc3BvbnNlU3RhdHVzXzEuRW1haWxKU1Jlc3BvbnNlU3RhdHVzKGV2ZW50LnRhcmdldCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgeGhyLm9wZW4oJ1BPU1QnLCB1cmwsIHRydWUpO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gaGVhZGVycykge1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBoZWFkZXJzW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIHhoci5zZW5kKGRhdGEpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gYXBwZW5kR29vZ2xlQ2FwdGNoYSh0ZW1wbGF0ZVByYW1zKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudCAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZy1yZWNhcHRjaGEtcmVzcG9uc2UnKTtcbiAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50LnZhbHVlKSB7XG4gICAgICAgIHRlbXBsYXRlUHJhbXNbJ2ctcmVjYXB0Y2hhLXJlc3BvbnNlJ10gPSBlbGVtZW50LnZhbHVlO1xuICAgIH1cbiAgICBlbGVtZW50ID0gbnVsbDtcbiAgICByZXR1cm4gdGVtcGxhdGVQcmFtcztcbn1cbmZ1bmN0aW9uIGZpeElkU2VsZWN0b3Ioc2VsZWN0b3IpIHtcbiAgICBpZiAoc2VsZWN0b3JbMF0gIT09ICcjJyAmJiBzZWxlY3RvclswXSAhPT0gJy4nKSB7XG4gICAgICAgIHJldHVybiAnIycgKyBzZWxlY3RvcjtcbiAgICB9XG4gICAgcmV0dXJuIHNlbGVjdG9yO1xufVxuLyoqXG4gKiBJbml0aWF0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcklEIC0gc2V0IHRoZSBFbWFpbEpTIHVzZXIgSURcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcmlnaW4gLSBzZXQgdGhlIEVtYWlsSlMgb3JpZ2luXG4gKi9cbmZ1bmN0aW9uIGluaXQodXNlcklELCBvcmlnaW4pIHtcbiAgICBfdXNlcklEID0gdXNlcklEO1xuICAgIF9vcmlnaW4gPSBvcmlnaW4gfHwgJ2h0dHBzOi8vYXBpLmVtYWlsanMuY29tJztcbn1cbmV4cG9ydHMuaW5pdCA9IGluaXQ7XG4vKipcbiAqIFNlbmQgYSB0ZW1wbGF0ZSB0byB0aGUgc3BlY2lmaWMgRW1haWxKUyBzZXJ2aWNlXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VydmljZUlEIC0gdGhlIEVtYWlsSlMgc2VydmljZSBJRFxuICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlSUQgLSB0aGUgRW1haWxKUyB0ZW1wbGF0ZSBJRFxuICogQHBhcmFtIHtPYmplY3R9IHRlbXBsYXRlUHJhbXMgLSB0aGUgdGVtcGxhdGUgcGFyYW1zLCB3aGF0IHdpbGwgYmUgc2V0IHRvIHRoZSBFbWFpbEpTIHRlbXBsYXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcklEIC0gdGhlIEVtYWlsSlMgdXNlciBJRFxuICogQHJldHVybnMge1Byb21pc2U8RW1haWxKU1Jlc3BvbnNlU3RhdHVzPn1cbiAqL1xuZnVuY3Rpb24gc2VuZChzZXJ2aWNlSUQsIHRlbXBsYXRlSUQsIHRlbXBsYXRlUHJhbXMsIHVzZXJJRCkge1xuICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIGxpYl92ZXJzaW9uOiAnMi42LjQnLFxuICAgICAgICB1c2VyX2lkOiB1c2VySUQgfHwgX3VzZXJJRCxcbiAgICAgICAgc2VydmljZV9pZDogc2VydmljZUlELFxuICAgICAgICB0ZW1wbGF0ZV9pZDogdGVtcGxhdGVJRCxcbiAgICAgICAgdGVtcGxhdGVfcGFyYW1zOiBhcHBlbmRHb29nbGVDYXB0Y2hhKHRlbXBsYXRlUHJhbXMpXG4gICAgfTtcbiAgICByZXR1cm4gc2VuZFBvc3QoX29yaWdpbiArICcvYXBpL3YxLjAvZW1haWwvc2VuZCcsIEpTT04uc3RyaW5naWZ5KHBhcmFtcyksIHtcbiAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgIH0pO1xufVxuZXhwb3J0cy5zZW5kID0gc2VuZDtcbi8qKlxuICogU2VuZCBhIGZvcm0gdGhlIHNwZWNpZmljIEVtYWlsSlMgc2VydmljZVxuICogQHBhcmFtIHtzdHJpbmd9IHNlcnZpY2VJRCAtIHRoZSBFbWFpbEpTIHNlcnZpY2UgSURcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZUlEIC0gdGhlIEVtYWlsSlMgdGVtcGxhdGUgSURcbiAqIEBwYXJhbSB7c3RyaW5nIHwgSFRNTEZvcm1FbGVtZW50fSBmb3JtIC0gdGhlIGZvcm0gZWxlbWVudCBvciBzZWxlY3RvclxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJRCAtIHRoZSBFbWFpbEpTIHVzZXIgSURcbiAqIEByZXR1cm5zIHtQcm9taXNlPEVtYWlsSlNSZXNwb25zZVN0YXR1cz59XG4gKi9cbmZ1bmN0aW9uIHNlbmRGb3JtKHNlcnZpY2VJRCwgdGVtcGxhdGVJRCwgZm9ybSwgdXNlcklEKSB7XG4gICAgaWYgKHR5cGVvZiBmb3JtID09PSAnc3RyaW5nJykge1xuICAgICAgICBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihmaXhJZFNlbGVjdG9yKGZvcm0pKTtcbiAgICB9XG4gICAgaWYgKCFmb3JtIHx8IGZvcm0ubm9kZU5hbWUgIT09ICdGT1JNJykge1xuICAgICAgICB0aHJvdyAnRXhwZWN0ZWQgdGhlIEhUTUwgZm9ybSBlbGVtZW50IG9yIHRoZSBzdHlsZSBzZWxlY3RvciBvZiBmb3JtJztcbiAgICB9XG4gICAgVUlfMS5VSS5wcm9ncmVzc1N0YXRlKGZvcm0pO1xuICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ2xpYl92ZXJzaW9uJywgJzIuNi40Jyk7XG4gICAgZm9ybURhdGEuYXBwZW5kKCdzZXJ2aWNlX2lkJywgc2VydmljZUlEKTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ3RlbXBsYXRlX2lkJywgdGVtcGxhdGVJRCk7XG4gICAgZm9ybURhdGEuYXBwZW5kKCd1c2VyX2lkJywgdXNlcklEIHx8IF91c2VySUQpO1xuICAgIHJldHVybiBzZW5kUG9zdChfb3JpZ2luICsgJy9hcGkvdjEuMC9lbWFpbC9zZW5kLWZvcm0nLCBmb3JtRGF0YSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIFVJXzEuVUkuc3VjY2Vzc1N0YXRlKGZvcm0pO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIFVJXzEuVUkuZXJyb3JTdGF0ZShmb3JtKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuc2VuZEZvcm0gPSBzZW5kRm9ybTtcbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgICBpbml0OiBpbml0LFxuICAgIHNlbmQ6IHNlbmQsXG4gICAgc2VuZEZvcm06IHNlbmRGb3JtXG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkVtYWlsSlNSZXNwb25zZVN0YXR1cyA9IHZvaWQgMDtcbnZhciBFbWFpbEpTUmVzcG9uc2VTdGF0dXMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRW1haWxKU1Jlc3BvbnNlU3RhdHVzKGh0dHBSZXNwb25zZSkge1xuICAgICAgICB0aGlzLnN0YXR1cyA9IGh0dHBSZXNwb25zZS5zdGF0dXM7XG4gICAgICAgIHRoaXMudGV4dCA9IGh0dHBSZXNwb25zZS5yZXNwb25zZVRleHQ7XG4gICAgfVxuICAgIHJldHVybiBFbWFpbEpTUmVzcG9uc2VTdGF0dXM7XG59KCkpO1xuZXhwb3J0cy5FbWFpbEpTUmVzcG9uc2VTdGF0dXMgPSBFbWFpbEpTUmVzcG9uc2VTdGF0dXM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVUkgPSB2b2lkIDA7XG52YXIgVUkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVUkoKSB7XG4gICAgfVxuICAgIFVJLmNsZWFyQWxsID0gZnVuY3Rpb24gKGZvcm0pIHtcbiAgICAgICAgZm9ybS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuUFJPR1JFU1MpO1xuICAgICAgICBmb3JtLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5ET05FKTtcbiAgICAgICAgZm9ybS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuRVJST1IpO1xuICAgIH07XG4gICAgVUkucHJvZ3Jlc3NTdGF0ZSA9IGZ1bmN0aW9uIChmb3JtKSB7XG4gICAgICAgIHRoaXMuY2xlYXJBbGwoZm9ybSk7XG4gICAgICAgIGZvcm0uY2xhc3NMaXN0LmFkZCh0aGlzLlBST0dSRVNTKTtcbiAgICB9O1xuICAgIFVJLnN1Y2Nlc3NTdGF0ZSA9IGZ1bmN0aW9uIChmb3JtKSB7XG4gICAgICAgIGZvcm0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLlBST0dSRVNTKTtcbiAgICAgICAgZm9ybS5jbGFzc0xpc3QuYWRkKHRoaXMuRE9ORSk7XG4gICAgfTtcbiAgICBVSS5lcnJvclN0YXRlID0gZnVuY3Rpb24gKGZvcm0pIHtcbiAgICAgICAgZm9ybS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuUFJPR1JFU1MpO1xuICAgICAgICBmb3JtLmNsYXNzTGlzdC5hZGQodGhpcy5FUlJPUik7XG4gICAgfTtcbiAgICBVSS5QUk9HUkVTUyA9ICdlbWFpbGpzLXNlbmRpbmcnO1xuICAgIFVJLkRPTkUgPSAnZW1haWxqcy1zdWNjZXNzJztcbiAgICBVSS5FUlJPUiA9ICdlbWFpbGpzLWVycm9yJztcbiAgICByZXR1cm4gVUk7XG59KCkpO1xuZXhwb3J0cy5VSSA9IFVJO1xuIiwiLyohXG4gKiBKYXZhU2NyaXB0IENvb2tpZSB2Mi4yLjFcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qcy1jb29raWUvanMtY29va2llXG4gKlxuICogQ29weXJpZ2h0IDIwMDYsIDIwMTUgS2xhdXMgSGFydGwgJiBGYWduZXIgQnJhY2tcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICovXG47KGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cdHZhciByZWdpc3RlcmVkSW5Nb2R1bGVMb2FkZXI7XG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoZmFjdG9yeSk7XG5cdFx0cmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyID0gdHJ1ZTtcblx0fVxuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdFx0cmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyID0gdHJ1ZTtcblx0fVxuXHRpZiAoIXJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlcikge1xuXHRcdHZhciBPbGRDb29raWVzID0gd2luZG93LkNvb2tpZXM7XG5cdFx0dmFyIGFwaSA9IHdpbmRvdy5Db29raWVzID0gZmFjdG9yeSgpO1xuXHRcdGFwaS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0d2luZG93LkNvb2tpZXMgPSBPbGRDb29raWVzO1xuXHRcdFx0cmV0dXJuIGFwaTtcblx0XHR9O1xuXHR9XG59KGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gZXh0ZW5kICgpIHtcblx0XHR2YXIgaSA9IDA7XG5cdFx0dmFyIHJlc3VsdCA9IHt9O1xuXHRcdGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXR0cmlidXRlcyA9IGFyZ3VtZW50c1sgaSBdO1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0cmVzdWx0W2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHRmdW5jdGlvbiBkZWNvZGUgKHMpIHtcblx0XHRyZXR1cm4gcy5yZXBsYWNlKC8oJVswLTlBLVpdezJ9KSsvZywgZGVjb2RlVVJJQ29tcG9uZW50KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGluaXQgKGNvbnZlcnRlcikge1xuXHRcdGZ1bmN0aW9uIGFwaSgpIHt9XG5cblx0XHRmdW5jdGlvbiBzZXQgKGtleSwgdmFsdWUsIGF0dHJpYnV0ZXMpIHtcblx0XHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0YXR0cmlidXRlcyA9IGV4dGVuZCh7XG5cdFx0XHRcdHBhdGg6ICcvJ1xuXHRcdFx0fSwgYXBpLmRlZmF1bHRzLCBhdHRyaWJ1dGVzKTtcblxuXHRcdFx0aWYgKHR5cGVvZiBhdHRyaWJ1dGVzLmV4cGlyZXMgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGF0dHJpYnV0ZXMuZXhwaXJlcyA9IG5ldyBEYXRlKG5ldyBEYXRlKCkgKiAxICsgYXR0cmlidXRlcy5leHBpcmVzICogODY0ZSs1KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2UncmUgdXNpbmcgXCJleHBpcmVzXCIgYmVjYXVzZSBcIm1heC1hZ2VcIiBpcyBub3Qgc3VwcG9ydGVkIGJ5IElFXG5cdFx0XHRhdHRyaWJ1dGVzLmV4cGlyZXMgPSBhdHRyaWJ1dGVzLmV4cGlyZXMgPyBhdHRyaWJ1dGVzLmV4cGlyZXMudG9VVENTdHJpbmcoKSA6ICcnO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHR2YXIgcmVzdWx0ID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuXHRcdFx0XHRpZiAoL15bXFx7XFxbXS8udGVzdChyZXN1bHQpKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSByZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cblx0XHRcdHZhbHVlID0gY29udmVydGVyLndyaXRlID9cblx0XHRcdFx0Y29udmVydGVyLndyaXRlKHZhbHVlLCBrZXkpIDpcblx0XHRcdFx0ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyh2YWx1ZSkpXG5cdFx0XHRcdFx0LnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8M0F8M0N8M0V8M0R8MkZ8M0Z8NDB8NUJ8NUR8NUV8NjB8N0J8N0R8N0MpL2csIGRlY29kZVVSSUNvbXBvbmVudCk7XG5cblx0XHRcdGtleSA9IGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoa2V5KSlcblx0XHRcdFx0LnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8NUV8NjB8N0MpL2csIGRlY29kZVVSSUNvbXBvbmVudClcblx0XHRcdFx0LnJlcGxhY2UoL1tcXChcXCldL2csIGVzY2FwZSk7XG5cblx0XHRcdHZhciBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgPSAnJztcblx0XHRcdGZvciAodmFyIGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuXHRcdFx0XHRpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0pIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzdHJpbmdpZmllZEF0dHJpYnV0ZXMgKz0gJzsgJyArIGF0dHJpYnV0ZU5hbWU7XG5cdFx0XHRcdGlmIChhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDb25zaWRlcnMgUkZDIDYyNjUgc2VjdGlvbiA1LjI6XG5cdFx0XHRcdC8vIC4uLlxuXHRcdFx0XHQvLyAzLiAgSWYgdGhlIHJlbWFpbmluZyB1bnBhcnNlZC1hdHRyaWJ1dGVzIGNvbnRhaW5zIGEgJXgzQiAoXCI7XCIpXG5cdFx0XHRcdC8vICAgICBjaGFyYWN0ZXI6XG5cdFx0XHRcdC8vIENvbnN1bWUgdGhlIGNoYXJhY3RlcnMgb2YgdGhlIHVucGFyc2VkLWF0dHJpYnV0ZXMgdXAgdG8sXG5cdFx0XHRcdC8vIG5vdCBpbmNsdWRpbmcsIHRoZSBmaXJzdCAleDNCIChcIjtcIikgY2hhcmFjdGVyLlxuXHRcdFx0XHQvLyAuLi5cblx0XHRcdFx0c3RyaW5naWZpZWRBdHRyaWJ1dGVzICs9ICc9JyArIGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0uc3BsaXQoJzsnKVswXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIChkb2N1bWVudC5jb29raWUgPSBrZXkgKyAnPScgKyB2YWx1ZSArIHN0cmluZ2lmaWVkQXR0cmlidXRlcyk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZ2V0IChrZXksIGpzb24pIHtcblx0XHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGphciA9IHt9O1xuXHRcdFx0Ly8gVG8gcHJldmVudCB0aGUgZm9yIGxvb3AgaW4gdGhlIGZpcnN0IHBsYWNlIGFzc2lnbiBhbiBlbXB0eSBhcnJheVxuXHRcdFx0Ly8gaW4gY2FzZSB0aGVyZSBhcmUgbm8gY29va2llcyBhdCBhbGwuXG5cdFx0XHR2YXIgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZSA/IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKSA6IFtdO1xuXHRcdFx0dmFyIGkgPSAwO1xuXG5cdFx0XHRmb3IgKDsgaSA8IGNvb2tpZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIHBhcnRzID0gY29va2llc1tpXS5zcGxpdCgnPScpO1xuXHRcdFx0XHR2YXIgY29va2llID0gcGFydHMuc2xpY2UoMSkuam9pbignPScpO1xuXG5cdFx0XHRcdGlmICghanNvbiAmJiBjb29raWUuY2hhckF0KDApID09PSAnXCInKSB7XG5cdFx0XHRcdFx0Y29va2llID0gY29va2llLnNsaWNlKDEsIC0xKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0dmFyIG5hbWUgPSBkZWNvZGUocGFydHNbMF0pO1xuXHRcdFx0XHRcdGNvb2tpZSA9IChjb252ZXJ0ZXIucmVhZCB8fCBjb252ZXJ0ZXIpKGNvb2tpZSwgbmFtZSkgfHxcblx0XHRcdFx0XHRcdGRlY29kZShjb29raWUpO1xuXG5cdFx0XHRcdFx0aWYgKGpzb24pIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdGNvb2tpZSA9IEpTT04ucGFyc2UoY29va2llKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0amFyW25hbWVdID0gY29va2llO1xuXG5cdFx0XHRcdFx0aWYgKGtleSA9PT0gbmFtZSkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4ga2V5ID8gamFyW2tleV0gOiBqYXI7XG5cdFx0fVxuXG5cdFx0YXBpLnNldCA9IHNldDtcblx0XHRhcGkuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0cmV0dXJuIGdldChrZXksIGZhbHNlIC8qIHJlYWQgYXMgcmF3ICovKTtcblx0XHR9O1xuXHRcdGFwaS5nZXRKU09OID0gZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0cmV0dXJuIGdldChrZXksIHRydWUgLyogcmVhZCBhcyBqc29uICovKTtcblx0XHR9O1xuXHRcdGFwaS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5LCBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRzZXQoa2V5LCAnJywgZXh0ZW5kKGF0dHJpYnV0ZXMsIHtcblx0XHRcdFx0ZXhwaXJlczogLTFcblx0XHRcdH0pKTtcblx0XHR9O1xuXG5cdFx0YXBpLmRlZmF1bHRzID0ge307XG5cblx0XHRhcGkud2l0aENvbnZlcnRlciA9IGluaXQ7XG5cblx0XHRyZXR1cm4gYXBpO1xuXHR9XG5cblx0cmV0dXJuIGluaXQoZnVuY3Rpb24gKCkge30pO1xufSkpO1xuIiwidmFyIGNvb2tpZSA9IHJlcXVpcmUoJ2pzLWNvb2tpZScpXG5cbmNvbnN0IENBUlRfU1RPUkFHRV9LRVkgPSAnY2FydCc7XG5cbi8vIFRPRE8gcmVtb3ZlIG1vY2sgZGF0YVxuLy8gY29uc3QgSU5JVElBTF9DQVJUX1NUQVRFID0ge1xuLy8gICAgIHZlbmRvcjoge1xuLy8gICAgICAgICB2ZW5kb3JOYW1lOiAnQnVyZ2VycyBBaG95IScsXG4vLyAgICAgICAgIGRlbGl2ZXJ5VGltZTogJzMwIC0gNDAgbWlucydcbi8vICAgICB9LFxuLy8gICAgIGl0ZW1zOiBbXG4vLyAgICAgICAgIHtcbi8vICAgICAgICAgICAgIGl0ZW1OYW1lOiAnVG9tIFl1bXAgU291cCcsXG4vLyAgICAgICAgICAgICBpdGVtUHJpY2U6IDQwMCxcbi8vICAgICAgICAgICAgIHF1YW50aXR5OiAxLFxuLy8gICAgICAgICAgICAgbm90ZXM6IFwiTGVzcyBzcGljeVwiLFxuLy8gICAgICAgICB9XG4vLyAgICAgXVxuLy8gfTtcblxuY29uc3QgSU5JVElBTF9DQVJUX1NUQVRFID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgdmVuZG9yOiB7XG4gICAgfSxcbiAgICBpdGVtczogW1xuICAgIF0sXG4gICAgcGF5bWVudE1ldGhvZDogJ2Nhc2gnXG59KTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIC8vIElOIEVBQ0ggRlVOQ1RJT04sIERPIE5PVCBGT1JHRVQgVE8gUkVUUklFVkUgVEhFIENBUlQgSU5GTyBGUk9NIExPQ0FMIFNUT1JBR0VcbiAgICAvLyBBTkQgQUxTTyBUTyBTQVZFIElUIEFUIFRIRSBFTkRcblxuICAgIHJldHVybiB7XG4gICAgICAgIC8vIHRoaXMgb2JqZWN0IGlzIHRoZSBwdWJsaWMgQVBJIGFjY2Vzc2libGUgdG8gb3RoZXIgbW9kdWxlc1xuICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBlbXB0eSBjYXJ0IGF0IGluaXRpYWxpemF0aW9uIHdpdGggbm8gcmVzdGF1cmFudCBzZXRcbiAgICAgICAgICAgIGlmICghY29va2llLmdldEpTT04oQ0FSVF9TVE9SQUdFX0tFWSkpIHtcbiAgICAgICAgICAgICAgICBjb29raWUuc2V0KENBUlRfU1RPUkFHRV9LRVksIElOSVRJQUxfQ0FSVF9TVEFURSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN1bW1hcnk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSlNPTiBzdHJ1Y3R1cmUgb2Ygc3VtbWFyeVxuICAgICAgICAgICAgICogXG4gICAgICAgICAgICAgKiBpdGVtczogW1xuICAgICAgICAgICAgICogICAgICB7XG4gICAgICAgICAgICAgKiAgICAgICAgICBpdGVtVGl0bGU6IFwibmFtZSBvZiB0aGUgaXRlbVwiLFxuICAgICAgICAgICAgICogICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICAgKiAgICAgICAgICBpdGVtUHJpY2U6IDQwMCxcbiAgICAgICAgICAgICAqICAgICAgfVxuICAgICAgICAgICAgICogXVxuICAgICAgICAgICAgICogXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJldHVybiBjb29raWUuZ2V0SlNPTihDQVJUX1NUT1JBR0VfS0VZKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkSXRlbVRvQ2FydDogZnVuY3Rpb24gKHsgdmVuZG9yLCBpdGVtIH0pIHtcbiAgICAgICAgICAgIGNvbnN0IGNhcnQgPSBjb29raWUuZ2V0SlNPTihDQVJUX1NUT1JBR0VfS0VZKTtcblxuICAgICAgICAgICAgLy8gaWYgdmVuZG9yIGlzIHNldFxuICAgICAgICAgICAgaWYgKGNhcnQudmVuZG9yLnZlbmRvck5hbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB1c2VyIGlzIHR5cmluZyB0byBhZGQgaXRlbSBmcm9tIHNhbWUgdmVuZG9yXG4gICAgICAgICAgICAgICAgaWYgKGNhcnQudmVuZG9yLnZlbmRvck5hbWUgPT09IHZlbmRvci52ZW5kb3JOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBpdGVtIGFuZCByZXR1cm4gdHJ1ZSBmb3Igc3VjY2Vzc1xuICAgICAgICAgICAgICAgICAgICBjYXJ0Lml0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZS5zZXQoQ0FSVF9TVE9SQUdFX0tFWSwgY2FydCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVsc2UgcmV0dXJuIGZhbHNlIHdpdGggZXJyb3IgbWVzc2FnZSBpbmRpY2F0ZSB3aHlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBZb3UgbWF5IG9ubHkgb3JkZXIgaXRlbXMgZnJvbSBvbmUgdmVuZG9yIGF0IGEgdGltZS4gXG4gICAgICAgICAgICAgICAgICAgIFlvdSBoYXZlIGN1cnJlbnRseSBjaG9zZW4gJHtjYXJ0LnZlbmRvci52ZW5kb3JOYW1lfS5gXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBSZXNldCBjYXJ0XG4gICAgICAgICAgICAgICAgLy8gVkVSWSBJTVBPUlRBTlQ6IHVzaW5nIEpTT04gc2VyaWFsaXphdGlvbiBmb2xsb3cgd2l0aCBKU09OIGRlc2VyaWFsaXphdGlvbiBmb3IgZGVlcCBjb3B5XG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHRoZXJlIGlzIGEgYnVnIHdoZXJlIHdoZW4geW91IGFkZCBhIG5ldyBpdGVtIGFuZCB0cnkgY2xlYXJpbmcgdGhlIGNhcnQgaXQgd29uJ3Qgd29yaywgXG4gICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGUgSU5JVElBTF9DQVJUX1NUQVRFIG9iamVjdCBoYXMgZ290dGVuIHVwZGF0ZWQgYnkgYSByZWZlcmVuY2UgcGFzc2VkIHRvIGFub3RoZXIgbmFtZWQgdmFyaWFibGVcbiAgICAgICAgICAgICAgICAvLyBSZWZlciBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNjE0MjIzMzIvNzgwMzk3NSBmb3IgbW9yZVxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NhcnQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KElOSVRJQUxfQ0FSVF9TVEFURSkpIC8vIFJlc2V0IGNhcnRcbiAgICAgICAgICAgICAgICBuZXdDYXJ0LnZlbmRvciA9IHZlbmRvcjsgLy8gSW5pdGlhbGl6ZSB2ZW5kb3IgZGV0YWlsc1xuICAgICAgICAgICAgICAgIG5ld0NhcnQuaXRlbXMucHVzaChpdGVtKSAvLyBBZGQgaXRlbSB0byBjYXJ0XG4gICAgICAgICAgICAgICAgY29va2llLnNldChDQVJUX1NUT1JBR0VfS0VZLCBuZXdDYXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJDYXJ0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ2xlYXJpbmcgY2FydC4uLicpO1xuICAgICAgICAgICAgY29va2llLnNldChDQVJUX1NUT1JBR0VfS0VZLCBJTklUSUFMX0NBUlRfU1RBVEUpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRQYXltZW50TWV0aG9kOiBmdW5jdGlvbiAocGF5bWVudE1ldGhvZCkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudENhcnQgPSBjb29raWUuZ2V0SlNPTihDQVJUX1NUT1JBR0VfS0VZKTtcbiAgICAgICAgICAgIGN1cnJlbnRDYXJ0LnBheW1lbnRNZXRob2QgPSBwYXltZW50TWV0aG9kO1xuICAgICAgICAgICAgY29va2llLnNldChDQVJUX1NUT1JBR0VfS0VZLCBjdXJyZW50Q2FydCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFBvaW50c0ZvckNhcnQoKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q2FydCA9IGNvb2tpZS5nZXRKU09OKENBUlRfU1RPUkFHRV9LRVkpO1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRDYXJ0Lml0ZW1zLnJlZHVjZSgoYWNjLCB7IGl0ZW1QcmljZSwgcXVhbnRpdHkgfSkgPT4gYWNjICs9IChpdGVtUHJpY2UgKiBxdWFudGl0eSksIDApICogMC4wMTsgLy8gMTAwIFJzLiAtPiAxIFBvaW50XG4gICAgICAgIH1cbiAgICB9XG59KCkiLCIvLyBjb25zdCB1c2VyID0gcmVxdWlyZSgnLi91c2VyJyk7XG5cbmNvbnN0IGRhdGEgPSBPYmplY3QuZnJlZXplKHtcbiAgICB2ZW5kb3JzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidmVuZG9ySWRcIjogXCJ2MVwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JJbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9saXN0X3ZpZXdfaW1hZ2VzL2J1cmdlcnNfYWhvdXkuanBnXCIsXG4gICAgICAgICAgICBcInZlbmRvck5hbWVcIjogXCJCdXJnZXJzIEFob3V5IVwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDYXRlcmdvcmllc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJCdXJnZXJzXCIsXG4gICAgICAgICAgICAgICAgXCJBbWVyaWNhblwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICBcInZlbmRvclJhdGluZ1ZhbHVlXCI6IDQuNixcbiAgICAgICAgICAgICAgICBcInZlbmRvck5vT2ZSYXRpbmdzXCI6IDEwMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibG9jYXRpb25cIjogXCJDb2xvbWJvIDNcIixcbiAgICAgICAgICAgIFwiZGVsaXZlcnlUaW1lXCI6IFwiMjUtMzAgbWluc1wiLFxuICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9wYWdlX2ltYWdlcy90b21feXVtX3NvdXAuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjFpMVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIlRvbSBZdW0gU291cFwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIlBpY2tlZCBmcm9tIHRoZSBmcmVzaCB2ZWdldGFibGVzIGFuZCBmaXNoIGZyb20gdGhlIHdpdGggc3BlY2lhbCBDaGlja2VuIEJyb3RoLlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ1ZhbHVlXCI6IDQuNixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbU5vT2ZSYXRpbmdzXCI6IDQ3XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVByaWNlXCI6IDgwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9wYWdlX2ltYWdlcy9jcmlzcHlfY2hpY2tlbl9idXJnZXIuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjFpMlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIkNyaXNweSBDaGlja2VuIEJ1cmdlclwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIkNyaXNweSwgQ2hpY2t5LCBDcmlzcHkgQ2hpY2tlbiBCdXJnZXIuIEl04oCZcyBwcmV0dHkgbXVjaCBzZWxmLWV4cGxhbmF0b3J5LlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ1ZhbHVlXCI6IDQuMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbU5vT2ZSYXRpbmdzXCI6IDEwXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVByaWNlXCI6IDQ1MFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9wYWdlX2ltYWdlcy9oYXdhaWlhbl9idXJnZXIuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjFpM1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIkhhd2FpaWFuIEJ1cmdlclwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIlllcyEgUGluZWFwcGxlcyBnbyBvbiBidXJnZXJzIHRvby4gRG9u4oCZdCBsZXQgb3RoZXJzIHRlbGwgeW91IG90aGVyd2lzZS5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjgsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiA0NVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiA2MDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInZlbmRvcklkXCI6IFwidjJcIixcbiAgICAgICAgICAgIFwidmVuZG9ySW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfbGlzdF92aWV3X2ltYWdlcy9waXp6YV9wYWxwYXRoYS5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIlBpenphIFBhbHBhdGhhXCIsXG4gICAgICAgICAgICBcInZlbmRvckNhdGVyZ29yaWVzXCI6IFtcbiAgICAgICAgICAgICAgICBcIkl0YWxpYW5cIixcbiAgICAgICAgICAgICAgICBcIkFtZXJpY2FuXCIsXG4gICAgICAgICAgICAgICAgXCJQaXp6YVwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICBcInZlbmRvclJhdGluZ1ZhbHVlXCI6IDQuOCxcbiAgICAgICAgICAgICAgICBcInZlbmRvck5vT2ZSYXRpbmdzXCI6IDk5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsb2NhdGlvblwiOiBcIkNvbG9tYm8gNVwiLFxuICAgICAgICAgICAgXCJkZWxpdmVyeVRpbWVcIjogXCIxNS0yMCBtaW5zXCIsXG4gICAgICAgICAgICBcIml0ZW1zXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX3BhZ2VfaW1hZ2VzL2NoZWVzZV9sb3ZlcnNfcGl6emEuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjJpMVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIkNoZWVzZSBMb3ZlcnMgUGl6emFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogXCJSaWNoIHRvbWF0byBzYXVjZSB3aXRoIGEgdHJpcGxlIGxheWVyIG9mIG1venphcmVsbGEgY2hlZXNlLlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ1ZhbHVlXCI6IDQuNSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbU5vT2ZSYXRpbmdzXCI6IDU1XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVByaWNlXCI6IDUwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9wYWdlX2ltYWdlcy9jaGlja2VuX2JhY29uX3BpenphLmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBcInYyaTJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtVGl0bGVcIjogXCJDaGlja2VuIEJhY29uIFBpenphXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbURlc2NyaXB0aW9uXCI6IFwiQ2hpY2tlbiBiYWNvbiwgb25pb25zICYgZ3JlZW4gY2hpbGxpZXMgd2l0aCBhIGRvdWJsZSBsYXllciBvZiBtb3p6YXJlbGxhIGNoZWVzZS5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjksXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiA5MFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiAzMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvZGV2aWxsZWRfY2hpY2tlbl9waXp6YS5qcGdcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSWRcIjogXCJ2MmkzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVRpdGxlXCI6IFwiRGV2aWxsZWQgQ2hpY2tlbiBQaXp6YVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIkRldmlsbGVkIGNoaWNrZW4gaW4gc3BpY3kgc2F1Y2Ugd2l0aCBhIGRvdWJsZSBsYXllciBvZiBtb3p6YXJlbGxhIGNoZWVzZS5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjEsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiA3NVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiA0NzBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInZlbmRvcklkXCI6IFwidjNcIixcbiAgICAgICAgICAgIFwidmVuZG9ySW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfbGlzdF92aWV3X2ltYWdlcy9iYXRodWlfcG9sX3NhbWJvbGFpLmpwZ1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JOYW1lXCI6IFwiQmF0aHVpIFBvbCBTYW1ib2xhaVwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDYXRlcmdvcmllc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJSaWNlXCIsXG4gICAgICAgICAgICAgICAgXCJTcmkgTGFua2FuXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInZlbmRvclJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nVmFsdWVcIjogNC41LFxuICAgICAgICAgICAgICAgIFwidmVuZG9yTm9PZlJhdGluZ3NcIjogMTUwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsb2NhdGlvblwiOiBcIkNvbG9tYm8gN1wiLFxuICAgICAgICAgICAgXCJkZWxpdmVyeVRpbWVcIjogXCI1LTEwIG1pbnNcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvcHJhd25fY3VycnlfYW5kX3JpY2UuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjNpMVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIlByYXduIEN1cnJ5IGFuZCBSaWNlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbURlc2NyaXB0aW9uXCI6IFwiUHJhd24gY3VycnkgcHJlcGFyZWQgdG8gc3BlY2lhbCBHb2EgcmVjaXBlIHdpdGggdGhpY2sgY29jb251dCBncmF2eS5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiAyMVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiA1NzVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvZmlzaF9yaWNlX2FuZF9jdXJyeS5qcGdcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSWRcIjogXCJ2M2kyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVRpdGxlXCI6IFwiRmlzaCBSaWNlIGFuZCBDdXJyeVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIlRoYWxhcGF0aCBGaXNoLCA0IGN1cnJpZXMgYW5kIHBhcGFkYW0gZW5ocmljaGVkIHdpdGggdGhlIFNyaSBMYW5rYW4gdGFzdGUuXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nVmFsdWVcIjogNC4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtTm9PZlJhdGluZ3NcIjogMjFcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUHJpY2VcIjogNTc1XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX3BhZ2VfaW1hZ2VzL2NoaWNrZW5fcmljZV9hbmRfY3VycnkuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjNpM1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIkNoaWNrZW4gUmljZSBhbmQgQ3VycnlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogXCJXaXRoIDQgY3VycmllcyBhbmQgcGFwYWRhbSBtaXhlZCB3aXRoIFNyaSBMYW5rYW4gc3BpY2VzLlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ1ZhbHVlXCI6IDQuNCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbU5vT2ZSYXRpbmdzXCI6IDY1XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVByaWNlXCI6IDM1MFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInZlbmRvcklkXCI6IFwidjRcIixcbiAgICAgICAgICAgIFwidmVuZG9ySW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfbGlzdF92aWV3X2ltYWdlcy90aGVfaW1wYXN0YS5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIlRoZSBJbXBhc3RhXCIsXG4gICAgICAgICAgICBcInZlbmRvckNhdGVyZ29yaWVzXCI6IFtcbiAgICAgICAgICAgICAgICBcIlBhc3RhXCIsXG4gICAgICAgICAgICAgICAgXCJJdGFsaWFuXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInZlbmRvclJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nVmFsdWVcIjogNC4xLFxuICAgICAgICAgICAgICAgIFwidmVuZG9yTm9PZlJhdGluZ3NcIjogODJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxvY2F0aW9uXCI6IFwiQ29sb21ibyAxXCIsXG4gICAgICAgICAgICBcImRlbGl2ZXJ5VGltZVwiOiBcIjI1LTQwIG1pbnNcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvYnJ1c2NoZXR0YV9wYXN0YS5qcGdcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSWRcIjogXCJ2NGkxXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVRpdGxlXCI6IFwiQnJ1c2hjZXR0YSBQYXN0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIlRoaXMgQnJ1c2NoZXR0YSBQYXN0YSB3aXRoIGZyZXNoIHRvbWF0b2VzLCBiYXNpbCwgZ2FybGljLCBhbmQgb2xpdmUgb2lsLlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ1ZhbHVlXCI6IDQuMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbU5vT2ZSYXRpbmdzXCI6IDEwXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVByaWNlXCI6IDM3NVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9wYWdlX2ltYWdlcy9jaGVlc2VfcGFzdGEuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjRpMlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIkNoZWVzZSBQYXN0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIkp1c3QgcmVtZW1iZXIgdGhhdCBhIHNpbmdsZSBpcyBhIGRvdWJsZSBhbmQgYSBkb3VibGUgaXMgYSB0cmlwbGUgYXQgQ2hpY2Fnb+KAmXMgQXUgQ2hldmFsLlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ1ZhbHVlXCI6IDQuNyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbU5vT2ZSYXRpbmdzXCI6IDIxXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVByaWNlXCI6IDIwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9wYWdlX2ltYWdlcy9jcmVhbXlfdG9tYXRvX2FuZF9zcGluYWNoX3Bhc3RhLmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBcInY0aTNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtVGl0bGVcIjogXCJDcmVhbXkgVG9tYXRvIGFuZCBTcGluYWNoIFBhc3RhXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbURlc2NyaXB0aW9uXCI6IFwiV2l0aCBzcGVjaWFsIHBlc3RvIHNhdWNlIGFuZCBtb3p6YXJlbGxhIGNoZWVzZS5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiAzLjUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiAxNVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiAyMzBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ2ZW5kb3JJZFwiOiBcInY1XCIsXG4gICAgICAgICAgICBcInZlbmRvckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX2xpc3Rfdmlld19pbWFnZXMvdGhhaV90YW5pYy5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIlRoYWkgVGFuaWNcIixcbiAgICAgICAgICAgIFwidmVuZG9yQ2F0ZXJnb3JpZXNcIjogW1xuICAgICAgICAgICAgICAgIFwiU291cFwiLFxuICAgICAgICAgICAgICAgIFwiU2FsYWRcIixcbiAgICAgICAgICAgICAgICBcIlRoYWlcIlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdWYWx1ZVwiOiA0LjksXG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JOb09mUmF0aW5nc1wiOiAyOVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibG9jYXRpb25cIjogXCJDb2xvbWJvIDFcIixcbiAgICAgICAgICAgIFwiZGVsaXZlcnlUaW1lXCI6IFwiMjAtMzUgbWluc1wiLFxuICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG5cbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidmVuZG9ySWRcIjogXCJ2NlwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JJbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9saXN0X3ZpZXdfaW1hZ2VzL3BpdGFfcGFuLmpwZ1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JOYW1lXCI6IFwiUGl0YSBQYW5cIixcbiAgICAgICAgICAgIFwidmVuZG9yQ2F0ZXJnb3JpZXNcIjogW1xuICAgICAgICAgICAgICAgIFwiQnVyZ2Vyc1wiLFxuICAgICAgICAgICAgICAgIFwiTWVkaXRlcnJlbmVhblwiLFxuICAgICAgICAgICAgICAgIFwiVGhhaVwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICBcInZlbmRvclJhdGluZ1ZhbHVlXCI6IDQuMyxcbiAgICAgICAgICAgICAgICBcInZlbmRvck5vT2ZSYXRpbmdzXCI6IDEwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsb2NhdGlvblwiOiBcIkNvbG9tYm8gMVwiLFxuICAgICAgICAgICAgXCJkZWxpdmVyeVRpbWVcIjogXCIxMi0xNSBtaW5zXCIsXG4gICAgICAgICAgICBcIml0ZW1zXCI6IFtcblxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ2ZW5kb3JJZFwiOiBcInY3XCIsXG4gICAgICAgICAgICBcInZlbmRvckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX2xpc3Rfdmlld19pbWFnZXMvaG9wcGVyc19hbmRfYmV0cmF5YWxzLmpwZ1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JOYW1lXCI6IFwiSG9wcGVycyBhbmQgQmV0cmF5YWxzXCIsXG4gICAgICAgICAgICBcInZlbmRvckNhdGVyZ29yaWVzXCI6IFtcbiAgICAgICAgICAgICAgICBcIkhvcHBlcnNcIixcbiAgICAgICAgICAgICAgICBcIlNyaSBMYW5rYW5cIixcbiAgICAgICAgICAgICAgICBcIkluZGlhblwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICBcInZlbmRvclJhdGluZ1ZhbHVlXCI6IDMuOSxcbiAgICAgICAgICAgICAgICBcInZlbmRvck5vT2ZSYXRpbmdzXCI6IDg0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsb2NhdGlvblwiOiBcIkNvbG9tYm8gMVwiLFxuICAgICAgICAgICAgXCJkZWxpdmVyeVRpbWVcIjogXCIyMi0zNSBtaW5zXCIsXG4gICAgICAgICAgICBcIml0ZW1zXCI6IFtcblxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ2ZW5kb3JJZFwiOiBcInY4XCIsXG4gICAgICAgICAgICBcInZlbmRvckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX2xpc3Rfdmlld19pbWFnZXMvY3V0aWVfcGllc19hbmRfY3VwY2FrZXMuanBnXCIsXG4gICAgICAgICAgICBcInZlbmRvck5hbWVcIjogXCJDdXRpZSBQaWVzIGFuZCBDdXBjYWtlc1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDYXRlcmdvcmllc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJDdXBjYWtlc1wiLFxuICAgICAgICAgICAgICAgIFwiU3dlZXRcIixcbiAgICAgICAgICAgICAgICBcIlNvdXJcIlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdWYWx1ZVwiOiA0LjQsXG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JOb09mUmF0aW5nc1wiOiA5N1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibG9jYXRpb25cIjogXCJDb2xvbWJvIDFcIixcbiAgICAgICAgICAgIFwiZGVsaXZlcnlUaW1lXCI6IFwiMzUtNTAgbWluc1wiLFxuICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG5cbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidmVuZG9ySWRcIjogXCJ2OVwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JJbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9saXN0X3ZpZXdfaW1hZ2VzL3Rpa2thLWtfaW50YS5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIlRpa2thLWsgSW50YVwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDYXRlcmdvcmllc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJQYXJhdGhhXCIsXG4gICAgICAgICAgICAgICAgXCJJbmRpYW5cIlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdWYWx1ZVwiOiA0LjksXG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JOb09mUmF0aW5nc1wiOiAyMDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxvY2F0aW9uXCI6IFwiQ29sb21ibyAxXCIsXG4gICAgICAgICAgICBcImRlbGl2ZXJ5VGltZVwiOiBcIjQwLTQ1IG1pbnNcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInZlbmRvcklkXCI6IFwidjEwXCIsXG4gICAgICAgICAgICBcInZlbmRvckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX2xpc3Rfdmlld19pbWFnZXMvdGhlX2NvZGZhdGhlci5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIlRoZSBDb2RmYXRoZXJcIixcbiAgICAgICAgICAgIFwidmVuZG9yQ2F0ZXJnb3JpZXNcIjogW1xuICAgICAgICAgICAgICAgIFwiQ2hpcHNcIixcbiAgICAgICAgICAgICAgICBcIkZyaWVkIEZpc2hcIixcbiAgICAgICAgICAgICAgICBcIkFtZXJpY2FuXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInZlbmRvclJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nVmFsdWVcIjogMy41LFxuICAgICAgICAgICAgICAgIFwidmVuZG9yTm9PZlJhdGluZ3NcIjogNzNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxvY2F0aW9uXCI6IFwiQ29sb21ibyAxXCIsXG4gICAgICAgICAgICBcImRlbGl2ZXJ5VGltZVwiOiBcIjUtMTUgbWluc1wiLFxuICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG5cbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidmVuZG9ySWRcIjogXCJ2MTFcIixcbiAgICAgICAgICAgIFwidmVuZG9ySW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfbGlzdF92aWV3X2ltYWdlcy90aGVfdGlwc3lfY293LmpwZ1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JOYW1lXCI6IFwiVGhlIFRpcHN5IENvd1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDYXRlcmdvcmllc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJDb2NrdGFpbHNcIixcbiAgICAgICAgICAgICAgICBcIlNtb290aGllc1wiLFxuICAgICAgICAgICAgICAgIFwiSnVpY2VcIlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdWYWx1ZVwiOiA1LjAsXG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JOb09mUmF0aW5nc1wiOiA1NVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibG9jYXRpb25cIjogXCJDb2xvbWJvIDFcIixcbiAgICAgICAgICAgIFwiZGVsaXZlcnlUaW1lXCI6IFwiMTAtMzAgbWluc1wiLFxuICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG5cbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidmVuZG9ySWRcIjogXCJ2MTJcIixcbiAgICAgICAgICAgIFwidmVuZG9ySW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfbGlzdF92aWV3X2ltYWdlcy90aGVfZGFpcnlfZ29kbW90aGVyLmpwZ1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JOYW1lXCI6IFwiVGhlIERhaXJ5IEdvZG1vdGhlclwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDYXRlcmdvcmllc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJEYWlyeVwiLFxuICAgICAgICAgICAgICAgIFwiTWlsa1wiLFxuICAgICAgICAgICAgICAgIFwiU21vb3RoaWVzXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInZlbmRvclJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nVmFsdWVcIjogNC4wLFxuICAgICAgICAgICAgICAgIFwidmVuZG9yTm9PZlJhdGluZ3NcIjogNjdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxvY2F0aW9uXCI6IFwiQ29sb21ibyAxXCIsXG4gICAgICAgICAgICBcImRlbGl2ZXJ5VGltZVwiOiBcIjIwLTUwIG1pbnNcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgIF0sXG4gICAgbGVhZGVyYm9hcmQ6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJJaGFuIExlbHdhbGFcIixcbiAgICAgICAgICAgIHBvaW50czogMjUwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwiVmludWxhIFV0aHNhcmFcIixcbiAgICAgICAgICAgIHBvaW50czogMzAwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwiVGhlbnVrYSBQZXJlcmFcIixcbiAgICAgICAgICAgIHBvaW50czogMjYwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwiRGVzaGFuIEtvc3dhdHRlXCIsXG4gICAgICAgICAgICBwb2ludHM6IDI4MFxuICAgICAgICB9LFxuICAgIF1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXRBbGxWZW5kb3JzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS52ZW5kb3JzO1xuICAgICAgICB9LFxuICAgICAgICBnZXRTcGVjaWZpY1ZlbmRvcjogZnVuY3Rpb24gKHZlbmRvcklkKSB7XG4gICAgICAgICAgICAvLyByZXR1cm5zIHZlbmRvciBkZXRhaWxzIGZvciBwcm92aWRlZCB2ZW5kb3JJZFxuICAgICAgICAgICAgY29uc3QgdmVuZG9yID0gZGF0YS52ZW5kb3JzLmZpbmQodmVuZG9yID0+IHZlbmRvci52ZW5kb3JJZCA9PT0gdmVuZG9ySWQpO1xuICAgICAgICAgICAgcmV0dXJuIHZlbmRvcjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U3BlY2lmaWNJdGVtOiBmdW5jdGlvbiAoaXRlbUlkKSB7XG4gICAgICAgICAgICAvLyByZXR1cm4gaXRlbSBkZXRhaWxzIGZvciBwcm92aWRlZCBpdGVtSWRcbiAgICAgICAgICAgIGNvbnN0IGFsbFZlbmRvcnNJdGVtcyA9IGRhdGEudmVuZG9ycy5mbGF0TWFwKHZlbmRvciA9PiB2ZW5kb3IuaXRlbXMpXG4gICAgICAgICAgICBjb25zdCBpdGVtID0gYWxsVmVuZG9yc0l0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLml0ZW1JZCA9PT0gaXRlbUlkKTtcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9LFxuICAgICAgICBnZXRWZW5kb3JJZEZyb21WZW5kb3JOYW1lOiBmdW5jdGlvbiAodmVuZG9yTmFtZSkge1xuICAgICAgICAgICAgY29uc3QgdmVuZG9yID0gZGF0YS52ZW5kb3JzLmZpbmQodmVuZG9yID0+IHZlbmRvci52ZW5kb3JOYW1lID09PSB2ZW5kb3JOYW1lKTtcbiAgICAgICAgICAgIHJldHVybiB2ZW5kb3IudmVuZG9ySWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZVZlbmRvckFuZEl0ZW1SYXRpbmdzOiBmdW5jdGlvbiAodmVuZG9ySWQsIHZlbmRvclJhdGluZywgaXRlbVRpdGxlcywgcmF0aW5ncykge1xuICAgICAgICAgICAgLy8gVXBkYXRlcyB0aGUgdmVuZG9yIHJhdGluZ3MgYW5kIGl0ZW0gcmF0aW5ncyBhY2NvcmRpbmdseS5cblxuICAgICAgICAgICAgLy8gUmV0cmlldmUgdGhlIHZlbmRvciB1c2luZyB0aGUgdmVuZG9yIElkIHNvIHRoYXQgaXQgY2FuIGJlIHVwZGF0ZWQuXG4gICAgICAgICAgICBjb25zdCB2ZW5kb3IgPSBkYXRhLnZlbmRvcnMuZmluZCh2ZW5kb3IgPT4gdmVuZG9yLnZlbmRvcklkID09PSB2ZW5kb3JJZCk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdmVuZG9yIHJhdGluZ3MgYW5kIGluY3JlYXNlIHRoZSBjb3VudCBvZiBubzogb2YgcmF0ZWQgcGVvcGxlLlxuICAgICAgICAgICAgdmVuZG9yLnZlbmRvclJhdGluZ3MudmVuZG9yUmF0aW5nVmFsdWUgPSAocGFyc2VGbG9hdCh2ZW5kb3IudmVuZG9yUmF0aW5ncy52ZW5kb3JSYXRpbmdWYWx1ZSAqIHZlbmRvci52ZW5kb3JSYXRpbmdzLnZlbmRvck5vT2ZSYXRpbmdzKSArIHBhcnNlRmxvYXQodmVuZG9yUmF0aW5nKSkgLyAodmVuZG9yLnZlbmRvclJhdGluZ3MudmVuZG9yTm9PZlJhdGluZ3MgKyAxKTtcbiAgICAgICAgICAgIHZlbmRvci52ZW5kb3JSYXRpbmdzLnZlbmRvck5vT2ZSYXRpbmdzID0gdmVuZG9yLnZlbmRvclJhdGluZ3MudmVuZG9yTm9PZlJhdGluZ3MgKyAxO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHJhdGluZ3Mgb2YgdGhlIHZlbmRvcidzIGl0ZW1zLlxuICAgICAgICAgICAgdmFyIHVwZGF0ZWRWZW5kb3JBbmRJdGVtUmF0aW5ncyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtVGl0bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmVuZG9yLml0ZW1zLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGlmIHRoZSBpdGVtIG5hbWVzIG1hdGNoLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5pdGVtVGl0bGUucmVwbGFjZSgvXFxzL2csIFwiXCIpID09PSBpdGVtVGl0bGVzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkVmVuZG9yQW5kSXRlbVJhdGluZ3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBpdGVtLml0ZW1JbWFnZUxvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IGl0ZW0uaXRlbUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVRpdGxlXCI6IGl0ZW0uaXRlbVRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbURlc2NyaXB0aW9uXCI6IGl0ZW0uaXRlbURlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiAocGFyc2VGbG9hdChpdGVtLml0ZW1SYXRpbmdzLml0ZW1SYXRpbmdWYWx1ZSAqIGl0ZW0uaXRlbVJhdGluZ3MuaXRlbU5vT2ZSYXRpbmdzKSArIHBhcnNlRmxvYXQocmF0aW5nc1tpXSkpIC8gKGl0ZW0uaXRlbVJhdGluZ3MuaXRlbU5vT2ZSYXRpbmdzICsgMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbU5vT2ZSYXRpbmdzXCI6IGl0ZW0uaXRlbVJhdGluZ3MuaXRlbU5vT2ZSYXRpbmdzICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtUHJpY2VcIjogaXRlbS5pdGVtUHJpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRWxzZSBjaGVjayBpZiB0aGUgaXRlbSBpcyBhbHJlYWR5IHRoZXJlIGFuZCBhZGQgaXQgaWYgaXQgaXMgbm90IHRoZXJlLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZWRWZW5kb3JBbmRJdGVtUmF0aW5ncy5maW5kKHVwZGF0ZWRJdGVtID0+IHVwZGF0ZWRJdGVtLml0ZW1JZCA9PT0gaXRlbS5pdGVtSWQpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkVmVuZG9yQW5kSXRlbVJhdGluZ3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbUltYWdlTG9jYXRpb25cIjogaXRlbS5pdGVtSW1hZ2VMb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtSWRcIjogaXRlbS5pdGVtSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVRpdGxlXCI6IGl0ZW0uaXRlbVRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBpdGVtLml0ZW1EZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiBpdGVtLml0ZW1SYXRpbmdzLml0ZW1SYXRpbmdWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbU5vT2ZSYXRpbmdzXCI6IGl0ZW0uaXRlbVJhdGluZ3MuaXRlbU5vT2ZSYXRpbmdzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVByaWNlXCI6IGl0ZW0uaXRlbVByaWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZlbmRvci5pdGVtcyA9IHVwZGF0ZWRWZW5kb3JBbmRJdGVtUmF0aW5ncztcblxuICAgICAgICAgICAgLy8gQ0hlY2sgaWYgdGhlIHVwZGF0ZSB3YXMgc3VjY2Vzc2Z1bGwuXG4gICAgICAgICAgICB2YXIgdGVzdCA9IGRhdGEudmVuZG9ycy5maW5kKHZlbmRvciA9PiB2ZW5kb3IudmVuZG9ySWQgPT09IHZlbmRvcklkKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXBkYXRlZCBWZW5kb3I6XCIsIHRlc3QpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRMZWFkZXJib2FyZDogZnVuY3Rpb24gKHsgcG9pbnRzIH0pIHtcbiAgICAgICAgICAgIGNvbnN0IGxvZ2dlZEluVXNlciA9IHsgbmFtZTogXCJZb3VcIiwgcG9pbnRzIH07XG4gICAgICAgICAgICBjb25zdCBsZWFkZXJib2FyZFdpdGhMb2dnZWRJblVzZXIgPSBbLi4uZGF0YS5sZWFkZXJib2FyZCwgbG9nZ2VkSW5Vc2VyXTtcbiAgICAgICAgICAgIHJldHVybiBsZWFkZXJib2FyZFdpdGhMb2dnZWRJblVzZXIuc29ydCgodXNlcjEsIHVzZXIyKSA9PiB1c2VyMi5wb2ludHMgLSB1c2VyMS5wb2ludHMpXG4gICAgICAgIH1cbiAgICB9XG59KCkiLCJ2YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpXG4kLm1vYmlsZSA9IHJlcXVpcmUoJ2pxdWVyeS1tb2JpbGUnKVxuXG52YXIgY2FydCA9IHJlcXVpcmUoJy4vY2FydCcpO1xuY2FydC5pbml0KCk7XG5cbnZhciB1c2VyID0gcmVxdWlyZSgnLi91c2VyJylcbnVzZXIuaW5pdCgpO1xuXG52YXIgZGF0YXN0b3JlID0gcmVxdWlyZSgnLi9kYXRhc3RvcmUnKVxuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJylcblxudmFyIHBheW1lbnQgPSByZXF1aXJlKCcuL3BheW1lbnQnKVxuXG52YXIgdmVuZG9ybGlzdCA9IHJlcXVpcmUoJy4vdmVuZG9ybGlzdCcpXG5cbnZhciBzdHJpcGUgPSByZXF1aXJlKCdAc3RyaXBlL3N0cmlwZS1qcycpO1xuXG52YXIgZW1haWxqcyA9IHJlcXVpcmUoJ2VtYWlsanMtY29tJyk7XG5lbWFpbGpzLmluaXQoJ3VzZXJfOXFIbWZVQ2hxQktUMlNOZ2hRMXYxJyk7XG5cbndpbmRvdy5hcHAgPSB7XG4gICAgY2FydCxcbiAgICB1c2VyLFxuICAgIGRhdGFzdG9yZSxcbiAgICB1dGlscyxcbiAgICBwYXltZW50LFxuICAgIHN0cmlwZSxcbiAgICB2ZW5kb3JsaXN0LFxuICAgIGVtYWlsanNcbn1cblxuLyoqXG4gKiBSZW1vdmUgZm9sbG93aW5nIHNjcmlwdHMgKGF0dGFjaGVkIHRvIHRoZSB3aW5kb3cpIGJlZm9yZSBoaWRpbmcgdGhlIGN1cnJlbnQgcGFnZSB0byBsb2FkIHRoZSBuZXh0LlxuICogU2luY2Ugd2UgYXJlIHVzaW5nIEFKQVggbmF2aWdhdGlvbiBiZXR3ZWVuIHRoZSBwYWdlcywgdGhlc2Ugc2NyaXB0cyB3aWxsIHRocm93biB1cyBhbiBlcnJvciBcbiAqIGluZGljYXRpbmcgdGhhdCB3ZSBhcmUgdHJ5aW5nIHRvIGxvYWQgdGhlIHNjcmlwdHMgbXVsdHBsZSB0aW1lcy5cbiAqIFRoZSBjb2RlIGdpdmVuIGJlbG93IHByZXZlbnRzIHRoYXQgaXNzdWUgYnkgcmVzZXR0aW5nIHRoZSBzb3VyY2UgY29kZSBzZXQgb24gdGhlIHdpbmRvd1xuICogZWFjaCB0aW1lIHRoZSByZXNwZWN0aXZlIHNjcmlwdCBpcyBsb2FkZWQuXG4gKi9cbiQoZG9jdW1lbnQpLm9uKFwicGFnZWNvbnRhaW5lcmJlZm9yZWhpZGVcIiwgZnVuY3Rpb24gKGV2ZW50LCB1aSkge1xuICAgIGNvbnNvbGUubG9nKCdQYWdlIGdvaW5nIHRvIGhpZGUgLi4uIHJlbW92aW5nIEdvb2dsZSBNYXBzIHNjcmlwdHMnKVxuICAgIHdpbmRvdy5nb29nbGUgPSB1bmRlZmluZWQ7XG4gICAgd2luZG93LlN0cmlwZSA9IHVuZGVmaW5lZDtcbn0pXG5cbmNvbnN0IHNjcmVlbkRpbWVucyA9IHtcbiAgICBpUGFkOiAxMDI0XG59XG5cbmNvbnN0IG5hdmlnYXRpb25QYW5lbEJsb2NrZWRTY3JlZW5zID0gW1wibGFuZGluZ1wiLCBcInZlbmRvci1zdG9yaWVzXCIsIFwidmVuZG9yLXJhdGluZ1wiLCBcIml0ZW0tcmF0aW5nXCIsXG4gICAgXCJvcmRlci1pbi1wcm9ncmVzcy1wYWdlXCIsIFwiZGVsaXZlcnktaW4tcHJvZ3Jlc3MtcGFnZVwiLCBcInNpZ25pblwiLCBcInNpZ251cFwiXTtcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIG9wZW5zIHRoZSBuYXZpZ2F0aW9uIHBhbmVsIHByb2dyYW1hdGljYWxseVxuICogaWYgdGhlIHNjcmVlbiB3aWR0aCBpcyBhYm92ZSB0aGUgc3BlY2lmaWVkIHNpemVcbiAqIFxuICogUmVmZXIgaHR0cHM6Ly9mb3J1bS5qcXVlcnkuY29tL3RvcGljL3Jlc3BvbnNpdmUtcGFuZWwtZGVtby1icm9rZW4taG93LXRvLWtlZXAtYS1wYW5lbC1vcGVuLW9uLWEtbGFyZ2Utd2luZG93XG4gKi9cbmNvbnN0IGV2YWx1YXRlUGFuZWxPcGVuID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB3aWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xuICAgIGlmICh3aWR0aCA+PSBzY3JlZW5EaW1lbnMuaVBhZCkge1xuICAgICAgICBjb25zb2xlLmxvZygnT3BlbmluZyBuYXZpZ2F0aW9uIHBhbmVsJyk7XG4gICAgICAgICQoXCIjbmF2aWdhdGlvbi1tZW51XCIpLnBhbmVsKFwib3BlblwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiI25hdmlnYXRpb24tbWVudVwiKS5wYW5lbChcImNsb3NlXCIpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2RlbW9zLmpxdWVyeW1vYmlsZS5jb20vYmxvYi9tYXN0ZXIvMS40LjUvcGFuZWwtZXh0ZXJuYWwvaW5kZXguaHRtbFxuICovXG4kKGRvY3VtZW50KS5vbihcInBhZ2Vjb250YWluZXJjcmVhdGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICQuZ2V0KFwibmF2aWdhdGlvbl9zaWRlX2Jhci5odG1sXCIsIGZ1bmN0aW9uIChtYXJrdXApIHtcbiAgICAgICAgLy8gQWRkIHRoZSBwYW5lbCB0byB0aGUgYm9keVxuICAgICAgICAkKCdib2R5JykuYXBwZW5kKG1hcmt1cCk7XG5cbiAgICAgICAgLy8gTWFudWFsbHkgaW5pdGlhbGl6ZSB0aGUgcGFuZWxcbiAgICAgICAgJChcImJvZHk+W2RhdGEtcm9sZT0ncGFuZWwnXVwiKS5lbmhhbmNlV2l0aGluKCkucGFuZWwoKTtcbiAgICAgICAgY29uc3QgYWN0aXZlUGFnZSA9ICQoXCI6bW9iaWxlLXBhZ2Vjb250YWluZXJcIikucGFnZWNvbnRhaW5lcihcImdldEFjdGl2ZVBhZ2VcIilbMF07XG4gICAgICAgIGNvbnN0IHNob3VsZFNob3dQYW5lbCA9ICFuYXZpZ2F0aW9uUGFuZWxCbG9ja2VkU2NyZWVucy5pbmNsdWRlcyhhY3RpdmVQYWdlLmlkKTtcbiAgICAgICAgaWYgKHNob3VsZFNob3dQYW5lbCkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgYWdhaW4gd2hlbiB3ZSBuYXZpZ2F0ZSB0byBhbm90aGVyIHBhZ2VcbiAgICAgICAgICAgIGV2YWx1YXRlUGFuZWxPcGVuKCk7XG4gICAgICAgIH1cblxuICAgICAgICAkKCdib2R5Jykub24oXCJwYWdlY29udGFpbmVyY2hhbmdlXCIsIGZ1bmN0aW9uIChldmVudCwgdWkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTmF2aWdhdGluZyB0byBwYWdlOlwiLCB1aS50b1BhZ2VbMF0uaWQpO1xuICAgICAgICAgICAgaWYgKCFuYXZpZ2F0aW9uUGFuZWxCbG9ja2VkU2NyZWVucy5pbmNsdWRlcyh1aS50b1BhZ2VbMF0uaWQpKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgYWdhaW4gd2hlbiB3ZSBuYXZpZ2F0ZSB0byBhbm90aGVyIHBhZ2VcbiAgICAgICAgICAgICAgICBldmFsdWF0ZVBhbmVsT3BlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgICQod2luZG93KS5vbihcInJlc2l6ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBhZ2FpbiB3aGVuIHRoZSB3aW5kb3cgZ2V0cyByZXNpemVkIChtYXliZSBkdWUgdG8gY2hhbmdlIGluIHNjcmVlbiBvcmllbnRhdGlvbilcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVBhZ2UgPSAkKFwiOm1vYmlsZS1wYWdlY29udGFpbmVyXCIpLnBhZ2Vjb250YWluZXIoXCJnZXRBY3RpdmVQYWdlXCIpWzBdO1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkU2hvd1BhbmVsID0gIW5hdmlnYXRpb25QYW5lbEJsb2NrZWRTY3JlZW5zLmluY2x1ZGVzKGFjdGl2ZVBhZ2UuaWQpO1xuICAgICAgICAgICAgaWYgKHNob3VsZFNob3dQYW5lbCkge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGFnYWluIHdoZW4gd2UgbmF2aWdhdGUgdG8gYW5vdGhlciBwYWdlXG4gICAgICAgICAgICAgICAgZXZhbHVhdGVQYW5lbE9wZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KVxufSlcbiIsImNvbnN0ICQgPSByZXF1aXJlKCdqcXVlcnknKTtcblxuY29uc3QgU0VDUkVUX0tFWSA9ICdza190ZXN0XzUxSTNjOFdCWXNYZ1JYZzRzdUlTNldDUk1NY2ZNc05nb3BXb2t6dXFpS1hTbzZwbVZYMDB6SWs3VXA2dWtkalpMRVk2WWZwY2xKMWxBVUNCS3BsNlk0ZmU2MDBDZk5FNTg0UCc7XG5cbmNvbnN0IHBvc3RUb1N0cmlwZUFQSSA9IGZ1bmN0aW9uICh7IHVybCwgZGF0YSwgc3VjY2VzcywgZXJyb3IgfSkge1xuICAgIHJldHVybiAkLmFqYXgoe1xuICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbiAoeGhyKSB7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHtTRUNSRVRfS0VZfWApO1xuICAgICAgICB9LFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9hcGkuc3RyaXBlLmNvbS92MS9cIiArIHVybCxcbiAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgc3VjY2VzcyxcbiAgICAgICAgZXJyb3IsXG4gICAgfSlcbn1cblxuY29uc3QgZ2V0RnJvbVN0cmlwZUFQSSA9IGZ1bmN0aW9uICh7IHVybCwgcXVlcnlQYXJhbXMsIHN1Y2Nlc3MsIGVycm9yIH0pIHtcbiAgICByZXR1cm4gJC5hamF4KHtcbiAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24gKHhocikge1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7U0VDUkVUX0tFWX1gKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vYXBpLnN0cmlwZS5jb20vdjEvXCIgKyB1cmwsXG4gICAgICAgIHR5cGU6IFwiR0VUXCIsXG4gICAgICAgIGRhdGE6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgIHN1Y2Nlc3MsXG4gICAgICAgIGVycm9yLFxuICAgIH0pXG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZVNlc3Npb25Ub1NhdmVDYXJkRGV0YWlsczogZnVuY3Rpb24gKG9wdGlvbnMsIHN1Y2Nlc3MsIGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gcG9zdFRvU3RyaXBlQVBJKHtcbiAgICAgICAgICAgICAgICB1cmw6ICdjaGVja291dC9zZXNzaW9ucycsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBwYXltZW50X21ldGhvZF90eXBlczogWydjYXJkJ10sXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6ICdzZXR1cCcsIC8vIG9ubHkgc2V0dXAgdGhlIHBheW1lbnQgbWV0aG9kLCB3aXRob3V0IGNoYXJnaW5nIGFueSBpbml0aWFsIHBheW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzcyxcbiAgICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0QWxsQ2FyZHNGb3JDdXN0b21lcjogZnVuY3Rpb24gKHN1Y2Nlc3MsIGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBsb2dnZWRJblVzZXIgPSByZXF1aXJlKCcuL3VzZXInKS5nZXRQYXltZW50RGV0YWlscygpO1xuXG4gICAgICAgICAgICAvLyBodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9tZXRob2RzL2xpc3Q/bGFuZz1jdXJsXG4gICAgICAgICAgICByZXR1cm4gZ2V0RnJvbVN0cmlwZUFQSSh7XG4gICAgICAgICAgICAgICAgdXJsOiAncGF5bWVudF9tZXRob2RzJyxcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICBjdXN0b21lcjogbG9nZ2VkSW5Vc2VyLnN0cmlwZV9jdXN0b21lcl9pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NhcmQnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzLFxuICAgICAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlQ2FyZDogZnVuY3Rpb24gKGNhcmRJZCwgc3VjY2VzcywgZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBwb3N0VG9TdHJpcGVBUEkoe1xuICAgICAgICAgICAgICAgIHVybDogYHBheW1lbnRfbWV0aG9kcy8ke2NhcmRJZH0vZGV0YWNoYCxcbiAgICAgICAgICAgICAgICBzdWNjZXNzLFxuICAgICAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlQ2hlY2tvdXRTZXNzaW9uKG9wdGlvbnMsIHN1Y2Nlc3MsIGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBsb2dnZWRJblVzZXIgPSByZXF1aXJlKCcuL3VzZXInKS5nZXRQYXltZW50RGV0YWlscygpO1xuXG4gICAgICAgICAgICByZXR1cm4gcG9zdFRvU3RyaXBlQVBJKHtcbiAgICAgICAgICAgICAgICB1cmw6ICdjaGVja291dC9zZXNzaW9ucycsXG4gICAgICAgICAgICAgICAgc3VjY2VzcyxcbiAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyOiBsb2dnZWRJblVzZXIuc3RyaXBlX2N1c3RvbWVyX2lkLFxuICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG59KCkiLCJjb25zdCBjb29raWUgPSByZXF1aXJlKCdqcy1jb29raWUnKTtcbmNvbnN0IGRhdGFzdG9yZSA9IHJlcXVpcmUoJy4vZGF0YXN0b3JlJyk7XG5cbmNvbnN0IFVTRVIgPSBcInVzZXJcIjtcblxuY29uc3QgREVGQVVMVF9VU0VSID0ge1xuICAgIHByb2ZpbGU6IHtcbiAgICAgICAgbmFtZTogXCJKb2huIERvZVwiLFxuICAgICAgICBwb2ludHM6IDI3MCxcbiAgICB9LFxuICAgIHBheW1lbnQ6IHtcbiAgICAgICAgc3RyaXBlX2N1c3RvbWVyX2lkOiAnY3VzX0loV3d4b3BFTnRsSTFQJyxcbiAgICB9LFxuICAgIGxvY2F0aW9uOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiRGVsa2FuZGEsIE51Z2Vnb2RhXCIsXG4gICAgfSxcbiAgICBmYXZvcml0ZXM6IHtcbiAgICAgICAgaXRlbXM6IFtdLFxuICAgICAgICB2ZW5kb3JzOiBbXSxcbiAgICB9XG59XG5cbmNvbnN0IG9yZGVycyA9IHtcbiAgICBwYXN0T3JkZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwicGFzdE9yZGVySWRcIjogXCJvcmQxXCIsXG4gICAgICAgICAgICBcInZlbmRvckNvdmVySW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy9wYXN0X29yZGVycy9wYXN0X29yZGVyX2NvdmVyX2ltYWdlLmpwZ1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JMb2dvSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy9zdG9yaWVzX2ltYWdlcy9zdG9yeS1iaWcucG5nXCIsXG4gICAgICAgICAgICBcInZlbmRvck5hbWVcIjogXCJCdXJnZXJzIEFob3V5IVwiLFxuICAgICAgICAgICAgXCJub09mT3JkZXJlZEl0ZW1zXCI6IDMsXG4gICAgICAgICAgICBcInByaWNlXCI6IDEwMDAsXG4gICAgICAgICAgICBcImRhdGVcIjogXCJPY3QgMTAgYXQgMTI6MTIgUE1cIixcbiAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nXCI6IDAsXG4gICAgICAgICAgICBcInZlbmRvckNvbW1lbnRcIjogXCJcIixcbiAgICAgICAgICAgIFwib3JkZXJlZEl0ZW1zXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbU5hbWVcIjogXCJIYXdhaWlhbiBCdXJnZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJxdWFudGl0eVwiOiAyLFxuICAgICAgICAgICAgICAgICAgICBcInJhdGluZ1wiOiAwLFxuICAgICAgICAgICAgICAgICAgICBcImNvbW1lbnRcIjogXCJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1OYW1lXCI6IFwiUHVkZGluZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcInF1YW50aXR5XCI6IDIsXG4gICAgICAgICAgICAgICAgICAgIFwicmF0aW5nXCI6IDAsXG4gICAgICAgICAgICAgICAgICAgIFwiY29tbWVudFwiOiBcIlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbU5hbWVcIjogXCJTcGVjaWFsIENoaWxsaSBTYXVjZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInF1YW50aXR5XCI6IDEsXG4gICAgICAgICAgICAgICAgICAgIFwicmF0aW5nXCI6IDAsXG4gICAgICAgICAgICAgICAgICAgIFwiY29tbWVudFwiOiBcIlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInBhc3RPcmRlcklkXCI6IFwib3JkMlwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDb3ZlckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvcGFzdF9vcmRlcnMvcGFzdF9vcmRlcl9jb3Zlcl9pbWFnZS5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTG9nb0ltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvc3Rvcmllc19pbWFnZXMvc3RvcnktYmlnLnBuZ1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JOYW1lXCI6IFwiQnVyZ2VycyBBaG91eSFcIixcbiAgICAgICAgICAgIFwibm9PZk9yZGVyZWRJdGVtc1wiOiAxLFxuICAgICAgICAgICAgXCJwcmljZVwiOiA1MDAsXG4gICAgICAgICAgICBcImRhdGVcIjogXCJPY3QgMDEgYXQgMDg6MzAgUE1cIixcbiAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nXCI6IDQsXG4gICAgICAgICAgICBcInZlbmRvckNvbW1lbnRcIjogXCJUaGUgZm9vZCBpcyBncmVhdCBidXQgdGhlIHF1YW50aXR5IGlzIG5vdCBlbm91Z2guXCIsXG4gICAgICAgICAgICBcIm9yZGVyZWRJdGVtc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1OYW1lXCI6IFwiRmlzaCBhbmQgQ2hpcHMgQnVyZ2VyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwicXVhbnRpdHlcIjogMixcbiAgICAgICAgICAgICAgICAgICAgXCJyYXRpbmdcIjogNCxcbiAgICAgICAgICAgICAgICAgICAgXCJjb21tZW50XCI6IFwiR3JlYXQgZm9vZC4gUGxlYXNlIGluY3JlYXNlIG9uIHRoZSBxdWFudGl0eSBhIGJpdC5cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgXVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBGQVZPUklURV9UWVBFUzoge1xuICAgICAgICAgICAgSVRFTTogJ2l0ZW0nLFxuICAgICAgICAgICAgVkVORE9SOiAndmVuZG9yJyxcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFjb29raWUuZ2V0KFVTRVIpKSB7IC8vIFNldCBjb29raWUgb25seSBpZiBub3QgYWxyZWFkeSBzZXRcbiAgICAgICAgICAgICAgICBjb29raWUuc2V0KFVTRVIsIERFRkFVTFRfVVNFUilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlTG9jYXRpb246IGZ1bmN0aW9uICh7IHVwZGF0ZWRMb2NhdGlvbiB9KSB7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gY29va2llLmdldEpTT04oVVNFUik7XG4gICAgICAgICAgICB1c2VyLmxvY2F0aW9uLmRpc3BsYXkgPSB1cGRhdGVkTG9jYXRpb247XG4gICAgICAgICAgICBjb29raWUuc2V0KFVTRVIsIHVzZXIpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGdldERldGFpbHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb29raWUuZ2V0SlNPTihVU0VSKVxuICAgICAgICB9LFxuICAgICAgICBnZXRQYXltZW50RGV0YWlsczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvb2tpZS5nZXRKU09OKFVTRVIpLnBheW1lbnRcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0QWxsT3JkZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gb3JkZXJzLnBhc3RPcmRlcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFNwZWNpZmljT3JkZXI6IGZ1bmN0aW9uIChwYXN0T3JkZXJJZCkge1xuICAgICAgICAgICAgY29uc3Qgb3JkZXIgPSBvcmRlcnMucGFzdE9yZGVycy5maW5kKG9yZGVyID0+IG9yZGVyLnBhc3RPcmRlcklkID09IHBhc3RPcmRlcklkKTtcbiAgICAgICAgICAgIHJldHVybiBvcmRlcjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0RmF2b3JpdGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsZXQgeyB2ZW5kb3JzLCBpdGVtcyB9ID0gY29va2llLmdldEpTT04oVVNFUikuZmF2b3JpdGVzO1xuICAgICAgICAgICAgdmVuZG9ycyA9IHZlbmRvcnMubWFwKHZlbmRvciA9PiB2ZW5kb3IudmVuZG9ySWQpO1xuICAgICAgICAgICAgaXRlbXMgPSBpdGVtcy5tYXAoaXRlbSA9PiBpdGVtLml0ZW1JZCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGZhdm9yaXRlVmVuZG9ycyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgZmF2b3JpdGVJdGVtcyA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZlbmRvciBvZiBkYXRhc3RvcmUuZ2V0QWxsVmVuZG9ycygpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmVuZG9yc0l0ZW1zID0gdmVuZG9yLml0ZW1zO1xuICAgICAgICAgICAgICAgIGlmICh2ZW5kb3JzLmluY2x1ZGVzKHZlbmRvci52ZW5kb3JJZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZmF2b3JpdGVWZW5kb3JzLnB1c2godmVuZG9yKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2ZW5kb3JzSXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1zLmluY2x1ZGVzKGl0ZW0uaXRlbUlkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmF2b3JpdGVJdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIGlmICh2ZW5kb3JzLmxlbmd0aCA9PSBmYXZvcml0ZVZlbmRvcnMubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLmxlbmd0aCA9PSBmYXZvcml0ZUl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7IHZlbmRvcnM6IGZhdm9yaXRlVmVuZG9ycywgaXRlbXM6IGZhdm9yaXRlSXRlbXMgfTtcbiAgICAgICAgfSxcbiAgICAgICAgaXNJdGVtRmF2b3JpdGU6IGZ1bmN0aW9uICh0eXBlLCBmYXZvcml0ZUl0ZW0pIHtcbiAgICAgICAgICAgIGNvbnN0IGxvZ2dlZEluVXNlciA9IGNvb2tpZS5nZXRKU09OKFVTRVIpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEZhdm9yaXRlcyA9IGxvZ2dlZEluVXNlci5mYXZvcml0ZXM7XG5cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5GQVZPUklURV9UWVBFUy5WRU5ET1I6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50RmF2b3JpdGVzWyd2ZW5kb3JzJ11cbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kSW5kZXgodmVuZG9yID0+IHZlbmRvci52ZW5kb3JJZCA9PT0gZmF2b3JpdGVJdGVtLnZlbmRvcklkKSA+IC0xO1xuXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLkZBVk9SSVRFX1RZUEVTLklURU06XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50RmF2b3JpdGVzWydpdGVtcyddXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZEluZGV4KGkgPT4gaS5pdGVtSWQgPT09IGZhdm9yaXRlSXRlbS5pdGVtSWQpID4gLTE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcbiAgICAgICAgYWRkRmF2b3JpdGU6IGZ1bmN0aW9uICh0eXBlLCBmYXZvcml0ZUl0ZW0pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBZGRpbmcgZmF2b3JpdGUgLi4uJyk7XG5cbiAgICAgICAgICAgIC8vIFJldHJpZXZlIGRldGFpbHMgZnJvbSBjb29raWVcbiAgICAgICAgICAgIGNvbnN0IGxvZ2dlZEluVXNlciA9IGNvb2tpZS5nZXRKU09OKFVTRVIpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEZhdm9yaXRlcyA9IGxvZ2dlZEluVXNlci5mYXZvcml0ZXM7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBmYXZvcml0ZXNcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5GQVZPUklURV9UWVBFUy5WRU5ET1I6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzVmVuZG9yQWxyZWFkeU1hcmtlZEZhdm9yaXRlID0gY3VycmVudEZhdm9yaXRlc1sndmVuZG9ycyddLmZpbmQoaSA9PiBpLnZlbmRvcklkID09PSBmYXZvcml0ZUl0ZW0udmVuZG9ySWQpXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNWZW5kb3JBbHJlYWR5TWFya2VkRmF2b3JpdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdmVuZG9ySWQgfSA9IGZhdm9yaXRlSXRlbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGYXZvcml0ZXNbJ3ZlbmRvcnMnXS5wdXNoKHsgdmVuZG9ySWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLkZBVk9SSVRFX1RZUEVTLklURU06XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzSXRlbUFscmVhZHlNYXJrZWRGYXZvcml0ZSA9IGN1cnJlbnRGYXZvcml0ZXNbJ2l0ZW1zJ10uZmluZChpID0+IGkuaXRlbUlkID09PSBmYXZvcml0ZUl0ZW0uaXRlbUlkKVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzSXRlbUFscmVhZHlNYXJrZWRGYXZvcml0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBpdGVtSWQgfSA9IGZhdm9yaXRlSXRlbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGYXZvcml0ZXNbJ2l0ZW1zJ10ucHVzaCh7IGl0ZW1JZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbmV3RmF2b3JpdGVzID0gY3VycmVudEZhdm9yaXRlcztcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0geyAuLi5sb2dnZWRJblVzZXIsIGZhdm9yaXRlczogbmV3RmF2b3JpdGVzIH07XG5cbiAgICAgICAgICAgIC8vIFNldCB0aGUgY29va2llXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVXBkYXRlZCBVc2VyIC4uLicsIHVwZGF0ZWRVc2VyKTtcbiAgICAgICAgICAgIGNvb2tpZS5zZXQoVVNFUiwgdXBkYXRlZFVzZXIpO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVGYXZvcml0ZTogZnVuY3Rpb24gKHR5cGUsIGZhdm9yaXRlSXRlbSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlbW92aW5nIGZhdm9yaXRlIC4uLicpO1xuXG4gICAgICAgICAgICAvLyBSZXRyaWV2ZSBkZXRhaWxzIGZyb20gY29va2llXG4gICAgICAgICAgICBjb25zdCBsb2dnZWRJblVzZXIgPSBjb29raWUuZ2V0SlNPTihVU0VSKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRGYXZvcml0ZXMgPSBsb2dnZWRJblVzZXIuZmF2b3JpdGVzO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgZmF2b3JpdGVzXG4gICAgICAgICAgICB2YXIgbmV3RmF2b3JpdGVzID0ge307XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gdGhpcy5GQVZPUklURV9UWVBFUy5WRU5ET1IpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RmF2b3JpdGVzWyd2ZW5kb3JzJ10gPSBjdXJyZW50RmF2b3JpdGVzWyd2ZW5kb3JzJ10uZmlsdGVyKGkgPT4gaS52ZW5kb3JJZCAhPSBmYXZvcml0ZUl0ZW0udmVuZG9ySWQpO1xuICAgICAgICAgICAgICAgIG5ld0Zhdm9yaXRlcyA9IHsgLi4uY3VycmVudEZhdm9yaXRlcyB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSB0aGlzLkZBVk9SSVRFX1RZUEVTLklURU0pIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RmF2b3JpdGVzWydpdGVtcyddID0gY3VycmVudEZhdm9yaXRlc1snaXRlbXMnXS5maWx0ZXIoaSA9PiBpLml0ZW1JZCAhPSBmYXZvcml0ZUl0ZW0uaXRlbUlkKTtcbiAgICAgICAgICAgICAgICBuZXdGYXZvcml0ZXMgPSB7IC4uLmN1cnJlbnRGYXZvcml0ZXMgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSB7IC4uLmxvZ2dlZEluVXNlciwgZmF2b3JpdGVzOiBuZXdGYXZvcml0ZXMgfTtcblxuICAgICAgICAgICAgLy8gU2V0IHRoZSBjb29raWVcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGVkIFVzZXIgLi4uJywgdXBkYXRlZFVzZXIpO1xuICAgICAgICAgICAgY29va2llLnNldChVU0VSLCB1cGRhdGVkVXNlcik7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZVNwZWNpZmljT3JkZXI6IGZ1bmN0aW9uIChwYXN0T3JkZXJJZCwgdXBkYXRlZFZlbmRvclJhdGluZywgdXBkYXRlZFZlbmRvckNvbW1lbnQsXG4gICAgICAgICAgICB1cGRhdGVkSXRlbU5hbWVzLCB1cGRhdGVJdGVtUmF0aW5ncywgdXBkYXRlZEl0ZW1Db21tZW50cykge1xuXG4gICAgICAgICAgICBjb25zdCBvcmRlciA9IG9yZGVycy5wYXN0T3JkZXJzLmZpbmQob3JkZXIgPT4gb3JkZXIucGFzdE9yZGVySWQgPT0gcGFzdE9yZGVySWQpO1xuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSB2ZW5kb3IgcmF0aW5nIGFuZCBjb21tZW50LlxuICAgICAgICAgICAgb3JkZXIudmVuZG9yUmF0aW5nID0gdXBkYXRlZFZlbmRvclJhdGluZ1xuICAgICAgICAgICAgb3JkZXIudmVuZG9yQ29tbWVudCA9IHVwZGF0ZWRWZW5kb3JDb21tZW50XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgaXRlbSByYWluZ3MgYW5kIGNvbW1lbnRzLlxuICAgICAgICAgICAgdmFyIHVwZGF0ZWRPcmRlckl0ZW1zID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVwZGF0ZWRJdGVtTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvcmRlci5vcmRlcmVkSXRlbXMubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5pdGVtTmFtZS5yZXBsYWNlKC9cXHMvZywgXCJcIikgPT09IHVwZGF0ZWRJdGVtTmFtZXNbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRPcmRlckl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbU5hbWVcIjogaXRlbS5pdGVtTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInF1YW50aXR5XCI6IGl0ZW0ucXVhbnRpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyYXRpbmdcIjogdXBkYXRlSXRlbVJhdGluZ3NbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb21tZW50XCI6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gXCJjb21tZW50XCI6IHVwZGF0ZWRJdGVtQ29tbWVudHNbaV0gLy8gVE9ETyAtIENvbW1lbnRzIHBhcnQgVGhlbnVrYVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9yZGVyLm9yZGVyZWRJdGVtcyA9IHVwZGF0ZWRPcmRlckl0ZW1zO1xuXG4gICAgICAgICAgICB2YXIgdGVzdCA9IG9yZGVycy5wYXN0T3JkZXJzLmZpbmQob3JkZXIgPT4gb3JkZXIucGFzdE9yZGVySWQgPT0gcGFzdE9yZGVySWQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVcGRhdGVkIE9yZGVyOlwiLCB0ZXN0KTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkUG9pbnRzVG9Vc2VyKHBvaW50cykge1xuICAgICAgICAgICAgY29uc3QgbG9nZ2VkSW5Vc2VyID0gY29va2llLmdldEpTT04oVVNFUik7XG4gICAgICAgICAgICBsb2dnZWRJblVzZXIucHJvZmlsZS5wb2ludHMgKz0gcG9pbnRzO1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBsb2dnZWRJblVzZXI7XG4gICAgICAgICAgICBjb29raWUuc2V0KFVTRVIsIHVwZGF0ZWRVc2VyKTtcbiAgICAgICAgfVxuICAgIH1cbn0oKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGFyc2VVcmxGb3JRdWVyeVBhcmFtczogZnVuY3Rpb24gKHVybCkge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbVN0cmluZyA9IHVybC5zcGxpdCgnPycpWzFdXG4gICAgICAgICAgICByZXR1cm4gcXVlcnlQYXJhbVN0cmluZyAmJiBxdWVyeVBhcmFtU3RyaW5nLnNwbGl0KCcmJykucmVkdWNlKChhY2MsIHBhcmFtKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5X3ZhbHVlID0gcGFyYW0uc3BsaXQoXCI9XCIpO1xuICAgICAgICAgICAgICAgIGFjY1trZXlfdmFsdWVbMF1dID0ga2V5X3ZhbHVlWzFdXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIHt9KSB8fCB7fTtcbiAgICAgICAgfVxuICAgIH1cbn0oKTsiLCJjb25zdCB1c2VyID0gcmVxdWlyZSgnLi91c2VyJyk7XG5cbmNvbnN0IGRhdGEgPSBPYmplY3QuZnJlZXplKHtcbiAgICB2ZW5kb3JzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidmVuZG9ySWRcIjogXCJ2MVwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JJbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9saXN0X3ZpZXdfaW1hZ2VzL2J1cmdlcnNfYWhvdXkuanBnXCIsXG4gICAgICAgICAgICBcInZlbmRvck5hbWVcIjogXCJCdXJnZXJzIEFob3V5IVwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDYXRlcmdvcmllc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJCdXJnZXJzXCIsXG4gICAgICAgICAgICAgICAgXCJBbWVyaWNhblwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICBcInZlbmRvclJhdGluZ1ZhbHVlXCI6IDIuNixcbiAgICAgICAgICAgICAgICBcInZlbmRvck5vT2ZSYXRpbmdzXCI6IDEwMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibG9jYXRpb25cIjogXCJDb2xvbWJvIDNcIixcbiAgICAgICAgICAgIFwiZGVsaXZlcnlUaW1lXCI6IFwiMjUtMzAgbWluc1wiLFxuICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9wYWdlX2ltYWdlcy90b21feXVtX3NvdXAuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjFpMVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIlRvbSBZdW0gU291cFwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIlBpY2tlZCBmcm9tIHRoZSBmcmVzaCB2ZWdldGFibGVzIGFuZCBmaXNoIGZyb20gdGhlIHdpdGggc3BlY2lhbCBDaGlja2VuIEJyb3RoLlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ1ZhbHVlXCI6IDQuNixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbU5vT2ZSYXRpbmdzXCI6IDQ3XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVByaWNlXCI6IDgwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9wYWdlX2ltYWdlcy9jcmlzcHlfY2hpY2tlbl9idXJnZXIuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjFpMlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIkNyaXNweSBDaGlja2VuIEJ1cmdlclwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIkNyaXNweSwgQ2hpY2t5LCBDcmlzcHkgQ2hpY2tlbiBCdXJnZXIuIEl04oCZcyBwcmV0dHkgbXVjaCBzZWxmLWV4cGxhbmF0b3J5LlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ1ZhbHVlXCI6IDQuMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbU5vT2ZSYXRpbmdzXCI6IDEwXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVByaWNlXCI6IDQ1MFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9wYWdlX2ltYWdlcy9oYXdhaWlhbl9idXJnZXIuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjFpM1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIkhhd2FpaWFuIEJ1cmdlclwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIlllcyEgUGluZWFwcGxlcyBnbyBvbiBidXJnZXJzIHRvby4gRG9u4oCZdCBsZXQgb3RoZXJzIHRlbGwgeW91IG90aGVyd2lzZS5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjgsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiA0NVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiA2MDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInZlbmRvcklkXCI6IFwidjJcIixcbiAgICAgICAgICAgIFwidmVuZG9ySW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfbGlzdF92aWV3X2ltYWdlcy9waXp6YV9wYWxwYXRoYS5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIlBpenphIFBhbHBhdGhhXCIsXG4gICAgICAgICAgICBcInZlbmRvckNhdGVyZ29yaWVzXCI6IFtcbiAgICAgICAgICAgICAgICBcIkl0YWxpYW5cIixcbiAgICAgICAgICAgICAgICBcIkFtZXJpY2FuXCIsXG4gICAgICAgICAgICAgICAgXCJQaXp6YVwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICBcInZlbmRvclJhdGluZ1ZhbHVlXCI6IDQuOCxcbiAgICAgICAgICAgICAgICBcInZlbmRvck5vT2ZSYXRpbmdzXCI6IDk5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsb2NhdGlvblwiOiBcIkNvbG9tYm8gNVwiLFxuICAgICAgICAgICAgXCJkZWxpdmVyeVRpbWVcIjogXCIxNS0yMCBtaW5zXCIsXG4gICAgICAgICAgICBcIml0ZW1zXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX3BhZ2VfaW1hZ2VzL2NoZWVzZV9sb3ZlcnNfcGl6emEuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjJpMVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIkNoZWVzZSBMb3ZlcnMgUGl6emFcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogXCJSaWNoIHRvbWF0byBzYXVjZSB3aXRoIGEgdHJpcGxlIGxheWVyIG9mIG1venphcmVsbGEgY2hlZXNlLlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ1ZhbHVlXCI6IDQuNSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbU5vT2ZSYXRpbmdzXCI6IDU1XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVByaWNlXCI6IDUwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9wYWdlX2ltYWdlcy9jaGlja2VuX2JhY29uX3BpenphLmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBcInYyaTJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtVGl0bGVcIjogXCJDaGlja2VuIEJhY29uIFBpenphXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbURlc2NyaXB0aW9uXCI6IFwiQ2hpY2tlbiBiYWNvbiwgb25pb25zICYgZ3JlZW4gY2hpbGxpZXMgd2l0aCBhIGRvdWJsZSBsYXllciBvZiBtb3p6YXJlbGxhIGNoZWVzZS5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjksXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiA5MFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiAzMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvZGV2aWxsZWRfY2hpY2tlbl9waXp6YS5qcGdcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSWRcIjogXCJ2MmkzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVRpdGxlXCI6IFwiRGV2aWxsZWQgQ2hpY2tlbiBQaXp6YVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIkRldmlsbGVkIGNoaWNrZW4gaW4gc3BpY3kgc2F1Y2Ugd2l0aCBhIGRvdWJsZSBsYXllciBvZiBtb3p6YXJlbGxhIGNoZWVzZS5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjEsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiA3NVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiA0NzBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInZlbmRvcklkXCI6IFwidjNcIixcbiAgICAgICAgICAgIFwidmVuZG9ySW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfbGlzdF92aWV3X2ltYWdlcy9iYXRodWlfcG9sX3NhbWJvbGFpLmpwZ1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JOYW1lXCI6IFwiQmF0aHVpIFBvbCBTYW1ib2xhaVwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDYXRlcmdvcmllc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJSaWNlXCIsXG4gICAgICAgICAgICAgICAgXCJTcmkgTGFua2FuXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInZlbmRvclJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nVmFsdWVcIjogNC41LFxuICAgICAgICAgICAgICAgIFwidmVuZG9yTm9PZlJhdGluZ3NcIjogMTUwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsb2NhdGlvblwiOiBcIkNvbG9tYm8gN1wiLFxuICAgICAgICAgICAgXCJkZWxpdmVyeVRpbWVcIjogXCI1LTEwIG1pbnNcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvcHJhd25fY3VycnlfYW5kX3JpY2UuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjNpMVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIlByYXduIEN1cnJ5IGFuZCBSaWNlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbURlc2NyaXB0aW9uXCI6IFwiUHJhd24gY3VycnkgcHJlcGFyZWQgdG8gc3BlY2lhbCBHb2EgcmVjaXBlIHdpdGggdGhpY2sgY29jb251dCBncmF2eS5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiA0LjIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiAyMVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiA1NzVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvZmlzaF9yaWNlX2FuZF9jdXJyeS5qcGdcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSWRcIjogXCJ2M2kyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVRpdGxlXCI6IFwiRmlzaCBSaWNlIGFuZCBDdXJyeVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIlRoYWxhcGF0aCBGaXNoLCA0IGN1cnJpZXMgYW5kIHBhcGFkYW0gZW5ocmljaGVkIHdpdGggdGhlIFNyaSBMYW5rYW4gdGFzdGUuXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nVmFsdWVcIjogNC4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtTm9PZlJhdGluZ3NcIjogMjFcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUHJpY2VcIjogNTc1XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX3BhZ2VfaW1hZ2VzL2NoaWNrZW5fcmljZV9hbmRfY3VycnkuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjNpM1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIkNoaWNrZW4gUmljZSBhbmQgQ3VycnlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtRGVzY3JpcHRpb25cIjogXCJXaXRoIDQgY3VycmllcyBhbmQgcGFwYWRhbSBtaXhlZCB3aXRoIFNyaSBMYW5rYW4gc3BpY2VzLlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ1ZhbHVlXCI6IDQuNCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbU5vT2ZSYXRpbmdzXCI6IDY1XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVByaWNlXCI6IDM1MFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInZlbmRvcklkXCI6IFwidjRcIixcbiAgICAgICAgICAgIFwidmVuZG9ySW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfbGlzdF92aWV3X2ltYWdlcy90aGVfaW1wYXN0YS5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIlRoZSBJbXBhc3RhXCIsXG4gICAgICAgICAgICBcInZlbmRvckNhdGVyZ29yaWVzXCI6IFtcbiAgICAgICAgICAgICAgICBcIlBhc3RhXCIsXG4gICAgICAgICAgICAgICAgXCJJdGFsaWFuXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInZlbmRvclJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nVmFsdWVcIjogMy4xLFxuICAgICAgICAgICAgICAgIFwidmVuZG9yTm9PZlJhdGluZ3NcIjogODJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxvY2F0aW9uXCI6IFwiQ29sb21ibyAxXCIsXG4gICAgICAgICAgICBcImRlbGl2ZXJ5VGltZVwiOiBcIjQwLTUwIG1pbnNcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfcGFnZV9pbWFnZXMvYnJ1c2NoZXR0YV9wYXN0YS5qcGdcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtSWRcIjogXCJ2NGkxXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVRpdGxlXCI6IFwiQnJ1c2hjZXR0YSBQYXN0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIlRoaXMgQnJ1c2NoZXR0YSBQYXN0YSB3aXRoIGZyZXNoIHRvbWF0b2VzLCBiYXNpbCwgZ2FybGljLCBhbmQgb2xpdmUgb2lsLlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ1ZhbHVlXCI6IDQuMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbU5vT2ZSYXRpbmdzXCI6IDEwXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVByaWNlXCI6IDM3NVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9wYWdlX2ltYWdlcy9jaGVlc2VfcGFzdGEuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbUlkXCI6IFwidjRpMlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1UaXRsZVwiOiBcIkNoZWVzZSBQYXN0YVwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1EZXNjcmlwdGlvblwiOiBcIkp1c3QgcmVtZW1iZXIgdGhhdCBhIHNpbmdsZSBpcyBhIGRvdWJsZSBhbmQgYSBkb3VibGUgaXMgYSB0cmlwbGUgYXQgQ2hpY2Fnb+KAmXMgQXUgQ2hldmFsLlwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVJhdGluZ1ZhbHVlXCI6IDQuNyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbU5vT2ZSYXRpbmdzXCI6IDIxXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbVByaWNlXCI6IDIwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9wYWdlX2ltYWdlcy9jcmVhbXlfdG9tYXRvX2FuZF9zcGluYWNoX3Bhc3RhLmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1JZFwiOiBcInY0aTNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtVGl0bGVcIjogXCJDcmVhbXkgVG9tYXRvIGFuZCBTcGluYWNoIFBhc3RhXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbURlc2NyaXB0aW9uXCI6IFwiV2l0aCBzcGVjaWFsIHBlc3RvIHNhdWNlIGFuZCBtb3p6YXJlbGxhIGNoZWVzZS5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1SYXRpbmdWYWx1ZVwiOiAzLjUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1Ob09mUmF0aW5nc1wiOiAxNVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QcmljZVwiOiAyMzBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ2ZW5kb3JJZFwiOiBcInY1XCIsXG4gICAgICAgICAgICBcInZlbmRvckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX2xpc3Rfdmlld19pbWFnZXMvdGhhaV90YW5pYy5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIlRoYWkgVGFuaWNcIixcbiAgICAgICAgICAgIFwidmVuZG9yQ2F0ZXJnb3JpZXNcIjogW1xuICAgICAgICAgICAgICAgIFwiU291cFwiLFxuICAgICAgICAgICAgICAgIFwiU2FsYWRcIixcbiAgICAgICAgICAgICAgICBcIlRoYWlcIlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdWYWx1ZVwiOiAzLjksXG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JOb09mUmF0aW5nc1wiOiAyOVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibG9jYXRpb25cIjogXCJDb2xvbWJvIDFcIixcbiAgICAgICAgICAgIFwiZGVsaXZlcnlUaW1lXCI6IFwiMjAtMzAgbWluc1wiLFxuICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG5cbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidmVuZG9ySWRcIjogXCJ2NlwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JJbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9saXN0X3ZpZXdfaW1hZ2VzL3BpdGFfcGFuLmpwZ1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JOYW1lXCI6IFwiUGl0YSBQYW5cIixcbiAgICAgICAgICAgIFwidmVuZG9yQ2F0ZXJnb3JpZXNcIjogW1xuICAgICAgICAgICAgICAgIFwiQnVyZ2Vyc1wiLFxuICAgICAgICAgICAgICAgIFwiTWVkaXRlcnJlbmVhblwiLFxuICAgICAgICAgICAgICAgIFwiVGhhaVwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICBcInZlbmRvclJhdGluZ1ZhbHVlXCI6IDIuMyxcbiAgICAgICAgICAgICAgICBcInZlbmRvck5vT2ZSYXRpbmdzXCI6IDEwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsb2NhdGlvblwiOiBcIkNvbG9tYm8gMVwiLFxuICAgICAgICAgICAgXCJkZWxpdmVyeVRpbWVcIjogXCIxMi0xNSBtaW5zXCIsXG4gICAgICAgICAgICBcIml0ZW1zXCI6IFtcblxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ2ZW5kb3JJZFwiOiBcInY3XCIsXG4gICAgICAgICAgICBcInZlbmRvckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX2xpc3Rfdmlld19pbWFnZXMvaG9wcGVyc19hbmRfYmV0cmF5YWxzLmpwZ1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JOYW1lXCI6IFwiSG9wcGVycyBhbmQgQmV0cmF5YWxzXCIsXG4gICAgICAgICAgICBcInZlbmRvckNhdGVyZ29yaWVzXCI6IFtcbiAgICAgICAgICAgICAgICBcIkhvcHBlcnNcIixcbiAgICAgICAgICAgICAgICBcIlNyaSBMYW5rYW5cIixcbiAgICAgICAgICAgICAgICBcIkluZGlhblwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICBcInZlbmRvclJhdGluZ1ZhbHVlXCI6IDEuOSxcbiAgICAgICAgICAgICAgICBcInZlbmRvck5vT2ZSYXRpbmdzXCI6IDg0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsb2NhdGlvblwiOiBcIkNvbG9tYm8gMVwiLFxuICAgICAgICAgICAgXCJkZWxpdmVyeVRpbWVcIjogXCIzNS00MCBtaW5zXCIsXG4gICAgICAgICAgICBcIml0ZW1zXCI6IFtcblxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ2ZW5kb3JJZFwiOiBcInY4XCIsXG4gICAgICAgICAgICBcInZlbmRvckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX2xpc3Rfdmlld19pbWFnZXMvY3V0aWVfcGllc19hbmRfY3VwY2FrZXMuanBnXCIsXG4gICAgICAgICAgICBcInZlbmRvck5hbWVcIjogXCJDdXRpZSBQaWVzIGFuZCBDdXBjYWtlc1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDYXRlcmdvcmllc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJDdXBjYWtlc1wiLFxuICAgICAgICAgICAgICAgIFwiU3dlZXRcIixcbiAgICAgICAgICAgICAgICBcIlNvdXJcIlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdWYWx1ZVwiOiAzLjQsXG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JOb09mUmF0aW5nc1wiOiA5N1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibG9jYXRpb25cIjogXCJDb2xvbWJvIDFcIixcbiAgICAgICAgICAgIFwiZGVsaXZlcnlUaW1lXCI6IFwiNTAtNTUgbWluc1wiLFxuICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG5cbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidmVuZG9ySWRcIjogXCJ2OVwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JJbWFnZUxvY2F0aW9uXCI6IFwiLi4vYXNzZXRzL3ZlbmRvcl9saXN0X3ZpZXdfaW1hZ2VzL3Rpa2thLWtfaW50YS5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIlRpa2thLWsgSW50YVwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDYXRlcmdvcmllc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJQYXJhdGhhXCIsXG4gICAgICAgICAgICAgICAgXCJJbmRpYW5cIlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdWYWx1ZVwiOiAzLjksXG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JOb09mUmF0aW5nc1wiOiAyMDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxvY2F0aW9uXCI6IFwiQ29sb21ibyAxXCIsXG4gICAgICAgICAgICBcImRlbGl2ZXJ5VGltZVwiOiBcIjQ1LTUwIG1pbnNcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInZlbmRvcklkXCI6IFwidjEwXCIsXG4gICAgICAgICAgICBcInZlbmRvckltYWdlTG9jYXRpb25cIjogXCIuLi9hc3NldHMvdmVuZG9yX2xpc3Rfdmlld19pbWFnZXMvdGhlX2NvZGZhdGhlci5qcGdcIixcbiAgICAgICAgICAgIFwidmVuZG9yTmFtZVwiOiBcIlRoZSBDb2RmYXRoZXJcIixcbiAgICAgICAgICAgIFwidmVuZG9yQ2F0ZXJnb3JpZXNcIjogW1xuICAgICAgICAgICAgICAgIFwiQ2hpcHNcIixcbiAgICAgICAgICAgICAgICBcIkZyaWVkIEZpc2hcIixcbiAgICAgICAgICAgICAgICBcIkFtZXJpY2FuXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInZlbmRvclJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nVmFsdWVcIjogNS41LFxuICAgICAgICAgICAgICAgIFwidmVuZG9yTm9PZlJhdGluZ3NcIjogNzNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxvY2F0aW9uXCI6IFwiQ29sb21ibyAxXCIsXG4gICAgICAgICAgICBcImRlbGl2ZXJ5VGltZVwiOiBcIjUtMTUgbWluc1wiLFxuICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG5cbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidmVuZG9ySWRcIjogXCJ2MTFcIixcbiAgICAgICAgICAgIFwidmVuZG9ySW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfbGlzdF92aWV3X2ltYWdlcy90aGVfdGlwc3lfY293LmpwZ1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JOYW1lXCI6IFwiVGhlIFRpcHN5IENvd1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDYXRlcmdvcmllc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJDb2NrdGFpbHNcIixcbiAgICAgICAgICAgICAgICBcIlNtb290aGllc1wiLFxuICAgICAgICAgICAgICAgIFwiSnVpY2VcIlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JSYXRpbmdWYWx1ZVwiOiA1LjAsXG4gICAgICAgICAgICAgICAgXCJ2ZW5kb3JOb09mUmF0aW5nc1wiOiA1NVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibG9jYXRpb25cIjogXCJDb2xvbWJvIDFcIixcbiAgICAgICAgICAgIFwiZGVsaXZlcnlUaW1lXCI6IFwiMTAtMTUgbWluc1wiLFxuICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG5cbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidmVuZG9ySWRcIjogXCJ2MTJcIixcbiAgICAgICAgICAgIFwidmVuZG9ySW1hZ2VMb2NhdGlvblwiOiBcIi4uL2Fzc2V0cy92ZW5kb3JfbGlzdF92aWV3X2ltYWdlcy90aGVfZGFpcnlfZ29kbW90aGVyLmpwZ1wiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JOYW1lXCI6IFwiVGhlIERhaXJ5IEdvZG1vdGhlclwiLFxuICAgICAgICAgICAgXCJ2ZW5kb3JDYXRlcmdvcmllc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJEYWlyeVwiLFxuICAgICAgICAgICAgICAgIFwiTWlsa1wiLFxuICAgICAgICAgICAgICAgIFwiU21vb3RoaWVzXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInZlbmRvclJhdGluZ3NcIjoge1xuICAgICAgICAgICAgICAgIFwidmVuZG9yUmF0aW5nVmFsdWVcIjogNS42LFxuICAgICAgICAgICAgICAgIFwidmVuZG9yTm9PZlJhdGluZ3NcIjogNjdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImxvY2F0aW9uXCI6IFwiQ29sb21ibyAxXCIsXG4gICAgICAgICAgICBcImRlbGl2ZXJ5VGltZVwiOiBcIjU1LTYwIG1pbnNcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgIF0sXG4gICAgbGVhZGVyYm9hcmQ6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJJaGFuIExlbHdhbGFcIixcbiAgICAgICAgICAgIHBvaW50czogMjUwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwiVmludWxhIFV0aHNhcmFcIixcbiAgICAgICAgICAgIHBvaW50czogMzAwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwiVGhlbnVrYSBQZXJlcmFcIixcbiAgICAgICAgICAgIHBvaW50czogMjYwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwiRGVzaGFuIEtvc3dhdHRlXCIsXG4gICAgICAgICAgICBwb2ludHM6IDI4MFxuICAgICAgICB9LFxuICAgIF1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXRBbGxWZW5kb3JzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS52ZW5kb3JzO1xuICAgICAgICB9LFxuICAgICAgICBnZXRTcGVjaWZpY1ZlbmRvcjogZnVuY3Rpb24gKHZlbmRvcklkKSB7XG4gICAgICAgICAgICAvLyByZXR1cm5zIHZlbmRvciBkZXRhaWxzIGZvciBwcm92aWRlZCB2ZW5kb3JJZFxuICAgICAgICAgICAgY29uc3QgdmVuZG9yID0gZGF0YS52ZW5kb3JzLmZpbmQodmVuZG9yID0+IHZlbmRvci52ZW5kb3JJZCA9PT0gdmVuZG9ySWQpO1xuICAgICAgICAgICAgcmV0dXJuIHZlbmRvcjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U3BlY2lmaWNJdGVtOiBmdW5jdGlvbiAoaXRlbUlkKSB7XG4gICAgICAgICAgICAvLyByZXR1cm4gaXRlbSBkZXRhaWxzIGZvciBwcm92aWRlZCBpdGVtSWRcbiAgICAgICAgICAgIGNvbnN0IGFsbFZlbmRvcnNJdGVtcyA9IGRhdGEudmVuZG9ycy5mbGF0TWFwKHZlbmRvciA9PiB2ZW5kb3IuaXRlbXMpXG4gICAgICAgICAgICBjb25zdCBpdGVtID0gYWxsVmVuZG9yc0l0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLml0ZW1JZCA9PT0gaXRlbUlkKTtcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9LFxuICAgICAgICBnZXRMZWFkZXJib2FyZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3QgeyBwb2ludHMgfSA9IHVzZXIuZ2V0RGV0YWlscygpLnByb2ZpbGU7XG4gICAgICAgICAgICBjb25zdCBsb2dnZWRJblVzZXIgPSB7IG5hbWU6IFwiWW91XCIsIHBvaW50cyB9O1xuICAgICAgICAgICAgY29uc3QgbGVhZGVyYm9hcmRXaXRoTG9nZ2VkSW5Vc2VyID0gWy4uLmRhdGEubGVhZGVyYm9hcmQsIGxvZ2dlZEluVXNlcl07XG4gICAgICAgICAgICByZXR1cm4gbGVhZGVyYm9hcmRXaXRoTG9nZ2VkSW5Vc2VyLnNvcnQoKHVzZXIxLCB1c2VyMikgPT4gdXNlcjIucG9pbnRzIC0gdXNlcjEucG9pbnRzKVxuICAgICAgICB9XG4gICAgfVxufSgpIiwiKGZ1bmN0aW9uIGJyb3dzZXJpZnlTaGltKG1vZHVsZSwgZXhwb3J0cywgZGVmaW5lLCBicm93c2VyaWZ5X3NoaW1fX2RlZmluZV9fbW9kdWxlX19leHBvcnRfXykge1xuXG47IGdsb2JhbC4kID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbi8qISBqUXVlcnkgTW9iaWxlIDEuNC41IHwgR2l0IEhFQURoYXNoOiA2OGU1NWU3IDw+IDIwMTQtMTAtMzFUMTc6MzM6MzBaIHwgKGMpIDIwMTAsIDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi9cblxuIWZ1bmN0aW9uKGEsYixjKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImpxdWVyeVwiXSxmdW5jdGlvbihkKXtyZXR1cm4gYyhkLGEsYiksZC5tb2JpbGV9KTpjKGEualF1ZXJ5LGEsYil9KHRoaXMsZG9jdW1lbnQsZnVuY3Rpb24oYSxiLGMpeyFmdW5jdGlvbihhKXthLm1vYmlsZT17fX0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKGIsYyl7dmFyIGQsZixnLGg9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiYXJlYVwiPT09aD8oZD1iLnBhcmVudE5vZGUsZj1kLm5hbWUsYi5ocmVmJiZmJiZcIm1hcFwiPT09ZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPyhnPWEoXCJpbWdbdXNlbWFwPSNcIitmK1wiXVwiKVswXSwhIWcmJmUoZykpOiExKTooL2lucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0Ly50ZXN0KGgpPyFiLmRpc2FibGVkOlwiYVwiPT09aD9iLmhyZWZ8fGM6YykmJmUoYil9ZnVuY3Rpb24gZShiKXtyZXR1cm4gYS5leHByLmZpbHRlcnMudmlzaWJsZShiKSYmIWEoYikucGFyZW50cygpLmFkZEJhY2soKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm5cImhpZGRlblwiPT09YS5jc3ModGhpcyxcInZpc2liaWxpdHlcIil9KS5sZW5ndGh9dmFyIGY9MCxnPS9edWktaWQtXFxkKyQvO2EudWk9YS51aXx8e30sYS5leHRlbmQoYS51aSx7dmVyc2lvbjpcImMwYWI3MTA1NmI5MzY2MjdlOGE3ODIxZjAzYzA0NGFlYzYyODBhNDBcIixrZXlDb2RlOntCQUNLU1BBQ0U6OCxDT01NQToxODgsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LExFRlQ6MzcsUEFHRV9ET1dOOjM0LFBBR0VfVVA6MzMsUEVSSU9EOjE5MCxSSUdIVDozOSxTUEFDRTozMixUQUI6OSxVUDozOH19KSxhLmZuLmV4dGVuZCh7Zm9jdXM6ZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGM/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShiKS5mb2N1cygpLGQmJmQuY2FsbChiKX0sYyl9KTpiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KGEuZm4uZm9jdXMpLHNjcm9sbFBhcmVudDpmdW5jdGlvbigpe3ZhciBiO3JldHVybiBiPWEudWkuaWUmJi8oc3RhdGljfHJlbGF0aXZlKS8udGVzdCh0aGlzLmNzcyhcInBvc2l0aW9uXCIpKXx8L2Fic29sdXRlLy50ZXN0KHRoaXMuY3NzKFwicG9zaXRpb25cIikpP3RoaXMucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybi8ocmVsYXRpdmV8YWJzb2x1dGV8Zml4ZWQpLy50ZXN0KGEuY3NzKHRoaXMsXCJwb3NpdGlvblwiKSkmJi8oYXV0b3xzY3JvbGwpLy50ZXN0KGEuY3NzKHRoaXMsXCJvdmVyZmxvd1wiKSthLmNzcyh0aGlzLFwib3ZlcmZsb3cteVwiKSthLmNzcyh0aGlzLFwib3ZlcmZsb3cteFwiKSl9KS5lcSgwKTp0aGlzLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4vKGF1dG98c2Nyb2xsKS8udGVzdChhLmNzcyh0aGlzLFwib3ZlcmZsb3dcIikrYS5jc3ModGhpcyxcIm92ZXJmbG93LXlcIikrYS5jc3ModGhpcyxcIm92ZXJmbG93LXhcIikpfSkuZXEoMCksL2ZpeGVkLy50ZXN0KHRoaXMuY3NzKFwicG9zaXRpb25cIikpfHwhYi5sZW5ndGg/YSh0aGlzWzBdLm93bmVyRG9jdW1lbnR8fGMpOmJ9LHVuaXF1ZUlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3RoaXMuaWR8fCh0aGlzLmlkPVwidWktaWQtXCIrICsrZil9KX0scmVtb3ZlVW5pcXVlSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zy50ZXN0KHRoaXMuaWQpJiZhKHRoaXMpLnJlbW92ZUF0dHIoXCJpZFwiKX0pfX0pLGEuZXh0ZW5kKGEuZXhwcltcIjpcIl0se2RhdGE6YS5leHByLmNyZWF0ZVBzZXVkbz9hLmV4cHIuY3JlYXRlUHNldWRvKGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4hIWEuZGF0YShjLGIpfX0pOmZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4hIWEuZGF0YShiLGRbM10pfSxmb2N1c2FibGU6ZnVuY3Rpb24oYil7cmV0dXJuIGQoYiwhaXNOYU4oYS5hdHRyKGIsXCJ0YWJpbmRleFwiKSkpfSx0YWJiYWJsZTpmdW5jdGlvbihiKXt2YXIgYz1hLmF0dHIoYixcInRhYmluZGV4XCIpLGU9aXNOYU4oYyk7cmV0dXJuKGV8fGM+PTApJiZkKGIsIWUpfX0pLGEoXCI8YT5cIikub3V0ZXJXaWR0aCgxKS5qcXVlcnl8fGEuZWFjaChbXCJXaWR0aFwiLFwiSGVpZ2h0XCJdLGZ1bmN0aW9uKGMsZCl7ZnVuY3Rpb24gZShiLGMsZCxlKXtyZXR1cm4gYS5lYWNoKGYsZnVuY3Rpb24oKXtjLT1wYXJzZUZsb2F0KGEuY3NzKGIsXCJwYWRkaW5nXCIrdGhpcykpfHwwLGQmJihjLT1wYXJzZUZsb2F0KGEuY3NzKGIsXCJib3JkZXJcIit0aGlzK1wiV2lkdGhcIikpfHwwKSxlJiYoYy09cGFyc2VGbG9hdChhLmNzcyhiLFwibWFyZ2luXCIrdGhpcykpfHwwKX0pLGN9dmFyIGY9XCJXaWR0aFwiPT09ZD9bXCJMZWZ0XCIsXCJSaWdodFwiXTpbXCJUb3BcIixcIkJvdHRvbVwiXSxnPWQudG9Mb3dlckNhc2UoKSxoPXtpbm5lcldpZHRoOmEuZm4uaW5uZXJXaWR0aCxpbm5lckhlaWdodDphLmZuLmlubmVySGVpZ2h0LG91dGVyV2lkdGg6YS5mbi5vdXRlcldpZHRoLG91dGVySGVpZ2h0OmEuZm4ub3V0ZXJIZWlnaHR9O2EuZm5bXCJpbm5lclwiK2RdPWZ1bmN0aW9uKGMpe3JldHVybiBjPT09Yj9oW1wiaW5uZXJcIitkXS5jYWxsKHRoaXMpOnRoaXMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY3NzKGcsZSh0aGlzLGMpK1wicHhcIil9KX0sYS5mbltcIm91dGVyXCIrZF09ZnVuY3Rpb24oYixjKXtyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgYj9oW1wib3V0ZXJcIitkXS5jYWxsKHRoaXMsYik6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5jc3MoZyxlKHRoaXMsYiwhMCxjKStcInB4XCIpfSl9fSksYS5mbi5hZGRCYWNrfHwoYS5mbi5hZGRCYWNrPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFkZChudWxsPT1hP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGEpKX0pLGEoXCI8YT5cIikuZGF0YShcImEtYlwiLFwiYVwiKS5yZW1vdmVEYXRhKFwiYS1iXCIpLmRhdGEoXCJhLWJcIikmJihhLmZuLnJlbW92ZURhdGE9ZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2IuY2FsbCh0aGlzLGEuY2FtZWxDYXNlKGMpKTpiLmNhbGwodGhpcyl9fShhLmZuLnJlbW92ZURhdGEpKSxhLnVpLmllPSEhL21zaWUgW1xcdy5dKy8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpLGEuc3VwcG9ydC5zZWxlY3RzdGFydD1cIm9uc2VsZWN0c3RhcnRcImluIGMuY3JlYXRlRWxlbWVudChcImRpdlwiKSxhLmZuLmV4dGVuZCh7ZGlzYWJsZVNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJpbmQoKGEuc3VwcG9ydC5zZWxlY3RzdGFydD9cInNlbGVjdHN0YXJ0XCI6XCJtb3VzZWRvd25cIikrXCIudWktZGlzYWJsZVNlbGVjdGlvblwiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX0pfSxlbmFibGVTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmJpbmQoXCIudWktZGlzYWJsZVNlbGVjdGlvblwiKX0sekluZGV4OmZ1bmN0aW9uKGQpe2lmKGQhPT1iKXJldHVybiB0aGlzLmNzcyhcInpJbmRleFwiLGQpO2lmKHRoaXMubGVuZ3RoKWZvcih2YXIgZSxmLGc9YSh0aGlzWzBdKTtnLmxlbmd0aCYmZ1swXSE9PWM7KXtpZihlPWcuY3NzKFwicG9zaXRpb25cIiksKFwiYWJzb2x1dGVcIj09PWV8fFwicmVsYXRpdmVcIj09PWV8fFwiZml4ZWRcIj09PWUpJiYoZj1wYXJzZUludChnLmNzcyhcInpJbmRleFwiKSwxMCksIWlzTmFOKGYpJiYwIT09ZikpcmV0dXJuIGY7Zz1nLnBhcmVudCgpfXJldHVybiAwfX0pLGEudWkucGx1Z2luPXthZGQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGY9YS51aVtiXS5wcm90b3R5cGU7Zm9yKGUgaW4gZClmLnBsdWdpbnNbZV09Zi5wbHVnaW5zW2VdfHxbXSxmLnBsdWdpbnNbZV0ucHVzaChbYyxkW2VdXSl9LGNhbGw6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZj1hLnBsdWdpbnNbYl07aWYoZiYmKGR8fGEuZWxlbWVudFswXS5wYXJlbnROb2RlJiYxMSE9PWEuZWxlbWVudFswXS5wYXJlbnROb2RlLm5vZGVUeXBlKSlmb3IoZT0wO2U8Zi5sZW5ndGg7ZSsrKWEub3B0aW9uc1tmW2VdWzBdXSYmZltlXVsxXS5hcHBseShhLmVsZW1lbnQsYyl9fX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgZD1mdW5jdGlvbihiLGMpe3ZhciBkPWIucGFyZW50KCksZT1bXSxmPWZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPWEubW9iaWxlLnRvb2xiYXImJmIuZGF0YShcIm1vYmlsZS10b29sYmFyXCIpP2IudG9vbGJhcihcIm9wdGlvblwiKTp7cG9zaXRpb246Yi5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInBvc2l0aW9uXCIpLHVwZGF0ZVBhZ2VQYWRkaW5nOmIuYXR0cihcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJ1cGRhdGUtcGFnZS1wYWRkaW5nXCIpIT09ITF9O3JldHVybiEoXCJmaXhlZFwiPT09Yy5wb3NpdGlvbiYmYy51cGRhdGVQYWdlUGFkZGluZz09PSEwKX0sZz1kLmNoaWxkcmVuKFwiOmpxbURhdGEocm9sZT0naGVhZGVyJylcIikuZmlsdGVyKGYpLGg9Yi5jaGlsZHJlbihcIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpXCIpLGk9ZC5jaGlsZHJlbihcIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpXCIpLmZpbHRlcihmKSxqPWIuY2hpbGRyZW4oXCI6anFtRGF0YShyb2xlPSdmb290ZXInKVwiKTtyZXR1cm4gMD09PWgubGVuZ3RoJiZnLmxlbmd0aD4wJiYoZT1lLmNvbmNhdChnLnRvQXJyYXkoKSkpLDA9PT1qLmxlbmd0aCYmaS5sZW5ndGg+MCYmKGU9ZS5jb25jYXQoaS50b0FycmF5KCkpKSxhLmVhY2goZSxmdW5jdGlvbihiLGQpe2MtPWEoZCkub3V0ZXJIZWlnaHQoKX0pLE1hdGgubWF4KDAsYyl9O2EuZXh0ZW5kKGEubW9iaWxlLHt3aW5kb3c6YShiKSxkb2N1bWVudDphKGMpLGtleUNvZGU6YS51aS5rZXlDb2RlLGJlaGF2aW9yczp7fSxzaWxlbnRTY3JvbGw6ZnVuY3Rpb24oYyl7XCJudW1iZXJcIiE9PWEudHlwZShjKSYmKGM9YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpLGEuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnNjcm9sbFRvKDAsYyksYS5tb2JpbGUuZG9jdW1lbnQudHJpZ2dlcihcInNpbGVudHNjcm9sbFwiLHt4OjAseTpjfSl9LDIwKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITB9LDE1MCl9LGdldENsb3Nlc3RCYXNlVXJsOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYikuY2xvc2VzdChcIi51aS1wYWdlXCIpLmpxbURhdGEoXCJ1cmxcIiksZD1hLm1vYmlsZS5wYXRoLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoO3JldHVybiBhLm1vYmlsZS5keW5hbWljQmFzZUVuYWJsZWQmJmMmJmEubW9iaWxlLnBhdGguaXNQYXRoKGMpfHwoYz1kKSxhLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShjLGQpfSxyZW1vdmVBY3RpdmVMaW5rQ2xhc3M6ZnVuY3Rpb24oYil7IWEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rfHxhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGluay5jbG9zZXN0KFwiLlwiK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcykubGVuZ3RoJiYhYnx8YS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmsucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rPW51bGx9LGdldEluaGVyaXRlZFRoZW1lOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQsZT1hWzBdLGY9XCJcIixnPS91aS0oYmFyfGJvZHl8b3ZlcmxheSktKFthLXpdKVxcYi87ZSYmKGM9ZS5jbGFzc05hbWV8fFwiXCIsIShjJiYoZD1nLmV4ZWMoYykpJiYoZj1kWzJdKSkpOyllPWUucGFyZW50Tm9kZTtyZXR1cm4gZnx8Ynx8XCJhXCJ9LGVuaGFuY2VhYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGEsXCJlbmhhbmNlXCIpfSxoaWphY2thYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGEsXCJhamF4XCIpfSxoYXZlUGFyZW50czpmdW5jdGlvbihiLGMpe2lmKCFhLm1vYmlsZS5pZ25vcmVDb250ZW50RW5hYmxlZClyZXR1cm4gYjt2YXIgZCxlLGYsZyxoLGk9Yi5sZW5ndGgsaj1hKCk7Zm9yKGc9MDtpPmc7ZysrKXtmb3IoZT1iLmVxKGcpLGY9ITEsZD1iW2ddO2Q7KXtpZihoPWQuZ2V0QXR0cmlidXRlP2QuZ2V0QXR0cmlidXRlKFwiZGF0YS1cIithLm1vYmlsZS5ucytjKTpcIlwiLFwiZmFsc2VcIj09PWgpe2Y9ITA7YnJlYWt9ZD1kLnBhcmVudE5vZGV9Znx8KGo9ai5hZGQoZSkpfXJldHVybiBqfSxnZXRTY3JlZW5IZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5pbm5lckhlaWdodHx8YS5tb2JpbGUud2luZG93LmhlaWdodCgpfSxyZXNldEFjdGl2ZVBhZ2VIZWlnaHQ6ZnVuY3Rpb24oYil7dmFyIGM9YShcIi5cIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLGU9Yy5oZWlnaHQoKSxmPWMub3V0ZXJIZWlnaHQoITApO2I9ZChjLFwibnVtYmVyXCI9PXR5cGVvZiBiP2I6YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCkpLGMuY3NzKFwibWluLWhlaWdodFwiLFwiXCIpLGMuaGVpZ2h0KCk8YiYmYy5jc3MoXCJtaW4taGVpZ2h0XCIsYi0oZi1lKSl9LGxvYWRpbmc6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmxvYWRpbmcuX3dpZGdldHx8YShhLm1vYmlsZS5sb2FkZXIucHJvdG90eXBlLmRlZmF1bHRIdG1sKS5sb2FkZXIoKSxjPWIubG9hZGVyLmFwcGx5KGIsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5sb2FkaW5nLl93aWRnZXQ9YixjfX0pLGEuYWRkRGVwZW5kZW50cz1mdW5jdGlvbihiLGMpe3ZhciBkPWEoYiksZT1kLmpxbURhdGEoXCJkZXBlbmRlbnRzXCIpfHxhKCk7ZC5qcW1EYXRhKFwiZGVwZW5kZW50c1wiLGEoZSkuYWRkKGMpKX0sYS5mbi5leHRlbmQoe3JlbW92ZVdpdGhEZXBlbmRlbnRzOmZ1bmN0aW9uKCl7YS5yZW1vdmVXaXRoRGVwZW5kZW50cyh0aGlzKX0sZW5oYW5jZVdpdGhpbjpmdW5jdGlvbigpe3ZhciBiLGM9e30sZD1hLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5rZWVwTmF0aXZlU2VsZWN0b3IoKSxlPXRoaXM7YS5tb2JpbGUubm9qcyYmYS5tb2JpbGUubm9qcyh0aGlzKSxhLm1vYmlsZS5saW5rcyYmYS5tb2JpbGUubGlua3ModGhpcyksYS5tb2JpbGUuZGVncmFkZUlucHV0c1dpdGhpbiYmYS5tb2JpbGUuZGVncmFkZUlucHV0c1dpdGhpbih0aGlzKSxhLmZuLmJ1dHRvbk1hcmt1cCYmdGhpcy5maW5kKGEuZm4uYnV0dG9uTWFya3VwLmluaXRTZWxlY3Rvcikubm90KGQpLmpxbUVuaGFuY2VhYmxlKCkuYnV0dG9uTWFya3VwKCksYS5mbi5maWVsZGNvbnRhaW4mJnRoaXMuZmluZChcIjpqcW1EYXRhKHJvbGU9J2ZpZWxkY29udGFpbicpXCIpLm5vdChkKS5qcW1FbmhhbmNlYWJsZSgpLmZpZWxkY29udGFpbigpLGEuZWFjaChhLm1vYmlsZS53aWRnZXRzLGZ1bmN0aW9uKGIsZil7aWYoZi5pbml0U2VsZWN0b3Ipe3ZhciBnPWEubW9iaWxlLmVuaGFuY2VhYmxlKGUuZmluZChmLmluaXRTZWxlY3RvcikpO2cubGVuZ3RoPjAmJihnPWcubm90KGQpKSxnLmxlbmd0aD4wJiYoY1tmLnByb3RvdHlwZS53aWRnZXROYW1lXT1nKX19KTtmb3IoYiBpbiBjKWNbYl1bYl0oKTtyZXR1cm4gdGhpc30sYWRkRGVwZW5kZW50czpmdW5jdGlvbihiKXthLmFkZERlcGVuZGVudHModGhpcyxiKX0sZ2V0RW5jb2RlZFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYShcIjxhPlwiKS50ZXh0KHRoaXMudGV4dCgpKS5odG1sKCl9LGpxbUVuaGFuY2VhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmVuaGFuY2VhYmxlKHRoaXMpfSxqcW1IaWphY2thYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmhpamFja2FibGUodGhpcyl9fSksYS5yZW1vdmVXaXRoRGVwZW5kZW50cz1mdW5jdGlvbihiKXt2YXIgYz1hKGIpOyhjLmpxbURhdGEoXCJkZXBlbmRlbnRzXCIpfHxhKCkpLnJlbW92ZSgpLGMucmVtb3ZlKCl9LGEuYWRkRGVwZW5kZW50cz1mdW5jdGlvbihiLGMpe3ZhciBkPWEoYiksZT1kLmpxbURhdGEoXCJkZXBlbmRlbnRzXCIpfHxhKCk7ZC5qcW1EYXRhKFwiZGVwZW5kZW50c1wiLGEoZSkuYWRkKGMpKX0sYS5maW5kLm1hdGNoZXM9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5maW5kKGIsbnVsbCxudWxsLGMpfSxhLmZpbmQubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChjLG51bGwsbnVsbCxbYl0pLmxlbmd0aD4wfX0oYSx0aGlzKSxmdW5jdGlvbihhKXthLmV4dGVuZChhLm1vYmlsZSx7dmVyc2lvbjpcIjEuNC41XCIsc3ViUGFnZVVybEtleTpcInVpLXBhZ2VcIixoaWRlVXJsQmFyOiEwLGtlZXBOYXRpdmU6XCI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKVwiLGFjdGl2ZVBhZ2VDbGFzczpcInVpLXBhZ2UtYWN0aXZlXCIsYWN0aXZlQnRuQ2xhc3M6XCJ1aS1idG4tYWN0aXZlXCIsZm9jdXNDbGFzczpcInVpLWZvY3VzXCIsYWpheEVuYWJsZWQ6ITAsaGFzaExpc3RlbmluZ0VuYWJsZWQ6ITAsbGlua0JpbmRpbmdFbmFibGVkOiEwLGRlZmF1bHRQYWdlVHJhbnNpdGlvbjpcImZhZGVcIixtYXhUcmFuc2l0aW9uV2lkdGg6ITEsbWluU2Nyb2xsQmFjazowLGRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOlwicG9wXCIscGFnZUxvYWRFcnJvck1lc3NhZ2U6XCJFcnJvciBMb2FkaW5nIFBhZ2VcIixwYWdlTG9hZEVycm9yTWVzc2FnZVRoZW1lOlwiYVwiLHBob25lZ2FwTmF2aWdhdGlvbkVuYWJsZWQ6ITEsYXV0b0luaXRpYWxpemVQYWdlOiEwLHB1c2hTdGF0ZUVuYWJsZWQ6ITAsaWdub3JlQ29udGVudEVuYWJsZWQ6ITEsYnV0dG9uTWFya3VwOntob3ZlckRlbGF5OjIwMH0sZHluYW1pY0Jhc2VFbmFibGVkOiEwLHBhZ2VDb250YWluZXI6YSgpLGFsbG93Q3Jvc3NEb21haW5QYWdlczohMSxkaWFsb2dIYXNoS2V5OlwiJnVpLXN0YXRlPWRpYWxvZ1wifSl9KGEsdGhpcyksZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLGU9YS5jbGVhbkRhdGE7YS5jbGVhbkRhdGE9ZnVuY3Rpb24oYil7Zm9yKHZhciBjLGQ9MDtudWxsIT0oYz1iW2RdKTtkKyspdHJ5e2EoYykudHJpZ2dlckhhbmRsZXIoXCJyZW1vdmVcIil9Y2F0Y2goZil7fWUoYil9LGEud2lkZ2V0PWZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGcsaCxpPXt9LGo9Yi5zcGxpdChcIi5cIilbMF07cmV0dXJuIGI9Yi5zcGxpdChcIi5cIilbMV0sZT1qK1wiLVwiK2IsZHx8KGQ9YyxjPWEuV2lkZ2V0KSxhLmV4cHJbXCI6XCJdW2UudG9Mb3dlckNhc2UoKV09ZnVuY3Rpb24oYil7cmV0dXJuISFhLmRhdGEoYixlKX0sYVtqXT1hW2pdfHx7fSxmPWFbal1bYl0sZz1hW2pdW2JdPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX2NyZWF0ZVdpZGdldD92b2lkKGFyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChhLGIpKTpuZXcgZyhhLGIpfSxhLmV4dGVuZChnLGYse3ZlcnNpb246ZC52ZXJzaW9uLF9wcm90bzphLmV4dGVuZCh7fSxkKSxfY2hpbGRDb25zdHJ1Y3RvcnM6W119KSxoPW5ldyBjLGgub3B0aW9ucz1hLndpZGdldC5leHRlbmQoe30saC5vcHRpb25zKSxhLmVhY2goZCxmdW5jdGlvbihiLGQpe3JldHVybiBhLmlzRnVuY3Rpb24oZCk/dm9pZChpW2JdPWZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oKXtyZXR1cm4gYy5wcm90b3R5cGVbYl0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlPWZ1bmN0aW9uKGEpe3JldHVybiBjLnByb3RvdHlwZVtiXS5hcHBseSh0aGlzLGEpfTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMuX3N1cGVyLGY9dGhpcy5fc3VwZXJBcHBseTtyZXR1cm4gdGhpcy5fc3VwZXI9YSx0aGlzLl9zdXBlckFwcGx5PWUsYj1kLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9zdXBlcj1jLHRoaXMuX3N1cGVyQXBwbHk9ZixifX0oKSk6dm9pZChpW2JdPWQpfSksZy5wcm90b3R5cGU9YS53aWRnZXQuZXh0ZW5kKGgse3dpZGdldEV2ZW50UHJlZml4OmY/aC53aWRnZXRFdmVudFByZWZpeHx8YjpifSxpLHtjb25zdHJ1Y3RvcjpnLG5hbWVzcGFjZTpqLHdpZGdldE5hbWU6Yix3aWRnZXRGdWxsTmFtZTplfSksZj8oYS5lYWNoKGYuX2NoaWxkQ29uc3RydWN0b3JzLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5wcm90b3R5cGU7YS53aWRnZXQoZC5uYW1lc3BhY2UrXCIuXCIrZC53aWRnZXROYW1lLGcsYy5fcHJvdG8pfSksZGVsZXRlIGYuX2NoaWxkQ29uc3RydWN0b3JzKTpjLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoKGcpLGEud2lkZ2V0LmJyaWRnZShiLGcpLGd9LGEud2lkZ2V0LmV4dGVuZD1mdW5jdGlvbihjKXtmb3IodmFyIGUsZixnPWQuY2FsbChhcmd1bWVudHMsMSksaD0wLGk9Zy5sZW5ndGg7aT5oO2grKylmb3IoZSBpbiBnW2hdKWY9Z1toXVtlXSxnW2hdLmhhc093blByb3BlcnR5KGUpJiZmIT09YiYmKGNbZV09YS5pc1BsYWluT2JqZWN0KGYpP2EuaXNQbGFpbk9iamVjdChjW2VdKT9hLndpZGdldC5leHRlbmQoe30sY1tlXSxmKTphLndpZGdldC5leHRlbmQoe30sZik6Zik7cmV0dXJuIGN9LGEud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbihjLGUpe3ZhciBmPWUucHJvdG90eXBlLndpZGdldEZ1bGxOYW1lfHxjO2EuZm5bY109ZnVuY3Rpb24oZyl7dmFyIGg9XCJzdHJpbmdcIj09dHlwZW9mIGcsaT1kLmNhbGwoYXJndW1lbnRzLDEpLGo9dGhpcztyZXR1cm4gZz0haCYmaS5sZW5ndGg/YS53aWRnZXQuZXh0ZW5kLmFwcGx5KG51bGwsW2ddLmNvbmNhdChpKSk6Zyx0aGlzLmVhY2goaD9mdW5jdGlvbigpe3ZhciBkLGU9YS5kYXRhKHRoaXMsZik7cmV0dXJuXCJpbnN0YW5jZVwiPT09Zz8oaj1lLCExKTplP2EuaXNGdW5jdGlvbihlW2ddKSYmXCJfXCIhPT1nLmNoYXJBdCgwKT8oZD1lW2ddLmFwcGx5KGUsaSksZCE9PWUmJmQhPT1iPyhqPWQmJmQuanF1ZXJ5P2oucHVzaFN0YWNrKGQuZ2V0KCkpOmQsITEpOnZvaWQgMCk6YS5lcnJvcihcIm5vIHN1Y2ggbWV0aG9kICdcIitnK1wiJyBmb3IgXCIrYytcIiB3aWRnZXQgaW5zdGFuY2VcIik6YS5lcnJvcihcImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gXCIrYytcIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICdcIitnK1wiJ1wiKX06ZnVuY3Rpb24oKXt2YXIgYj1hLmRhdGEodGhpcyxmKTtiP2Iub3B0aW9uKGd8fHt9KS5faW5pdCgpOmEuZGF0YSh0aGlzLGYsbmV3IGUoZyx0aGlzKSl9KSxqfX0sYS5XaWRnZXQ9ZnVuY3Rpb24oKXt9LGEuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycz1bXSxhLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6XCJ3aWRnZXRcIix3aWRnZXRFdmVudFByZWZpeDpcIlwiLGRlZmF1bHRFbGVtZW50OlwiPGRpdj5cIixvcHRpb25zOntkaXNhYmxlZDohMSxjcmVhdGU6bnVsbH0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbihiLGQpe2Q9YShkfHx0aGlzLmRlZmF1bHRFbGVtZW50fHx0aGlzKVswXSx0aGlzLmVsZW1lbnQ9YShkKSx0aGlzLnV1aWQ9YysrLHRoaXMuZXZlbnROYW1lc3BhY2U9XCIuXCIrdGhpcy53aWRnZXROYW1lK3RoaXMudXVpZCx0aGlzLm9wdGlvbnM9YS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksYiksdGhpcy5iaW5kaW5ncz1hKCksdGhpcy5ob3ZlcmFibGU9YSgpLHRoaXMuZm9jdXNhYmxlPWEoKSxkIT09dGhpcyYmKGEuZGF0YShkLHRoaXMud2lkZ2V0RnVsbE5hbWUsdGhpcyksdGhpcy5fb24oITAsdGhpcy5lbGVtZW50LHtyZW1vdmU6ZnVuY3Rpb24oYSl7YS50YXJnZXQ9PT1kJiZ0aGlzLmRlc3Ryb3koKX19KSx0aGlzLmRvY3VtZW50PWEoZC5zdHlsZT9kLm93bmVyRG9jdW1lbnQ6ZC5kb2N1bWVudHx8ZCksdGhpcy53aW5kb3c9YSh0aGlzLmRvY3VtZW50WzBdLmRlZmF1bHRWaWV3fHx0aGlzLmRvY3VtZW50WzBdLnBhcmVudFdpbmRvdykpLHRoaXMuX2NyZWF0ZSgpLHRoaXMuX3RyaWdnZXIoXCJjcmVhdGVcIixudWxsLHRoaXMuX2dldENyZWF0ZUV2ZW50RGF0YSgpKSx0aGlzLl9pbml0KCl9LF9nZXRDcmVhdGVPcHRpb25zOmEubm9vcCxfZ2V0Q3JlYXRlRXZlbnREYXRhOmEubm9vcCxfY3JlYXRlOmEubm9vcCxfaW5pdDphLm5vb3AsZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2Rlc3Ryb3koKSx0aGlzLmVsZW1lbnQudW5iaW5kKHRoaXMuZXZlbnROYW1lc3BhY2UpLnJlbW92ZURhdGEodGhpcy53aWRnZXRGdWxsTmFtZSkucmVtb3ZlRGF0YShhLmNhbWVsQ2FzZSh0aGlzLndpZGdldEZ1bGxOYW1lKSksdGhpcy53aWRnZXQoKS51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlQXR0cihcImFyaWEtZGlzYWJsZWRcIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZStcIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZFwiKSx0aGlzLmJpbmRpbmdzLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKSx0aGlzLmhvdmVyYWJsZS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWhvdmVyXCIpLHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtZm9jdXNcIil9LF9kZXN0cm95OmEubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24oYyxkKXt2YXIgZSxmLGcsaD1jO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBhLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZihcInN0cmluZ1wiPT10eXBlb2YgYylpZihoPXt9LGU9Yy5zcGxpdChcIi5cIiksYz1lLnNoaWZ0KCksZS5sZW5ndGgpe2ZvcihmPWhbY109YS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9uc1tjXSksZz0wO2c8ZS5sZW5ndGgtMTtnKyspZltlW2ddXT1mW2VbZ11dfHx7fSxmPWZbZVtnXV07aWYoYz1lLnBvcCgpLGQ9PT1iKXJldHVybiBmW2NdPT09Yj9udWxsOmZbY107ZltjXT1kfWVsc2V7aWYoZD09PWIpcmV0dXJuIHRoaXMub3B0aW9uc1tjXT09PWI/bnVsbDp0aGlzLm9wdGlvbnNbY107aFtjXT1kfXJldHVybiB0aGlzLl9zZXRPcHRpb25zKGgpLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiO2ZvcihiIGluIGEpdGhpcy5fc2V0T3B0aW9uKGIsYVtiXSk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vcHRpb25zW2FdPWIsXCJkaXNhYmxlZFwiPT09YSYmKHRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZStcIi1kaXNhYmxlZFwiLCEhYiksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1ob3ZlclwiKSx0aGlzLmZvY3VzYWJsZS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWZvY3VzXCIpKSx0aGlzfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITF9KX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMH0pfSxfb246ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGY9dGhpcztcImJvb2xlYW5cIiE9dHlwZW9mIGImJihkPWMsYz1iLGI9ITEpLGQ/KGM9ZT1hKGMpLHRoaXMuYmluZGluZ3M9dGhpcy5iaW5kaW5ncy5hZGQoYykpOihkPWMsYz10aGlzLmVsZW1lbnQsZT10aGlzLndpZGdldCgpKSxhLmVhY2goZCxmdW5jdGlvbihkLGcpe2Z1bmN0aW9uIGgoKXtyZXR1cm4gYnx8Zi5vcHRpb25zLmRpc2FibGVkIT09ITAmJiFhKHRoaXMpLmhhc0NsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIik/KFwic3RyaW5nXCI9PXR5cGVvZiBnP2ZbZ106ZykuYXBwbHkoZixhcmd1bWVudHMpOnZvaWQgMH1cInN0cmluZ1wiIT10eXBlb2YgZyYmKGguZ3VpZD1nLmd1aWQ9Zy5ndWlkfHxoLmd1aWR8fGEuZ3VpZCsrKTt2YXIgaT1kLm1hdGNoKC9eKFxcdyspXFxzKiguKikkLyksaj1pWzFdK2YuZXZlbnROYW1lc3BhY2Usaz1pWzJdO2s/ZS5kZWxlZ2F0ZShrLGosaCk6Yy5iaW5kKGosaCl9KX0sX29mZjpmdW5jdGlvbihhLGIpe2I9KGJ8fFwiXCIpLnNwbGl0KFwiIFwiKS5qb2luKHRoaXMuZXZlbnROYW1lc3BhY2UrXCIgXCIpK3RoaXMuZXZlbnROYW1lc3BhY2UsYS51bmJpbmQoYikudW5kZWxlZ2F0ZShiKX0sX2RlbGF5OmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3JldHVybihcInN0cmluZ1wiPT10eXBlb2YgYT9kW2FdOmEpLmFwcGx5KGQsYXJndW1lbnRzKX12YXIgZD10aGlzO3JldHVybiBzZXRUaW1lb3V0KGMsYnx8MCl9LF9ob3ZlcmFibGU6ZnVuY3Rpb24oYil7dGhpcy5ob3ZlcmFibGU9dGhpcy5ob3ZlcmFibGUuYWRkKGIpLHRoaXMuX29uKGIse21vdXNlZW50ZXI6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKFwidWktc3RhdGUtaG92ZXJcIil9LG1vdXNlbGVhdmU6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtaG92ZXJcIil9fSl9LF9mb2N1c2FibGU6ZnVuY3Rpb24oYil7dGhpcy5mb2N1c2FibGU9dGhpcy5mb2N1c2FibGUuYWRkKGIpLHRoaXMuX29uKGIse2ZvY3VzaW46ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKFwidWktc3RhdGUtZm9jdXNcIil9LGZvY3Vzb3V0OmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWZvY3VzXCIpfX0pfSxfdHJpZ2dlcjpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnPXRoaXMub3B0aW9uc1tiXTtpZihkPWR8fHt9LGM9YS5FdmVudChjKSxjLnR5cGU9KGI9PT10aGlzLndpZGdldEV2ZW50UHJlZml4P2I6dGhpcy53aWRnZXRFdmVudFByZWZpeCtiKS50b0xvd2VyQ2FzZSgpLGMudGFyZ2V0PXRoaXMuZWxlbWVudFswXSxmPWMub3JpZ2luYWxFdmVudClmb3IoZSBpbiBmKWUgaW4gY3x8KGNbZV09ZltlXSk7cmV0dXJuIHRoaXMuZWxlbWVudC50cmlnZ2VyKGMsZCksIShhLmlzRnVuY3Rpb24oZykmJmcuYXBwbHkodGhpcy5lbGVtZW50WzBdLFtjXS5jb25jYXQoZCkpPT09ITF8fGMuaXNEZWZhdWx0UHJldmVudGVkKCkpfX0sYS5lYWNoKHtzaG93OlwiZmFkZUluXCIsaGlkZTpcImZhZGVPdXRcIn0sZnVuY3Rpb24oYixjKXthLldpZGdldC5wcm90b3R5cGVbXCJfXCIrYl09ZnVuY3Rpb24oZCxlLGYpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT17ZWZmZWN0OmV9KTt2YXIgZyxoPWU/ZT09PSEwfHxcIm51bWJlclwiPT10eXBlb2YgZT9jOmUuZWZmZWN0fHxjOmI7ZT1lfHx7fSxcIm51bWJlclwiPT10eXBlb2YgZSYmKGU9e2R1cmF0aW9uOmV9KSxnPSFhLmlzRW1wdHlPYmplY3QoZSksZS5jb21wbGV0ZT1mLGUuZGVsYXkmJmQuZGVsYXkoZS5kZWxheSksZyYmYS5lZmZlY3RzJiZhLmVmZmVjdHMuZWZmZWN0W2hdP2RbYl0oZSk6aCE9PWImJmRbaF0/ZFtoXShlLmR1cmF0aW9uLGUuZWFzaW5nLGYpOmQucXVldWUoZnVuY3Rpb24oYyl7YSh0aGlzKVtiXSgpLGYmJmYuY2FsbChkWzBdKSxjKCl9KX19KX0oYSksZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXt9LGU9YS5maW5kLGY9Lyg/Olxce1tcXHNcXFNdKlxcfXxcXFtbXFxzXFxTXSpcXF0pJC8sZz0vOmpxbURhdGFcXCgoW14pXSopXFwpL2c7YS5leHRlbmQoYS5tb2JpbGUse25zOlwiXCIsZ2V0QXR0cmlidXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ7Yj1iLmpxdWVyeT9iWzBdOmIsYiYmYi5nZXRBdHRyaWJ1dGUmJihkPWIuZ2V0QXR0cmlidXRlKFwiZGF0YS1cIithLm1vYmlsZS5ucytjKSk7dHJ5e2Q9XCJ0cnVlXCI9PT1kPyEwOlwiZmFsc2VcIj09PWQ/ITE6XCJudWxsXCI9PT1kP251bGw6K2QrXCJcIj09PWQ/K2Q6Zi50ZXN0KGQpP0pTT04ucGFyc2UoZCk6ZH1jYXRjaChlKXt9cmV0dXJuIGR9LG5zTm9ybWFsaXplRGljdDpkLG5zTm9ybWFsaXplOmZ1bmN0aW9uKGIpe3JldHVybiBkW2JdfHwoZFtiXT1hLmNhbWVsQ2FzZShhLm1vYmlsZS5ucytiKSl9LGNsb3Nlc3RQYWdlRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9zZXN0KFwiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKVwiKS5kYXRhKFwibW9iaWxlLXBhZ2VcIil9fSksYS5mbi5qcW1EYXRhPWZ1bmN0aW9uKGIsZCl7dmFyIGU7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGImJihiJiYoYj1hLm1vYmlsZS5uc05vcm1hbGl6ZShiKSksZT1hcmd1bWVudHMubGVuZ3RoPDJ8fGQ9PT1jP3RoaXMuZGF0YShiKTp0aGlzLmRhdGEoYixkKSksZX0sYS5qcW1EYXRhPWZ1bmN0aW9uKGIsYyxkKXt2YXIgZTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgYyYmKGU9YS5kYXRhKGIsYz9hLm1vYmlsZS5uc05vcm1hbGl6ZShjKTpjLGQpKSxlfSxhLmZuLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucmVtb3ZlRGF0YShhLm1vYmlsZS5uc05vcm1hbGl6ZShiKSl9LGEuanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiLGMpe3JldHVybiBhLnJlbW92ZURhdGEoYixhLm1vYmlsZS5uc05vcm1hbGl6ZShjKSl9LGEuZmluZD1mdW5jdGlvbihiLGMsZCxmKXtyZXR1cm4gYi5pbmRleE9mKFwiOmpxbURhdGFcIik+LTEmJihiPWIucmVwbGFjZShnLFwiW2RhdGEtXCIrKGEubW9iaWxlLm5zfHxcIlwiKStcIiQxXVwiKSksZS5jYWxsKHRoaXMsYixjLGQsZil9LGEuZXh0ZW5kKGEuZmluZCxlKX0oYSx0aGlzKSxmdW5jdGlvbihhKXt2YXIgYj0vW0EtWl0vZyxjPWZ1bmN0aW9uKGEpe3JldHVyblwiLVwiK2EudG9Mb3dlckNhc2UoKX07YS5leHRlbmQoYS5XaWRnZXQucHJvdG90eXBlLHtfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBkLGUsZj10aGlzLmVsZW1lbnRbMF0sZz17fTtpZighYS5tb2JpbGUuZ2V0QXR0cmlidXRlKGYsXCJkZWZhdWx0c1wiKSlmb3IoZCBpbiB0aGlzLm9wdGlvbnMpZT1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZixkLnJlcGxhY2UoYixjKSksbnVsbCE9ZSYmKGdbZF09ZSk7cmV0dXJuIGd9fSksYS5tb2JpbGUud2lkZ2V0PWEuV2lkZ2V0fShhKSxmdW5jdGlvbihhKXt2YXIgYj1cInVpLWxvYWRlclwiLGM9YShcImh0bWxcIik7YS53aWRnZXQoXCJtb2JpbGUubG9hZGVyXCIse29wdGlvbnM6e3RoZW1lOlwiYVwiLHRleHRWaXNpYmxlOiExLGh0bWw6XCJcIix0ZXh0OlwibG9hZGluZ1wifSxkZWZhdWx0SHRtbDpcIjxkaXYgY2xhc3M9J1wiK2IrXCInPjxzcGFuIGNsYXNzPSd1aS1pY29uLWxvYWRpbmcnPjwvc3Bhbj48aDE+PC9oMT48L2Rpdj5cIixmYWtlRml4TG9hZGVyOmZ1bmN0aW9uKCl7dmFyIGI9YShcIi5cIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuZmlyc3QoKTt0aGlzLmVsZW1lbnQuY3NzKHt0b3A6YS5zdXBwb3J0LnNjcm9sbFRvcCYmdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCkrdGhpcy53aW5kb3cuaGVpZ2h0KCkvMnx8Yi5sZW5ndGgmJmIub2Zmc2V0KCkudG9wfHwxMDB9KX0sY2hlY2tMb2FkZXJQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5vZmZzZXQoKSxjPXRoaXMud2luZG93LnNjcm9sbFRvcCgpLGQ9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7KGIudG9wPGN8fGIudG9wLWM+ZCkmJih0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJ1aS1sb2FkZXItZmFrZWZpeFwiKSx0aGlzLmZha2VGaXhMb2FkZXIoKSx0aGlzLndpbmRvdy51bmJpbmQoXCJzY3JvbGxcIix0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24pLmJpbmQoXCJzY3JvbGxcIixhLnByb3h5KHRoaXMuZmFrZUZpeExvYWRlcix0aGlzKSkpfSxyZXNldEh0bWw6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaHRtbChhKHRoaXMuZGVmYXVsdEh0bWwpLmh0bWwoKSl9LHNob3c6ZnVuY3Rpb24oZCxlLGYpe3ZhciBnLGgsaTt0aGlzLnJlc2V0SHRtbCgpLFwib2JqZWN0XCI9PT1hLnR5cGUoZCk/KGk9YS5leHRlbmQoe30sdGhpcy5vcHRpb25zLGQpLGQ9aS50aGVtZSk6KGk9dGhpcy5vcHRpb25zLGQ9ZHx8aS50aGVtZSksaD1lfHwoaS50ZXh0PT09ITE/XCJcIjppLnRleHQpLGMuYWRkQ2xhc3MoXCJ1aS1sb2FkaW5nXCIpLGc9aS50ZXh0VmlzaWJsZSx0aGlzLmVsZW1lbnQuYXR0cihcImNsYXNzXCIsYitcIiB1aS1jb3JuZXItYWxsIHVpLWJvZHktXCIrZCtcIiB1aS1sb2FkZXItXCIrKGd8fGV8fGQudGV4dD9cInZlcmJvc2VcIjpcImRlZmF1bHRcIikrKGkudGV4dG9ubHl8fGY/XCIgdWktbG9hZGVyLXRleHRvbmx5XCI6XCJcIikpLGkuaHRtbD90aGlzLmVsZW1lbnQuaHRtbChpLmh0bWwpOnRoaXMuZWxlbWVudC5maW5kKFwiaDFcIikudGV4dChoKSx0aGlzLmVsZW1lbnQuYXBwZW5kVG8oYShhLm1vYmlsZS5wYWdlY29udGFpbmVyP1wiOm1vYmlsZS1wYWdlY29udGFpbmVyXCI6XCJib2R5XCIpKSx0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24oKSx0aGlzLndpbmRvdy5iaW5kKFwic2Nyb2xsXCIsYS5wcm94eSh0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24sdGhpcykpfSxoaWRlOmZ1bmN0aW9uKCl7Yy5yZW1vdmVDbGFzcyhcInVpLWxvYWRpbmdcIiksdGhpcy5vcHRpb25zLnRleHQmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLWxvYWRlci1mYWtlZml4XCIpLHRoaXMud2luZG93LnVuYmluZChcInNjcm9sbFwiLHRoaXMuZmFrZUZpeExvYWRlciksdGhpcy53aW5kb3cudW5iaW5kKFwic2Nyb2xsXCIsdGhpcy5jaGVja0xvYWRlclBvc2l0aW9uKX19KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIsZCl7XCIkOm5vbXVuZ2VcIjtmdW5jdGlvbiBlKGEpe3JldHVybiBhPWF8fGxvY2F0aW9uLmhyZWYsXCIjXCIrYS5yZXBsYWNlKC9eW14jXSojPyguKikkLyxcIiQxXCIpfXZhciBmLGc9XCJoYXNoY2hhbmdlXCIsaD1jLGk9YS5ldmVudC5zcGVjaWFsLGo9aC5kb2N1bWVudE1vZGUsaz1cIm9uXCIrZyBpbiBiJiYoaj09PWR8fGo+Nyk7YS5mbltnXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoZyxhKTp0aGlzLnRyaWdnZXIoZyl9LGEuZm5bZ10uZGVsYXk9NTAsaVtnXT1hLmV4dGVuZChpW2ddLHtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBrPyExOnZvaWQgYShmLnN0YXJ0KX0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4gaz8hMTp2b2lkIGEoZi5zdG9wKX19KSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYygpe3ZhciBkPWUoKSxoPW4oaik7ZCE9PWo/KG0oaj1kLGgpLGEoYikudHJpZ2dlcihnKSk6aCE9PWomJihsb2NhdGlvbi5ocmVmPWxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qLyxcIlwiKStoKSxmPXNldFRpbWVvdXQoYyxhLmZuW2ddLmRlbGF5KX12YXIgZixpPXt9LGo9ZSgpLGw9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LG09bCxuPWw7cmV0dXJuIGkuc3RhcnQ9ZnVuY3Rpb24oKXtmfHxjKCl9LGkuc3RvcD1mdW5jdGlvbigpe2YmJmNsZWFyVGltZW91dChmKSxmPWR9LGIuYXR0YWNoRXZlbnQmJiFiLmFkZEV2ZW50TGlzdGVuZXImJiFrJiZmdW5jdGlvbigpe3ZhciBiLGQ7aS5zdGFydD1mdW5jdGlvbigpe2J8fChkPWEuZm5bZ10uc3JjLGQ9ZCYmZCtlKCksYj1hKCc8aWZyYW1lIHRhYmluZGV4PVwiLTFcIiB0aXRsZT1cImVtcHR5XCIvPicpLmhpZGUoKS5vbmUoXCJsb2FkXCIsZnVuY3Rpb24oKXtkfHxtKGUoKSksYygpfSkuYXR0cihcInNyY1wiLGR8fFwiamF2YXNjcmlwdDowXCIpLmluc2VydEFmdGVyKFwiYm9keVwiKVswXS5jb250ZW50V2luZG93LGgub25wcm9wZXJ0eWNoYW5nZT1mdW5jdGlvbigpe3RyeXtcInRpdGxlXCI9PT1ldmVudC5wcm9wZXJ0eU5hbWUmJihiLmRvY3VtZW50LnRpdGxlPWgudGl0bGUpfWNhdGNoKGEpe319KX0saS5zdG9wPWwsbj1mdW5jdGlvbigpe3JldHVybiBlKGIubG9jYXRpb24uaHJlZil9LG09ZnVuY3Rpb24oYyxkKXt2YXIgZT1iLmRvY3VtZW50LGY9YS5mbltnXS5kb21haW47YyE9PWQmJihlLnRpdGxlPWgudGl0bGUsZS5vcGVuKCksZiYmZS53cml0ZSgnPHNjcmlwdD5kb2N1bWVudC5kb21haW49XCInK2YrJ1wiPC9zY3JpcHQ+JyksZS5jbG9zZSgpLGIubG9jYXRpb24uaGFzaD1jKX19KCksaX0oKX0oYSx0aGlzKSxmdW5jdGlvbihhKXtiLm1hdGNoTWVkaWE9Yi5tYXRjaE1lZGlhfHxmdW5jdGlvbihhKXt2YXIgYixjPWEuZG9jdW1lbnRFbGVtZW50LGQ9Yy5maXJzdEVsZW1lbnRDaGlsZHx8Yy5maXJzdENoaWxkLGU9YS5jcmVhdGVFbGVtZW50KFwiYm9keVwiKSxmPWEuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gZi5pZD1cIm1xLXRlc3QtMVwiLGYuc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOmFic29sdXRlO3RvcDotMTAwZW1cIixlLnN0eWxlLmJhY2tncm91bmQ9XCJub25lXCIsZS5hcHBlbmRDaGlsZChmKSxmdW5jdGlvbihhKXtyZXR1cm4gZi5pbm5lckhUTUw9JyZzaHk7PHN0eWxlIG1lZGlhPVwiJythKydcIj4gI21xLXRlc3QtMSB7IHdpZHRoOiA0MnB4OyB9PC9zdHlsZT4nLGMuaW5zZXJ0QmVmb3JlKGUsZCksYj00Mj09PWYub2Zmc2V0V2lkdGgsYy5yZW1vdmVDaGlsZChlKSx7bWF0Y2hlczpiLG1lZGlhOmF9fX0oYyksYS5tb2JpbGUubWVkaWE9ZnVuY3Rpb24oYSl7cmV0dXJuIGIubWF0Y2hNZWRpYShhKS5tYXRjaGVzfX0oYSksZnVuY3Rpb24oYSl7dmFyIGI9e3RvdWNoOlwib250b3VjaGVuZFwiaW4gY307YS5tb2JpbGUuc3VwcG9ydD1hLm1vYmlsZS5zdXBwb3J0fHx7fSxhLmV4dGVuZChhLnN1cHBvcnQsYiksYS5leHRlbmQoYS5tb2JpbGUuc3VwcG9ydCxiKX0oYSksZnVuY3Rpb24oYSl7YS5leHRlbmQoYS5zdXBwb3J0LHtvcmllbnRhdGlvbjpcIm9yaWVudGF0aW9uXCJpbiBiJiZcIm9ub3JpZW50YXRpb25jaGFuZ2VcImluIGJ9KX0oYSksZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiBlKGEpe3ZhciBiLGM9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKSxlPShhK1wiIFwiK28uam9pbihjK1wiIFwiKStjKS5zcGxpdChcIiBcIik7Zm9yKGIgaW4gZSlpZihuW2VbYl1dIT09ZClyZXR1cm4hMH1mdW5jdGlvbiBmKCl7dmFyIGM9YixkPSEoIWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TfHwhYy5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwic3ZnXCIpLmNyZWF0ZVNWR1JlY3R8fGMub3BlcmEmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiQ2hyb21lXCIpKSxlPWZ1bmN0aW9uKGIpe2ImJmR8fGEoXCJodG1sXCIpLmFkZENsYXNzKFwidWktbm9zdmdcIil9LGY9bmV3IGMuSW1hZ2U7Zi5vbmVycm9yPWZ1bmN0aW9uKCl7ZSghMSl9LGYub25sb2FkPWZ1bmN0aW9uKCl7ZSgxPT09Zi53aWR0aCYmMT09PWYuaGVpZ2h0KX0sZi5zcmM9XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3l3QUFBQUFBUUFCQUFBQ0FVd0FPdz09XCJ9ZnVuY3Rpb24gZygpe3ZhciBlLGYsZyxoPVwidHJhbnNmb3JtLTNkXCIsaT1hLm1vYmlsZS5tZWRpYShcIigtXCIrby5qb2luKFwiLVwiK2grXCIpLCgtXCIpK1wiLVwiK2grXCIpLChcIitoK1wiKVwiKTtpZihpKXJldHVybiEhaTtlPWMuY3JlYXRlRWxlbWVudChcImRpdlwiKSxmPXtNb3pUcmFuc2Zvcm06XCItbW96LXRyYW5zZm9ybVwiLHRyYW5zZm9ybTpcInRyYW5zZm9ybVwifSxtLmFwcGVuZChlKTtmb3IoZyBpbiBmKWUuc3R5bGVbZ10hPT1kJiYoZS5zdHlsZVtnXT1cInRyYW5zbGF0ZTNkKCAxMDBweCwgMXB4LCAxcHggKVwiLGk9Yi5nZXRDb21wdXRlZFN0eWxlKGUpLmdldFByb3BlcnR5VmFsdWUoZltnXSkpO3JldHVybiEhaSYmXCJub25lXCIhPT1pfWZ1bmN0aW9uIGgoKXt2YXIgYixjLGQ9bG9jYXRpb24ucHJvdG9jb2wrXCIvL1wiK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUrXCJ1aS1kaXIvXCIsZT1hKFwiaGVhZCBiYXNlXCIpLGY9bnVsbCxnPVwiXCI7cmV0dXJuIGUubGVuZ3RoP2c9ZS5hdHRyKFwiaHJlZlwiKTplPWY9YShcIjxiYXNlPlwiLHtocmVmOmR9KS5hcHBlbmRUbyhcImhlYWRcIiksYj1hKFwiPGEgaHJlZj0ndGVzdHVybCcgLz5cIikucHJlcGVuZFRvKG0pLGM9YlswXS5ocmVmLGVbMF0uaHJlZj1nfHxsb2NhdGlvbi5wYXRobmFtZSxmJiZmLnJlbW92ZSgpLDA9PT1jLmluZGV4T2YoZCl9ZnVuY3Rpb24gaSgpe3ZhciBhLGQ9Yy5jcmVhdGVFbGVtZW50KFwieFwiKSxlPWMuZG9jdW1lbnRFbGVtZW50LGY9Yi5nZXRDb21wdXRlZFN0eWxlO3JldHVyblwicG9pbnRlckV2ZW50c1wiaW4gZC5zdHlsZT8oZC5zdHlsZS5wb2ludGVyRXZlbnRzPVwiYXV0b1wiLGQuc3R5bGUucG9pbnRlckV2ZW50cz1cInhcIixlLmFwcGVuZENoaWxkKGQpLGE9ZiYmXCJhdXRvXCI9PT1mKGQsXCJcIikucG9pbnRlckV2ZW50cyxlLnJlbW92ZUNoaWxkKGQpLCEhYSk6ITF9ZnVuY3Rpb24gaigpe3ZhciBhPWMuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgYS5nZXRCb3VuZGluZ0NsaWVudFJlY3R9ZnVuY3Rpb24gaygpe3ZhciBhPWIsYz1uYXZpZ2F0b3IudXNlckFnZW50LGQ9bmF2aWdhdG9yLnBsYXRmb3JtLGU9Yy5tYXRjaCgvQXBwbGVXZWJLaXRcXC8oWzAtOV0rKS8pLGY9ISFlJiZlWzFdLGc9Yy5tYXRjaCgvRmVubmVjXFwvKFswLTldKykvKSxoPSEhZyYmZ1sxXSxpPWMubWF0Y2goL09wZXJhIE1vYmlcXC8oWzAtOV0rKS8pLGo9ISFpJiZpWzFdO3JldHVybihkLmluZGV4T2YoXCJpUGhvbmVcIik+LTF8fGQuaW5kZXhPZihcImlQYWRcIik+LTF8fGQuaW5kZXhPZihcImlQb2RcIik+LTEpJiZmJiY1MzQ+Znx8YS5vcGVyYW1pbmkmJlwiW29iamVjdCBPcGVyYU1pbmldXCI9PT17fS50b1N0cmluZy5jYWxsKGEub3BlcmFtaW5pKXx8aSYmNzQ1OD5qfHxjLmluZGV4T2YoXCJBbmRyb2lkXCIpPi0xJiZmJiY1MzM+Znx8aCYmNj5ofHxcInBhbG1HZXRSZXNvdXJjZVwiaW4gYiYmZiYmNTM0PmZ8fGMuaW5kZXhPZihcIk1lZUdvXCIpPi0xJiZjLmluZGV4T2YoXCJOb2tpYUJyb3dzZXIvOC41LjBcIik+LTE/ITE6ITB9dmFyIGwsbT1hKFwiPGJvZHk+XCIpLnByZXBlbmRUbyhcImh0bWxcIiksbj1tWzBdLnN0eWxlLG89W1wiV2Via2l0XCIsXCJNb3pcIixcIk9cIl0scD1cInBhbG1HZXRSZXNvdXJjZVwiaW4gYixxPWIub3BlcmFtaW5pJiZcIltvYmplY3QgT3BlcmFNaW5pXVwiPT09e30udG9TdHJpbmcuY2FsbChiLm9wZXJhbWluaSkscj1iLmJsYWNrYmVycnkmJiFlKFwiLXdlYmtpdC10cmFuc2Zvcm1cIik7YS5leHRlbmQoYS5tb2JpbGUse2Jyb3dzZXI6e319KSxhLm1vYmlsZS5icm93c2VyLm9sZElFPWZ1bmN0aW9uKCl7dmFyIGE9MyxiPWMuY3JlYXRlRWxlbWVudChcImRpdlwiKSxkPWIuYWxsfHxbXTtkbyBiLmlubmVySFRNTD1cIjwhLS1baWYgZ3QgSUUgXCIrICsrYStcIl0+PGJyPjwhW2VuZGlmXS0tPlwiO3doaWxlKGRbMF0pO3JldHVybiBhPjQ/YTohYX0oKSxhLmV4dGVuZChhLnN1cHBvcnQse3B1c2hTdGF0ZTpcInB1c2hTdGF0ZVwiaW4gaGlzdG9yeSYmXCJyZXBsYWNlU3RhdGVcImluIGhpc3RvcnkmJiEoYi5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJGaXJlZm94XCIpPj0wJiZiLnRvcCE9PWIpJiYtMT09PWIubmF2aWdhdG9yLnVzZXJBZ2VudC5zZWFyY2goL0NyaU9TLyksbWVkaWFxdWVyeTphLm1vYmlsZS5tZWRpYShcIm9ubHkgYWxsXCIpLGNzc1BzZXVkb0VsZW1lbnQ6ISFlKFwiY29udGVudFwiKSx0b3VjaE92ZXJmbG93OiEhZShcIm92ZXJmbG93U2Nyb2xsaW5nXCIpLGNzc1RyYW5zZm9ybTNkOmcoKSxib3hTaGFkb3c6ISFlKFwiYm94U2hhZG93XCIpJiYhcixmaXhlZFBvc2l0aW9uOmsoKSxzY3JvbGxUb3A6KFwicGFnZVhPZmZzZXRcImluIGJ8fFwic2Nyb2xsVG9wXCJpbiBjLmRvY3VtZW50RWxlbWVudHx8XCJzY3JvbGxUb3BcImluIG1bMF0pJiYhcCYmIXEsZHluYW1pY0Jhc2VUYWc6aCgpLGNzc1BvaW50ZXJFdmVudHM6aSgpLGJvdW5kaW5nUmVjdDpqKCksaW5saW5lU1ZHOmZ9KSxtLnJlbW92ZSgpLGw9ZnVuY3Rpb24oKXt2YXIgYT1iLm5hdmlnYXRvci51c2VyQWdlbnQ7cmV0dXJuIGEuaW5kZXhPZihcIk5va2lhXCIpPi0xJiYoYS5pbmRleE9mKFwiU3ltYmlhbi8zXCIpPi0xfHxhLmluZGV4T2YoXCJTZXJpZXM2MC81XCIpPi0xKSYmYS5pbmRleE9mKFwiQXBwbGVXZWJLaXRcIik+LTEmJmEubWF0Y2goLyhCcm93c2VyTkd8Tm9raWFCcm93c2VyKVxcLzdcXC5bMC0zXS8pfSgpLGEubW9iaWxlLmdyYWRlQT1mdW5jdGlvbigpe3JldHVybihhLnN1cHBvcnQubWVkaWFxdWVyeSYmYS5zdXBwb3J0LmNzc1BzZXVkb0VsZW1lbnR8fGEubW9iaWxlLmJyb3dzZXIub2xkSUUmJmEubW9iaWxlLmJyb3dzZXIub2xkSUU+PTgpJiYoYS5zdXBwb3J0LmJvdW5kaW5nUmVjdHx8bnVsbCE9PWEuZm4uanF1ZXJ5Lm1hdGNoKC8xXFwuWzAtNytdXFwuWzAtOStdPy8pKX0sYS5tb2JpbGUuYWpheEJsYWNrbGlzdD1iLmJsYWNrYmVycnkmJiFiLldlYktpdFBvaW50fHxxfHxsLGwmJmEoZnVuY3Rpb24oKXthKFwiaGVhZCBsaW5rW3JlbD0nc3R5bGVzaGVldCddXCIpLmF0dHIoXCJyZWxcIixcImFsdGVybmF0ZSBzdHlsZXNoZWV0XCIpLmF0dHIoXCJyZWxcIixcInN0eWxlc2hlZXRcIil9KSxhLnN1cHBvcnQuYm94U2hhZG93fHxhKFwiaHRtbFwiKS5hZGRDbGFzcyhcInVpLW5vYm94c2hhZG93XCIpfShhKSxmdW5jdGlvbihhLGIpe3ZhciBjLGQ9YS5tb2JpbGUud2luZG93LGU9ZnVuY3Rpb24oKXt9O2EuZXZlbnQuc3BlY2lhbC5iZWZvcmVuYXZpZ2F0ZT17c2V0dXA6ZnVuY3Rpb24oKXtkLm9uKFwibmF2aWdhdGVcIixlKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtkLm9mZihcIm5hdmlnYXRlXCIsZSl9fSxhLmV2ZW50LnNwZWNpYWwubmF2aWdhdGU9Yz17Ym91bmQ6ITEscHVzaFN0YXRlRW5hYmxlZDohMCxvcmlnaW5hbEV2ZW50TmFtZTpiLGlzUHVzaFN0YXRlRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQucHVzaFN0YXRlJiZhLm1vYmlsZS5wdXNoU3RhdGVFbmFibGVkPT09ITAmJnRoaXMuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpfSxpc0hhc2hDaGFuZ2VFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkPT09ITB9LHBvcHN0YXRlOmZ1bmN0aW9uKGIpe3ZhciBjPW5ldyBhLkV2ZW50KFwibmF2aWdhdGVcIiksZT1uZXcgYS5FdmVudChcImJlZm9yZW5hdmlnYXRlXCIpLGY9Yi5vcmlnaW5hbEV2ZW50LnN0YXRlfHx7fTtlLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGIuaGlzdG9yeVN0YXRlJiZhLmV4dGVuZChmLGIuaGlzdG9yeVN0YXRlKSxjLm9yaWdpbmFsRXZlbnQ9YixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC50cmlnZ2VyKGMse3N0YXRlOmZ9KX0sMCkpfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjPW5ldyBhLkV2ZW50KFwibmF2aWdhdGVcIiksZT1uZXcgYS5FdmVudChcImJlZm9yZW5hdmlnYXRlXCIpO2Uub3JpZ2luYWxFdmVudD1iLGQudHJpZ2dlcihlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoYy5vcmlnaW5hbEV2ZW50PWIsZC50cmlnZ2VyKGMse3N0YXRlOmIuaGFzaGNoYW5nZVN0YXRlfHx7fX0pKX0sc2V0dXA6ZnVuY3Rpb24oKXtjLmJvdW5kfHwoYy5ib3VuZD0hMCxjLmlzUHVzaFN0YXRlRW5hYmxlZCgpPyhjLm9yaWdpbmFsRXZlbnROYW1lPVwicG9wc3RhdGVcIixkLmJpbmQoXCJwb3BzdGF0ZS5uYXZpZ2F0ZVwiLGMucG9wc3RhdGUpKTpjLmlzSGFzaENoYW5nZUVuYWJsZWQoKSYmKGMub3JpZ2luYWxFdmVudE5hbWU9XCJoYXNoY2hhbmdlXCIsZC5iaW5kKFwiaGFzaGNoYW5nZS5uYXZpZ2F0ZVwiLGMuaGFzaGNoYW5nZSkpKX19fShhKSxmdW5jdGlvbihhLGMpe3ZhciBkLGUsZj1cIiZ1aS1zdGF0ZT1kaWFsb2dcIjthLm1vYmlsZS5wYXRoPWQ9e3VpU3RhdGVLZXk6XCImdWktc3RhdGVcIix1cmxQYXJzZVJFOi9eXFxzKigoKChbXjpcXC8jXFw/XSs6KT8oPzooXFwvXFwvKSgoPzooKFteOkBcXC8jXFw/XSspKD86XFw6KFteOkBcXC8jXFw/XSspKT8pQCk/KChbXjpcXC8jXFw/XFxdXFxbXSt8XFxbW15cXC9cXF1AIz9dK1xcXSkoPzpcXDooWzAtOV0rKSk/KSk/KT8pPygoXFwvPyg/OlteXFwvXFw/I10rXFwvKykqKShbXlxcPyNdKikpKT8oXFw/W14jXSspPykoIy4qKT8vLGdldExvY2F0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucGFyc2VVcmwoYXx8bG9jYXRpb24uaHJlZiksYz1hP2I6bG9jYXRpb24sZD1iLmhhc2g7cmV0dXJuIGQ9XCIjXCI9PT1kP1wiXCI6ZCxjLnByb3RvY29sK2IuZG91YmxlU2xhc2grYy5ob3N0KyhcIlwiIT09Yy5wcm90b2NvbCYmXCIvXCIhPT1jLnBhdGhuYW1lLnN1YnN0cmluZygwLDEpP1wiL1wiOlwiXCIpK2MucGF0aG5hbWUrYy5zZWFyY2grZH0sZ2V0RG9jdW1lbnRVcmw6ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sZC5kb2N1bWVudFVybCk6ZC5kb2N1bWVudFVybC5ocmVmfSxwYXJzZUxvY2F0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyc2VVcmwodGhpcy5nZXRMb2NhdGlvbigpKX0scGFyc2VVcmw6ZnVuY3Rpb24oYil7aWYoXCJvYmplY3RcIj09PWEudHlwZShiKSlyZXR1cm4gYjt2YXIgYz1kLnVybFBhcnNlUkUuZXhlYyhifHxcIlwiKXx8W107cmV0dXJue2hyZWY6Y1swXXx8XCJcIixocmVmTm9IYXNoOmNbMV18fFwiXCIsaHJlZk5vU2VhcmNoOmNbMl18fFwiXCIsZG9tYWluOmNbM118fFwiXCIscHJvdG9jb2w6Y1s0XXx8XCJcIixkb3VibGVTbGFzaDpjWzVdfHxcIlwiLGF1dGhvcml0eTpjWzZdfHxcIlwiLHVzZXJuYW1lOmNbOF18fFwiXCIscGFzc3dvcmQ6Y1s5XXx8XCJcIixob3N0OmNbMTBdfHxcIlwiLGhvc3RuYW1lOmNbMTFdfHxcIlwiLHBvcnQ6Y1sxMl18fFwiXCIscGF0aG5hbWU6Y1sxM118fFwiXCIsZGlyZWN0b3J5OmNbMTRdfHxcIlwiLGZpbGVuYW1lOmNbMTVdfHxcIlwiLHNlYXJjaDpjWzE2XXx8XCJcIixoYXNoOmNbMTddfHxcIlwifX0sbWFrZVBhdGhBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmO2lmKGEmJlwiL1wiPT09YS5jaGFyQXQoMCkpcmV0dXJuIGE7Zm9yKGE9YXx8XCJcIixiPWI/Yi5yZXBsYWNlKC9eXFwvfChcXC9bXlxcL10qfFteXFwvXSspJC9nLFwiXCIpOlwiXCIsYz1iP2Iuc3BsaXQoXCIvXCIpOltdLGQ9YS5zcGxpdChcIi9cIiksZT0wO2U8ZC5sZW5ndGg7ZSsrKXN3aXRjaChmPWRbZV0pe2Nhc2VcIi5cIjpicmVhaztjYXNlXCIuLlwiOmMubGVuZ3RoJiZjLnBvcCgpO2JyZWFrO2RlZmF1bHQ6Yy5wdXNoKGYpfXJldHVyblwiL1wiK2Muam9pbihcIi9cIil9LGlzU2FtZURvbWFpbjpmdW5jdGlvbihhLGIpe3JldHVybiBkLnBhcnNlVXJsKGEpLmRvbWFpbi50b0xvd2VyQ2FzZSgpPT09ZC5wYXJzZVVybChiKS5kb21haW4udG9Mb3dlckNhc2UoKX0saXNSZWxhdGl2ZVVybDpmdW5jdGlvbihhKXtyZXR1cm5cIlwiPT09ZC5wYXJzZVVybChhKS5wcm90b2NvbH0saXNBYnNvbHV0ZVVybDpmdW5jdGlvbihhKXtyZXR1cm5cIlwiIT09ZC5wYXJzZVVybChhKS5wcm90b2NvbH0sbWFrZVVybEFic29sdXRlOmZ1bmN0aW9uKGEsYil7aWYoIWQuaXNSZWxhdGl2ZVVybChhKSlyZXR1cm4gYTtiPT09YyYmKGI9dGhpcy5kb2N1bWVudEJhc2UpO3ZhciBlPWQucGFyc2VVcmwoYSksZj1kLnBhcnNlVXJsKGIpLGc9ZS5wcm90b2NvbHx8Zi5wcm90b2NvbCxoPWUucHJvdG9jb2w/ZS5kb3VibGVTbGFzaDplLmRvdWJsZVNsYXNofHxmLmRvdWJsZVNsYXNoLGk9ZS5hdXRob3JpdHl8fGYuYXV0aG9yaXR5LGo9XCJcIiE9PWUucGF0aG5hbWUsaz1kLm1ha2VQYXRoQWJzb2x1dGUoZS5wYXRobmFtZXx8Zi5maWxlbmFtZSxmLnBhdGhuYW1lKSxsPWUuc2VhcmNofHwhaiYmZi5zZWFyY2h8fFwiXCIsbT1lLmhhc2g7cmV0dXJuIGcraCtpK2srbCttfSxhZGRTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oYixjKXt2YXIgZT1kLnBhcnNlVXJsKGIpLGY9XCJvYmplY3RcIj09dHlwZW9mIGM/YS5wYXJhbShjKTpjLGc9ZS5zZWFyY2h8fFwiP1wiO3JldHVybiBlLmhyZWZOb1NlYXJjaCtnKyhcIj9cIiE9PWcuY2hhckF0KGcubGVuZ3RoLTEpP1wiJlwiOlwiXCIpK2YrKGUuaGFzaHx8XCJcIil9LGNvbnZlcnRVcmxUb0RhdGFVcmw6ZnVuY3Rpb24oYSl7dmFyIGM9YSxlPWQucGFyc2VVcmwoYSk7cmV0dXJuIGQuaXNFbWJlZGRlZFBhZ2UoZSk/Yz1lLmhhc2guc3BsaXQoZilbMF0ucmVwbGFjZSgvXiMvLFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sXCJcIik6ZC5pc1NhbWVEb21haW4oZSx0aGlzLmRvY3VtZW50QmFzZSkmJihjPWUuaHJlZk5vSGFzaC5yZXBsYWNlKHRoaXMuZG9jdW1lbnRCYXNlLmRvbWFpbixcIlwiKS5zcGxpdChmKVswXSksYi5kZWNvZGVVUklDb21wb25lbnQoYyl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PWMmJihhPWQucGFyc2VMb2NhdGlvbigpLmhhc2gpLGQuc3RyaXBIYXNoKGEpLnJlcGxhY2UoL1teXFwvXSpcXC5bXlxcLypdKyQvLFwiXCIpfSxzZXQ6ZnVuY3Rpb24oYSl7bG9jYXRpb24uaGFzaD1hfSxpc1BhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuL1xcLy8udGVzdChhKX0sY2xlYW46ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh0aGlzLmRvY3VtZW50QmFzZS5kb21haW4sXCJcIil9LHN0cmlwSGFzaDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9eIy8sXCJcIil9LHN0cmlwUXVlcnlQYXJhbXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXFw/LiokLyxcIlwiKX0sY2xlYW5IYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBkLnN0cmlwSGFzaChhLnJlcGxhY2UoL1xcPy4qJC8sXCJcIikucmVwbGFjZShmLFwiXCIpKX0saXNIYXNoVmFsaWQ6ZnVuY3Rpb24oYSl7cmV0dXJuL14jW14jXSskLy50ZXN0KGEpfSxpc0V4dGVybmFsOmZ1bmN0aW9uKGEpe3ZhciBiPWQucGFyc2VVcmwoYSk7cmV0dXJuISghYi5wcm90b2NvbHx8Yi5kb21haW4udG9Mb3dlckNhc2UoKT09PXRoaXMuZG9jdW1lbnRVcmwuZG9tYWluLnRvTG93ZXJDYXNlKCkpfSxoYXNQcm90b2NvbDpmdW5jdGlvbihhKXtyZXR1cm4vXig6P1xcdys6KS8udGVzdChhKX0saXNFbWJlZGRlZFBhZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9ZC5wYXJzZVVybChhKTtyZXR1cm5cIlwiIT09Yi5wcm90b2NvbD8hdGhpcy5pc1BhdGgoYi5oYXNoKSYmYi5oYXNoJiYoYi5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudFVybC5ocmVmTm9IYXNofHx0aGlzLmRvY3VtZW50QmFzZURpZmZlcnMmJmIuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gpOi9eIy8udGVzdChiLmhyZWYpfSxzcXVhc2g6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGYsZyxoLGk9dGhpcy5pc1BhdGgoYSksaj10aGlzLnBhcnNlVXJsKGEpLGs9ai5oYXNoLGw9XCJcIjtyZXR1cm4gYnx8KGk/Yj1kLmdldExvY2F0aW9uKCk6KGg9ZC5nZXREb2N1bWVudFVybCghMCksYj1kLmlzUGF0aChoLmhhc2gpP2Quc3F1YXNoKGguaHJlZik6aC5ocmVmKSksZT1pP2Quc3RyaXBIYXNoKGEpOmEsZT1kLmlzUGF0aChqLmhhc2gpP2Quc3RyaXBIYXNoKGouaGFzaCk6ZSxnPWUuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpLGc+LTEmJihsPWUuc2xpY2UoZyksZT1lLnNsaWNlKDAsZykpLGM9ZC5tYWtlVXJsQWJzb2x1dGUoZSxiKSxmPXRoaXMucGFyc2VVcmwoYykuc2VhcmNoLGk/KChkLmlzUGF0aChrKXx8MD09PWsucmVwbGFjZShcIiNcIixcIlwiKS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSkpJiYoaz1cIlwiKSxsJiYtMT09PWsuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpJiYoays9bCksLTE9PT1rLmluZGV4T2YoXCIjXCIpJiZcIlwiIT09ayYmKGs9XCIjXCIrayksYz1kLnBhcnNlVXJsKGMpLGM9Yy5wcm90b2NvbCtjLmRvdWJsZVNsYXNoK2MuaG9zdCtjLnBhdGhuYW1lK2Yrayk6Yys9Yy5pbmRleE9mKFwiI1wiKT4tMT9sOlwiI1wiK2wsY30saXNQcmVzZXJ2YWJsZUhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIDA9PT1hLnJlcGxhY2UoXCIjXCIsXCJcIikuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpfSxoYXNoVG9TZWxlY3RvcjpmdW5jdGlvbihhKXt2YXIgYj1cIiNcIj09PWEuc3Vic3RyaW5nKDAsMSk7cmV0dXJuIGImJihhPWEuc3Vic3RyaW5nKDEpKSwoYj9cIiNcIjpcIlwiKSthLnJlcGxhY2UoLyhbIVwiIyQlJicoKSorLC4vOjs8PT4/QFtcXF1eYHt8fX5dKS9nLFwiXFxcXCQxXCIpfSxnZXRGaWxlUGF0aDpmdW5jdGlvbihhKXtyZXR1cm4gYSYmYS5zcGxpdChmKVswXX0saXNGaXJzdFBhZ2VVcmw6ZnVuY3Rpb24oYil7dmFyIGU9ZC5wYXJzZVVybChkLm1ha2VVcmxBYnNvbHV0ZShiLHRoaXMuZG9jdW1lbnRCYXNlKSksZj1lLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50VXJsLmhyZWZOb0hhc2h8fHRoaXMuZG9jdW1lbnRCYXNlRGlmZmVycyYmZS5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaCxnPWEubW9iaWxlLmZpcnN0UGFnZSxoPWcmJmdbMF0/Z1swXS5pZDpjO3JldHVybiBmJiYoIWUuaGFzaHx8XCIjXCI9PT1lLmhhc2h8fGgmJmUuaGFzaC5yZXBsYWNlKC9eIy8sXCJcIik9PT1oKX0saXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3Q6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzJiYoXCJmaWxlOlwiPT09Yi5wcm90b2NvbHx8XCJjb250ZW50OlwiPT09Yi5wcm90b2NvbCkmJi0xIT09Yy5zZWFyY2goL15odHRwcz86Lyl9fSxkLmRvY3VtZW50VXJsPWQucGFyc2VMb2NhdGlvbigpLGU9YShcImhlYWRcIikuZmluZChcImJhc2VcIiksZC5kb2N1bWVudEJhc2U9ZS5sZW5ndGg/ZC5wYXJzZVVybChkLm1ha2VVcmxBYnNvbHV0ZShlLmF0dHIoXCJocmVmXCIpLGQuZG9jdW1lbnRVcmwuaHJlZikpOmQuZG9jdW1lbnRVcmwsZC5kb2N1bWVudEJhc2VEaWZmZXJzPWQuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaCE9PWQuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gsZC5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sZC5kb2N1bWVudEJhc2UpOmQuZG9jdW1lbnRCYXNlLmhyZWZ9LGEuZXh0ZW5kKGEubW9iaWxlLHtnZXREb2N1bWVudFVybDpkLmdldERvY3VtZW50VXJsLGdldERvY3VtZW50QmFzZTpkLmdldERvY3VtZW50QmFzZX0pfShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLkhpc3Rvcnk9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YWNrPWF8fFtdLHRoaXMuYWN0aXZlSW5kZXg9Ynx8MH0sYS5leHRlbmQoYS5tb2JpbGUuSGlzdG9yeS5wcm90b3R5cGUse2dldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXhdfSxnZXRMYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5wcmV2aW91c0luZGV4XX0sZ2V0TmV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXgrMV19LGdldFByZXY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLmFjdGl2ZUluZGV4LTFdfSxhZGQ6ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9LHRoaXMuZ2V0TmV4dCgpJiZ0aGlzLmNsZWFyRm9yd2FyZCgpLGIuaGFzaCYmLTE9PT1iLmhhc2guaW5kZXhPZihcIiNcIikmJihiLmhhc2g9XCIjXCIrYi5oYXNoKSxiLnVybD1hLHRoaXMuc3RhY2sucHVzaChiKSx0aGlzLmFjdGl2ZUluZGV4PXRoaXMuc3RhY2subGVuZ3RoLTF9LGNsZWFyRm9yd2FyZDpmdW5jdGlvbigpe3RoaXMuc3RhY2s9dGhpcy5zdGFjay5zbGljZSgwLHRoaXMuYWN0aXZlSW5kZXgrMSl9LGZpbmQ6ZnVuY3Rpb24oYSxiLGMpe2I9Ynx8dGhpcy5zdGFjazt2YXIgZCxlLGYsZz1iLmxlbmd0aDtmb3IoZT0wO2c+ZTtlKyspaWYoZD1iW2VdLChkZWNvZGVVUklDb21wb25lbnQoYSk9PT1kZWNvZGVVUklDb21wb25lbnQoZC51cmwpfHxkZWNvZGVVUklDb21wb25lbnQoYSk9PT1kZWNvZGVVUklDb21wb25lbnQoZC5oYXNoKSkmJihmPWUsYykpcmV0dXJuIGY7cmV0dXJuIGZ9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSl7dmFyIGMsZD10aGlzLmFjdGl2ZUluZGV4O3JldHVybiBjPXRoaXMuZmluZChhLHRoaXMuc3RhY2suc2xpY2UoMCxkKSksYz09PWImJihjPXRoaXMuZmluZChhLHRoaXMuc3RhY2suc2xpY2UoZCksITApLGM9Yz09PWI/YzpjK2QpLGN9LGRpcmVjdDpmdW5jdGlvbihjKXt2YXIgZD10aGlzLmNsb3Nlc3QoYy51cmwpLGU9dGhpcy5hY3RpdmVJbmRleDtkIT09YiYmKHRoaXMuYWN0aXZlSW5kZXg9ZCx0aGlzLnByZXZpb3VzSW5kZXg9ZSksZT5kPyhjLnByZXNlbnR8fGMuYmFja3x8YS5ub29wKSh0aGlzLmdldEFjdGl2ZSgpLFwiYmFja1wiKTpkPmU/KGMucHJlc2VudHx8Yy5mb3J3YXJkfHxhLm5vb3ApKHRoaXMuZ2V0QWN0aXZlKCksXCJmb3J3YXJkXCIpOmQ9PT1iJiZjLm1pc3NpbmcmJmMubWlzc2luZyh0aGlzLmdldEFjdGl2ZSgpKX19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGQ9YS5tb2JpbGUucGF0aCxlPWxvY2F0aW9uLmhyZWY7YS5tb2JpbGUuTmF2aWdhdG9yPWZ1bmN0aW9uKGIpe3RoaXMuaGlzdG9yeT1iLHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITAsYS5tb2JpbGUud2luZG93LmJpbmQoe1wicG9wc3RhdGUuaGlzdG9yeVwiOmEucHJveHkodGhpcy5wb3BzdGF0ZSx0aGlzKSxcImhhc2hjaGFuZ2UuaGlzdG9yeVwiOmEucHJveHkodGhpcy5oYXNoY2hhbmdlLHRoaXMpfSl9LGEuZXh0ZW5kKGEubW9iaWxlLk5hdmlnYXRvci5wcm90b3R5cGUse3NxdWFzaDpmdW5jdGlvbihlLGYpe3ZhciBnLGgsaT1kLmlzUGF0aChlKT9kLnN0cmlwSGFzaChlKTplO3JldHVybiBoPWQuc3F1YXNoKGUpLGc9YS5leHRlbmQoe2hhc2g6aSx1cmw6aH0sZiksYi5oaXN0b3J5LnJlcGxhY2VTdGF0ZShnLGcudGl0bGV8fGMudGl0bGUsaCksZ30saGFzaDpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnO3JldHVybiBjPWQucGFyc2VVcmwoYSksZT1kLnBhcnNlTG9jYXRpb24oKSxlLnBhdGhuYW1lK2Uuc2VhcmNoPT09Yy5wYXRobmFtZStjLnNlYXJjaD9mPWMuaGFzaD9jLmhhc2g6Yy5wYXRobmFtZStjLnNlYXJjaDpkLmlzUGF0aChhKT8oZz1kLnBhcnNlVXJsKGIpLGY9Zy5wYXRobmFtZStnLnNlYXJjaCsoZC5pc1ByZXNlcnZhYmxlSGFzaChnLmhhc2gpP2cuaGFzaC5yZXBsYWNlKFwiI1wiLFwiXCIpOlwiXCIpKTpmPWEsZn0sZ286ZnVuY3Rpb24oZSxmLGcpe3ZhciBoLGksaixrLGw9YS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpO1xuaT1kLnNxdWFzaChlKSxqPXRoaXMuaGFzaChlLGkpLGcmJmohPT1kLnN0cmlwSGFzaChkLnBhcnNlTG9jYXRpb24oKS5oYXNoKSYmKHRoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlPWcpLHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMCxiLmxvY2F0aW9uLmhhc2g9aix0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITEsaD1hLmV4dGVuZCh7dXJsOmksaGFzaDpqLHRpdGxlOmMudGl0bGV9LGYpLGwmJihrPW5ldyBhLkV2ZW50KFwicG9wc3RhdGVcIiksay5vcmlnaW5hbEV2ZW50PXt0eXBlOlwicG9wc3RhdGVcIixzdGF0ZTpudWxsfSx0aGlzLnNxdWFzaChlLGgpLGd8fCh0aGlzLmlnbm9yZVBvcFN0YXRlPSEwLGEubW9iaWxlLndpbmRvdy50cmlnZ2VyKGspKSksdGhpcy5oaXN0b3J5LmFkZChoLnVybCxoKX0scG9wc3RhdGU6ZnVuY3Rpb24oYil7dmFyIGMsZjtpZihhLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCkpcmV0dXJuIHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT8odGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPSExLHZvaWQgYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSk6dGhpcy5pZ25vcmVQb3BTdGF0ZT92b2lkKHRoaXMuaWdub3JlUG9wU3RhdGU9ITEpOiFiLm9yaWdpbmFsRXZlbnQuc3RhdGUmJjE9PT10aGlzLmhpc3Rvcnkuc3RhY2subGVuZ3RoJiZ0aGlzLmlnbm9yZUluaXRpYWxIYXNoQ2hhbmdlJiYodGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZT0hMSxsb2NhdGlvbi5ocmVmPT09ZSk/dm9pZCBiLnByZXZlbnREZWZhdWx0KCk6KGM9ZC5wYXJzZUxvY2F0aW9uKCkuaGFzaCwhYi5vcmlnaW5hbEV2ZW50LnN0YXRlJiZjPyhmPXRoaXMuc3F1YXNoKGMpLHRoaXMuaGlzdG9yeS5hZGQoZi51cmwsZiksdm9pZChiLmhpc3RvcnlTdGF0ZT1mKSk6dm9pZCB0aGlzLmhpc3RvcnkuZGlyZWN0KHt1cmw6KGIub3JpZ2luYWxFdmVudC5zdGF0ZXx8e30pLnVybHx8YyxwcmVzZW50OmZ1bmN0aW9uKGMsZCl7Yi5oaXN0b3J5U3RhdGU9YS5leHRlbmQoe30sYyksYi5oaXN0b3J5U3RhdGUuZGlyZWN0aW9uPWR9fSkpfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBlLGY7aWYoYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzSGFzaENoYW5nZUVuYWJsZWQoKSYmIWEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSl7aWYodGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2UpcmV0dXJuIHRoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlPSExLHZvaWQgYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtlPXRoaXMuaGlzdG9yeSxmPWQucGFyc2VMb2NhdGlvbigpLmhhc2gsdGhpcy5oaXN0b3J5LmRpcmVjdCh7dXJsOmYscHJlc2VudDpmdW5jdGlvbihjLGQpe2IuaGFzaGNoYW5nZVN0YXRlPWEuZXh0ZW5kKHt9LGMpLGIuaGFzaGNoYW5nZVN0YXRlLmRpcmVjdGlvbj1kfSxtaXNzaW5nOmZ1bmN0aW9uKCl7ZS5hZGQoZix7aGFzaDpmLHRpdGxlOmMudGl0bGV9KX19KX19fSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLm5hdmlnYXRlPWZ1bmN0aW9uKGIsYyxkKXthLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3IuZ28oYixjLGQpfSxhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5PW5ldyBhLm1vYmlsZS5IaXN0b3J5LGEubW9iaWxlLm5hdmlnYXRlLm5hdmlnYXRvcj1uZXcgYS5tb2JpbGUuTmF2aWdhdG9yKGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkpO3ZhciBiPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpO2EubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWRkKGIuaHJlZix7aGFzaDpiLmhhc2h9KX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgZD17YW5pbWF0aW9uOnt9LHRyYW5zaXRpb246e319LGU9Yy5jcmVhdGVFbGVtZW50KFwiYVwiKSxmPVtcIlwiLFwid2Via2l0LVwiLFwibW96LVwiLFwiby1cIl07YS5lYWNoKFtcImFuaW1hdGlvblwiLFwidHJhbnNpdGlvblwiXSxmdW5jdGlvbihjLGcpe3ZhciBoPTA9PT1jP2crXCItbmFtZVwiOmc7YS5lYWNoKGYsZnVuY3Rpb24oYyxmKXtyZXR1cm4gZS5zdHlsZVthLmNhbWVsQ2FzZShmK2gpXSE9PWI/KGRbZ10ucHJlZml4PWYsITEpOnZvaWQgMH0pLGRbZ10uZHVyYXRpb249YS5jYW1lbENhc2UoZFtnXS5wcmVmaXgrZytcIi1kdXJhdGlvblwiKSxkW2ddLmV2ZW50PWEuY2FtZWxDYXNlKGRbZ10ucHJlZml4K2crXCItZW5kXCIpLFwiXCI9PT1kW2ddLnByZWZpeCYmKGRbZ10uZXZlbnQ9ZFtnXS5ldmVudC50b0xvd2VyQ2FzZSgpKX0pLGEuc3VwcG9ydC5jc3NUcmFuc2l0aW9ucz1kLnRyYW5zaXRpb24ucHJlZml4IT09YixhLnN1cHBvcnQuY3NzQW5pbWF0aW9ucz1kLmFuaW1hdGlvbi5wcmVmaXghPT1iLGEoZSkucmVtb3ZlKCksYS5mbi5hbmltYXRpb25Db21wbGV0ZT1mdW5jdGlvbihlLGYsZyl7dmFyIGgsaSxqPXRoaXMsaz1mdW5jdGlvbigpe2NsZWFyVGltZW91dChoKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbD1mJiZcImFuaW1hdGlvblwiIT09Zj9cInRyYW5zaXRpb25cIjpcImFuaW1hdGlvblwiO3JldHVybiBhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnMmJlwidHJhbnNpdGlvblwiPT09bHx8YS5zdXBwb3J0LmNzc0FuaW1hdGlvbnMmJlwiYW5pbWF0aW9uXCI9PT1sPyhnPT09YiYmKGEodGhpcykuY29udGV4dCE9PWMmJihpPTNlMypwYXJzZUZsb2F0KGEodGhpcykuY3NzKGRbbF0uZHVyYXRpb24pKSksKDA9PT1pfHxpPT09Ynx8aXNOYU4oaSkpJiYoaT1hLmZuLmFuaW1hdGlvbkNvbXBsZXRlLmRlZmF1bHREdXJhdGlvbikpLGg9c2V0VGltZW91dChmdW5jdGlvbigpe2Eoaikub2ZmKGRbbF0uZXZlbnQsayksZS5hcHBseShqKX0saSksYSh0aGlzKS5vbmUoZFtsXS5ldmVudCxrKSk6KHNldFRpbWVvdXQoYS5wcm94eShlLHRoaXMpLDApLGEodGhpcykpfSxhLmZuLmFuaW1hdGlvbkNvbXBsZXRlLmRlZmF1bHREdXJhdGlvbj0xZTN9KGEpLGZ1bmN0aW9uKGEsYixjLGQpe2Z1bmN0aW9uIGUoYSl7Zm9yKDthJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5vcmlnaW5hbEV2ZW50OylhPWEub3JpZ2luYWxFdmVudDtyZXR1cm4gYX1mdW5jdGlvbiBmKGIsYyl7dmFyIGYsZyxoLGksaixrLGwsbSxuLG89Yi50eXBlO2lmKGI9YS5FdmVudChiKSxiLnR5cGU9YyxmPWIub3JpZ2luYWxFdmVudCxnPWEuZXZlbnQucHJvcHMsby5zZWFyY2goL14obW91c2V8Y2xpY2spLyk+LTEmJihnPUUpLGYpZm9yKGw9Zy5sZW5ndGgsaTtsOylpPWdbLS1sXSxiW2ldPWZbaV07aWYoby5zZWFyY2goL21vdXNlKGRvd258dXApfGNsaWNrLyk+LTEmJiFiLndoaWNoJiYoYi53aGljaD0xKSwtMSE9PW8uc2VhcmNoKC9edG91Y2gvKSYmKGg9ZShmKSxvPWgudG91Y2hlcyxqPWguY2hhbmdlZFRvdWNoZXMsaz1vJiZvLmxlbmd0aD9vWzBdOmomJmoubGVuZ3RoP2pbMF06ZCkpZm9yKG09MCxuPUMubGVuZ3RoO24+bTttKyspaT1DW21dLGJbaV09a1tpXTtyZXR1cm4gYn1mdW5jdGlvbiBnKGIpe2Zvcih2YXIgYyxkLGU9e307Yjspe2M9YS5kYXRhKGIseik7Zm9yKGQgaW4gYyljW2RdJiYoZVtkXT1lLmhhc1ZpcnR1YWxCaW5kaW5nPSEwKTtiPWIucGFyZW50Tm9kZX1yZXR1cm4gZX1mdW5jdGlvbiBoKGIsYyl7Zm9yKHZhciBkO2I7KXtpZihkPWEuZGF0YShiLHopLGQmJighY3x8ZFtjXSkpcmV0dXJuIGI7Yj1iLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gaSgpe009ITF9ZnVuY3Rpb24gaigpe009ITB9ZnVuY3Rpb24gaygpe1E9MCxLLmxlbmd0aD0wLEw9ITEsaigpfWZ1bmN0aW9uIGwoKXtpKCl9ZnVuY3Rpb24gbSgpe24oKSxHPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtHPTAsaygpfSxhLnZtb3VzZS5yZXNldFRpbWVyRHVyYXRpb24pfWZ1bmN0aW9uIG4oKXtHJiYoY2xlYXJUaW1lb3V0KEcpLEc9MCl9ZnVuY3Rpb24gbyhiLGMsZCl7dmFyIGU7cmV0dXJuKGQmJmRbYl18fCFkJiZoKGMudGFyZ2V0LGIpKSYmKGU9ZihjLGIpLGEoYy50YXJnZXQpLnRyaWdnZXIoZSkpLGV9ZnVuY3Rpb24gcChiKXt2YXIgYyxkPWEuZGF0YShiLnRhcmdldCxBKTtMfHxRJiZRPT09ZHx8KGM9byhcInZcIitiLnR5cGUsYiksYyYmKGMuaXNEZWZhdWx0UHJldmVudGVkKCkmJmIucHJldmVudERlZmF1bHQoKSxjLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmIuc3RvcFByb3BhZ2F0aW9uKCksYy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpJiZiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKSl9ZnVuY3Rpb24gcShiKXt2YXIgYyxkLGYsaD1lKGIpLnRvdWNoZXM7aCYmMT09PWgubGVuZ3RoJiYoYz1iLnRhcmdldCxkPWcoYyksZC5oYXNWaXJ0dWFsQmluZGluZyYmKFE9UCsrLGEuZGF0YShjLEEsUSksbigpLGwoKSxKPSExLGY9ZShiKS50b3VjaGVzWzBdLEg9Zi5wYWdlWCxJPWYucGFnZVksbyhcInZtb3VzZW92ZXJcIixiLGQpLG8oXCJ2bW91c2Vkb3duXCIsYixkKSkpfWZ1bmN0aW9uIHIoYSl7TXx8KEp8fG8oXCJ2bW91c2VjYW5jZWxcIixhLGcoYS50YXJnZXQpKSxKPSEwLG0oKSl9ZnVuY3Rpb24gcyhiKXtpZighTSl7dmFyIGM9ZShiKS50b3VjaGVzWzBdLGQ9SixmPWEudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZCxoPWcoYi50YXJnZXQpO0o9Snx8TWF0aC5hYnMoYy5wYWdlWC1IKT5mfHxNYXRoLmFicyhjLnBhZ2VZLUkpPmYsSiYmIWQmJm8oXCJ2bW91c2VjYW5jZWxcIixiLGgpLG8oXCJ2bW91c2Vtb3ZlXCIsYixoKSxtKCl9fWZ1bmN0aW9uIHQoYSl7aWYoIU0pe2ooKTt2YXIgYixjLGQ9ZyhhLnRhcmdldCk7byhcInZtb3VzZXVwXCIsYSxkKSxKfHwoYj1vKFwidmNsaWNrXCIsYSxkKSxiJiZiLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYoYz1lKGEpLmNoYW5nZWRUb3VjaGVzWzBdLEsucHVzaCh7dG91Y2hJRDpRLHg6Yy5jbGllbnRYLHk6Yy5jbGllbnRZfSksTD0hMCkpLG8oXCJ2bW91c2VvdXRcIixhLGQpLEo9ITEsbSgpfX1mdW5jdGlvbiB1KGIpe3ZhciBjLGQ9YS5kYXRhKGIseik7aWYoZClmb3IoYyBpbiBkKWlmKGRbY10pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gdigpe31mdW5jdGlvbiB3KGIpe3ZhciBjPWIuc3Vic3RyKDEpO3JldHVybntzZXR1cDpmdW5jdGlvbigpe3UodGhpcyl8fGEuZGF0YSh0aGlzLHose30pO3ZhciBkPWEuZGF0YSh0aGlzLHopO2RbYl09ITAsRltiXT0oRltiXXx8MCkrMSwxPT09RltiXSYmTy5iaW5kKGMscCksYSh0aGlzKS5iaW5kKGMsdiksTiYmKEYudG91Y2hzdGFydD0oRi50b3VjaHN0YXJ0fHwwKSsxLDE9PT1GLnRvdWNoc3RhcnQmJk8uYmluZChcInRvdWNoc3RhcnRcIixxKS5iaW5kKFwidG91Y2hlbmRcIix0KS5iaW5kKFwidG91Y2htb3ZlXCIscykuYmluZChcInNjcm9sbFwiLHIpKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLUZbYl0sRltiXXx8Ty51bmJpbmQoYyxwKSxOJiYoLS1GLnRvdWNoc3RhcnQsRi50b3VjaHN0YXJ0fHxPLnVuYmluZChcInRvdWNoc3RhcnRcIixxKS51bmJpbmQoXCJ0b3VjaG1vdmVcIixzKS51bmJpbmQoXCJ0b3VjaGVuZFwiLHQpLnVuYmluZChcInNjcm9sbFwiLHIpKTt2YXIgZD1hKHRoaXMpLGU9YS5kYXRhKHRoaXMseik7ZSYmKGVbYl09ITEpLGQudW5iaW5kKGMsdiksdSh0aGlzKXx8ZC5yZW1vdmVEYXRhKHopfX19dmFyIHgseSx6PVwidmlydHVhbE1vdXNlQmluZGluZ3NcIixBPVwidmlydHVhbFRvdWNoSURcIixCPVwidm1vdXNlb3ZlciB2bW91c2Vkb3duIHZtb3VzZW1vdmUgdm1vdXNldXAgdmNsaWNrIHZtb3VzZW91dCB2bW91c2VjYW5jZWxcIi5zcGxpdChcIiBcIiksQz1cImNsaWVudFggY2xpZW50WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlbllcIi5zcGxpdChcIiBcIiksRD1hLmV2ZW50Lm1vdXNlSG9va3M/YS5ldmVudC5tb3VzZUhvb2tzLnByb3BzOltdLEU9YS5ldmVudC5wcm9wcy5jb25jYXQoRCksRj17fSxHPTAsSD0wLEk9MCxKPSExLEs9W10sTD0hMSxNPSExLE49XCJhZGRFdmVudExpc3RlbmVyXCJpbiBjLE89YShjKSxQPTEsUT0wO2ZvcihhLnZtb3VzZT17bW92ZURpc3RhbmNlVGhyZXNob2xkOjEwLGNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ6MTAscmVzZXRUaW1lckR1cmF0aW9uOjE1MDB9LHk9MDt5PEIubGVuZ3RoO3krKylhLmV2ZW50LnNwZWNpYWxbQlt5XV09dyhCW3ldKTtOJiZjLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmLGcsaCxpPUsubGVuZ3RoLGo9Yi50YXJnZXQ7aWYoaSlmb3IoYz1iLmNsaWVudFgsZD1iLmNsaWVudFkseD1hLnZtb3VzZS5jbGlja0Rpc3RhbmNlVGhyZXNob2xkLGU9ajtlOyl7Zm9yKGY9MDtpPmY7ZisrKWlmKGc9S1tmXSxoPTAsZT09PWomJk1hdGguYWJzKGcueC1jKTx4JiZNYXRoLmFicyhnLnktZCk8eHx8YS5kYXRhKGUsQSk9PT1nLnRvdWNoSUQpcmV0dXJuIGIucHJldmVudERlZmF1bHQoKSx2b2lkIGIuc3RvcFByb3BhZ2F0aW9uKCk7ZT1lLnBhcmVudE5vZGV9fSwhMCl9KGEsYixjKSxmdW5jdGlvbihhLGIsZCl7ZnVuY3Rpb24gZShiLGMsZSxmKXt2YXIgZz1lLnR5cGU7ZS50eXBlPWMsZj9hLmV2ZW50LnRyaWdnZXIoZSxkLGIpOmEuZXZlbnQuZGlzcGF0Y2guY2FsbChiLGUpLGUudHlwZT1nfXZhciBmPWEoYyksZz1hLm1vYmlsZS5zdXBwb3J0LnRvdWNoLGg9XCJ0b3VjaG1vdmUgc2Nyb2xsXCIsaT1nP1widG91Y2hzdGFydFwiOlwibW91c2Vkb3duXCIsaj1nP1widG91Y2hlbmRcIjpcIm1vdXNldXBcIixrPWc/XCJ0b3VjaG1vdmVcIjpcIm1vdXNlbW92ZVwiO2EuZWFjaChcInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRhcCB0YXBob2xkIHN3aXBlIHN3aXBlbGVmdCBzd2lwZXJpZ2h0IHNjcm9sbHN0YXJ0IHNjcm9sbHN0b3BcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYixjKXthLmZuW2NdPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChjLGEpOnRoaXMudHJpZ2dlcihjKX0sYS5hdHRyRm4mJihhLmF0dHJGbltjXT0hMCl9KSxhLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQ9e2VuYWJsZWQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsYil7Yz1iLGUoZixjP1wic2Nyb2xsc3RhcnRcIjpcInNjcm9sbHN0b3BcIixhKX12YXIgYyxkLGY9dGhpcyxnPWEoZik7Zy5iaW5kKGgsZnVuY3Rpb24oZSl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQmJihjfHxiKGUsITApLGNsZWFyVGltZW91dChkKSxkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtiKGUsITEpfSw1MCkpfSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoaCl9fSxhLmV2ZW50LnNwZWNpYWwudGFwPXt0YXBob2xkVGhyZXNob2xkOjc1MCxlbWl0VGFwT25UYXBob2xkOiEwLHNldHVwOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWEoYiksZD0hMTtjLmJpbmQoXCJ2bW91c2Vkb3duXCIsZnVuY3Rpb24oZyl7ZnVuY3Rpb24gaCgpe2NsZWFyVGltZW91dChrKX1mdW5jdGlvbiBpKCl7aCgpLGMudW5iaW5kKFwidmNsaWNrXCIsaikudW5iaW5kKFwidm1vdXNldXBcIixoKSxmLnVuYmluZChcInZtb3VzZWNhbmNlbFwiLGkpfWZ1bmN0aW9uIGooYSl7aSgpLGR8fGwhPT1hLnRhcmdldD9kJiZhLnByZXZlbnREZWZhdWx0KCk6ZShiLFwidGFwXCIsYSl9aWYoZD0hMSxnLndoaWNoJiYxIT09Zy53aGljaClyZXR1cm4hMTt2YXIgayxsPWcudGFyZ2V0O2MuYmluZChcInZtb3VzZXVwXCIsaCkuYmluZChcInZjbGlja1wiLGopLGYuYmluZChcInZtb3VzZWNhbmNlbFwiLGkpLGs9c2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC50YXAuZW1pdFRhcE9uVGFwaG9sZHx8KGQ9ITApLGUoYixcInRhcGhvbGRcIixhLkV2ZW50KFwidGFwaG9sZFwiLHt0YXJnZXQ6bH0pKX0sYS5ldmVudC5zcGVjaWFsLnRhcC50YXBob2xkVGhyZXNob2xkKX0pfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKFwidm1vdXNlZG93blwiKS51bmJpbmQoXCJ2Y2xpY2tcIikudW5iaW5kKFwidm1vdXNldXBcIiksZi51bmJpbmQoXCJ2bW91c2VjYW5jZWxcIil9fSxhLmV2ZW50LnNwZWNpYWwuc3dpcGU9e3Njcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQ6MzAsZHVyYXRpb25UaHJlc2hvbGQ6MWUzLGhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZDozMCx2ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkOjMwLGdldExvY2F0aW9uOmZ1bmN0aW9uKGEpe3ZhciBjPWIucGFnZVhPZmZzZXQsZD1iLnBhZ2VZT2Zmc2V0LGU9YS5jbGllbnRYLGY9YS5jbGllbnRZO3JldHVybiAwPT09YS5wYWdlWSYmTWF0aC5mbG9vcihmKT5NYXRoLmZsb29yKGEucGFnZVkpfHwwPT09YS5wYWdlWCYmTWF0aC5mbG9vcihlKT5NYXRoLmZsb29yKGEucGFnZVgpPyhlLT1jLGYtPWQpOihmPGEucGFnZVktZHx8ZTxhLnBhZ2VYLWMpJiYoZT1hLnBhZ2VYLWMsZj1hLnBhZ2VZLWQpLHt4OmUseTpmfX0sc3RhcnQ6ZnVuY3Rpb24oYil7dmFyIGM9Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06YixkPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5nZXRMb2NhdGlvbihjKTtyZXR1cm57dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2QueCxkLnldLG9yaWdpbjphKGIudGFyZ2V0KX19LHN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06YixkPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5nZXRMb2NhdGlvbihjKTtyZXR1cm57dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2QueCxkLnldfX0saGFuZGxlU3dpcGU6ZnVuY3Rpb24oYixjLGQsZil7aWYoYy50aW1lLWIudGltZTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZHVyYXRpb25UaHJlc2hvbGQmJk1hdGguYWJzKGIuY29vcmRzWzBdLWMuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkJiZNYXRoLmFicyhiLmNvb3Jkc1sxXS1jLmNvb3Jkc1sxXSk8YS5ldmVudC5zcGVjaWFsLnN3aXBlLnZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQpe3ZhciBnPWIuY29vcmRzWzBdPmMuY29vcmRzWzBdP1wic3dpcGVsZWZ0XCI6XCJzd2lwZXJpZ2h0XCI7cmV0dXJuIGUoZCxcInN3aXBlXCIsYS5FdmVudChcInN3aXBlXCIse3RhcmdldDpmLHN3aXBlc3RhcnQ6Yixzd2lwZXN0b3A6Y30pLCEwKSxlKGQsZyxhLkV2ZW50KGcse3RhcmdldDpmLHN3aXBlc3RhcnQ6Yixzd2lwZXN0b3A6Y30pLCEwKSwhMH1yZXR1cm4hMX0sZXZlbnRJblByb2dyZXNzOiExLHNldHVwOmZ1bmN0aW9uKCl7dmFyIGIsYz10aGlzLGQ9YShjKSxlPXt9O2I9YS5kYXRhKHRoaXMsXCJtb2JpbGUtZXZlbnRzXCIpLGJ8fChiPXtsZW5ndGg6MH0sYS5kYXRhKHRoaXMsXCJtb2JpbGUtZXZlbnRzXCIsYikpLGIubGVuZ3RoKyssYi5zd2lwZT1lLGUuc3RhcnQ9ZnVuY3Rpb24oYil7aWYoIWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5ldmVudEluUHJvZ3Jlc3Mpe2EuZXZlbnQuc3BlY2lhbC5zd2lwZS5ldmVudEluUHJvZ3Jlc3M9ITA7dmFyIGQsZz1hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc3RhcnQoYiksaD1iLnRhcmdldCxpPSExO2UubW92ZT1mdW5jdGlvbihiKXtnJiYhYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKGQ9YS5ldmVudC5zcGVjaWFsLnN3aXBlLnN0b3AoYiksaXx8KGk9YS5ldmVudC5zcGVjaWFsLnN3aXBlLmhhbmRsZVN3aXBlKGcsZCxjLGgpLGkmJihhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZXZlbnRJblByb2dyZXNzPSExKSksTWF0aC5hYnMoZy5jb29yZHNbMF0tZC5jb29yZHNbMF0pPmEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkJiZiLnByZXZlbnREZWZhdWx0KCkpfSxlLnN0b3A9ZnVuY3Rpb24oKXtpPSEwLGEuZXZlbnQuc3BlY2lhbC5zd2lwZS5ldmVudEluUHJvZ3Jlc3M9ITEsZi5vZmYoayxlLm1vdmUpLGUubW92ZT1udWxsfSxmLm9uKGssZS5tb3ZlKS5vbmUoaixlLnN0b3ApfX0sZC5vbihpLGUuc3RhcnQpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBiLGM7Yj1hLmRhdGEodGhpcyxcIm1vYmlsZS1ldmVudHNcIiksYiYmKGM9Yi5zd2lwZSxkZWxldGUgYi5zd2lwZSxiLmxlbmd0aC0tLDA9PT1iLmxlbmd0aCYmYS5yZW1vdmVEYXRhKHRoaXMsXCJtb2JpbGUtZXZlbnRzXCIpKSxjJiYoYy5zdGFydCYmYSh0aGlzKS5vZmYoaSxjLnN0YXJ0KSxjLm1vdmUmJmYub2ZmKGssYy5tb3ZlKSxjLnN0b3AmJmYub2ZmKGosYy5zdG9wKSl9fSxhLmVhY2goe3Njcm9sbHN0b3A6XCJzY3JvbGxzdGFydFwiLHRhcGhvbGQ6XCJ0YXBcIixzd2lwZWxlZnQ6XCJzd2lwZS5sZWZ0XCIsc3dpcGVyaWdodDpcInN3aXBlLnJpZ2h0XCJ9LGZ1bmN0aW9uKGIsYyl7YS5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZChjLGEubm9vcCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoYyl9fX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EuZXZlbnQuc3BlY2lhbC50aHJvdHRsZWRyZXNpemU9e3NldHVwOmZ1bmN0aW9uKCl7YSh0aGlzKS5iaW5kKFwicmVzaXplXCIsZil9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoXCJyZXNpemVcIixmKX19O3ZhciBiLGMsZCxlPTI1MCxmPWZ1bmN0aW9uKCl7Yz0obmV3IERhdGUpLmdldFRpbWUoKSxkPWMtZyxkPj1lPyhnPWMsYSh0aGlzKS50cmlnZ2VyKFwidGhyb3R0bGVkcmVzaXplXCIpKTooYiYmY2xlYXJUaW1lb3V0KGIpLGI9c2V0VGltZW91dChmLGUtZCkpfSxnPTB9KGEpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZCgpe3ZhciBhPWUoKTthIT09ZiYmKGY9YSxsLnRyaWdnZXIobSkpfXZhciBlLGYsZyxoLGksaixrLGw9YShiKSxtPVwib3JpZW50YXRpb25jaGFuZ2VcIixuPXswOiEwLDE4MDohMH07YS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYoaT1iLmlubmVyV2lkdGh8fGwud2lkdGgoKSxqPWIuaW5uZXJIZWlnaHR8fGwuaGVpZ2h0KCksaz01MCxnPWk+aiYmaS1qPmssaD1uW2Iub3JpZW50YXRpb25dLChnJiZofHwhZyYmIWgpJiYobj17XCItOTBcIjohMCw5MDohMH0pKSxhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2U9YS5leHRlbmQoe30sYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLHtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQub3JpZW50YXRpb24mJiFhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KGY9ZSgpLHZvaWQgbC5iaW5kKFwidGhyb3R0bGVkcmVzaXplXCIsZCkpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQub3JpZW50YXRpb24mJiFhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6dm9pZCBsLnVuYmluZChcInRocm90dGxlZHJlc2l6ZVwiLGQpfSxhZGQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5oYW5kbGVyO2EuaGFuZGxlcj1mdW5jdGlvbihhKXtyZXR1cm4gYS5vcmllbnRhdGlvbj1lKCksYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0pLGEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbj1lPWZ1bmN0aW9uKCl7dmFyIGQ9ITAsZT1jLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gZD1hLnN1cHBvcnQub3JpZW50YXRpb24/bltiLm9yaWVudGF0aW9uXTplJiZlLmNsaWVudFdpZHRoL2UuY2xpZW50SGVpZ2h0PDEuMSxkP1wicG9ydHJhaXRcIjpcImxhbmRzY2FwZVwifSxhLmZuW21dPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChtLGEpOnRoaXMudHJpZ2dlcihtKX0sYS5hdHRyRm4mJihhLmF0dHJGblttXT0hMCl9KGEsdGhpcyksZnVuY3Rpb24oYSl7dmFyIGI9YShcImhlYWRcIikuY2hpbGRyZW4oXCJiYXNlXCIpLGM9e2VsZW1lbnQ6Yi5sZW5ndGg/YjphKFwiPGJhc2U+XCIse2hyZWY6YS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaH0pLnByZXBlbmRUbyhhKFwiaGVhZFwiKSksbGlua1NlbGVjdG9yOlwiW3NyY10sIGxpbmtbaHJlZl0sIGFbcmVsPSdleHRlcm5hbCddLCA6anFtRGF0YShhamF4PSdmYWxzZScpLCBhW3RhcmdldF1cIixzZXQ6ZnVuY3Rpb24oYil7YS5tb2JpbGUuZHluYW1pY0Jhc2VFbmFibGVkJiZhLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWcmJmMuZWxlbWVudC5hdHRyKFwiaHJlZlwiLGEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGIsYS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2UpKX0scmV3cml0ZTpmdW5jdGlvbihiLGQpe3ZhciBlPWEubW9iaWxlLnBhdGguZ2V0KGIpO2QuZmluZChjLmxpbmtTZWxlY3RvcikuZWFjaChmdW5jdGlvbihiLGMpe3ZhciBkPWEoYykuaXMoXCJbaHJlZl1cIik/XCJocmVmXCI6YShjKS5pcyhcIltzcmNdXCIpP1wic3JjXCI6XCJhY3Rpb25cIixmPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLGc9YShjKS5hdHRyKGQpO2c9Zy5yZXBsYWNlKGYucHJvdG9jb2wrZi5kb3VibGVTbGFzaCtmLmhvc3QrZi5wYXRobmFtZSxcIlwiKSwvXihcXHcrOnwjfFxcLykvLnRlc3QoZyl8fGEoYykuYXR0cihkLGUrZyl9KX0scmVzZXQ6ZnVuY3Rpb24oKXtjLmVsZW1lbnQuYXR0cihcImhyZWZcIixhLm1vYmlsZS5wYXRoLmRvY3VtZW50QmFzZS5ocmVmTm9TZWFyY2gpfX07YS5tb2JpbGUuYmFzZT1jfShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLndpZGdldHM9e307dmFyIGM9YS53aWRnZXQsZD1hLm1vYmlsZS5rZWVwTmF0aXZlO2Eud2lkZ2V0PWZ1bmN0aW9uKGMpe3JldHVybiBmdW5jdGlvbigpe3ZhciBkPWMuYXBwbHkodGhpcyxhcmd1bWVudHMpLGU9ZC5wcm90b3R5cGUud2lkZ2V0TmFtZTtyZXR1cm4gZC5pbml0U2VsZWN0b3I9ZC5wcm90b3R5cGUuaW5pdFNlbGVjdG9yIT09Yj9kLnByb3RvdHlwZS5pbml0U2VsZWN0b3I6XCI6anFtRGF0YShyb2xlPSdcIitlK1wiJylcIixhLm1vYmlsZS53aWRnZXRzW2VdPWQsZH19KGEud2lkZ2V0KSxhLmV4dGVuZChhLndpZGdldCxjKSxhLm1vYmlsZS5kb2N1bWVudC5vbihcImNyZWF0ZVwiLGZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmVuaGFuY2VXaXRoaW4oKX0pLGEud2lkZ2V0KFwibW9iaWxlLnBhZ2VcIix7b3B0aW9uczp7dGhlbWU6XCJhXCIsZG9tQ2FjaGU6ITEsa2VlcE5hdGl2ZURlZmF1bHQ6YS5tb2JpbGUua2VlcE5hdGl2ZSxjb250ZW50VGhlbWU6bnVsbCxlbmhhbmNlZDohMX0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbigpe2EuV2lkZ2V0LnByb3RvdHlwZS5fY3JlYXRlV2lkZ2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl90cmlnZ2VyKFwiaW5pdFwiKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmlnZ2VyKFwiYmVmb3JlY3JlYXRlXCIpPT09ITE/ITE6KHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLHRoaXMuX29uKHRoaXMuZWxlbWVudCx7cGFnZWJlZm9yZWhpZGU6XCJyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kXCIscGFnZWJlZm9yZXNob3c6XCJfaGFuZGxlUGFnZUJlZm9yZVNob3dcIn0pLHRoaXMuZWxlbWVudC5lbmhhbmNlV2l0aGluKCksdm9pZChcImRpYWxvZ1wiPT09YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMuZWxlbWVudFswXSxcInJvbGVcIikmJmEubW9iaWxlLmRpYWxvZyYmdGhpcy5lbGVtZW50LmRpYWxvZygpKSl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dmFyIGM9XCJkYXRhLVwiK2EubW9iaWxlLm5zLGQ9dGhpczt0aGlzLm9wdGlvbnMucm9sZSYmdGhpcy5lbGVtZW50LmF0dHIoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1wicm9sZVwiLHRoaXMub3B0aW9ucy5yb2xlKSx0aGlzLmVsZW1lbnQuYXR0cihcInRhYmluZGV4XCIsXCIwXCIpLmFkZENsYXNzKFwidWktcGFnZSB1aS1wYWdlLXRoZW1lLVwiK3RoaXMub3B0aW9ucy50aGVtZSksdGhpcy5lbGVtZW50LmZpbmQoXCJbXCIrYytcInJvbGU9J2NvbnRlbnQnXVwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9YSh0aGlzKSxmPXRoaXMuZ2V0QXR0cmlidXRlKGMrXCJ0aGVtZVwiKXx8YjtkLm9wdGlvbnMuY29udGVudFRoZW1lPWZ8fGQub3B0aW9ucy5jb250ZW50VGhlbWV8fGQub3B0aW9ucy5kaWFsb2cmJmQub3B0aW9ucy50aGVtZXx8XCJkaWFsb2dcIj09PWQuZWxlbWVudC5qcW1EYXRhKFwicm9sZVwiKSYmZC5vcHRpb25zLnRoZW1lLGUuYWRkQ2xhc3MoXCJ1aS1jb250ZW50XCIpLGQub3B0aW9ucy5jb250ZW50VGhlbWUmJmUuYWRkQ2xhc3MoXCJ1aS1ib2R5LVwiK2Qub3B0aW9ucy5jb250ZW50VGhlbWUpLGUuYXR0cihcInJvbGVcIixcIm1haW5cIikuYWRkQ2xhc3MoXCJ1aS1jb250ZW50XCIpfSl9LGJpbmRSZW1vdmU6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5lbGVtZW50OyFjLmRhdGEoXCJtb2JpbGUtcGFnZVwiKS5vcHRpb25zLmRvbUNhY2hlJiZjLmlzKFwiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpXCIpJiZjLmJpbmQoXCJwYWdlaGlkZS5yZW1vdmVcIixifHxmdW5jdGlvbihiLGMpe2lmKCFjLnNhbWVQYWdlKXt2YXIgZD1hKHRoaXMpLGU9bmV3IGEuRXZlbnQoXCJwYWdlcmVtb3ZlXCIpO2QudHJpZ2dlcihlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxkLnJlbW92ZVdpdGhEZXBlbmRlbnRzKCl9fSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe2MudGhlbWUhPT1iJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS1wYWdlLXRoZW1lLVwiK3RoaXMub3B0aW9ucy50aGVtZSkuYWRkQ2xhc3MoXCJ1aS1wYWdlLXRoZW1lLVwiK2MudGhlbWUpLGMuY29udGVudFRoZW1lIT09YiYmdGhpcy5lbGVtZW50LmZpbmQoXCJbZGF0YS1cIithLm1vYmlsZS5ucytcIj0nY29udGVudCddXCIpLnJlbW92ZUNsYXNzKFwidWktYm9keS1cIit0aGlzLm9wdGlvbnMuY29udGVudFRoZW1lKS5hZGRDbGFzcyhcInVpLWJvZHktXCIrYy5jb250ZW50VGhlbWUpfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLnNldENvbnRhaW5lckJhY2tncm91bmQoKX0scmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jbG9zZXN0KFwiOm1vYmlsZS1wYWdlY29udGFpbmVyXCIpLnBhZ2Vjb250YWluZXIoe3RoZW1lOlwibm9uZVwifSl9LHNldENvbnRhaW5lckJhY2tncm91bmQ6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnBhcmVudCgpLnBhZ2Vjb250YWluZXIoe3RoZW1lOmF8fHRoaXMub3B0aW9ucy50aGVtZX0pfSxrZWVwTmF0aXZlU2VsZWN0b3I6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz1hLnRyaW0oYi5rZWVwTmF0aXZlfHxcIlwiKSxlPWEudHJpbShhLm1vYmlsZS5rZWVwTmF0aXZlKSxmPWEudHJpbShiLmtlZXBOYXRpdmVEZWZhdWx0KSxnPWQ9PT1lP1wiXCI6ZSxoPVwiXCI9PT1nP2Y6XCJcIjtyZXR1cm4oYz9bY106W10pLmNvbmNhdChnP1tnXTpbXSkuY29uY2F0KGg/W2hdOltdKS5qb2luKFwiLCBcIil9fSl9KGEpLGZ1bmN0aW9uKGEsZCl7YS53aWRnZXQoXCJtb2JpbGUucGFnZWNvbnRhaW5lclwiLHtvcHRpb25zOnt0aGVtZTpcImFcIn0saW5pdFNlbGVjdG9yOiExLF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl90cmlnZ2VyKFwiYmVmb3JlY3JlYXRlXCIpLHRoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQ9ITAsdGhpcy5fb24odGhpcy53aW5kb3cse25hdmlnYXRlOlwiX2Rpc2FibGVSZWNvcmRTY3JvbGxcIixzY3JvbGxzdG9wOlwiX2RlbGF5ZWRSZWNvcmRTY3JvbGxcIn0pLHRoaXMuX29uKHRoaXMud2luZG93LHtuYXZpZ2F0ZTpcIl9maWx0ZXJOYXZpZ2F0ZUV2ZW50c1wifSksdGhpcy5fb24oe3BhZ2VjaGFuZ2U6XCJfYWZ0ZXJDb250ZW50Q2hhbmdlXCJ9KSx0aGlzLndpbmRvdy5vbmUoXCJuYXZpZ2F0ZVwiLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSEwfSx0aGlzKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2EudGhlbWUhPT1kJiZcIm5vbmVcIiE9PWEudGhlbWU/dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktb3ZlcmxheS1cIit0aGlzLm9wdGlvbnMudGhlbWUpLmFkZENsYXNzKFwidWktb3ZlcmxheS1cIithLnRoZW1lKTphLnRoZW1lIT09ZCYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktb3ZlcmxheS1cIit0aGlzLm9wdGlvbnMudGhlbWUpLHRoaXMuX3N1cGVyKGEpfSxfZGlzYWJsZVJlY29yZFNjcm9sbDpmdW5jdGlvbigpe3RoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQ9ITF9LF9lbmFibGVSZWNvcmRTY3JvbGw6ZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSEwfSxfYWZ0ZXJDb250ZW50Q2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZD0hMCx0aGlzLl9vZmYodGhpcy53aW5kb3csXCJzY3JvbGxzdG9wXCIpLHRoaXMuX29uKHRoaXMud2luZG93LHtzY3JvbGxzdG9wOlwiX2RlbGF5ZWRSZWNvcmRTY3JvbGxcIn0pfSxfcmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7aWYodGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZCl7dmFyIGEsYixjLGQ9dGhpcy5fZ2V0QWN0aXZlSGlzdG9yeSgpO2QmJihhPXRoaXMuX2dldFNjcm9sbCgpLGI9dGhpcy5fZ2V0TWluU2Nyb2xsKCksYz10aGlzLl9nZXREZWZhdWx0U2Nyb2xsKCksZC5sYXN0U2Nyb2xsPWI+YT9jOmEpfX0sX2RlbGF5ZWRSZWNvcmRTY3JvbGw6ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGEucHJveHkodGhpcyxcIl9yZWNvcmRTY3JvbGxcIiksMTAwKX0sX2dldFNjcm9sbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndpbmRvdy5zY3JvbGxUb3AoKX0sX2dldE1pblNjcm9sbDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5taW5TY3JvbGxCYWNrfSxfZ2V0RGVmYXVsdFNjcm9sbDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbH0sX2ZpbHRlck5hdmlnYXRlRXZlbnRzOmZ1bmN0aW9uKGIsYyl7dmFyIGQ7Yi5vcmlnaW5hbEV2ZW50JiZiLm9yaWdpbmFsRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fChkPWIub3JpZ2luYWxFdmVudC50eXBlLmluZGV4T2YoXCJoYXNoY2hhbmdlXCIpPi0xP2Muc3RhdGUuaGFzaDpjLnN0YXRlLnVybCxkfHwoZD10aGlzLl9nZXRIYXNoKCkpLGQmJlwiI1wiIT09ZCYmMCE9PWQuaW5kZXhPZihcIiNcIithLm1vYmlsZS5wYXRoLnVpU3RhdGVLZXkpfHwoZD1sb2NhdGlvbi5ocmVmKSx0aGlzLl9oYW5kbGVOYXZpZ2F0ZShkLGMuc3RhdGUpKX0sX2dldEhhc2g6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCkuaGFzaH0sZ2V0QWN0aXZlUGFnZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2ZVBhZ2V9LF9nZXRJbml0aWFsQ29udGVudDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5maXJzdFBhZ2V9LF9nZXRIaXN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnl9LF9nZXRBY3RpdmVIaXN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldEhpc3RvcnkoKS5nZXRBY3RpdmUoKX0sX2dldERvY3VtZW50QmFzZTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5wYXRoLmRvY3VtZW50QmFzZX0sYmFjazpmdW5jdGlvbigpe3RoaXMuZ28oLTEpfSxmb3J3YXJkOmZ1bmN0aW9uKCl7dGhpcy5nbygxKX0sZ286ZnVuY3Rpb24oYyl7aWYoYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQpYi5oaXN0b3J5LmdvKGMpO2Vsc2V7dmFyIGQ9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hY3RpdmVJbmRleCxlPWQrcGFyc2VJbnQoYywxMCksZj1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnN0YWNrW2VdLnVybCxnPWM+PTE/XCJmb3J3YXJkXCI6XCJiYWNrXCI7YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hY3RpdmVJbmRleD1lLGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkucHJldmlvdXNJbmRleD1kLHRoaXMuY2hhbmdlKGYse2RpcmVjdGlvbjpnLGNoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KX19LF9oYW5kbGVEZXN0aW5hdGlvbjpmdW5jdGlvbihiKXt2YXIgYztyZXR1cm5cInN0cmluZ1wiPT09YS50eXBlKGIpJiYoYj1hLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChiKSksYiYmKGM9dGhpcy5fZ2V0SGlzdG9yeSgpLGI9YS5tb2JpbGUucGF0aC5pc1BhdGgoYik/YjphLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShcIiNcIitiLHRoaXMuX2dldERvY3VtZW50QmFzZSgpKSksYnx8dGhpcy5fZ2V0SW5pdGlhbENvbnRlbnQoKX0sX3RyYW5zaXRpb25Gcm9tSGlzdG9yeTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX2dldEhpc3RvcnkoKSxkPVwiYmFja1wiPT09YT9jLmdldExhc3QoKTpjLmdldEFjdGl2ZSgpO3JldHVybiBkJiZkLnRyYW5zaXRpb258fGJ9LF9oYW5kbGVEaWFsb2c6ZnVuY3Rpb24oYixjKXt2YXIgZCxlLGY9dGhpcy5nZXRBY3RpdmVQYWdlKCk7cmV0dXJuIGYmJiFmLmRhdGEoXCJtb2JpbGUtZGlhbG9nXCIpPyhcImJhY2tcIj09PWMuZGlyZWN0aW9uP3RoaXMuYmFjaygpOnRoaXMuZm9yd2FyZCgpLCExKTooZD1jLnBhZ2VVcmwsZT10aGlzLl9nZXRBY3RpdmVIaXN0b3J5KCksYS5leHRlbmQoYix7cm9sZTplLnJvbGUsdHJhbnNpdGlvbjp0aGlzLl90cmFuc2l0aW9uRnJvbUhpc3RvcnkoYy5kaXJlY3Rpb24sYi50cmFuc2l0aW9uKSxyZXZlcnNlOlwiYmFja1wiPT09Yy5kaXJlY3Rpb259KSxkKX0sX2hhbmRsZU5hdmlnYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5tb2JpbGUucGF0aC5zdHJpcEhhc2goYiksZT10aGlzLl9nZXRIaXN0b3J5KCksZj0wPT09ZS5zdGFjay5sZW5ndGg/XCJub25lXCI6dGhpcy5fdHJhbnNpdGlvbkZyb21IaXN0b3J5KGMuZGlyZWN0aW9uKSxnPXtjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwLHJldmVyc2U6XCJiYWNrXCI9PT1jLmRpcmVjdGlvbn07YS5leHRlbmQoZyxjLHt0cmFuc2l0aW9uOmZ9KSxlLmFjdGl2ZUluZGV4PjAmJmQuaW5kZXhPZihhLm1vYmlsZS5kaWFsb2dIYXNoS2V5KT4tMSYmKGQ9dGhpcy5faGFuZGxlRGlhbG9nKGcsYyksZD09PSExKXx8dGhpcy5fY2hhbmdlQ29udGVudCh0aGlzLl9oYW5kbGVEZXN0aW5hdGlvbihkKSxnKX0sX2NoYW5nZUNvbnRlbnQ6ZnVuY3Rpb24oYixjKXthLm1vYmlsZS5jaGFuZ2VQYWdlKGIsYyl9LF9nZXRCYXNlOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmJhc2V9LF9nZXROczpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5uc30sX2VuaGFuY2U6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5wYWdlKHtyb2xlOmJ9KX0sX2luY2x1ZGU6ZnVuY3Rpb24oYSxiKXthLmFwcGVuZFRvKHRoaXMuZWxlbWVudCksdGhpcy5fZW5oYW5jZShhLGIucm9sZSksYS5wYWdlKFwiYmluZFJlbW92ZVwiKX0sX2ZpbmQ6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLl9jcmVhdGVGaWxlVXJsKGIpLGU9dGhpcy5fY3JlYXRlRGF0YVVybChiKSxmPXRoaXMuX2dldEluaXRpYWxDb250ZW50KCk7cmV0dXJuIGM9dGhpcy5lbGVtZW50LmNoaWxkcmVuKFwiW2RhdGEtXCIrdGhpcy5fZ2V0TnMoKStcInVybD0nXCIrYS5tb2JpbGUucGF0aC5oYXNoVG9TZWxlY3RvcihlKStcIiddXCIpLDA9PT1jLmxlbmd0aCYmZSYmIWEubW9iaWxlLnBhdGguaXNQYXRoKGUpJiYoYz10aGlzLmVsZW1lbnQuY2hpbGRyZW4oYS5tb2JpbGUucGF0aC5oYXNoVG9TZWxlY3RvcihcIiNcIitlKSkuYXR0cihcImRhdGEtXCIrdGhpcy5fZ2V0TnMoKStcInVybFwiLGUpLmpxbURhdGEoXCJ1cmxcIixlKSksMD09PWMubGVuZ3RoJiZhLm1vYmlsZS5wYXRoLmlzRmlyc3RQYWdlVXJsKGQpJiZmJiZmLnBhcmVudCgpLmxlbmd0aCYmKGM9YShmKSksY30sX2dldExvYWRlcjpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5sb2FkaW5nKCl9LF9zaG93TG9hZGluZzpmdW5jdGlvbihiLGMsZCxlKXt0aGlzLl9sb2FkTXNnfHwodGhpcy5fbG9hZE1zZz1zZXRUaW1lb3V0KGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9nZXRMb2FkZXIoKS5sb2FkZXIoXCJzaG93XCIsYyxkLGUpLHRoaXMuX2xvYWRNc2c9MH0sdGhpcyksYikpfSxfaGlkZUxvYWRpbmc6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fbG9hZE1zZyksdGhpcy5fbG9hZE1zZz0wLHRoaXMuX2dldExvYWRlcigpLmxvYWRlcihcImhpZGVcIil9LF9zaG93RXJyb3I6ZnVuY3Rpb24oKXt0aGlzLl9oaWRlTG9hZGluZygpLHRoaXMuX3Nob3dMb2FkaW5nKDAsYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZSxhLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZSwhMCksc2V0VGltZW91dChhLnByb3h5KHRoaXMsXCJfaGlkZUxvYWRpbmdcIiksMTUwMCl9LF9wYXJzZTpmdW5jdGlvbihiLGMpe3ZhciBkLGU9YShcIjxkaXY+PC9kaXY+XCIpO3JldHVybiBlLmdldCgwKS5pbm5lckhUTUw9YixkPWUuZmluZChcIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJylcIikuZmlyc3QoKSxkLmxlbmd0aHx8KGQ9YShcIjxkaXYgZGF0YS1cIit0aGlzLl9nZXROcygpK1wicm9sZT0ncGFnZSc+XCIrKGIuc3BsaXQoLzxcXC8/Ym9keVtePl0qPi9naW0pWzFdfHxcIlwiKStcIjwvZGl2PlwiKSksZC5hdHRyKFwiZGF0YS1cIit0aGlzLl9nZXROcygpK1widXJsXCIsdGhpcy5fY3JlYXRlRGF0YVVybChjKSkuYXR0cihcImRhdGEtXCIrdGhpcy5fZ2V0TnMoKStcImV4dGVybmFsLXBhZ2VcIiwhMCksZH0sX3NldExvYWRlZFRpdGxlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0qKS8pJiZSZWdFeHAuJDE7ZCYmIWIuanFtRGF0YShcInRpdGxlXCIpJiYoZD1hKFwiPGRpdj5cIitkK1wiPC9kaXY+XCIpLnRleHQoKSxiLmpxbURhdGEoXCJ0aXRsZVwiLGQpKX0sX2lzUmV3cml0YWJsZUJhc2VUYWc6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZHluYW1pY0Jhc2VFbmFibGVkJiYhYS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnfSxfY3JlYXRlRGF0YVVybDpmdW5jdGlvbihiKXtyZXR1cm4gYS5tb2JpbGUucGF0aC5jb252ZXJ0VXJsVG9EYXRhVXJsKGIpfSxfY3JlYXRlRmlsZVVybDpmdW5jdGlvbihiKXtyZXR1cm4gYS5tb2JpbGUucGF0aC5nZXRGaWxlUGF0aChiKX0sX3RyaWdnZXJXaXRoRGVwcmVjYXRlZDpmdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5FdmVudChcInBhZ2VcIitiKSxmPWEuRXZlbnQodGhpcy53aWRnZXROYW1lK2IpO3JldHVybihkfHx0aGlzLmVsZW1lbnQpLnRyaWdnZXIoZSxjKSx0aGlzLl90cmlnZ2VyKGIsZixjKSx7ZGVwcmVjYXRlZEV2ZW50OmUsZXZlbnQ6Zn19LF9sb2FkU3VjY2VzczpmdW5jdGlvbihiLGMsZSxmKXt2YXIgZz10aGlzLl9jcmVhdGVGaWxlVXJsKGIpO3JldHVybiBhLnByb3h5KGZ1bmN0aW9uKGgsaSxqKXt2YXIgayxsPW5ldyBSZWdFeHAoXCIoPFtePl0rXFxcXGJkYXRhLVwiK3RoaXMuX2dldE5zKCkrXCJyb2xlPVtcXFwiJ10/cGFnZVtcXFwiJ10/W14+XSo+KVwiKSxtPW5ldyBSZWdFeHAoXCJcXFxcYmRhdGEtXCIrdGhpcy5fZ2V0TnMoKStcInVybD1bXFxcIiddPyhbXlxcXCInPl0qKVtcXFwiJ10/XCIpO2wudGVzdChoKSYmUmVnRXhwLiQxJiZtLnRlc3QoUmVnRXhwLiQxKSYmUmVnRXhwLiQxJiYoZz1hLm1vYmlsZS5wYXRoLmdldEZpbGVQYXRoKGEoXCI8ZGl2PlwiK1JlZ0V4cC4kMStcIjwvZGl2PlwiKS50ZXh0KCkpLGc9dGhpcy53aW5kb3dbMF0uZW5jb2RlVVJJQ29tcG9uZW50KGcpKSxlLnByZWZldGNoPT09ZCYmdGhpcy5fZ2V0QmFzZSgpLnNldChnKSxrPXRoaXMuX3BhcnNlKGgsZyksdGhpcy5fc2V0TG9hZGVkVGl0bGUoayxoKSxjLnhocj1qLGMudGV4dFN0YXR1cz1pLGMucGFnZT1rLGMuY29udGVudD1rLGMudG9QYWdlPWssdGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKFwibG9hZFwiLGMpLmV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwodGhpcy5faXNSZXdyaXRhYmxlQmFzZVRhZygpJiZrJiZ0aGlzLl9nZXRCYXNlKCkucmV3cml0ZShnLGspLHRoaXMuX2luY2x1ZGUoayxlKSxlLnNob3dMb2FkTXNnJiZ0aGlzLl9oaWRlTG9hZGluZygpLGYucmVzb2x2ZShiLGUsaykpfSx0aGlzKX0sX2xvYWREZWZhdWx0czp7dHlwZTpcImdldFwiLGRhdGE6ZCxyZWxvYWRQYWdlOiExLHJlbG9hZDohMSxyb2xlOmQsc2hvd0xvYWRNc2c6ITEsbG9hZE1zZ0RlbGF5OjUwfSxsb2FkOmZ1bmN0aW9uKGIsYyl7dmFyIGUsZixnLGgsaT1jJiZjLmRlZmVycmVkfHxhLkRlZmVycmVkKCksaj1jJiZjLnJlbG9hZD09PWQmJmMucmVsb2FkUGFnZSE9PWQ/e3JlbG9hZDpjLnJlbG9hZFBhZ2V9Ont9LGs9YS5leHRlbmQoe30sdGhpcy5fbG9hZERlZmF1bHRzLGMsaiksbD1udWxsLG09YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoYix0aGlzLl9maW5kQmFzZVdpdGhEZWZhdWx0KCkpO3JldHVybiBrLmRhdGEmJlwiZ2V0XCI9PT1rLnR5cGUmJihtPWEubW9iaWxlLnBhdGguYWRkU2VhcmNoUGFyYW1zKG0say5kYXRhKSxrLmRhdGE9ZCksay5kYXRhJiZcInBvc3RcIj09PWsudHlwZSYmKGsucmVsb2FkPSEwKSxlPXRoaXMuX2NyZWF0ZUZpbGVVcmwobSksZj10aGlzLl9jcmVhdGVEYXRhVXJsKG0pLGw9dGhpcy5fZmluZChtKSwwPT09bC5sZW5ndGgmJmEubW9iaWxlLnBhdGguaXNFbWJlZGRlZFBhZ2UoZSkmJiFhLm1vYmlsZS5wYXRoLmlzRmlyc3RQYWdlVXJsKGUpPyhpLnJlamVjdChtLGspLGkucHJvbWlzZSgpKToodGhpcy5fZ2V0QmFzZSgpLnJlc2V0KCksbC5sZW5ndGgmJiFrLnJlbG9hZD8odGhpcy5fZW5oYW5jZShsLGsucm9sZSksaS5yZXNvbHZlKG0sayxsKSxrLnByZWZldGNofHx0aGlzLl9nZXRCYXNlKCkuc2V0KGIpLGkucHJvbWlzZSgpKTooaD17dXJsOmIsYWJzVXJsOm0sdG9QYWdlOmIscHJldlBhZ2U6Yz9jLmZyb21QYWdlOmQsZGF0YVVybDpmLGRlZmVycmVkOmksb3B0aW9uczprfSxnPXRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChcImJlZm9yZWxvYWRcIixoKSxnLmRlcHJlY2F0ZWRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Zy5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKT9pLnByb21pc2UoKTooay5zaG93TG9hZE1zZyYmdGhpcy5fc2hvd0xvYWRpbmcoay5sb2FkTXNnRGVsYXkpLGsucHJlZmV0Y2g9PT1kJiZ0aGlzLl9nZXRCYXNlKCkucmVzZXQoKSxhLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXN8fGEubW9iaWxlLnBhdGguaXNTYW1lRG9tYWluKGEubW9iaWxlLnBhdGguZG9jdW1lbnRVcmwsbSk/KGEuYWpheCh7dXJsOmUsdHlwZTprLnR5cGUsZGF0YTprLmRhdGEsY29udGVudFR5cGU6ay5jb250ZW50VHlwZSxkYXRhVHlwZTpcImh0bWxcIixzdWNjZXNzOnRoaXMuX2xvYWRTdWNjZXNzKG0saCxrLGkpLGVycm9yOnRoaXMuX2xvYWRFcnJvcihtLGgsayxpKX0pLGkucHJvbWlzZSgpKTooaS5yZWplY3QobSxrKSxpLnByb21pc2UoKSkpKSl9LF9sb2FkRXJyb3I6ZnVuY3Rpb24oYixjLGQsZSl7cmV0dXJuIGEucHJveHkoZnVuY3Rpb24oZixnLGgpe3RoaXMuX2dldEJhc2UoKS5zZXQoYS5tb2JpbGUucGF0aC5nZXQoKSksYy54aHI9ZixjLnRleHRTdGF0dXM9ZyxjLmVycm9yVGhyb3duPWg7dmFyIGk9dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKFwibG9hZGZhaWxlZFwiLGMpO2kuZGVwcmVjYXRlZEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHxpLmV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZC5zaG93TG9hZE1zZyYmdGhpcy5fc2hvd0Vycm9yKCksZS5yZWplY3QoYixkKSl9LHRoaXMpfSxfZ2V0VHJhbnNpdGlvbkhhbmRsZXI6ZnVuY3Rpb24oYil7cmV0dXJuIGI9YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24oYiksYS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzW2JdfHxhLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXJ9LF90cmlnZ2VyQ3NzVHJhbnNpdGlvbkV2ZW50czpmdW5jdGlvbihiLGMsZCl7dmFyIGU9ITE7ZD1kfHxcIlwiLGMmJihiWzBdPT09Y1swXSYmKGU9ITApLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChkK1wiaGlkZVwiLHtuZXh0UGFnZTpiLHRvUGFnZTpiLHByZXZQYWdlOmMsc2FtZVBhZ2U6ZX0sYykpLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChkK1wic2hvd1wiLHtwcmV2UGFnZTpjfHxhKFwiXCIpLHRvUGFnZTpifSxiKX0sX2Nzc1RyYW5zaXRpb246ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZz1kLnRyYW5zaXRpb24saD1kLnJldmVyc2UsaT1kLmRlZmVycmVkO3RoaXMuX3RyaWdnZXJDc3NUcmFuc2l0aW9uRXZlbnRzKGIsYyxcImJlZm9yZVwiKSx0aGlzLl9oaWRlTG9hZGluZygpLGU9dGhpcy5fZ2V0VHJhbnNpdGlvbkhhbmRsZXIoZyksZj1uZXcgZShnLGgsYixjKS50cmFuc2l0aW9uKCksZi5kb25lKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLl90cmlnZ2VyQ3NzVHJhbnNpdGlvbkV2ZW50cyhiLGMpfSx0aGlzKSksZi5kb25lKGZ1bmN0aW9uKCl7aS5yZXNvbHZlLmFwcGx5KGksYXJndW1lbnRzKX0pfSxfcmVsZWFzZVRyYW5zaXRpb25Mb2NrOmZ1bmN0aW9uKCl7Zj0hMSxlLmxlbmd0aD4wJiZhLm1vYmlsZS5jaGFuZ2VQYWdlLmFwcGx5KG51bGwsZS5wb3AoKSl9LF9yZW1vdmVBY3RpdmVMaW5rQ2xhc3M6ZnVuY3Rpb24oYil7YS5tb2JpbGUucmVtb3ZlQWN0aXZlTGlua0NsYXNzKGIpfSxfbG9hZFVybDpmdW5jdGlvbihiLGMsZCl7ZC50YXJnZXQ9YixkLmRlZmVycmVkPWEuRGVmZXJyZWQoKSx0aGlzLmxvYWQoYixkKSxkLmRlZmVycmVkLmRvbmUoYS5wcm94eShmdW5jdGlvbihhLGIsZCl7Zj0hMSxiLmFic1VybD1jLmFic1VybCx0aGlzLnRyYW5zaXRpb24oZCxjLGIpfSx0aGlzKSksZC5kZWZlcnJlZC5mYWlsKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVBY3RpdmVMaW5rQ2xhc3MoITApLHRoaXMuX3JlbGVhc2VUcmFuc2l0aW9uTG9jaygpLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChcImNoYW5nZWZhaWxlZFwiLGMpfSx0aGlzKSl9LF90cmlnZ2VyUGFnZUJlZm9yZUNoYW5nZTpmdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuIGMucHJldlBhZ2U9dGhpcy5hY3RpdmVQYWdlLGEuZXh0ZW5kKGMse3RvUGFnZTpiLG9wdGlvbnM6ZH0pLGMuYWJzVXJsPVwic3RyaW5nXCI9PT1hLnR5cGUoYik/YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoYix0aGlzLl9maW5kQmFzZVdpdGhEZWZhdWx0KCkpOmQuYWJzVXJsLGU9dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKFwiYmVmb3JlY2hhbmdlXCIsYyksZS5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8ZS5kZXByZWNhdGVkRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCk/ITE6ITB9LGNoYW5nZTpmdW5jdGlvbihiLGMpe2lmKGYpcmV0dXJuIHZvaWQgZS51bnNoaWZ0KGFyZ3VtZW50cyk7dmFyIGQ9YS5leHRlbmQoe30sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cyxjKSxnPXt9O2QuZnJvbVBhZ2U9ZC5mcm9tUGFnZXx8dGhpcy5hY3RpdmVQYWdlLHRoaXMuX3RyaWdnZXJQYWdlQmVmb3JlQ2hhbmdlKGIsZyxkKSYmKGI9Zy50b1BhZ2UsXCJzdHJpbmdcIj09PWEudHlwZShiKT8oZj0hMCx0aGlzLl9sb2FkVXJsKGIsZyxkKSk6dGhpcy50cmFuc2l0aW9uKGIsZyxkKSl9LHRyYW5zaXRpb246ZnVuY3Rpb24oYixnLGgpe3ZhciBpLGosayxsLG0sbixvLHAscSxyLHMsdCx1LHY7aWYoZilyZXR1cm4gdm9pZCBlLnVuc2hpZnQoW2IsaF0pO2lmKHRoaXMuX3RyaWdnZXJQYWdlQmVmb3JlQ2hhbmdlKGIsZyxoKSYmKGcucHJldlBhZ2U9aC5mcm9tUGFnZSx2PXRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChcImJlZm9yZXRyYW5zaXRpb25cIixnKSwhdi5kZXByZWNhdGVkRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkmJiF2LmV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSl7aWYoZj0hMCxiWzBdIT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdfHxoLmRhdGFVcmx8fChoLmRhdGFVcmw9YS5tb2JpbGUucGF0aC5kb2N1bWVudFVybC5ocmVmTm9IYXNoKSxpPWguZnJvbVBhZ2Usaj1oLmRhdGFVcmwmJmEubW9iaWxlLnBhdGguY29udmVydFVybFRvRGF0YVVybChoLmRhdGFVcmwpfHxiLmpxbURhdGEoXCJ1cmxcIiksaz1qLGw9YS5tb2JpbGUucGF0aC5nZXRGaWxlUGF0aChqKSxtPWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCksbj0wPT09YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hY3RpdmVJbmRleCxvPTAscD1jLnRpdGxlLHE9KFwiZGlhbG9nXCI9PT1oLnJvbGV8fFwiZGlhbG9nXCI9PT1iLmpxbURhdGEoXCJyb2xlXCIpKSYmYi5qcW1EYXRhKFwiZGlhbG9nXCIpIT09ITAsaSYmaVswXT09PWJbMF0mJiFoLmFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uKXJldHVybiBmPSExLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChcInRyYW5zaXRpb25cIixnKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoXCJjaGFuZ2VcIixnKSx2b2lkKGguZnJvbUhhc2hDaGFuZ2UmJmEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZGlyZWN0KHt1cmw6an0pKTtiLnBhZ2Uoe3JvbGU6aC5yb2xlfSksaC5mcm9tSGFzaENoYW5nZSYmKG89XCJiYWNrXCI9PT1oLmRpcmVjdGlvbj8tMToxKTt0cnl7Yy5hY3RpdmVFbGVtZW50JiZcImJvZHlcIiE9PWMuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP2EoYy5hY3RpdmVFbGVtZW50KS5ibHVyKCk6YShcImlucHV0OmZvY3VzLCB0ZXh0YXJlYTpmb2N1cywgc2VsZWN0OmZvY3VzXCIpLmJsdXIoKX1jYXRjaCh3KXt9cj0hMSxxJiZtJiYobS51cmwmJm0udXJsLmluZGV4T2YoYS5tb2JpbGUuZGlhbG9nSGFzaEtleSk+LTEmJnRoaXMuYWN0aXZlUGFnZSYmIXRoaXMuYWN0aXZlUGFnZS5oYXNDbGFzcyhcInVpLWRpYWxvZ1wiKSYmYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hY3RpdmVJbmRleD4wJiYoaC5jaGFuZ2VIYXNoPSExLHI9ITApLGo9bS51cmx8fFwiXCIsais9IXImJmouaW5kZXhPZihcIiNcIik+LTE/YS5tb2JpbGUuZGlhbG9nSGFzaEtleTpcIiNcIithLm1vYmlsZS5kaWFsb2dIYXNoS2V5KSxzPW0/Yi5qcW1EYXRhKFwidGl0bGVcIil8fGIuY2hpbGRyZW4oXCI6anFtRGF0YShyb2xlPSdoZWFkZXInKVwiKS5maW5kKFwiLnVpLXRpdGxlXCIpLnRleHQoKTpwLHMmJnA9PT1jLnRpdGxlJiYocD1zKSxiLmpxbURhdGEoXCJ0aXRsZVwiKXx8Yi5qcW1EYXRhKFwidGl0bGVcIixwKSxoLnRyYW5zaXRpb249aC50cmFuc2l0aW9ufHwobyYmIW4/bS50cmFuc2l0aW9uOmQpfHwocT9hLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjphLm1vYmlsZS5kZWZhdWx0UGFnZVRyYW5zaXRpb24pLCFvJiZyJiYoYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5nZXRBY3RpdmUoKS5wYWdlVXJsPWspLGomJiFoLmZyb21IYXNoQ2hhbmdlJiYoIWEubW9iaWxlLnBhdGguaXNQYXRoKGopJiZqLmluZGV4T2YoXCIjXCIpPDAmJihqPVwiI1wiK2opLHQ9e3RyYW5zaXRpb246aC50cmFuc2l0aW9uLHRpdGxlOnAscGFnZVVybDprLHJvbGU6aC5yb2xlfSxoLmNoYW5nZUhhc2ghPT0hMSYmYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ/YS5tb2JpbGUubmF2aWdhdGUodGhpcy53aW5kb3dbMF0uZW5jb2RlVVJJKGopLHQsITApOmJbMF0hPT1hLm1vYmlsZS5maXJzdFBhZ2VbMF0mJmEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWRkKGosdCkpLGMudGl0bGU9cCxhLm1vYmlsZS5hY3RpdmVQYWdlPWIsdGhpcy5hY3RpdmVQYWdlPWIsaC5yZXZlcnNlPWgucmV2ZXJzZXx8MD5vLHU9YS5EZWZlcnJlZCgpLHRoaXMuX2Nzc1RyYW5zaXRpb24oYixpLHt0cmFuc2l0aW9uOmgudHJhbnNpdGlvbixyZXZlcnNlOmgucmV2ZXJzZSxkZWZlcnJlZDp1fSksdS5kb25lKGEucHJveHkoZnVuY3Rpb24oYyxkLGUsZixpKXthLm1vYmlsZS5yZW1vdmVBY3RpdmVMaW5rQ2xhc3MoKSxoLmR1cGxpY2F0ZUNhY2hlZFBhZ2UmJmguZHVwbGljYXRlQ2FjaGVkUGFnZS5yZW1vdmUoKSxpfHxhLm1vYmlsZS5mb2N1c1BhZ2UoYiksdGhpcy5fcmVsZWFzZVRyYW5zaXRpb25Mb2NrKCksdGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKFwidHJhbnNpdGlvblwiLGcpLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChcImNoYW5nZVwiLGcpfSx0aGlzKSl9fSxfZmluZEJhc2VXaXRoRGVmYXVsdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuYWN0aXZlUGFnZSYmYS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwodGhpcy5hY3RpdmVQYWdlKTtyZXR1cm4gYnx8YS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaH19KSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkPWEuRGVmZXJyZWQoKTt2YXIgZT1bXSxmPSExfShhKSxmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGUoYSl7Zm9yKDthJiYoXCJzdHJpbmdcIiE9dHlwZW9mIGEubm9kZU5hbWV8fFwiYVwiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTspYT1hLnBhcmVudE5vZGU7cmV0dXJuIGF9dmFyIGY9YS5EZWZlcnJlZCgpLGc9YS5EZWZlcnJlZCgpLGg9ZnVuY3Rpb24oKXtnLnJlc29sdmUoKSxnPW51bGx9LGk9YS5tb2JpbGUucGF0aC5kb2N1bWVudFVybCxqPW51bGw7YS5tb2JpbGUubG9hZFBhZ2U9ZnVuY3Rpb24oYixjKXt2YXIgZDtyZXR1cm4gYz1jfHx7fSxkPWMucGFnZUNvbnRhaW5lcnx8YS5tb2JpbGUucGFnZUNvbnRhaW5lcixjLmRlZmVycmVkPWEuRGVmZXJyZWQoKSxkLnBhZ2Vjb250YWluZXIoXCJsb2FkXCIsYixjKSxjLmRlZmVycmVkLnByb21pc2UoKX0sYS5tb2JpbGUuYmFjaz1mdW5jdGlvbigpe3ZhciBjPWIubmF2aWdhdG9yO3RoaXMucGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZCYmYyYmYy5hcHAmJmMuYXBwLmJhY2tIaXN0b3J5P2MuYXBwLmJhY2tIaXN0b3J5KCk6YS5tb2JpbGUucGFnZUNvbnRhaW5lci5wYWdlY29udGFpbmVyKFwiYmFja1wiKX0sYS5tb2JpbGUuZm9jdXNQYWdlPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZmluZChcIlthdXRvZm9jdXNdXCIpLGM9YS5maW5kKFwiLnVpLXRpdGxlOmVxKDApXCIpO3JldHVybiBiLmxlbmd0aD92b2lkIGIuZm9jdXMoKTp2b2lkKGMubGVuZ3RoP2MuZm9jdXMoKTphLmZvY3VzKCkpfSxhLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbj1hLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbnx8ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LGEubW9iaWxlLmNoYW5nZVBhZ2U9ZnVuY3Rpb24oYixjKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLnBhZ2Vjb250YWluZXIoXCJjaGFuZ2VcIixiLGMpfSxhLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzPXt0cmFuc2l0aW9uOmQscmV2ZXJzZTohMSxjaGFuZ2VIYXNoOiEwLGZyb21IYXNoQ2hhbmdlOiExLHJvbGU6ZCxkdXBsaWNhdGVDYWNoZWRQYWdlOmQscGFnZUNvbnRhaW5lcjpkLHNob3dMb2FkTXNnOiEwLGRhdGFVcmw6ZCxmcm9tUGFnZTpkLGFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uOiExfSxhLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cz1mdW5jdGlvbigpe3ZhciBjPWZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmLGcsaD0hMDtyZXR1cm4hYS5tb2JpbGUuYWpheEVuYWJsZWR8fGIuaXMoXCI6anFtRGF0YShhamF4PSdmYWxzZScpXCIpfHwhYi5qcW1IaWphY2thYmxlKCkubGVuZ3RofHxiLmF0dHIoXCJ0YXJnZXRcIik/ITE6KGQ9aiYmai5hdHRyKFwiZm9ybWFjdGlvblwiKXx8Yi5hdHRyKFwiYWN0aW9uXCIpLGc9KGIuYXR0cihcIm1ldGhvZFwiKXx8XCJnZXRcIikudG9Mb3dlckNhc2UoKSxkfHwoZD1hLm1vYmlsZS5nZXRDbG9zZXN0QmFzZVVybChiKSxcImdldFwiPT09ZyYmKGQ9YS5tb2JpbGUucGF0aC5wYXJzZVVybChkKS5ocmVmTm9TZWFyY2gpLGQ9PT1hLm1vYmlsZS5wYXRoLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoJiYoZD1pLmhyZWZOb1NlYXJjaCkpLGQ9YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoZCxhLm1vYmlsZS5nZXRDbG9zZXN0QmFzZVVybChiKSksYS5tb2JpbGUucGF0aC5pc0V4dGVybmFsKGQpJiYhYS5tb2JpbGUucGF0aC5pc1Blcm1pdHRlZENyb3NzRG9tYWluUmVxdWVzdChpLGQpPyExOihjfHwoZT1iLnNlcmlhbGl6ZUFycmF5KCksaiYmalswXS5mb3JtPT09YlswXSYmKGY9ai5hdHRyKFwibmFtZVwiKSxmJiYoYS5lYWNoKGUsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5uYW1lPT09Zj8oZj1cIlwiLCExKTp2b2lkIDB9KSxmJiZlLnB1c2goe25hbWU6Zix2YWx1ZTpqLmF0dHIoXCJ2YWx1ZVwiKX0pKSksaD17dXJsOmQsb3B0aW9uczp7dHlwZTpnLGRhdGE6YS5wYXJhbShlKSx0cmFuc2l0aW9uOmIuanFtRGF0YShcInRyYW5zaXRpb25cIikscmV2ZXJzZTpcInJldmVyc2VcIj09PWIuanFtRGF0YShcImRpcmVjdGlvblwiKSxyZWxvYWRQYWdlOiEwfX0pLGgpKX07YS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoXCJmb3JtXCIsXCJzdWJtaXRcIixmdW5jdGlvbihiKXt2YXIgZDtiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZD1jKGEodGhpcykpLGQmJihhLm1vYmlsZS5jaGFuZ2VQYWdlKGQudXJsLGQub3B0aW9ucyksYi5wcmV2ZW50RGVmYXVsdCgpKSl9KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKFwidmNsaWNrXCIsZnVuY3Rpb24oYil7dmFyIGQsZixnPWIudGFyZ2V0LGg9ITE7aWYoIShiLndoaWNoPjEpJiZhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQpe2lmKGo9YShnKSxhLmRhdGEoZyxcIm1vYmlsZS1idXR0b25cIikpe2lmKCFjKGEoZykuY2xvc2VzdChcImZvcm1cIiksITApKXJldHVybjtnLnBhcmVudE5vZGUmJihnPWcucGFyZW50Tm9kZSl9ZWxzZXtpZihnPWUoZyksIWd8fFwiI1wiPT09YS5tb2JpbGUucGF0aC5wYXJzZVVybChnLmdldEF0dHJpYnV0ZShcImhyZWZcIil8fFwiI1wiKS5oYXNoKXJldHVybjtpZighYShnKS5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXJldHVybn1+Zy5jbGFzc05hbWUuaW5kZXhPZihcInVpLWxpbmstaW5oZXJpdFwiKT9nLnBhcmVudE5vZGUmJihmPWEuZGF0YShnLnBhcmVudE5vZGUsXCJidXR0b25FbGVtZW50c1wiKSk6Zj1hLmRhdGEoZyxcImJ1dHRvbkVsZW1lbnRzXCIpLGY/Zz1mLm91dGVyOmg9ITAsZD1hKGcpLGgmJihkPWQuY2xvc2VzdChcIi51aS1idG5cIikpLGQubGVuZ3RoPjAmJiFkLmhhc0NsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIikmJihhLm1vYmlsZS5yZW1vdmVBY3RpdmVMaW5rQ2xhc3MoITApLGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rPWQsYS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmsuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKX19KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKFwiY2xpY2tcIixmdW5jdGlvbihjKXtpZihhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQmJiFjLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgZixnLGgsaixrLGwsbSxuPWUoYy50YXJnZXQpLG89YShuKSxwPWZ1bmN0aW9uKCl7Yi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUucmVtb3ZlQWN0aXZlTGlua0NsYXNzKCEwKX0sMjAwKX07aWYoYS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmsmJmEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rWzBdPT09Yy50YXJnZXQucGFyZW50Tm9kZSYmcCgpLG4mJiEoYy53aGljaD4xKSYmby5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXtpZihvLmlzKFwiOmpxbURhdGEocmVsPSdiYWNrJylcIikpcmV0dXJuIGEubW9iaWxlLmJhY2soKSwhMTtpZihmPWEubW9iaWxlLmdldENsb3Nlc3RCYXNlVXJsKG8pLGc9YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoby5hdHRyKFwiaHJlZlwiKXx8XCIjXCIsZiksIWEubW9iaWxlLmFqYXhFbmFibGVkJiYhYS5tb2JpbGUucGF0aC5pc0VtYmVkZGVkUGFnZShnKSlyZXR1cm4gdm9pZCBwKCk7aWYoISgtMT09PWcuc2VhcmNoKFwiI1wiKXx8YS5tb2JpbGUucGF0aC5pc0V4dGVybmFsKGcpJiZhLm1vYmlsZS5wYXRoLmlzQWJzb2x1dGVVcmwoZykpKXtpZihnPWcucmVwbGFjZSgvW14jXSojLyxcIlwiKSwhZylyZXR1cm4gdm9pZCBjLnByZXZlbnREZWZhdWx0KCk7Zz1hLm1vYmlsZS5wYXRoLmlzUGF0aChnKT9hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShnLGYpOmEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKFwiI1wiK2csaS5ocmVmTm9IYXNoKX1pZihoPW8uaXMoXCJbcmVsPSdleHRlcm5hbCddXCIpfHxvLmlzKFwiOmpxbURhdGEoYWpheD0nZmFsc2UnKVwiKXx8by5pcyhcIlt0YXJnZXRdXCIpLGo9aHx8YS5tb2JpbGUucGF0aC5pc0V4dGVybmFsKGcpJiYhYS5tb2JpbGUucGF0aC5pc1Blcm1pdHRlZENyb3NzRG9tYWluUmVxdWVzdChpLGcpKXJldHVybiB2b2lkIHAoKTtrPW8uanFtRGF0YShcInRyYW5zaXRpb25cIiksbD1cInJldmVyc2VcIj09PW8uanFtRGF0YShcImRpcmVjdGlvblwiKXx8by5qcW1EYXRhKFwiYmFja1wiKSxtPW8uYXR0cihcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJyZWxcIil8fGQsYS5tb2JpbGUuY2hhbmdlUGFnZShnLHt0cmFuc2l0aW9uOmsscmV2ZXJzZTpsLHJvbGU6bSxsaW5rOm99KSxjLnByZXZlbnREZWZhdWx0KCl9fX0pLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKFwiLnVpLXBhZ2VcIixcInBhZ2VzaG93LnByZWZldGNoXCIsZnVuY3Rpb24oKXt2YXIgYj1bXTthKHRoaXMpLmZpbmQoXCJhOmpxbURhdGEocHJlZmV0Y2gpXCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5hdHRyKFwiaHJlZlwiKTtkJiYtMT09PWEuaW5BcnJheShkLGIpJiYoYi5wdXNoKGQpLGEubW9iaWxlLmxvYWRQYWdlKGQse3JvbGU6Yy5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInJlbFwiKSxwcmVmZXRjaDohMH0pKX0pfSksYS5tb2JpbGUucGFnZUNvbnRhaW5lci5wYWdlY29udGFpbmVyKCksYS5tb2JpbGUuZG9jdW1lbnQuYmluZChcInBhZ2VzaG93XCIsZnVuY3Rpb24oKXtnP2cuZG9uZShhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQpOmEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCgpXG59KSxhLm1vYmlsZS53aW5kb3cuYmluZChcInRocm90dGxlZHJlc2l6ZVwiLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCl9LGEoZnVuY3Rpb24oKXtmLnJlc29sdmUoKX0pLFwiY29tcGxldGVcIj09PWMucmVhZHlTdGF0ZT9oKCk6YS5tb2JpbGUud2luZG93LmxvYWQoaCksYS53aGVuKGYsYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZCkuZG9uZShmdW5jdGlvbigpe2EubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzKCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLm1vYmlsZS5UcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5leHRlbmQoYS5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUse3RvUHJlQ2xhc3M6XCIgdWktcGFnZS1wcmUtaW5cIixpbml0OmZ1bmN0aW9uKGIsYyxkLGUpe2EuZXh0ZW5kKHRoaXMse25hbWU6YixyZXZlcnNlOmMsJHRvOmQsJGZyb206ZSxkZWZlcnJlZDpuZXcgYS5EZWZlcnJlZH0pfSxjbGVhbkZyb206ZnVuY3Rpb24oKXt0aGlzLiRmcm9tLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcytcIiBvdXQgaW4gcmV2ZXJzZSBcIit0aGlzLm5hbWUpLmhlaWdodChcIlwiKX0sYmVmb3JlRG9uZUluOmZ1bmN0aW9uKCl7fSxiZWZvcmVEb25lT3V0OmZ1bmN0aW9uKCl7fSxiZWZvcmVTdGFydE91dDpmdW5jdGlvbigpe30sZG9uZUluOmZ1bmN0aW9uKCl7dGhpcy5iZWZvcmVEb25lSW4oKSx0aGlzLiR0by5yZW1vdmVDbGFzcyhcIm91dCBpbiByZXZlcnNlIFwiK3RoaXMubmFtZSkuaGVpZ2h0KFwiXCIpLHRoaXMudG9nZ2xlVmlld3BvcnRDbGFzcygpLGEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSE9PXRoaXMudG9TY3JvbGwmJnRoaXMuc2Nyb2xsUGFnZSgpLHRoaXMuc2VxdWVudGlhbHx8dGhpcy4kdG8uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKSx0aGlzLmRlZmVycmVkLnJlc29sdmUodGhpcy5uYW1lLHRoaXMucmV2ZXJzZSx0aGlzLiR0byx0aGlzLiRmcm9tLCEwKX0sZG9uZU91dDpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLmJlZm9yZURvbmVPdXQoKSx0aGlzLnN0YXJ0SW4oYSxiLGMsZCl9LGhpZGVJbjpmdW5jdGlvbihhKXt0aGlzLiR0by5jc3MoXCJ6LWluZGV4XCIsLTEwKSxhLmNhbGwodGhpcyksdGhpcy4kdG8uY3NzKFwiei1pbmRleFwiLFwiXCIpfSxzY3JvbGxQYWdlOmZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITEsKGEubW9iaWxlLmhpZGVVcmxCYXJ8fHRoaXMudG9TY3JvbGwhPT1hLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCkmJmIuc2Nyb2xsVG8oMCx0aGlzLnRvU2Nyb2xsKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITB9LDE1MCl9LHN0YXJ0SW46ZnVuY3Rpb24oYixjLGQsZSl7dGhpcy5oaWRlSW4oZnVuY3Rpb24oKXt0aGlzLiR0by5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrdGhpcy50b1ByZUNsYXNzKSxlfHxhLm1vYmlsZS5mb2N1c1BhZ2UodGhpcy4kdG8pLHRoaXMuJHRvLmhlaWdodChiK3RoaXMudG9TY3JvbGwpLGR8fHRoaXMuc2Nyb2xsUGFnZSgpfSksdGhpcy4kdG8ucmVtb3ZlQ2xhc3ModGhpcy50b1ByZUNsYXNzKS5hZGRDbGFzcyh0aGlzLm5hbWUrXCIgaW4gXCIrYyksZD90aGlzLmRvbmVJbigpOnRoaXMuJHRvLmFuaW1hdGlvbkNvbXBsZXRlKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmRvbmVJbigpfSx0aGlzKSl9LHN0YXJ0T3V0OmZ1bmN0aW9uKGIsYyxkKXt0aGlzLmJlZm9yZVN0YXJ0T3V0KGIsYyxkKSx0aGlzLiRmcm9tLmhlaWdodChiK2EubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSkuYWRkQ2xhc3ModGhpcy5uYW1lK1wiIG91dFwiK2MpfSx0b2dnbGVWaWV3cG9ydENsYXNzOmZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci50b2dnbGVDbGFzcyhcInVpLW1vYmlsZS12aWV3cG9ydC10cmFuc2l0aW9uaW5nIHZpZXdwb3J0LVwiK3RoaXMubmFtZSl9LHRyYW5zaXRpb246ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMucmV2ZXJzZT9cIiByZXZlcnNlXCI6XCJcIixkPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpLGU9YS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoIT09ITEmJmEubW9iaWxlLndpbmRvdy53aWR0aCgpPmEubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aDtyZXR1cm4gdGhpcy50b1Njcm9sbD1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmdldEFjdGl2ZSgpLmxhc3RTY3JvbGx8fGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsLGI9IWEuc3VwcG9ydC5jc3NUcmFuc2l0aW9uc3x8IWEuc3VwcG9ydC5jc3NBbmltYXRpb25zfHxlfHwhdGhpcy5uYW1lfHxcIm5vbmVcIj09PXRoaXMubmFtZXx8TWF0aC5tYXgoYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLHRoaXMudG9TY3JvbGwpPmEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb24oKSx0aGlzLnRvZ2dsZVZpZXdwb3J0Q2xhc3MoKSx0aGlzLiRmcm9tJiYhYj90aGlzLnN0YXJ0T3V0KGQsYyxiKTp0aGlzLmRvbmVPdXQoZCxjLGIsITApLHRoaXMuZGVmZXJyZWQucHJvbWlzZSgpfX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLlNlcmlhbFRyYW5zaXRpb249ZnVuY3Rpb24oKXt0aGlzLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxhLmV4dGVuZChhLm1vYmlsZS5TZXJpYWxUcmFuc2l0aW9uLnByb3RvdHlwZSxhLm1vYmlsZS5UcmFuc2l0aW9uLnByb3RvdHlwZSx7c2VxdWVudGlhbDohMCxiZWZvcmVEb25lT3V0OmZ1bmN0aW9uKCl7dGhpcy4kZnJvbSYmdGhpcy5jbGVhbkZyb20oKX0sYmVmb3JlU3RhcnRPdXQ6ZnVuY3Rpb24oYixjLGQpe3RoaXMuJGZyb20uYW5pbWF0aW9uQ29tcGxldGUoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuZG9uZU91dChiLGMsZCl9LHRoaXMpKX19KX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUuQ29uY3VycmVudFRyYW5zaXRpb249ZnVuY3Rpb24oKXt0aGlzLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxhLmV4dGVuZChhLm1vYmlsZS5Db25jdXJyZW50VHJhbnNpdGlvbi5wcm90b3R5cGUsYS5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUse3NlcXVlbnRpYWw6ITEsYmVmb3JlRG9uZUluOmZ1bmN0aW9uKCl7dGhpcy4kZnJvbSYmdGhpcy5jbGVhbkZyb20oKX0sYmVmb3JlU3RhcnRPdXQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZG9uZU91dChhLGIsYyl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKCl7cmV0dXJuIDMqYS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCl9O2EubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycz17c2VxdWVudGlhbDphLm1vYmlsZS5TZXJpYWxUcmFuc2l0aW9uLHNpbXVsdGFuZW91czphLm1vYmlsZS5Db25jdXJyZW50VHJhbnNpdGlvbn0sYS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyPWEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zZXF1ZW50aWFsLGEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3M9e30sYS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb249ZnVuY3Rpb24oYil7cmV0dXJuIGImJiFhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbYl0mJihiPWEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbYl0pLGJ9LGEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb249YS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbnx8Yn0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5mbGlwPVwiZmFkZVwifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxvdz1cImZhZGVcIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnBvcD1cImZhZGVcIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2xpZGU9YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNpbXVsdGFuZW91cyxhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlPVwiZmFkZVwifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVkb3duPVwiZmFkZVwifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVmYWRlPVwiZmFkZVwifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGV1cD1cImZhZGVcIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnR1cm49XCJmYWRlXCJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUuZGVncmFkZUlucHV0cz17Y29sb3I6ITEsZGF0ZTohMSxkYXRldGltZTohMSxcImRhdGV0aW1lLWxvY2FsXCI6ITEsZW1haWw6ITEsbW9udGg6ITEsbnVtYmVyOiExLHJhbmdlOlwibnVtYmVyXCIsc2VhcmNoOlwidGV4dFwiLHRlbDohMSx0aW1lOiExLHVybDohMSx3ZWVrOiExfSxhLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmRlZ3JhZGVJbnB1dHM9YS5tb2JpbGUuZGVncmFkZUlucHV0cyxhLm1vYmlsZS5kZWdyYWRlSW5wdXRzV2l0aGluPWZ1bmN0aW9uKGIpe2I9YShiKSxiLmZpbmQoXCJpbnB1dFwiKS5ub3QoYS5tb2JpbGUucGFnZS5wcm90b3R5cGUua2VlcE5hdGl2ZVNlbGVjdG9yKCkpLmVhY2goZnVuY3Rpb24oKXt2YXIgYixjLGQsZSxmPWEodGhpcyksZz10aGlzLmdldEF0dHJpYnV0ZShcInR5cGVcIiksaD1hLm1vYmlsZS5kZWdyYWRlSW5wdXRzW2ddfHxcInRleHRcIjthLm1vYmlsZS5kZWdyYWRlSW5wdXRzW2ddJiYoYj1hKFwiPGRpdj5cIikuaHRtbChmLmNsb25lKCkpLmh0bWwoKSxjPWIuaW5kZXhPZihcIiB0eXBlPVwiKT4tMSxkPWM/L1xccyt0eXBlPVtcIiddP1xcdytbJ1wiXT8vOi9cXC8/Pi8sZT0nIHR5cGU9XCInK2grJ1wiIGRhdGEtJythLm1vYmlsZS5ucysndHlwZT1cIicrZysnXCInKyhjP1wiXCI6XCI+XCIpLGYucmVwbGFjZVdpdGgoYi5yZXBsYWNlKGQsZSkpKX0pfX0oYSksZnVuY3Rpb24oYSxiLGMpe2Eud2lkZ2V0KFwibW9iaWxlLnBhZ2VcIixhLm1vYmlsZS5wYWdlLHtvcHRpb25zOntjbG9zZUJ0bjpcImxlZnRcIixjbG9zZUJ0blRleHQ6XCJDbG9zZVwiLG92ZXJsYXlUaGVtZTpcImFcIixjb3JuZXJzOiEwLGRpYWxvZzohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5vcHRpb25zLmRpYWxvZyYmKGEuZXh0ZW5kKHRoaXMse19pbm5lcjp0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKSxfaGVhZGVyQ2xvc2VCdXR0b246bnVsbH0pLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fc2V0Q2xvc2VCdG4odGhpcy5vcHRpb25zLmNsb3NlQnRuKSl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuZGlhbG9nJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJ1aS1kaWFsb2dcIikud3JhcElubmVyKGEoXCI8ZGl2Lz5cIix7cm9sZTpcImRpYWxvZ1wiLFwiY2xhc3NcIjpcInVpLWRpYWxvZy1jb250YWluIHVpLW92ZXJsYXktc2hhZG93XCIrKHRoaXMub3B0aW9ucy5jb3JuZXJzP1wiIHVpLWNvcm5lci1hbGxcIjpcIlwiKX0pKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGQsZSxmPXRoaXMub3B0aW9ucztiLmNvcm5lcnMhPT1jJiZ0aGlzLl9pbm5lci50b2dnbGVDbGFzcyhcInVpLWNvcm5lci1hbGxcIiwhIWIuY29ybmVycyksYi5vdmVybGF5VGhlbWUhPT1jJiZhLm1vYmlsZS5hY3RpdmVQYWdlWzBdPT09dGhpcy5lbGVtZW50WzBdJiYoZi5vdmVybGF5VGhlbWU9Yi5vdmVybGF5VGhlbWUsdGhpcy5faGFuZGxlUGFnZUJlZm9yZVNob3coKSksYi5jbG9zZUJ0blRleHQhPT1jJiYoZD1mLmNsb3NlQnRuLGU9Yi5jbG9zZUJ0blRleHQpLGIuY2xvc2VCdG4hPT1jJiYoZD1iLmNsb3NlQnRuKSxkJiZ0aGlzLl9zZXRDbG9zZUJ0bihkLGUpLHRoaXMuX3N1cGVyKGIpfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZ0aGlzLm9wdGlvbnMuZGlhbG9nPyh0aGlzLnJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQoKSx0aGlzLnNldENvbnRhaW5lckJhY2tncm91bmQodGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSkpOnRoaXMuX3N1cGVyKCl9LF9zZXRDbG9zZUJ0bjpmdW5jdGlvbihiLGMpe3ZhciBkLGU9dGhpcy5faGVhZGVyQ2xvc2VCdXR0b247Yj1cImxlZnRcIj09PWI/XCJsZWZ0XCI6XCJyaWdodFwiPT09Yj9cInJpZ2h0XCI6XCJub25lXCIsXCJub25lXCI9PT1iP2UmJihlLnJlbW92ZSgpLGU9bnVsbCk6ZT8oZS5yZW1vdmVDbGFzcyhcInVpLWJ0bi1sZWZ0IHVpLWJ0bi1yaWdodFwiKS5hZGRDbGFzcyhcInVpLWJ0bi1cIitiKSxjJiZlLnRleHQoYykpOihkPXRoaXMuX2lubmVyLmZpbmQoXCI6anFtRGF0YShyb2xlPSdoZWFkZXInKVwiKS5maXJzdCgpLGU9YShcIjxhPjwvYT5cIix7aHJlZjpcIiNcIixcImNsYXNzXCI6XCJ1aS1idG4gdWktY29ybmVyLWFsbCB1aS1pY29uLWRlbGV0ZSB1aS1idG4taWNvbi1ub3RleHQgdWktYnRuLVwiK2J9KS5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInJlbFwiLFwiYmFja1wiKS50ZXh0KGN8fHRoaXMub3B0aW9ucy5jbG9zZUJ0blRleHR8fFwiXCIpLnByZXBlbmRUbyhkKSksdGhpcy5faGVhZGVyQ2xvc2VCdXR0b249ZX19KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIsYyl7YS53aWRnZXQoXCJtb2JpbGUuZGlhbG9nXCIse29wdGlvbnM6e2Nsb3NlQnRuOlwibGVmdFwiLGNsb3NlQnRuVGV4dDpcIkNsb3NlXCIsb3ZlcmxheVRoZW1lOlwiYVwiLGNvcm5lcnM6ITB9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3RoaXMuX2lzQ2xvc2VhYmxlPSEwLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUmJnRoaXMuZWxlbWVudC5wYWdlKFwicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZFwiKS5wYWdlKFwic2V0Q29udGFpbmVyQmFja2dyb3VuZFwiLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpfSxfaGFuZGxlUGFnZUJlZm9yZUhpZGU6ZnVuY3Rpb24oKXt0aGlzLl9pc0Nsb3NlYWJsZT0hMX0sX2hhbmRsZVZDbGlja1N1Ym1pdDpmdW5jdGlvbihiKXt2YXIgYyxkPWEoYi50YXJnZXQpLmNsb3Nlc3QoXCJ2Y2xpY2tcIj09PWIudHlwZT9cImFcIjpcImZvcm1cIik7ZC5sZW5ndGgmJiFkLmpxbURhdGEoXCJ0cmFuc2l0aW9uXCIpJiYoYz17fSxjW1wiZGF0YS1cIithLm1vYmlsZS5ucytcInRyYW5zaXRpb25cIl09KGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCl8fHt9KS50cmFuc2l0aW9ufHxhLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbixjW1wiZGF0YS1cIithLm1vYmlsZS5ucytcImRpcmVjdGlvblwiXT1cInJldmVyc2VcIixkLmF0dHIoYykpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zO2IuYWRkQ2xhc3MoXCJ1aS1kaWFsb2dcIikud3JhcElubmVyKGEoXCI8ZGl2Lz5cIix7cm9sZTpcImRpYWxvZ1wiLFwiY2xhc3NcIjpcInVpLWRpYWxvZy1jb250YWluIHVpLW92ZXJsYXktc2hhZG93XCIrKGMuY29ybmVycz9cIiB1aS1jb3JuZXItYWxsXCI6XCJcIil9KSksYS5leHRlbmQodGhpcyx7X2lzQ2xvc2VhYmxlOiExLF9pbm5lcjpiLmNoaWxkcmVuKCksX2hlYWRlckNsb3NlQnV0dG9uOm51bGx9KSx0aGlzLl9vbihiLHt2Y2xpY2s6XCJfaGFuZGxlVkNsaWNrU3VibWl0XCIsc3VibWl0OlwiX2hhbmRsZVZDbGlja1N1Ym1pdFwiLHBhZ2ViZWZvcmVzaG93OlwiX2hhbmRsZVBhZ2VCZWZvcmVTaG93XCIscGFnZWJlZm9yZWhpZGU6XCJfaGFuZGxlUGFnZUJlZm9yZUhpZGVcIn0pLHRoaXMuX3NldENsb3NlQnRuKGMuY2xvc2VCdG4pfSxfc2V0T3B0aW9uczpmdW5jdGlvbihiKXt2YXIgZCxlLGY9dGhpcy5vcHRpb25zO2IuY29ybmVycyE9PWMmJnRoaXMuX2lubmVyLnRvZ2dsZUNsYXNzKFwidWktY29ybmVyLWFsbFwiLCEhYi5jb3JuZXJzKSxiLm92ZXJsYXlUaGVtZSE9PWMmJmEubW9iaWxlLmFjdGl2ZVBhZ2VbMF09PT10aGlzLmVsZW1lbnRbMF0mJihmLm92ZXJsYXlUaGVtZT1iLm92ZXJsYXlUaGVtZSx0aGlzLl9oYW5kbGVQYWdlQmVmb3JlU2hvdygpKSxiLmNsb3NlQnRuVGV4dCE9PWMmJihkPWYuY2xvc2VCdG4sZT1iLmNsb3NlQnRuVGV4dCksYi5jbG9zZUJ0biE9PWMmJihkPWIuY2xvc2VCdG4pLGQmJnRoaXMuX3NldENsb3NlQnRuKGQsZSksdGhpcy5fc3VwZXIoYil9LF9zZXRDbG9zZUJ0bjpmdW5jdGlvbihiLGMpe3ZhciBkLGU9dGhpcy5faGVhZGVyQ2xvc2VCdXR0b247Yj1cImxlZnRcIj09PWI/XCJsZWZ0XCI6XCJyaWdodFwiPT09Yj9cInJpZ2h0XCI6XCJub25lXCIsXCJub25lXCI9PT1iP2UmJihlLnJlbW92ZSgpLGU9bnVsbCk6ZT8oZS5yZW1vdmVDbGFzcyhcInVpLWJ0bi1sZWZ0IHVpLWJ0bi1yaWdodFwiKS5hZGRDbGFzcyhcInVpLWJ0bi1cIitiKSxjJiZlLnRleHQoYykpOihkPXRoaXMuX2lubmVyLmZpbmQoXCI6anFtRGF0YShyb2xlPSdoZWFkZXInKVwiKS5maXJzdCgpLGU9YShcIjxhPjwvYT5cIix7cm9sZTpcImJ1dHRvblwiLGhyZWY6XCIjXCIsXCJjbGFzc1wiOlwidWktYnRuIHVpLWNvcm5lci1hbGwgdWktaWNvbi1kZWxldGUgdWktYnRuLWljb24tbm90ZXh0IHVpLWJ0bi1cIitifSkudGV4dChjfHx0aGlzLm9wdGlvbnMuY2xvc2VCdG5UZXh0fHxcIlwiKS5wcmVwZW5kVG8oZCksdGhpcy5fb24oZSx7Y2xpY2s6XCJjbG9zZVwifSkpLHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uPWV9LGNsb3NlOmZ1bmN0aW9uKCl7dmFyIGI9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeTt0aGlzLl9pc0Nsb3NlYWJsZSYmKHRoaXMuX2lzQ2xvc2VhYmxlPSExLGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZiLmFjdGl2ZUluZGV4PjA/YS5tb2JpbGUuYmFjaygpOmEubW9iaWxlLnBhZ2VDb250YWluZXIucGFnZWNvbnRhaW5lcihcImJhY2tcIikpfX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7dmFyIGM9LyhbQS1aXSkvZyxkPWZ1bmN0aW9uKGEpe3JldHVyblwidWktYnRuLWljb24tXCIrKG51bGw9PT1hP1wibGVmdFwiOmEpfTthLndpZGdldChcIm1vYmlsZS5jb2xsYXBzaWJsZVwiLHtvcHRpb25zOntlbmhhbmNlZDohMSxleHBhbmRDdWVUZXh0Om51bGwsY29sbGFwc2VDdWVUZXh0Om51bGwsY29sbGFwc2VkOiEwLGhlYWRpbmc6XCJoMSxoMixoMyxoNCxoNSxoNixsZWdlbmRcIixjb2xsYXBzZWRJY29uOm51bGwsZXhwYW5kZWRJY29uOm51bGwsaWNvbnBvczpudWxsLHRoZW1lOm51bGwsY29udGVudFRoZW1lOm51bGwsaW5zZXQ6bnVsbCxjb3JuZXJzOm51bGwsbWluaTpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9e2FjY29yZGlvbjpiLmNsb3Nlc3QoXCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSw6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZXNldCcpXCIrKGEubW9iaWxlLmNvbGxhcHNpYmxlc2V0P1wiLCA6bW9iaWxlLWNvbGxhcHNpYmxlc2V0XCI6XCJcIikpLmFkZENsYXNzKFwidWktY29sbGFwc2libGUtc2V0XCIpfTt0aGlzLl91aT1jLHRoaXMuX3JlbmRlcmVkT3B0aW9ucz10aGlzLl9nZXRPcHRpb25zKHRoaXMub3B0aW9ucyksdGhpcy5vcHRpb25zLmVuaGFuY2VkPyhjLmhlYWRpbmc9dGhpcy5lbGVtZW50LmNoaWxkcmVuKFwiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmdcIiksYy5jb250ZW50PWMuaGVhZGluZy5uZXh0KCksYy5hbmNob3I9Yy5oZWFkaW5nLmNoaWxkcmVuKCksYy5zdGF0dXM9Yy5hbmNob3IuY2hpbGRyZW4oXCIudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXNcIikpOnRoaXMuX2VuaGFuY2UoYixjKSx0aGlzLl9vbihjLmhlYWRpbmcse3RhcDpmdW5jdGlvbigpe2MuaGVhZGluZy5maW5kKFwiYVwiKS5maXJzdCgpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0sY2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UoIWMuaGVhZGluZy5oYXNDbGFzcyhcInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkXCIpKSxhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKX19KX0sX2dldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGQsZT10aGlzLl91aS5hY2NvcmRpb24sZj10aGlzLl91aS5hY2NvcmRpb25XaWRnZXQ7Yj1hLmV4dGVuZCh7fSxiKSxlLmxlbmd0aCYmIWYmJih0aGlzLl91aS5hY2NvcmRpb25XaWRnZXQ9Zj1lLmRhdGEoXCJtb2JpbGUtY29sbGFwc2libGVzZXRcIikpO2ZvcihkIGluIGIpYltkXT1udWxsIT1iW2RdP2JbZF06Zj9mLm9wdGlvbnNbZF06ZS5sZW5ndGg/YS5tb2JpbGUuZ2V0QXR0cmlidXRlKGVbMF0sZC5yZXBsYWNlKGMsXCItJDFcIikudG9Mb3dlckNhc2UoKSk6bnVsbCxudWxsPT1iW2RdJiYoYltkXT1hLm1vYmlsZS5jb2xsYXBzaWJsZS5kZWZhdWx0c1tkXSk7cmV0dXJuIGJ9LF90aGVtZUNsYXNzRnJvbU9wdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybiBiP1wibm9uZVwiPT09Yj9cIlwiOmErYjpcIlwifSxfZW5oYW5jZTpmdW5jdGlvbihiLGMpe3ZhciBlLGY9dGhpcy5fcmVuZGVyZWRPcHRpb25zLGc9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1ib2R5LVwiLGYuY29udGVudFRoZW1lKTtyZXR1cm4gYi5hZGRDbGFzcyhcInVpLWNvbGxhcHNpYmxlIFwiKyhmLmluc2V0P1widWktY29sbGFwc2libGUtaW5zZXQgXCI6XCJcIikrKGYuaW5zZXQmJmYuY29ybmVycz9cInVpLWNvcm5lci1hbGwgXCI6XCJcIikrKGc/XCJ1aS1jb2xsYXBzaWJsZS10aGVtZWQtY29udGVudCBcIjpcIlwiKSksYy5vcmlnaW5hbEhlYWRpbmc9Yi5jaGlsZHJlbih0aGlzLm9wdGlvbnMuaGVhZGluZykuZmlyc3QoKSxjLmNvbnRlbnQ9Yi53cmFwSW5uZXIoXCI8ZGl2IGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1jb250ZW50IFwiK2crXCInPjwvZGl2PlwiKS5jaGlsZHJlbihcIi51aS1jb2xsYXBzaWJsZS1jb250ZW50XCIpLGMuaGVhZGluZz1jLm9yaWdpbmFsSGVhZGluZyxjLmhlYWRpbmcuaXMoXCJsZWdlbmRcIikmJihjLmhlYWRpbmc9YShcIjxkaXYgcm9sZT0naGVhZGluZyc+XCIrYy5oZWFkaW5nLmh0bWwoKStcIjwvZGl2PlwiKSxjLnBsYWNlaG9sZGVyPWEoXCI8ZGl2PjwhLS0gcGxhY2Vob2xkZXIgZm9yIGxlZ2VuZCAtLT48L2Rpdj5cIikuaW5zZXJ0QmVmb3JlKGMub3JpZ2luYWxIZWFkaW5nKSxjLm9yaWdpbmFsSGVhZGluZy5yZW1vdmUoKSksZT1mLmNvbGxhcHNlZD9mLmNvbGxhcHNlZEljb24/XCJ1aS1pY29uLVwiK2YuY29sbGFwc2VkSWNvbjpcIlwiOmYuZXhwYW5kZWRJY29uP1widWktaWNvbi1cIitmLmV4cGFuZGVkSWNvbjpcIlwiLGMuc3RhdHVzPWEoXCI8c3BhbiBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMnPjwvc3Bhbj5cIiksYy5hbmNob3I9Yy5oZWFkaW5nLmRldGFjaCgpLmFkZENsYXNzKFwidWktY29sbGFwc2libGUtaGVhZGluZ1wiKS5hcHBlbmQoYy5zdGF0dXMpLndyYXBJbm5lcihcIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXRvZ2dsZSc+PC9hPlwiKS5maW5kKFwiYVwiKS5maXJzdCgpLmFkZENsYXNzKFwidWktYnRuIFwiKyhlP2UrXCIgXCI6XCJcIikrKGU/ZChmLmljb25wb3MpK1wiIFwiOlwiXCIpK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKFwidWktYnRuLVwiLGYudGhlbWUpK1wiIFwiKyhmLm1pbmk/XCJ1aS1taW5pIFwiOlwiXCIpKSxjLmhlYWRpbmcuaW5zZXJ0QmVmb3JlKGMuY29udGVudCksdGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UodGhpcy5vcHRpb25zLmNvbGxhcHNlZCksY30scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX2FwcGx5T3B0aW9ucyh0aGlzLm9wdGlvbnMpLHRoaXMuX3JlbmRlcmVkT3B0aW9ucz10aGlzLl9nZXRPcHRpb25zKHRoaXMub3B0aW9ucyl9LF9hcHBseU9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGMsZSxmLGcsaCxpPXRoaXMuZWxlbWVudCxqPXRoaXMuX3JlbmRlcmVkT3B0aW9ucyxrPXRoaXMuX3VpLGw9ay5hbmNob3IsbT1rLnN0YXR1cyxuPXRoaXMuX2dldE9wdGlvbnMoYSk7YS5jb2xsYXBzZWQhPT1iJiZ0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZShhLmNvbGxhcHNlZCksYz1pLmhhc0NsYXNzKFwidWktY29sbGFwc2libGUtY29sbGFwc2VkXCIpLGM/bi5leHBhbmRDdWVUZXh0IT09YiYmbS50ZXh0KG4uZXhwYW5kQ3VlVGV4dCk6bi5jb2xsYXBzZUN1ZVRleHQhPT1iJiZtLnRleHQobi5jb2xsYXBzZUN1ZVRleHQpLGg9bi5jb2xsYXBzZWRJY29uIT09Yj9uLmNvbGxhcHNlZEljb24hPT0hMTpqLmNvbGxhcHNlZEljb24hPT0hMSwobi5pY29ucG9zIT09Ynx8bi5jb2xsYXBzZWRJY29uIT09Ynx8bi5leHBhbmRlZEljb24hPT1iKSYmKGwucmVtb3ZlQ2xhc3MoW2Qoai5pY29ucG9zKV0uY29uY2F0KGouZXhwYW5kZWRJY29uP1tcInVpLWljb24tXCIrai5leHBhbmRlZEljb25dOltdKS5jb25jYXQoai5jb2xsYXBzZWRJY29uP1tcInVpLWljb24tXCIrai5jb2xsYXBzZWRJY29uXTpbXSkuam9pbihcIiBcIikpLGgmJmwuYWRkQ2xhc3MoW2Qobi5pY29ucG9zIT09Yj9uLmljb25wb3M6ai5pY29ucG9zKV0uY29uY2F0KGM/W1widWktaWNvbi1cIisobi5jb2xsYXBzZWRJY29uIT09Yj9uLmNvbGxhcHNlZEljb246ai5jb2xsYXBzZWRJY29uKV06W1widWktaWNvbi1cIisobi5leHBhbmRlZEljb24hPT1iP24uZXhwYW5kZWRJY29uOmouZXhwYW5kZWRJY29uKV0pLmpvaW4oXCIgXCIpKSksbi50aGVtZSE9PWImJihmPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKFwidWktYnRuLVwiLGoudGhlbWUpLGU9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1idG4tXCIsbi50aGVtZSksbC5yZW1vdmVDbGFzcyhmKS5hZGRDbGFzcyhlKSksbi5jb250ZW50VGhlbWUhPT1iJiYoZj10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihcInVpLWJvZHktXCIsai5jb250ZW50VGhlbWUpLGU9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1ib2R5LVwiLG4uY29udGVudFRoZW1lKSxrLmNvbnRlbnQucmVtb3ZlQ2xhc3MoZikuYWRkQ2xhc3MoZSkpLG4uaW5zZXQhPT1iJiYoaS50b2dnbGVDbGFzcyhcInVpLWNvbGxhcHNpYmxlLWluc2V0XCIsbi5pbnNldCksZz0hKCFuLmluc2V0fHwhbi5jb3JuZXJzJiYhai5jb3JuZXJzKSksbi5jb3JuZXJzIT09YiYmKGc9ISghbi5jb3JuZXJzfHwhbi5pbnNldCYmIWouaW5zZXQpKSxnIT09YiYmaS50b2dnbGVDbGFzcyhcInVpLWNvcm5lci1hbGxcIixnKSxuLm1pbmkhPT1iJiZsLnRvZ2dsZUNsYXNzKFwidWktbWluaVwiLG4ubWluaSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3RoaXMuX2FwcGx5T3B0aW9ucyhhKSx0aGlzLl9zdXBlcihhKSx0aGlzLl9yZW5kZXJlZE9wdGlvbnM9dGhpcy5fZ2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpfSxfaGFuZGxlRXhwYW5kQ29sbGFwc2U6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fcmVuZGVyZWRPcHRpb25zLGQ9dGhpcy5fdWk7ZC5zdGF0dXMudGV4dChiP2MuZXhwYW5kQ3VlVGV4dDpjLmNvbGxhcHNlQ3VlVGV4dCksZC5oZWFkaW5nLnRvZ2dsZUNsYXNzKFwidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWRcIixiKS5maW5kKFwiYVwiKS5maXJzdCgpLnRvZ2dsZUNsYXNzKFwidWktaWNvbi1cIitjLmV4cGFuZGVkSWNvbiwhYikudG9nZ2xlQ2xhc3MoXCJ1aS1pY29uLVwiK2MuY29sbGFwc2VkSWNvbixifHxjLmV4cGFuZGVkSWNvbj09PWMuY29sbGFwc2VkSWNvbikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcyhcInVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZFwiLGIpLGQuY29udGVudC50b2dnbGVDbGFzcyhcInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkXCIsYikuYXR0cihcImFyaWEtaGlkZGVuXCIsYikudHJpZ2dlcihcInVwZGF0ZWxheW91dFwiKSx0aGlzLm9wdGlvbnMuY29sbGFwc2VkPWIsdGhpcy5fdHJpZ2dlcihiP1wiY29sbGFwc2VcIjpcImV4cGFuZFwiKX0sZXhwYW5kOmZ1bmN0aW9uKCl7dGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UoITEpfSxjb2xsYXBzZTpmdW5jdGlvbigpe3RoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKCEwKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl91aSxiPXRoaXMub3B0aW9ucztiLmVuaGFuY2VkfHwoYS5wbGFjZWhvbGRlcj8oYS5vcmlnaW5hbEhlYWRpbmcuaW5zZXJ0QmVmb3JlKGEucGxhY2Vob2xkZXIpLGEucGxhY2Vob2xkZXIucmVtb3ZlKCksYS5oZWFkaW5nLnJlbW92ZSgpKTooYS5zdGF0dXMucmVtb3ZlKCksYS5oZWFkaW5nLnJlbW92ZUNsYXNzKFwidWktY29sbGFwc2libGUtaGVhZGluZyB1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZFwiKS5jaGlsZHJlbigpLmNvbnRlbnRzKCkudW53cmFwKCkpLGEuYW5jaG9yLmNvbnRlbnRzKCkudW53cmFwKCksYS5jb250ZW50LmNvbnRlbnRzKCkudW53cmFwKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktY29sbGFwc2libGUgdWktY29sbGFwc2libGUtY29sbGFwc2VkIHVpLWNvbGxhcHNpYmxlLXRoZW1lZC1jb250ZW50IHVpLWNvbGxhcHNpYmxlLWluc2V0IHVpLWNvcm5lci1hbGxcIikpfX0pLGEubW9iaWxlLmNvbGxhcHNpYmxlLmRlZmF1bHRzPXtleHBhbmRDdWVUZXh0OlwiIGNsaWNrIHRvIGV4cGFuZCBjb250ZW50c1wiLGNvbGxhcHNlQ3VlVGV4dDpcIiBjbGljayB0byBjb2xsYXBzZSBjb250ZW50c1wiLGNvbGxhcHNlZEljb246XCJwbHVzXCIsY29udGVudFRoZW1lOlwiaW5oZXJpdFwiLGV4cGFuZGVkSWNvbjpcIm1pbnVzXCIsaWNvbnBvczpcImxlZnRcIixpbnNldDohMCxjb3JuZXJzOiEwLHRoZW1lOlwiaW5oZXJpdFwiLG1pbmk6ITF9fShhKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe3ZhciBkLGU9Yi5sZW5ndGgsZj1bXTtmb3IoZD0wO2U+ZDtkKyspYltkXS5jbGFzc05hbWUubWF0Y2goYyl8fGYucHVzaChiW2RdKTtyZXR1cm4gYShmKX12YXIgYz0vXFxidWktc2NyZWVuLWhpZGRlblxcYi87YS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXM9e19nZXRWaXNpYmxlczpmdW5jdGlvbihhLGMpe3ZhciBkO3JldHVybiBjP2Q9YihhKTooZD1hLmZpbHRlcihcIjp2aXNpYmxlXCIpLDA9PT1kLmxlbmd0aCYmKGQ9YihhKSkpLGR9LF9hZGRGaXJzdExhc3RDbGFzc2VzOmZ1bmN0aW9uKGEsYixjKXthLnJlbW92ZUNsYXNzKFwidWktZmlyc3QtY2hpbGQgdWktbGFzdC1jaGlsZFwiKSxiLmVxKDApLmFkZENsYXNzKFwidWktZmlyc3QtY2hpbGRcIikuZW5kKCkubGFzdCgpLmFkZENsYXNzKFwidWktbGFzdC1jaGlsZFwiKSxjfHx0aGlzLmVsZW1lbnQudHJpZ2dlcihcInVwZGF0ZWxheW91dFwiKX0sX3JlbW92ZUZpcnN0TGFzdENsYXNzZXM6ZnVuY3Rpb24oYSl7YS5yZW1vdmVDbGFzcyhcInVpLWZpcnN0LWNoaWxkIHVpLWxhc3QtY2hpbGRcIil9fX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYz1cIjptb2JpbGUtY29sbGFwc2libGUsIFwiK2EubW9iaWxlLmNvbGxhcHNpYmxlLmluaXRTZWxlY3RvcjthLndpZGdldChcIm1vYmlsZS5jb2xsYXBzaWJsZXNldFwiLGEuZXh0ZW5kKHtpbml0U2VsZWN0b3I6XCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSw6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZXNldCcpXCIsb3B0aW9uczphLmV4dGVuZCh7ZW5oYW5jZWQ6ITF9LGEubW9iaWxlLmNvbGxhcHNpYmxlLmRlZmF1bHRzKSxfaGFuZGxlQ29sbGFwc2libGVFeHBhbmQ6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuY2xvc2VzdChcIi51aS1jb2xsYXBzaWJsZVwiKTtjLnBhcmVudCgpLmlzKFwiOm1vYmlsZS1jb2xsYXBzaWJsZXNldCwgOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JylcIikmJmMuc2libGluZ3MoXCIudWktY29sbGFwc2libGU6bm90KC51aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQpXCIpLmNvbGxhcHNpYmxlKFwiY29sbGFwc2VcIil9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnM7YS5leHRlbmQodGhpcyx7X2NsYXNzZXM6XCJcIn0pLGMuZW5oYW5jZWR8fChiLmFkZENsYXNzKFwidWktY29sbGFwc2libGUtc2V0IFwiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKFwidWktZ3JvdXAtdGhlbWUtXCIsYy50aGVtZSkrXCIgXCIrKGMuY29ybmVycyYmYy5pbnNldD9cInVpLWNvcm5lci1hbGwgXCI6XCJcIikpLHRoaXMuZWxlbWVudC5maW5kKGEubW9iaWxlLmNvbGxhcHNpYmxlLmluaXRTZWxlY3RvcikuY29sbGFwc2libGUoKSksdGhpcy5fb24oYix7Y29sbGFwc2libGVleHBhbmQ6XCJfaGFuZGxlQ29sbGFwc2libGVFeHBhbmRcIn0pfSxfdGhlbWVDbGFzc0Zyb21PcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9cIm5vbmVcIj09PWI/XCJcIjphK2I6XCJcIn0sX2luaXQ6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoKCEwKSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oYykuZmlsdGVyKFwiOmpxbURhdGEoY29sbGFwc2VkPSdmYWxzZScpXCIpLmNvbGxhcHNpYmxlKFwiZXhwYW5kXCIpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYyxkLGU9dGhpcy5lbGVtZW50LGY9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1ncm91cC10aGVtZS1cIixhLnRoZW1lKTtyZXR1cm4gZiYmZS5yZW1vdmVDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihcInVpLWdyb3VwLXRoZW1lLVwiLHRoaXMub3B0aW9ucy50aGVtZSkpLmFkZENsYXNzKGYpLGEuaW5zZXQhPT1iJiYoZD0hKCFhLmluc2V0fHwhYS5jb3JuZXJzJiYhdGhpcy5vcHRpb25zLmNvcm5lcnMpKSxhLmNvcm5lcnMhPT1iJiYoZD0hKCFhLmNvcm5lcnN8fCFhLmluc2V0JiYhdGhpcy5vcHRpb25zLmluc2V0KSksZCE9PWImJmUudG9nZ2xlQ2xhc3MoXCJ1aS1jb3JuZXItYWxsXCIsZCksYz10aGlzLl9zdXBlcihhKSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oXCI6bW9iaWxlLWNvbGxhcHNpYmxlXCIpLmNvbGxhcHNpYmxlKFwicmVmcmVzaFwiKSxjfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudDt0aGlzLl9yZW1vdmVGaXJzdExhc3RDbGFzc2VzKGEuY2hpbGRyZW4oYykpLGEucmVtb3ZlQ2xhc3MoXCJ1aS1jb2xsYXBzaWJsZS1zZXQgdWktY29ybmVyLWFsbCBcIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihcInVpLWdyb3VwLXRoZW1lLVwiLHRoaXMub3B0aW9ucy50aGVtZSkpLmNoaWxkcmVuKFwiOm1vYmlsZS1jb2xsYXBzaWJsZVwiKS5jb2xsYXBzaWJsZShcImRlc3Ryb3lcIil9LF9yZWZyZXNoOmZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMuZWxlbWVudC5jaGlsZHJlbihjKTt0aGlzLmVsZW1lbnQuZmluZChhLm1vYmlsZS5jb2xsYXBzaWJsZS5pbml0U2VsZWN0b3IpLm5vdChcIi51aS1jb2xsYXBzaWJsZVwiKS5jb2xsYXBzaWJsZSgpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoZCx0aGlzLl9nZXRWaXNpYmxlcyhkLGIpLGIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaCghMSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpfShhKSxmdW5jdGlvbihhKXthLmZuLmZpZWxkY29udGFpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFkZENsYXNzKFwidWktZmllbGQtY29udGFpblwiKX19KGEpLGZ1bmN0aW9uKGEpe2EuZm4uZ3JpZD1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGMsZCxlPWEodGhpcyksZj1hLmV4dGVuZCh7Z3JpZDpudWxsfSxiKSxnPWUuY2hpbGRyZW4oKSxoPXtzb2xvOjEsYToyLGI6MyxjOjQsZDo1fSxpPWYuZ3JpZDtpZighaSlpZihnLmxlbmd0aDw9NSlmb3IoZCBpbiBoKWhbZF09PT1nLmxlbmd0aCYmKGk9ZCk7ZWxzZSBpPVwiYVwiLGUuYWRkQ2xhc3MoXCJ1aS1ncmlkLWR1b1wiKTtjPWhbaV0sZS5hZGRDbGFzcyhcInVpLWdyaWQtXCIraSksZy5maWx0ZXIoXCI6bnRoLWNoaWxkKFwiK2MrXCJuKzEpXCIpLmFkZENsYXNzKFwidWktYmxvY2stYVwiKSxjPjEmJmcuZmlsdGVyKFwiOm50aC1jaGlsZChcIitjK1wibisyKVwiKS5hZGRDbGFzcyhcInVpLWJsb2NrLWJcIiksYz4yJiZnLmZpbHRlcihcIjpudGgtY2hpbGQoXCIrYytcIm4rMylcIikuYWRkQ2xhc3MoXCJ1aS1ibG9jay1jXCIpLGM+MyYmZy5maWx0ZXIoXCI6bnRoLWNoaWxkKFwiK2MrXCJuKzQpXCIpLmFkZENsYXNzKFwidWktYmxvY2stZFwiKSxjPjQmJmcuZmlsdGVyKFwiOm50aC1jaGlsZChcIitjK1wibis1KVwiKS5hZGRDbGFzcyhcInVpLWJsb2NrLWVcIil9KX19KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoXCJtb2JpbGUubmF2YmFyXCIse29wdGlvbnM6e2ljb25wb3M6XCJ0b3BcIixncmlkOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLmVsZW1lbnQsZT1kLmZpbmQoXCJhLCBidXR0b25cIiksZj1lLmZpbHRlcihcIjpqcW1EYXRhKGljb24pXCIpLmxlbmd0aD90aGlzLm9wdGlvbnMuaWNvbnBvczpiO2QuYWRkQ2xhc3MoXCJ1aS1uYXZiYXJcIikuYXR0cihcInJvbGVcIixcIm5hdmlnYXRpb25cIikuZmluZChcInVsXCIpLmpxbUVuaGFuY2VhYmxlKCkuZ3JpZCh7Z3JpZDp0aGlzLm9wdGlvbnMuZ3JpZH0pLGUuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLFwiaWNvblwiKSxjPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLFwidGhlbWVcIiksZD1cInVpLWJ0blwiO2MmJihkKz1cIiB1aS1idG4tXCIrYyksYiYmKGQrPVwiIHVpLWljb24tXCIrYitcIiB1aS1idG4taWNvbi1cIitmKSxhKHRoaXMpLmFkZENsYXNzKGQpfSksZC5kZWxlZ2F0ZShcImFcIixcInZjbGlja1wiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiLmhhc0NsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIil8fGIuaGFzQ2xhc3MoXCJ1aS1kaXNhYmxlZFwiKXx8Yi5oYXNDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl8fChlLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxiLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxhKGMpLm9uZShcInBhZ2VoaWRlXCIsZnVuY3Rpb24oKXtiLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pKX0pLGQuY2xvc2VzdChcIi51aS1wYWdlXCIpLmJpbmQoXCJwYWdlYmVmb3Jlc2hvd1wiLGZ1bmN0aW9uKCl7ZS5maWx0ZXIoXCIudWktc3RhdGUtcGVyc2lzdFwiKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGI9YS5tb2JpbGUuZ2V0QXR0cmlidXRlO2Eud2lkZ2V0KFwibW9iaWxlLmxpc3R2aWV3XCIsYS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsY291bnRUaGVtZTpudWxsLGRpdmlkZXJUaGVtZTpudWxsLGljb246XCJjYXJhdC1yXCIsc3BsaXRJY29uOlwiY2FyYXQtclwiLHNwbGl0VGhlbWU6bnVsbCxjb3JuZXJzOiEwLHNoYWRvdzohMCxpbnNldDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1cIlwiO2IrPWEub3B0aW9ucy5pbnNldD9cIiB1aS1saXN0dmlldy1pbnNldFwiOlwiXCIsYS5vcHRpb25zLmluc2V0JiYoYis9YS5vcHRpb25zLmNvcm5lcnM/XCIgdWktY29ybmVyLWFsbFwiOlwiXCIsYis9YS5vcHRpb25zLnNoYWRvdz9cIiB1aS1zaGFkb3dcIjpcIlwiKSxhLmVsZW1lbnQuYWRkQ2xhc3MoXCIgdWktbGlzdHZpZXdcIitiKSxhLnJlZnJlc2goITApfSxfZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT17fTtmb3IoZVtjXT1lW2RdPSEwO2E7KXtpZihlW2Eubm9kZU5hbWVdKXJldHVybiBhO2E9YVtiXX1yZXR1cm4gbnVsbH0sX2FkZFRodW1iQ2xhc3NlczpmdW5jdGlvbihiKXt2YXIgYyxkLGU9Yi5sZW5ndGg7Zm9yKGM9MDtlPmM7YysrKWQ9YSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKGJbY10uZmlyc3RDaGlsZCxcIm5leHRTaWJsaW5nXCIsXCJpbWdcIixcIklNR1wiKSksZC5sZW5ndGgmJmEodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZShkWzBdLnBhcmVudE5vZGUsXCJwYXJlbnROb2RlXCIsXCJsaVwiLFwiTElcIikpLmFkZENsYXNzKGQuaGFzQ2xhc3MoXCJ1aS1saS1pY29uXCIpP1widWktbGktaGFzLWljb25cIjpcInVpLWxpLWhhcy10aHVtYlwiKX0sX2dldENoaWxkcmVuQnlUYWdOYW1lOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1bXSxmPXt9O2ZvcihmW2NdPWZbZF09ITAsYj1iLmZpcnN0Q2hpbGQ7YjspZltiLm5vZGVOYW1lXSYmZS5wdXNoKGIpLGI9Yi5uZXh0U2libGluZztyZXR1cm4gYShlKX0sX2JlZm9yZUxpc3R2aWV3UmVmcmVzaDphLm5vb3AsX2FmdGVyTGlzdHZpZXdSZWZyZXNoOmEubm9vcCxyZWZyZXNoOmZ1bmN0aW9uKGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHcseD10aGlzLm9wdGlvbnMseT10aGlzLmVsZW1lbnQsej0hIWEubm9kZU5hbWUoeVswXSxcIm9sXCIpLEE9eS5hdHRyKFwic3RhcnRcIiksQj17fSxDPXkuZmluZChcIi51aS1saS1jb3VudFwiKSxEPWIoeVswXSxcImNvdW50dGhlbWVcIil8fHRoaXMub3B0aW9ucy5jb3VudFRoZW1lLEU9RD9cInVpLWJvZHktXCIrRDpcInVpLWJvZHktaW5oZXJpdFwiO2Zvcih4LnRoZW1lJiZ5LmFkZENsYXNzKFwidWktZ3JvdXAtdGhlbWUtXCIreC50aGVtZSkseiYmKEF8fDA9PT1BKSYmKG49cGFyc2VJbnQoQSwxMCktMSx5LmNzcyhcImNvdW50ZXItcmVzZXRcIixcImxpc3RudW1iZXJpbmcgXCIrbikpLHRoaXMuX2JlZm9yZUxpc3R2aWV3UmVmcmVzaCgpLHc9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoeVswXSxcImxpXCIsXCJMSVwiKSxlPTAsZj13Lmxlbmd0aDtmPmU7ZSsrKWc9dy5lcShlKSxoPVwiXCIsKGN8fGdbMF0uY2xhc3NOYW1lLnNlYXJjaCgvXFxidWktbGktc3RhdGljXFxifFxcYnVpLWxpLWRpdmlkZXJcXGIvKTwwKSYmKGw9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoZ1swXSxcImFcIixcIkFcIiksbT1cImxpc3QtZGl2aWRlclwiPT09YihnWzBdLFwicm9sZVwiKSxwPWcuYXR0cihcInZhbHVlXCIpLGk9YihnWzBdLFwidGhlbWVcIiksbC5sZW5ndGgmJmxbMF0uY2xhc3NOYW1lLnNlYXJjaCgvXFxidWktYnRuXFxiLyk8MCYmIW0/KGo9YihnWzBdLFwiaWNvblwiKSxrPWo9PT0hMT8hMTpqfHx4Lmljb24sbC5yZW1vdmVDbGFzcyhcInVpLWxpbmtcIiksZD1cInVpLWJ0blwiLGkmJihkKz1cIiB1aS1idG4tXCIraSksbC5sZW5ndGg+MT8oaD1cInVpLWxpLWhhcy1hbHRcIixxPWwubGFzdCgpLHI9YihxWzBdLFwidGhlbWVcIil8fHguc3BsaXRUaGVtZXx8YihnWzBdLFwidGhlbWVcIiwhMCkscz1yP1wiIHVpLWJ0bi1cIityOlwiXCIsdD1iKHFbMF0sXCJpY29uXCIpfHxiKGdbMF0sXCJpY29uXCIpfHx4LnNwbGl0SWNvbix1PVwidWktYnRuIHVpLWJ0bi1pY29uLW5vdGV4dCB1aS1pY29uLVwiK3QrcyxxLmF0dHIoXCJ0aXRsZVwiLGEudHJpbShxLmdldEVuY29kZWRUZXh0KCkpKS5hZGRDbGFzcyh1KS5lbXB0eSgpLGw9bC5maXJzdCgpKTprJiYoZCs9XCIgdWktYnRuLWljb24tcmlnaHQgdWktaWNvbi1cIitrKSxsLmFkZENsYXNzKGQpKTptPyh2PWIoZ1swXSxcInRoZW1lXCIpfHx4LmRpdmlkZXJUaGVtZXx8eC50aGVtZSxoPVwidWktbGktZGl2aWRlciB1aS1iYXItXCIrKHY/djpcImluaGVyaXRcIiksZy5hdHRyKFwicm9sZVwiLFwiaGVhZGluZ1wiKSk6bC5sZW5ndGg8PTAmJihoPVwidWktbGktc3RhdGljIHVpLWJvZHktXCIrKGk/aTpcImluaGVyaXRcIikpLHomJnAmJihvPXBhcnNlSW50KHAsMTApLTEsZy5jc3MoXCJjb3VudGVyLXJlc2V0XCIsXCJsaXN0bnVtYmVyaW5nIFwiK28pKSksQltoXXx8KEJbaF09W10pLEJbaF0ucHVzaChnWzBdKTtmb3IoaCBpbiBCKWEoQltoXSkuYWRkQ2xhc3MoaCk7Qy5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5jbG9zZXN0KFwibGlcIikuYWRkQ2xhc3MoXCJ1aS1saS1oYXMtY291bnRcIil9KSxFJiZDLm5vdChcIltjbGFzcyo9J3VpLWJvZHktJ11cIikuYWRkQ2xhc3MoRSksdGhpcy5fYWRkVGh1bWJDbGFzc2VzKHcpLHRoaXMuX2FkZFRodW1iQ2xhc3Nlcyh3LmZpbmQoXCIudWktYnRuXCIpKSx0aGlzLl9hZnRlckxpc3R2aWV3UmVmcmVzaCgpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXModyx0aGlzLl9nZXRWaXNpYmxlcyh3LGMpLGMpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKX0oYSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXt2YXIgYz1hLnRyaW0oYi50ZXh0KCkpfHxudWxsO3JldHVybiBjP2M9Yy5zbGljZSgwLDEpLnRvVXBwZXJDYXNlKCk6bnVsbH1hLndpZGdldChcIm1vYmlsZS5saXN0dmlld1wiLGEubW9iaWxlLmxpc3R2aWV3LHtvcHRpb25zOnthdXRvZGl2aWRlcnM6ITEsYXV0b2RpdmlkZXJzU2VsZWN0b3I6Yn0sX2JlZm9yZUxpc3R2aWV3UmVmcmVzaDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdXRvZGl2aWRlcnMmJih0aGlzLl9yZXBsYWNlRGl2aWRlcnMoKSx0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cykpfSxfcmVwbGFjZURpdmlkZXJzOmZ1bmN0aW9uKCl7dmFyIGIsZCxlLGYsZyxoPW51bGwsaT10aGlzLmVsZW1lbnQ7Zm9yKGkuY2hpbGRyZW4oXCJsaTpqcW1EYXRhKHJvbGU9J2xpc3QtZGl2aWRlcicpXCIpLnJlbW92ZSgpLGQ9aS5jaGlsZHJlbihcImxpXCIpLGI9MDtiPGQubGVuZ3RoO2IrKyllPWRbYl0sZj10aGlzLm9wdGlvbnMuYXV0b2RpdmlkZXJzU2VsZWN0b3IoYShlKSksZiYmaCE9PWYmJihnPWMuY3JlYXRlRWxlbWVudChcImxpXCIpLGcuYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShmKSksZy5zZXRBdHRyaWJ1dGUoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1wicm9sZVwiLFwibGlzdC1kaXZpZGVyXCIpLGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZyxlKSksaD1mfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj0vKF58XFxzKXVpLWxpLWRpdmlkZXIoJHxcXHMpLyxjPS8oXnxcXHMpdWktc2NyZWVuLWhpZGRlbigkfFxccykvO2Eud2lkZ2V0KFwibW9iaWxlLmxpc3R2aWV3XCIsYS5tb2JpbGUubGlzdHZpZXcse29wdGlvbnM6e2hpZGVEaXZpZGVyczohMX0sX2FmdGVyTGlzdHZpZXdSZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGEsZCxlLGY9ITA7aWYodGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpLHRoaXMub3B0aW9ucy5oaWRlRGl2aWRlcnMpZm9yKGE9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUodGhpcy5lbGVtZW50WzBdLFwibGlcIixcIkxJXCIpLGQ9YS5sZW5ndGgtMTtkPi0xO2QtLSllPWFbZF0sZS5jbGFzc05hbWUubWF0Y2goYik/KGYmJihlLmNsYXNzTmFtZT1lLmNsYXNzTmFtZStcIiB1aS1zY3JlZW4taGlkZGVuXCIpLGY9ITApOmUuY2xhc3NOYW1lLm1hdGNoKGMpfHwoZj0hMSl9fSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLm5vanM9ZnVuY3Rpb24oYil7YShcIjpqcW1EYXRhKHJvbGU9J25vanMnKVwiLGIpLmFkZENsYXNzKFwidWktbm9qc1wiKX19KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQ9e19oYW5kbGVGb3JtUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdChcImZvcm1cIikse3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fZGVsYXkoXCJfcmVzZXRcIil9fSl9fX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYz1hLm1vYmlsZS5wYXRoLmhhc2hUb1NlbGVjdG9yO2Eud2lkZ2V0KFwibW9iaWxlLmNoZWNrYm94cmFkaW9cIixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOlwiaW5wdXQ6bm90KCA6anFtRGF0YShyb2xlPSdmbGlwc3dpdGNoJyApIClbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddOm5vdCggOmpxbURhdGEocm9sZT0nZmxpcHN3aXRjaCcgKSlcIixvcHRpb25zOnt0aGVtZTpcImluaGVyaXRcIixtaW5pOiExLHdyYXBwZXJDbGFzczpudWxsLGVuaGFuY2VkOiExLGljb25wb3M6XCJsZWZ0XCJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMsZD1mdW5jdGlvbihhLGIpe3JldHVybiBhLmpxbURhdGEoYil8fGEuY2xvc2VzdChcImZvcm0sIGZpZWxkc2V0XCIpLmpxbURhdGEoYil9LGU9dGhpcy5vcHRpb25zLmVuaGFuY2VkP3tlbGVtZW50OnRoaXMuZWxlbWVudC5zaWJsaW5ncyhcImxhYmVsXCIpLGlzUGFyZW50OiExfTp0aGlzLl9maW5kTGFiZWwoKSxmPWJbMF0udHlwZSxnPVwidWktXCIrZitcIi1vblwiLGg9XCJ1aS1cIitmK1wiLW9mZlwiOyhcImNoZWNrYm94XCI9PT1mfHxcInJhZGlvXCI9PT1mKSYmKHRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD0hMCksYy5pY29ucG9zPWQoYixcImljb25wb3NcIil8fGUuZWxlbWVudC5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcImljb25wb3NcIil8fGMuaWNvbnBvcyxjLm1pbmk9ZChiLFwibWluaVwiKXx8Yy5taW5pLGEuZXh0ZW5kKHRoaXMse2lucHV0OmIsbGFiZWw6ZS5lbGVtZW50LGxhYmVsSXNQYXJlbnQ6ZS5pc1BhcmVudCxpbnB1dHR5cGU6ZixjaGVja2VkQ2xhc3M6Zyx1bmNoZWNrZWRDbGFzczpofSksdGhpcy5vcHRpb25zLmVuaGFuY2VkfHx0aGlzLl9lbmhhbmNlKCksdGhpcy5fb24oZS5lbGVtZW50LHt2bW91c2VvdmVyOlwiX2hhbmRsZUxhYmVsVk1vdXNlT3ZlclwiLHZjbGljazpcIl9oYW5kbGVMYWJlbFZDbGlja1wifSksdGhpcy5fb24oYix7dm1vdXNlZG93bjpcIl9jYWNoZVZhbHNcIix2Y2xpY2s6XCJfaGFuZGxlSW5wdXRWQ2xpY2tcIixmb2N1czpcIl9oYW5kbGVJbnB1dEZvY3VzXCIsYmx1cjpcIl9oYW5kbGVJbnB1dEJsdXJcIn0pLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMucmVmcmVzaCgpKX0sX2ZpbmRMYWJlbDpmdW5jdGlvbigpe3ZhciBiLGQsZSxmPXRoaXMuZWxlbWVudCxnPWZbMF0ubGFiZWxzO3JldHVybiBnJiZnLmxlbmd0aD4wPyhkPWEoZ1swXSksZT1hLmNvbnRhaW5zKGRbMF0sZlswXSkpOihiPWYuY2xvc2VzdChcImxhYmVsXCIpLGU9Yi5sZW5ndGg+MCxkPWU/YjphKHRoaXMuZG9jdW1lbnRbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsYWJlbFwiKSkuZmlsdGVyKFwiW2Zvcj0nXCIrYyhmWzBdLmlkKStcIiddXCIpLmZpcnN0KCkpLHtlbGVtZW50OmQsaXNQYXJlbnQ6ZX19LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5sYWJlbC5hZGRDbGFzcyhcInVpLWJ0biB1aS1jb3JuZXItYWxsXCIpLHRoaXMubGFiZWxJc1BhcmVudD90aGlzLmlucHV0LmFkZCh0aGlzLmxhYmVsKS53cmFwQWxsKHRoaXMuX3dyYXBwZXIoKSk6KHRoaXMuZWxlbWVudC53cmFwKHRoaXMuX3dyYXBwZXIoKSksdGhpcy5lbGVtZW50LnBhcmVudCgpLnByZXBlbmQodGhpcy5sYWJlbCkpLHRoaXMuX3NldE9wdGlvbnMoe3RoZW1lOnRoaXMub3B0aW9ucy50aGVtZSxpY29ucG9zOnRoaXMub3B0aW9ucy5pY29ucG9zLG1pbmk6dGhpcy5vcHRpb25zLm1pbml9KX0sX3dyYXBwZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYShcIjxkaXYgY2xhc3M9J1wiKyh0aGlzLm9wdGlvbnMud3JhcHBlckNsYXNzP3RoaXMub3B0aW9ucy53cmFwcGVyQ2xhc3M6XCJcIikrXCIgdWktXCIrdGhpcy5pbnB1dHR5cGUrKHRoaXMub3B0aW9ucy5kaXNhYmxlZD9cIiB1aS1zdGF0ZS1kaXNhYmxlZFwiOlwiXCIpK1wiJyA+PC9kaXY+XCIpfSxfaGFuZGxlSW5wdXRGb2N1czpmdW5jdGlvbigpe3RoaXMubGFiZWwuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LF9oYW5kbGVJbnB1dEJsdXI6ZnVuY3Rpb24oKXt0aGlzLmxhYmVsLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxfaGFuZGxlSW5wdXRWQ2xpY2s6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcChcImNoZWNrZWRcIix0aGlzLmVsZW1lbnQuaXMoXCI6Y2hlY2tlZFwiKSksdGhpcy5fZ2V0SW5wdXRTZXQoKS5ub3QodGhpcy5lbGVtZW50KS5wcm9wKFwiY2hlY2tlZFwiLCExKSx0aGlzLl91cGRhdGVBbGwoITApfSxfaGFuZGxlTGFiZWxWTW91c2VPdmVyOmZ1bmN0aW9uKGEpe3RoaXMubGFiZWwucGFyZW50KCkuaGFzQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiKSYmYS5zdG9wUHJvcGFnYXRpb24oKX0sX2hhbmRsZUxhYmVsVkNsaWNrOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudDtyZXR1cm4gYi5pcyhcIjpkaXNhYmxlZFwiKT92b2lkIGEucHJldmVudERlZmF1bHQoKToodGhpcy5fY2FjaGVWYWxzKCksYi5wcm9wKFwiY2hlY2tlZFwiLFwicmFkaW9cIj09PXRoaXMuaW5wdXR0eXBlJiYhMHx8IWIucHJvcChcImNoZWNrZWRcIikpLGIudHJpZ2dlckhhbmRsZXIoXCJjbGlja1wiKSx0aGlzLl9nZXRJbnB1dFNldCgpLm5vdChiKS5wcm9wKFwiY2hlY2tlZFwiLCExKSx0aGlzLl91cGRhdGVBbGwoKSwhMSl9LF9jYWNoZVZhbHM6ZnVuY3Rpb24oKXt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmF0dHIoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1wiY2FjaGVWYWxcIix0aGlzLmNoZWNrZWQpfSl9LF9nZXRJbnB1dFNldDpmdW5jdGlvbigpe3ZhciBiLGQsZT10aGlzLmVsZW1lbnRbMF0sZj1lLm5hbWUsZz1lLmZvcm0saD10aGlzLmVsZW1lbnQucGFyZW50cygpLmxhc3QoKS5nZXQoMCksaT10aGlzLmVsZW1lbnQ7cmV0dXJuIGYmJlwicmFkaW9cIj09PXRoaXMuaW5wdXR0eXBlJiZoJiYoYj1cImlucHV0W3R5cGU9J3JhZGlvJ11bbmFtZT0nXCIrYyhmKStcIiddXCIsZz8oZD1nLmdldEF0dHJpYnV0ZShcImlkXCIpLGQmJihpPWEoYitcIltmb3JtPSdcIitjKGQpK1wiJ11cIixoKSksaT1hKGcpLmZpbmQoYikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9ybT09PWd9KS5hZGQoaSkpOmk9YShiLGgpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiF0aGlzLmZvcm19KSksaX0sX3VwZGF0ZUFsbDpmdW5jdGlvbihiKXt2YXIgYz10aGlzO3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyk7IXRoaXMuY2hlY2tlZCYmXCJjaGVja2JveFwiIT09Yy5pbnB1dHR5cGV8fGJ8fGQudHJpZ2dlcihcImNoYW5nZVwiKX0pLmNoZWNrYm94cmFkaW8oXCJyZWZyZXNoXCIpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0sX2hhc0ljb246ZnVuY3Rpb24oKXt2YXIgYixjLGQ9YS5tb2JpbGUuY29udHJvbGdyb3VwO3JldHVybiBkJiYoYj10aGlzLmVsZW1lbnQuY2xvc2VzdChcIjptb2JpbGUtY29udHJvbGdyb3VwLFwiK2QucHJvdG90eXBlLmluaXRTZWxlY3RvciksYi5sZW5ndGg+MCk/KGM9YS5kYXRhKGJbMF0sXCJtb2JpbGUtY29udHJvbGdyb3VwXCIpLFwiaG9yaXpvbnRhbFwiIT09KGM/Yy5vcHRpb25zLnR5cGU6Yi5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInR5cGVcIikpKTohMH0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudFswXS5jaGVja2VkLGM9YS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MsZD1cInVpLWJ0bi1pY29uLVwiK3RoaXMub3B0aW9ucy5pY29ucG9zLGU9W10sZj1bXTt0aGlzLl9oYXNJY29uKCk/KGYucHVzaChjKSxlLnB1c2goZCkpOihmLnB1c2goZCksKGI/ZTpmKS5wdXNoKGMpKSxiPyhlLnB1c2godGhpcy5jaGVja2VkQ2xhc3MpLGYucHVzaCh0aGlzLnVuY2hlY2tlZENsYXNzKSk6KGUucHVzaCh0aGlzLnVuY2hlY2tlZENsYXNzKSxmLnB1c2godGhpcy5jaGVja2VkQ2xhc3MpKSx0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIix0aGlzLmVsZW1lbnQucHJvcChcImRpc2FibGVkXCIpKSx0aGlzLmxhYmVsLmFkZENsYXNzKGUuam9pbihcIiBcIikpLnJlbW92ZUNsYXNzKGYuam9pbihcIiBcIikpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYWJlbC5wYXJlbnQoKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5sYWJlbCxkPXRoaXMub3B0aW9ucyxlPXRoaXMud2lkZ2V0KCksZj10aGlzLl9oYXNJY29uKCk7YS5kaXNhYmxlZCE9PWImJih0aGlzLmlucHV0LnByb3AoXCJkaXNhYmxlZFwiLCEhYS5kaXNhYmxlZCksZS50b2dnbGVDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIsISFhLmRpc2FibGVkKSksYS5taW5pIT09YiYmZS50b2dnbGVDbGFzcyhcInVpLW1pbmlcIiwhIWEubWluaSksYS50aGVtZSE9PWImJmMucmVtb3ZlQ2xhc3MoXCJ1aS1idG4tXCIrZC50aGVtZSkuYWRkQ2xhc3MoXCJ1aS1idG4tXCIrYS50aGVtZSksYS53cmFwcGVyQ2xhc3MhPT1iJiZlLnJlbW92ZUNsYXNzKGQud3JhcHBlckNsYXNzKS5hZGRDbGFzcyhhLndyYXBwZXJDbGFzcyksYS5pY29ucG9zIT09YiYmZj9jLnJlbW92ZUNsYXNzKFwidWktYnRuLWljb24tXCIrZC5pY29ucG9zKS5hZGRDbGFzcyhcInVpLWJ0bi1pY29uLVwiK2EuaWNvbnBvcyk6Znx8Yy5yZW1vdmVDbGFzcyhcInVpLWJ0bi1pY29uLVwiK2QuaWNvbnBvcyksdGhpcy5fc3VwZXIoYSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoXCJtb2JpbGUuYnV0dG9uXCIse2luaXRTZWxlY3RvcjpcImlucHV0W3R5cGU9J2J1dHRvbiddLCBpbnB1dFt0eXBlPSdzdWJtaXQnXSwgaW5wdXRbdHlwZT0ncmVzZXQnXVwiLG9wdGlvbnM6e3RoZW1lOm51bGwsaWNvbjpudWxsLGljb25wb3M6XCJsZWZ0XCIsaWNvbnNoYWRvdzohMSxjb3JuZXJzOiEwLHNoYWRvdzohMCxpbmxpbmU6bnVsbCxtaW5pOm51bGwsd3JhcHBlckNsYXNzOm51bGwsZW5oYW5jZWQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaXMoXCI6ZGlzYWJsZWRcIikmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ITApLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLGEuZXh0ZW5kKHRoaXMse3dyYXBwZXI6dGhpcy5lbGVtZW50LnBhcmVudCgpfSksdGhpcy5fb24oe2ZvY3VzOmZ1bmN0aW9uKCl7dGhpcy53aWRnZXQoKS5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sYmx1cjpmdW5jdGlvbigpe3RoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSksdGhpcy5yZWZyZXNoKCEwKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQud3JhcCh0aGlzLl9idXR0b24oKSl9LF9idXR0b246ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz10aGlzLl9nZXRJY29uQ2xhc3Nlcyh0aGlzLm9wdGlvbnMpO3JldHVybiBhKFwiPGRpdiBjbGFzcz0ndWktYnRuIHVpLWlucHV0LWJ0blwiKyhiLndyYXBwZXJDbGFzcz9cIiBcIitiLndyYXBwZXJDbGFzczpcIlwiKSsoYi50aGVtZT9cIiB1aS1idG4tXCIrYi50aGVtZTpcIlwiKSsoYi5jb3JuZXJzP1wiIHVpLWNvcm5lci1hbGxcIjpcIlwiKSsoYi5zaGFkb3c/XCIgdWktc2hhZG93XCI6XCJcIikrKGIuaW5saW5lP1wiIHVpLWJ0bi1pbmxpbmVcIjpcIlwiKSsoYi5taW5pP1wiIHVpLW1pbmlcIjpcIlwiKSsoYi5kaXNhYmxlZD9cIiB1aS1zdGF0ZS1kaXNhYmxlZFwiOlwiXCIpKyhjP1wiIFwiK2M6XCJcIikrXCInID5cIit0aGlzLmVsZW1lbnQudmFsKCkrXCI8L2Rpdj5cIil9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndyYXBwZXJ9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lmluc2VydEJlZm9yZSh0aGlzLndyYXBwZXIpLHRoaXMud3JhcHBlci5yZW1vdmUoKX0sX2dldEljb25DbGFzc2VzOmZ1bmN0aW9uKGEpe3JldHVybiBhLmljb24/XCJ1aS1pY29uLVwiK2EuaWNvbisoYS5pY29uc2hhZG93P1wiIHVpLXNoYWRvdy1pY29uXCI6XCJcIikrXCIgdWktYnRuLWljb24tXCIrYS5pY29ucG9zOlwiXCJ9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMud2lkZ2V0KCk7Yy50aGVtZSE9PWImJmQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcyhcInVpLWJ0bi1cIitjLnRoZW1lKSxjLmNvcm5lcnMhPT1iJiZkLnRvZ2dsZUNsYXNzKFwidWktY29ybmVyLWFsbFwiLGMuY29ybmVycyksYy5zaGFkb3chPT1iJiZkLnRvZ2dsZUNsYXNzKFwidWktc2hhZG93XCIsYy5zaGFkb3cpLGMuaW5saW5lIT09YiYmZC50b2dnbGVDbGFzcyhcInVpLWJ0bi1pbmxpbmVcIixjLmlubGluZSksYy5taW5pIT09YiYmZC50b2dnbGVDbGFzcyhcInVpLW1pbmlcIixjLm1pbmkpLGMuZGlzYWJsZWQhPT1iJiYodGhpcy5lbGVtZW50LnByb3AoXCJkaXNhYmxlZFwiLGMuZGlzYWJsZWQpLGQudG9nZ2xlQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiLGMuZGlzYWJsZWQpKSwoYy5pY29uIT09Ynx8Yy5pY29uc2hhZG93IT09Ynx8Yy5pY29ucG9zIT09YikmJmQucmVtb3ZlQ2xhc3ModGhpcy5fZ2V0SWNvbkNsYXNzZXModGhpcy5vcHRpb25zKSkuYWRkQ2xhc3ModGhpcy5fZ2V0SWNvbkNsYXNzZXMoYS5leHRlbmQoe30sdGhpcy5vcHRpb25zLGMpKSksdGhpcy5fc3VwZXIoYyl9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLmVsZW1lbnQucHJvcChcImRpc2FibGVkXCIpO3RoaXMub3B0aW9ucy5pY29uJiZcIm5vdGV4dFwiPT09dGhpcy5vcHRpb25zLmljb25wb3MmJnRoaXMuZWxlbWVudC5hdHRyKFwidGl0bGVcIikmJnRoaXMuZWxlbWVudC5hdHRyKFwidGl0bGVcIix0aGlzLmVsZW1lbnQudmFsKCkpLGJ8fChjPXRoaXMuZWxlbWVudC5kZXRhY2goKSxhKHRoaXMud3JhcHBlcikudGV4dCh0aGlzLmVsZW1lbnQudmFsKCkpLmFwcGVuZChjKSksdGhpcy5vcHRpb25zLmRpc2FibGVkIT09ZCYmdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ZH0pfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj1hKFwibWV0YVtuYW1lPXZpZXdwb3J0XVwiKSxjPWIuYXR0cihcImNvbnRlbnRcIiksZD1jK1wiLG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ub1wiLGU9YytcIixtYXhpbXVtLXNjYWxlPTEwLCB1c2VyLXNjYWxhYmxlPXllc1wiLGY9Lyh1c2VyLXNjYWxhYmxlW1xcc10qPVtcXHNdKm5vKXwobWF4aW11bS1zY2FsZVtcXHNdKj1bXFxzXSoxKVskLFxcc10vLnRlc3QoYyk7YS5tb2JpbGUuem9vbT1hLmV4dGVuZCh7fSx7ZW5hYmxlZDohZixsb2NrZWQ6ITEsZGlzYWJsZTpmdW5jdGlvbihjKXtmfHxhLm1vYmlsZS56b29tLmxvY2tlZHx8KGIuYXR0cihcImNvbnRlbnRcIixkKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITEsYS5tb2JpbGUuem9vbS5sb2NrZWQ9Y3x8ITEpfSxlbmFibGU6ZnVuY3Rpb24oYyl7Znx8YS5tb2JpbGUuem9vbS5sb2NrZWQmJmMhPT0hMHx8KGIuYXR0cihcImNvbnRlbnRcIixlKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITAsYS5tb2JpbGUuem9vbS5sb2NrZWQ9ITEpfSxyZXN0b3JlOmZ1bmN0aW9uKCl7Znx8KGIuYXR0cihcImNvbnRlbnRcIixjKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITApfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KFwibW9iaWxlLnRleHRpbnB1dFwiLHtpbml0U2VsZWN0b3I6XCJpbnB1dFt0eXBlPSd0ZXh0J10saW5wdXRbdHlwZT0nc2VhcmNoJ10sOmpxbURhdGEodHlwZT0nc2VhcmNoJyksaW5wdXRbdHlwZT0nbnVtYmVyJ10sOmpxbURhdGEodHlwZT0nbnVtYmVyJyksaW5wdXRbdHlwZT0ncGFzc3dvcmQnXSxpbnB1dFt0eXBlPSdlbWFpbCddLGlucHV0W3R5cGU9J3VybCddLGlucHV0W3R5cGU9J3RlbCddLHRleHRhcmVhLGlucHV0W3R5cGU9J3RpbWUnXSxpbnB1dFt0eXBlPSdkYXRlJ10saW5wdXRbdHlwZT0nbW9udGgnXSxpbnB1dFt0eXBlPSd3ZWVrJ10saW5wdXRbdHlwZT0nZGF0ZXRpbWUnXSxpbnB1dFt0eXBlPSdkYXRldGltZS1sb2NhbCddLGlucHV0W3R5cGU9J2NvbG9yJ10saW5wdXQ6bm90KFt0eXBlXSksaW5wdXRbdHlwZT0nZmlsZSddXCIsb3B0aW9uczp7dGhlbWU6bnVsbCxjb3JuZXJzOiEwLG1pbmk6ITEscHJldmVudEZvY3VzWm9vbTovaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJBcHBsZVdlYktpdFwiKT4tMSx3cmFwcGVyQ2xhc3M6XCJcIixlbmhhbmNlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPXRoaXMuZWxlbWVudC5pcyhcIlt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJylcIiksZD1cIlRFWFRBUkVBXCI9PT10aGlzLmVsZW1lbnRbMF0udGFnTmFtZSxlPXRoaXMuZWxlbWVudC5pcyhcIltkYXRhLVwiKyhhLm1vYmlsZS5uc3x8XCJcIikrXCJ0eXBlPSdyYW5nZSddXCIpLGY9KHRoaXMuZWxlbWVudC5pcyhcImlucHV0XCIpfHx0aGlzLmVsZW1lbnQuaXMoXCJbZGF0YS1cIisoYS5tb2JpbGUubnN8fFwiXCIpK1widHlwZT0nc2VhcmNoJ11cIikpJiYhZTt0aGlzLmVsZW1lbnQucHJvcChcImRpc2FibGVkXCIpJiYoYi5kaXNhYmxlZD0hMCksYS5leHRlbmQodGhpcyx7Y2xhc3Nlczp0aGlzLl9jbGFzc2VzRnJvbU9wdGlvbnMoKSxpc1NlYXJjaDpjLGlzVGV4dGFyZWE6ZCxpc1JhbmdlOmUsaW5wdXROZWVkc1dyYXA6Zn0pLHRoaXMuX2F1dG9Db3JyZWN0KCksYi5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLHRoaXMuX29uKHtmb2N1czpcIl9oYW5kbGVGb2N1c1wiLGJsdXI6XCJfaGFuZGxlQmx1clwifSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnNldE9wdGlvbnMoe2Rpc2FibGVkOnRoaXMuZWxlbWVudC5pcyhcIjpkaXNhYmxlZFwiKX0pfSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBhPVtdO3RoaXMuaXNUZXh0YXJlYSYmYS5wdXNoKFwidWktaW5wdXQtdGV4dFwiKSwodGhpcy5pc1RleHRhcmVhfHx0aGlzLmlzUmFuZ2UpJiZhLnB1c2goXCJ1aS1zaGFkb3ctaW5zZXRcIiksdGhpcy5pbnB1dE5lZWRzV3JhcD90aGlzLmVsZW1lbnQud3JhcCh0aGlzLl93cmFwKCkpOmE9YS5jb25jYXQodGhpcy5jbGFzc2VzKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYS5qb2luKFwiIFwiKSl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0TmVlZHNXcmFwP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnR9LF9jbGFzc2VzRnJvbU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYj1bXTtyZXR1cm4gYi5wdXNoKFwidWktYm9keS1cIisobnVsbD09PWEudGhlbWU/XCJpbmhlcml0XCI6YS50aGVtZSkpLGEuY29ybmVycyYmYi5wdXNoKFwidWktY29ybmVyLWFsbFwiKSxhLm1pbmkmJmIucHVzaChcInVpLW1pbmlcIiksYS5kaXNhYmxlZCYmYi5wdXNoKFwidWktc3RhdGUtZGlzYWJsZWRcIiksYS53cmFwcGVyQ2xhc3MmJmIucHVzaChhLndyYXBwZXJDbGFzcyksYlxufSxfd3JhcDpmdW5jdGlvbigpe3JldHVybiBhKFwiPGRpdiBjbGFzcz0nXCIrKHRoaXMuaXNTZWFyY2g/XCJ1aS1pbnB1dC1zZWFyY2ggXCI6XCJ1aS1pbnB1dC10ZXh0IFwiKSt0aGlzLmNsYXNzZXMuam9pbihcIiBcIikrXCIgdWktc2hhZG93LWluc2V0Jz48L2Rpdj5cIil9LF9hdXRvQ29ycmVjdDpmdW5jdGlvbigpe1widW5kZWZpbmVkXCI9PXR5cGVvZiB0aGlzLmVsZW1lbnRbMF0uYXV0b2NvcnJlY3R8fGEuc3VwcG9ydC50b3VjaE92ZXJmbG93fHwodGhpcy5lbGVtZW50WzBdLnNldEF0dHJpYnV0ZShcImF1dG9jb3JyZWN0XCIsXCJvZmZcIiksdGhpcy5lbGVtZW50WzBdLnNldEF0dHJpYnV0ZShcImF1dG9jb21wbGV0ZVwiLFwib2ZmXCIpKX0sX2hhbmRsZUJsdXI6ZnVuY3Rpb24oKXt0aGlzLndpZGdldCgpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpLHRoaXMub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCl9LF9oYW5kbGVGb2N1czpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApLHRoaXMud2lkZ2V0KCkuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMud2lkZ2V0KCk7dGhpcy5fc3VwZXIoYSksKGEuZGlzYWJsZWQhPT1ifHxhLm1pbmkhPT1ifHxhLmNvcm5lcnMhPT1ifHxhLnRoZW1lIT09Ynx8YS53cmFwcGVyQ2xhc3MhPT1iKSYmKGMucmVtb3ZlQ2xhc3ModGhpcy5jbGFzc2VzLmpvaW4oXCIgXCIpKSx0aGlzLmNsYXNzZXM9dGhpcy5fY2xhc3Nlc0Zyb21PcHRpb25zKCksYy5hZGRDbGFzcyh0aGlzLmNsYXNzZXMuam9pbihcIiBcIikpKSxhLmRpc2FibGVkIT09YiYmdGhpcy5lbGVtZW50LnByb3AoXCJkaXNhYmxlZFwiLCEhYS5kaXNhYmxlZCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkfHwodGhpcy5pbnB1dE5lZWRzV3JhcCYmdGhpcy5lbGVtZW50LnVud3JhcCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLWlucHV0LXRleHQgXCIrdGhpcy5jbGFzc2VzLmpvaW4oXCIgXCIpKSl9fSl9KGEpLGZ1bmN0aW9uKGEsZCl7YS53aWRnZXQoXCJtb2JpbGUuc2xpZGVyXCIsYS5leHRlbmQoe2luaXRTZWxlY3RvcjpcImlucHV0W3R5cGU9J3JhbmdlJ10sIDpqcW1EYXRhKHR5cGU9J3JhbmdlJyksIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpXCIsd2lkZ2V0RXZlbnRQcmVmaXg6XCJzbGlkZVwiLG9wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGNvcm5lcnM6ITAsbWluaTohMSxoaWdobGlnaHQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZSxmLGcsaCxpLGosayxsLG0sbixvPXRoaXMscD10aGlzLmVsZW1lbnQscT10aGlzLm9wdGlvbnMudHJhY2tUaGVtZXx8YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHBbMF0sXCJ0aGVtZVwiKSxyPXE/XCIgdWktYmFyLVwiK3E6XCIgdWktYmFyLWluaGVyaXRcIixzPXRoaXMub3B0aW9ucy5jb3JuZXJzfHxwLmpxbURhdGEoXCJjb3JuZXJzXCIpP1wiIHVpLWNvcm5lci1hbGxcIjpcIlwiLHQ9dGhpcy5vcHRpb25zLm1pbml8fHAuanFtRGF0YShcIm1pbmlcIik/XCIgdWktbWluaVwiOlwiXCIsdT1wWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksdj1cInNlbGVjdFwiPT09dSx3PXAucGFyZW50KCkuaXMoXCI6anFtRGF0YShyb2xlPSdyYW5nZXNsaWRlcicpXCIpLHg9dj9cInVpLXNsaWRlci1zd2l0Y2hcIjpcIlwiLHk9cC5hdHRyKFwiaWRcIiksej1hKFwiW2Zvcj0nXCIreStcIiddXCIpLEE9ei5hdHRyKFwiaWRcIil8fHkrXCItbGFiZWxcIixCPXY/MDpwYXJzZUZsb2F0KHAuYXR0cihcIm1pblwiKSksQz12P3AuZmluZChcIm9wdGlvblwiKS5sZW5ndGgtMTpwYXJzZUZsb2F0KHAuYXR0cihcIm1heFwiKSksRD1iLnBhcnNlRmxvYXQocC5hdHRyKFwic3RlcFwiKXx8MSksRT1jLmNyZWF0ZUVsZW1lbnQoXCJhXCIpLEY9YShFKSxHPWMuY3JlYXRlRWxlbWVudChcImRpdlwiKSxIPWEoRyksST10aGlzLm9wdGlvbnMuaGlnaGxpZ2h0JiYhdj9mdW5jdGlvbigpe3ZhciBiPWMuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gYi5jbGFzc05hbWU9XCJ1aS1zbGlkZXItYmcgXCIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MsYShiKS5wcmVwZW5kVG8oSCl9KCk6ITE7aWYoei5hdHRyKFwiaWRcIixBKSx0aGlzLmlzVG9nZ2xlU3dpdGNoPXYsRS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsXCIjXCIpLEcuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYXBwbGljYXRpb25cIiksRy5jbGFzc05hbWU9W3RoaXMuaXNUb2dnbGVTd2l0Y2g/XCJ1aS1zbGlkZXIgdWktc2xpZGVyLXRyYWNrIHVpLXNoYWRvdy1pbnNldCBcIjpcInVpLXNsaWRlci10cmFjayB1aS1zaGFkb3ctaW5zZXQgXCIseCxyLHMsdF0uam9pbihcIlwiKSxFLmNsYXNzTmFtZT1cInVpLXNsaWRlci1oYW5kbGVcIixHLmFwcGVuZENoaWxkKEUpLEYuYXR0cih7cm9sZTpcInNsaWRlclwiLFwiYXJpYS12YWx1ZW1pblwiOkIsXCJhcmlhLXZhbHVlbWF4XCI6QyxcImFyaWEtdmFsdWVub3dcIjp0aGlzLl92YWx1ZSgpLFwiYXJpYS12YWx1ZXRleHRcIjp0aGlzLl92YWx1ZSgpLHRpdGxlOnRoaXMuX3ZhbHVlKCksXCJhcmlhLWxhYmVsbGVkYnlcIjpBfSksYS5leHRlbmQodGhpcyx7c2xpZGVyOkgsaGFuZGxlOkYsY29udHJvbDpwLHR5cGU6dSxzdGVwOkQsbWF4OkMsbWluOkIsdmFsdWViZzpJLGlzUmFuZ2VzbGlkZXI6dyxkcmFnZ2luZzohMSxiZWZvcmVTdGFydDpudWxsLHVzZXJNb2RpZmllZDohMSxtb3VzZU1vdmVkOiExfSksdil7Zm9yKGs9cC5hdHRyKFwidGFiaW5kZXhcIiksayYmRi5hdHRyKFwidGFiaW5kZXhcIixrKSxwLmF0dHIoXCJ0YWJpbmRleFwiLFwiLTFcIikuZm9jdXMoZnVuY3Rpb24oKXthKHRoaXMpLmJsdXIoKSxGLmZvY3VzKCl9KSxmPWMuY3JlYXRlRWxlbWVudChcImRpdlwiKSxmLmNsYXNzTmFtZT1cInVpLXNsaWRlci1pbm5lcm9mZnNldFwiLGc9MCxoPUcuY2hpbGROb2Rlcy5sZW5ndGg7aD5nO2crKylmLmFwcGVuZENoaWxkKEcuY2hpbGROb2Rlc1tnXSk7Zm9yKEcuYXBwZW5kQ2hpbGQoZiksRi5hZGRDbGFzcyhcInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmdcIiksZT1wLmZpbmQoXCJvcHRpb25cIiksaT0wLGo9ZS5sZW5ndGg7aj5pO2krKylsPWk/XCJhXCI6XCJiXCIsbT1pP1wiIFwiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzOlwiXCIsbj1jLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLG4uY2xhc3NOYW1lPVtcInVpLXNsaWRlci1sYWJlbCB1aS1zbGlkZXItbGFiZWwtXCIsbCxtXS5qb2luKFwiXCIpLG4uc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiaW1nXCIpLG4uYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShlW2ldLmlubmVySFRNTCkpLGEobikucHJlcGVuZFRvKEgpO28uX2xhYmVscz1hKFwiLnVpLXNsaWRlci1sYWJlbFwiLEgpfXAuYWRkQ2xhc3Modj9cInVpLXNsaWRlci1zd2l0Y2hcIjpcInVpLXNsaWRlci1pbnB1dFwiKSx0aGlzLl9vbihwLHtjaGFuZ2U6XCJfY29udHJvbENoYW5nZVwiLGtleXVwOlwiX2NvbnRyb2xLZXl1cFwiLGJsdXI6XCJfY29udHJvbEJsdXJcIix2bW91c2V1cDpcIl9jb250cm9sVk1vdXNlVXBcIn0pLEguYmluZChcInZtb3VzZWRvd25cIixhLnByb3h5KHRoaXMuX3NsaWRlclZNb3VzZURvd24sdGhpcykpLmJpbmQoXCJ2Y2xpY2tcIiwhMSksdGhpcy5fb24oYyx7dm1vdXNlbW92ZTpcIl9wcmV2ZW50RG9jdW1lbnREcmFnXCJ9KSx0aGlzLl9vbihILmFkZChjKSx7dm1vdXNldXA6XCJfc2xpZGVyVk1vdXNlVXBcIn0pLEguaW5zZXJ0QWZ0ZXIocCksdnx8d3x8KGY9dGhpcy5vcHRpb25zLm1pbmk/XCI8ZGl2IGNsYXNzPSd1aS1zbGlkZXIgdWktbWluaSc+XCI6XCI8ZGl2IGNsYXNzPSd1aS1zbGlkZXInPlwiLHAuYWRkKEgpLndyYXBBbGwoZikpLHRoaXMuX29uKHRoaXMuaGFuZGxlLHt2bW91c2Vkb3duOlwiX2hhbmRsZVZNb3VzZURvd25cIixrZXlkb3duOlwiX2hhbmRsZUtleWRvd25cIixrZXl1cDpcIl9oYW5kbGVLZXl1cFwifSksdGhpcy5oYW5kbGUuYmluZChcInZjbGlja1wiLCExKSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLnJlZnJlc2goZCxkLCEwKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7YS50aGVtZSE9PWQmJnRoaXMuX3NldFRoZW1lKGEudGhlbWUpLGEudHJhY2tUaGVtZSE9PWQmJnRoaXMuX3NldFRyYWNrVGhlbWUoYS50cmFja1RoZW1lKSxhLmNvcm5lcnMhPT1kJiZ0aGlzLl9zZXRDb3JuZXJzKGEuY29ybmVycyksYS5taW5pIT09ZCYmdGhpcy5fc2V0TWluaShhLm1pbmkpLGEuaGlnaGxpZ2h0IT09ZCYmdGhpcy5fc2V0SGlnaGxpZ2h0KGEuaGlnaGxpZ2h0KSxhLmRpc2FibGVkIT09ZCYmdGhpcy5fc2V0RGlzYWJsZWQoYS5kaXNhYmxlZCksdGhpcy5fc3VwZXIoYSl9LF9jb250cm9sQ2hhbmdlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl90cmlnZ2VyKFwiY29udHJvbGNoYW5nZVwiLGEpPT09ITE/ITE6dm9pZCh0aGlzLm1vdXNlTW92ZWR8fHRoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwKSl9LF9jb250cm9sS2V5dXA6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSwhMCwhMCl9LF9jb250cm9sQmx1cjpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwKX0sX2NvbnRyb2xWTW91c2VVcDpmdW5jdGlvbigpe3RoaXMuX2NoZWNrZWRSZWZyZXNoKCl9LF9oYW5kbGVWTW91c2VEb3duOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGUuZm9jdXMoKX0sX2hhbmRsZUtleWRvd246ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fdmFsdWUoKTtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkKXtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTpjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDpiLnByZXZlbnREZWZhdWx0KCksdGhpcy5fa2V5U2xpZGluZ3x8KHRoaXMuX2tleVNsaWRpbmc9ITAsdGhpcy5oYW5kbGUuYWRkQ2xhc3MoXCJ1aS1zdGF0ZS1hY3RpdmVcIikpfXN3aXRjaChiLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOnRoaXMucmVmcmVzaCh0aGlzLm1pbik7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDp0aGlzLnJlZnJlc2godGhpcy5tYXgpO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6dGhpcy5yZWZyZXNoKGMrdGhpcy5zdGVwKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOnRoaXMucmVmcmVzaChjLXRoaXMuc3RlcCl9fX0sX2hhbmRsZUtleXVwOmZ1bmN0aW9uKCl7dGhpcy5fa2V5U2xpZGluZyYmKHRoaXMuX2tleVNsaWRpbmc9ITEsdGhpcy5oYW5kbGUucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1hY3RpdmVcIikpfSxfc2xpZGVyVk1vdXNlRG93bjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vcHRpb25zLmRpc2FibGVkfHwxIT09YS53aGljaCYmMCE9PWEud2hpY2gmJmEud2hpY2ghPT1kPyExOnRoaXMuX3RyaWdnZXIoXCJiZWZvcmVzdGFydFwiLGEpPT09ITE/ITE6KHRoaXMuZHJhZ2dpbmc9ITAsdGhpcy51c2VyTW9kaWZpZWQ9ITEsdGhpcy5tb3VzZU1vdmVkPSExLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJih0aGlzLmJlZm9yZVN0YXJ0PXRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4KSx0aGlzLnJlZnJlc2goYSksdGhpcy5fdHJpZ2dlcihcInN0YXJ0XCIpLCExKX0sX3NsaWRlclZNb3VzZVVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhZ2dpbmc/KHRoaXMuZHJhZ2dpbmc9ITEsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmKHRoaXMuaGFuZGxlLmFkZENsYXNzKFwidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZ1wiKSx0aGlzLnJlZnJlc2godGhpcy5tb3VzZU1vdmVkP3RoaXMudXNlck1vZGlmaWVkPzA9PT10aGlzLmJlZm9yZVN0YXJ0PzE6MDp0aGlzLmJlZm9yZVN0YXJ0OjA9PT10aGlzLmJlZm9yZVN0YXJ0PzE6MCkpLHRoaXMubW91c2VNb3ZlZD0hMSx0aGlzLl90cmlnZ2VyKFwic3RvcFwiKSwhMSk6dm9pZCAwfSxfcHJldmVudERvY3VtZW50RHJhZzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcihcImRyYWdcIixhKT09PSExPyExOnRoaXMuZHJhZ2dpbmcmJiF0aGlzLm9wdGlvbnMuZGlzYWJsZWQ/KHRoaXMubW91c2VNb3ZlZD0hMCx0aGlzLmlzVG9nZ2xlU3dpdGNoJiZ0aGlzLmhhbmRsZS5yZW1vdmVDbGFzcyhcInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmdcIiksdGhpcy5yZWZyZXNoKGEpLHRoaXMudXNlck1vZGlmaWVkPXRoaXMuYmVmb3JlU3RhcnQhPT10aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCwhMSk6dm9pZCAwfSxfY2hlY2tlZFJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnZhbHVlIT09dGhpcy5fdmFsdWUoKSYmdGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCkpfSxfdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1RvZ2dsZVN3aXRjaD90aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleDpwYXJzZUZsb2F0KHRoaXMuZWxlbWVudC52YWwoKSl9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaChkLCExLCEwKX0scmVmcmVzaDpmdW5jdGlvbihiLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdix3LHgseSx6PXRoaXMsQT1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcy5lbGVtZW50WzBdLFwidGhlbWVcIiksQj10aGlzLm9wdGlvbnMudGhlbWV8fEEsQz1CP1wiIHVpLWJ0bi1cIitCOlwiXCIsRD10aGlzLm9wdGlvbnMudHJhY2tUaGVtZXx8QSxFPUQ/XCIgdWktYmFyLVwiK0Q6XCIgdWktYmFyLWluaGVyaXRcIixGPXRoaXMub3B0aW9ucy5jb3JuZXJzP1wiIHVpLWNvcm5lci1hbGxcIjpcIlwiLEc9dGhpcy5vcHRpb25zLm1pbmk/XCIgdWktbWluaVwiOlwiXCI7aWYoei5zbGlkZXJbMF0uY2xhc3NOYW1lPVt0aGlzLmlzVG9nZ2xlU3dpdGNoP1widWktc2xpZGVyIHVpLXNsaWRlci1zd2l0Y2ggdWktc2xpZGVyLXRyYWNrIHVpLXNoYWRvdy1pbnNldFwiOlwidWktc2xpZGVyLXRyYWNrIHVpLXNoYWRvdy1pbnNldFwiLEUsRixHXS5qb2luKFwiXCIpLCh0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fHRoaXMuZWxlbWVudC5wcm9wKFwiZGlzYWJsZWRcIikpJiZ0aGlzLmRpc2FibGUoKSx0aGlzLnZhbHVlPXRoaXMuX3ZhbHVlKCksdGhpcy5vcHRpb25zLmhpZ2hsaWdodCYmIXRoaXMuaXNUb2dnbGVTd2l0Y2gmJjA9PT10aGlzLnNsaWRlci5maW5kKFwiLnVpLXNsaWRlci1iZ1wiKS5sZW5ndGgmJih0aGlzLnZhbHVlYmc9ZnVuY3Rpb24oKXt2YXIgYj1jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGIuY2xhc3NOYW1lPVwidWktc2xpZGVyLWJnIFwiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLGEoYikucHJlcGVuZFRvKHouc2xpZGVyKX0oKSksdGhpcy5oYW5kbGUuYWRkQ2xhc3MoXCJ1aS1idG5cIitDK1wiIHVpLXNoYWRvd1wiKSxsPXRoaXMuZWxlbWVudCxtPSF0aGlzLmlzVG9nZ2xlU3dpdGNoLG49bT9bXTpsLmZpbmQoXCJvcHRpb25cIiksbz1tP3BhcnNlRmxvYXQobC5hdHRyKFwibWluXCIpKTowLHA9bT9wYXJzZUZsb2F0KGwuYXR0cihcIm1heFwiKSk6bi5sZW5ndGgtMSxxPW0mJnBhcnNlRmxvYXQobC5hdHRyKFwic3RlcFwiKSk+MD9wYXJzZUZsb2F0KGwuYXR0cihcInN0ZXBcIikpOjEsXCJvYmplY3RcIj09dHlwZW9mIGIpe2lmKGg9YixpPTgsZj10aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0LGc9dGhpcy5zbGlkZXIud2lkdGgoKSxqPWcvKChwLW8pL3EpLCF0aGlzLmRyYWdnaW5nfHxoLnBhZ2VYPGYtaXx8aC5wYWdlWD5mK2craSlyZXR1cm47az1qPjE/KGgucGFnZVgtZikvZyoxMDA6TWF0aC5yb3VuZCgoaC5wYWdlWC1mKS9nKjEwMCl9ZWxzZSBudWxsPT1iJiYoYj1tP3BhcnNlRmxvYXQobC52YWwoKXx8MCk6bFswXS5zZWxlY3RlZEluZGV4KSxrPShwYXJzZUZsb2F0KGIpLW8pLyhwLW8pKjEwMDtpZighaXNOYU4oaykmJihyPWsvMTAwKihwLW8pK28scz0oci1vKSVxLHQ9ci1zLDIqTWF0aC5hYnMocyk+PXEmJih0Kz1zPjA/cTotcSksdT0xMDAvKChwLW8pL3EpLHI9cGFyc2VGbG9hdCh0LnRvRml4ZWQoNSkpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBqJiYoaj1nLygocC1vKS9xKSksaj4xJiZtJiYoaz0oci1vKSp1KigxL3EpKSwwPmsmJihrPTApLGs+MTAwJiYoaz0xMDApLG8+ciYmKHI9bykscj5wJiYocj1wKSx0aGlzLmhhbmRsZS5jc3MoXCJsZWZ0XCIsaytcIiVcIiksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZW5vd1wiLG0/cjpuLmVxKHIpLmF0dHIoXCJ2YWx1ZVwiKSksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZXRleHRcIixtP3I6bi5lcShyKS5nZXRFbmNvZGVkVGV4dCgpKSx0aGlzLmhhbmRsZVswXS5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLG0/cjpuLmVxKHIpLmdldEVuY29kZWRUZXh0KCkpLHRoaXMudmFsdWViZyYmdGhpcy52YWx1ZWJnLmNzcyhcIndpZHRoXCIsaytcIiVcIiksdGhpcy5fbGFiZWxzJiYodj10aGlzLmhhbmRsZS53aWR0aCgpL3RoaXMuc2xpZGVyLndpZHRoKCkqMTAwLHc9ayYmdisoMTAwLXYpKmsvMTAwLHg9MTAwPT09az8wOk1hdGgubWluKHYrMTAwLXcsMTAwKSx0aGlzLl9sYWJlbHMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcykuaGFzQ2xhc3MoXCJ1aS1zbGlkZXItbGFiZWwtYVwiKTthKHRoaXMpLndpZHRoKChiP3c6eCkrXCIlXCIpfSkpLCFlKSl7aWYoeT0hMSxtPyh5PXBhcnNlRmxvYXQobC52YWwoKSkhPT1yLGwudmFsKHIpKTooeT1sWzBdLnNlbGVjdGVkSW5kZXghPT1yLGxbMF0uc2VsZWN0ZWRJbmRleD1yKSx0aGlzLl90cmlnZ2VyKFwiYmVmb3JlY2hhbmdlXCIsYik9PT0hMSlyZXR1cm4hMTshZCYmeSYmbC50cmlnZ2VyKFwiY2hhbmdlXCIpfX0sX3NldEhpZ2hsaWdodDpmdW5jdGlvbihhKXthPSEhYSxhPyh0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0PSEhYSx0aGlzLnJlZnJlc2goKSk6dGhpcy52YWx1ZWJnJiYodGhpcy52YWx1ZWJnLnJlbW92ZSgpLHRoaXMudmFsdWViZz0hMSl9LF9zZXRUaGVtZTpmdW5jdGlvbihhKXt0aGlzLmhhbmRsZS5yZW1vdmVDbGFzcyhcInVpLWJ0bi1cIit0aGlzLm9wdGlvbnMudGhlbWUpLmFkZENsYXNzKFwidWktYnRuLVwiK2EpO3ZhciBiPXRoaXMub3B0aW9ucy50aGVtZT90aGlzLm9wdGlvbnMudGhlbWU6XCJpbmhlcml0XCIsYz1hP2E6XCJpbmhlcml0XCI7dGhpcy5jb250cm9sLnJlbW92ZUNsYXNzKFwidWktYm9keS1cIitiKS5hZGRDbGFzcyhcInVpLWJvZHktXCIrYyl9LF9zZXRUcmFja1RoZW1lOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucy50cmFja1RoZW1lP3RoaXMub3B0aW9ucy50cmFja1RoZW1lOlwiaW5oZXJpdFwiLGM9YT9hOlwiaW5oZXJpdFwiO3RoaXMuc2xpZGVyLnJlbW92ZUNsYXNzKFwidWktYm9keS1cIitiKS5hZGRDbGFzcyhcInVpLWJvZHktXCIrYyl9LF9zZXRNaW5pOmZ1bmN0aW9uKGEpe2E9ISFhLHRoaXMuaXNUb2dnbGVTd2l0Y2h8fHRoaXMuaXNSYW5nZXNsaWRlcnx8KHRoaXMuc2xpZGVyLnBhcmVudCgpLnRvZ2dsZUNsYXNzKFwidWktbWluaVwiLGEpLHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcyhcInVpLW1pbmlcIixhKSksdGhpcy5zbGlkZXIudG9nZ2xlQ2xhc3MoXCJ1aS1taW5pXCIsYSl9LF9zZXRDb3JuZXJzOmZ1bmN0aW9uKGEpe3RoaXMuc2xpZGVyLnRvZ2dsZUNsYXNzKFwidWktY29ybmVyLWFsbFwiLGEpLHRoaXMuaXNUb2dnbGVTd2l0Y2h8fHRoaXMuY29udHJvbC50b2dnbGVDbGFzcyhcInVpLWNvcm5lci1hbGxcIixhKX0sX3NldERpc2FibGVkOmZ1bmN0aW9uKGEpe2E9ISFhLHRoaXMuZWxlbWVudC5wcm9wKFwiZGlzYWJsZWRcIixhKSx0aGlzLnNsaWRlci50b2dnbGVDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIsYSkuYXR0cihcImFyaWEtZGlzYWJsZWRcIixhKSx0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiLGEpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpfShhKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7cmV0dXJuIGN8fChjPWEoXCI8ZGl2PjwvZGl2PlwiLHtcImNsYXNzXCI6XCJ1aS1zbGlkZXItcG9wdXAgdWktc2hhZG93IHVpLWNvcm5lci1hbGxcIn0pKSxjLmNsb25lKCl9dmFyIGM7YS53aWRnZXQoXCJtb2JpbGUuc2xpZGVyXCIsYS5tb2JpbGUuc2xpZGVyLHtvcHRpb25zOntwb3B1cEVuYWJsZWQ6ITEsc2hvd1ZhbHVlOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSxhLmV4dGVuZCh0aGlzLHtfY3VycmVudFZhbHVlOm51bGwsX3BvcHVwOm51bGwsX3BvcHVwVmlzaWJsZTohMX0pLHRoaXMuX3NldE9wdGlvbihcInBvcHVwRW5hYmxlZFwiLHRoaXMub3B0aW9ucy5wb3B1cEVuYWJsZWQpLHRoaXMuX29uKHRoaXMuaGFuZGxlLHt2bW91c2Vkb3duOlwiX3Nob3dQb3B1cFwifSksdGhpcy5fb24odGhpcy5zbGlkZXIuYWRkKHRoaXMuZG9jdW1lbnQpLHt2bW91c2V1cDpcIl9oaWRlUG9wdXBcIn0pLHRoaXMuX3JlZnJlc2goKX0sX3Bvc2l0aW9uUG9wdXA6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmhhbmRsZS5vZmZzZXQoKTt0aGlzLl9wb3B1cC5vZmZzZXQoe2xlZnQ6YS5sZWZ0Kyh0aGlzLmhhbmRsZS53aWR0aCgpLXRoaXMuX3BvcHVwLndpZHRoKCkpLzIsdG9wOmEudG9wLXRoaXMuX3BvcHVwLm91dGVySGVpZ2h0KCktNX0pfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYyl7dGhpcy5fc3VwZXIoYSxjKSxcInNob3dWYWx1ZVwiPT09YT90aGlzLmhhbmRsZS5odG1sKGMmJiF0aGlzLm9wdGlvbnMubWluaT90aGlzLl92YWx1ZSgpOlwiXCIpOlwicG9wdXBFbmFibGVkXCI9PT1hJiZjJiYhdGhpcy5fcG9wdXAmJih0aGlzLl9wb3B1cD1iKCkuYWRkQ2xhc3MoXCJ1aS1ib2R5LVwiKyh0aGlzLm9wdGlvbnMudGhlbWV8fFwiYVwiKSkuaGlkZSgpLmluc2VydEJlZm9yZSh0aGlzLmVsZW1lbnQpKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3N1cGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9yZWZyZXNoKCl9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLm9wdGlvbnM7Yi5wb3B1cEVuYWJsZWQmJnRoaXMuaGFuZGxlLnJlbW92ZUF0dHIoXCJ0aXRsZVwiKSxhPXRoaXMuX3ZhbHVlKCksYSE9PXRoaXMuX2N1cnJlbnRWYWx1ZSYmKHRoaXMuX2N1cnJlbnRWYWx1ZT1hLGIucG9wdXBFbmFibGVkJiZ0aGlzLl9wb3B1cCYmKHRoaXMuX3Bvc2l0aW9uUG9wdXAoKSx0aGlzLl9wb3B1cC5odG1sKGEpKSxiLnNob3dWYWx1ZSYmIXRoaXMub3B0aW9ucy5taW5pJiZ0aGlzLmhhbmRsZS5odG1sKGEpKX0sX3Nob3dQb3B1cDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3B1cEVuYWJsZWQmJiF0aGlzLl9wb3B1cFZpc2libGUmJih0aGlzLmhhbmRsZS5odG1sKFwiXCIpLHRoaXMuX3BvcHVwLnNob3coKSx0aGlzLl9wb3NpdGlvblBvcHVwKCksdGhpcy5fcG9wdXBWaXNpYmxlPSEwKX0sX2hpZGVQb3B1cDpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9uczthLnBvcHVwRW5hYmxlZCYmdGhpcy5fcG9wdXBWaXNpYmxlJiYoYS5zaG93VmFsdWUmJiFhLm1pbmkmJnRoaXMuaGFuZGxlLmh0bWwodGhpcy5fdmFsdWUoKSksdGhpcy5fcG9wdXAuaGlkZSgpLHRoaXMuX3BvcHVwVmlzaWJsZT0hMSl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoXCJtb2JpbGUuZmxpcHN3aXRjaFwiLGEuZXh0ZW5kKHtvcHRpb25zOntvblRleHQ6XCJPblwiLG9mZlRleHQ6XCJPZmZcIix0aGVtZTpudWxsLGVuaGFuY2VkOiExLHdyYXBwZXJDbGFzczpudWxsLGNvcm5lcnM6ITAsbWluaTohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZD9hLmV4dGVuZCh0aGlzLHtmbGlwc3dpdGNoOnRoaXMuZWxlbWVudC5wYXJlbnQoKSxvbjp0aGlzLmVsZW1lbnQuZmluZChcIi51aS1mbGlwc3dpdGNoLW9uXCIpLmVxKDApLG9mZjp0aGlzLmVsZW1lbnQuZmluZChcIi51aS1mbGlwc3dpdGNoLW9mZlwiKS5lcSgwKSx0eXBlOnRoaXMuZWxlbWVudC5nZXQoMCkudGFnTmFtZX0pOnRoaXMuX2VuaGFuY2UoKSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLl9vcmlnaW5hbFRhYkluZGV4PXRoaXMuZWxlbWVudC5hdHRyKFwidGFiaW5kZXhcIiksbnVsbCE9dGhpcy5fb3JpZ2luYWxUYWJJbmRleCYmdGhpcy5vbi5hdHRyKFwidGFiaW5kZXhcIix0aGlzLl9vcmlnaW5hbFRhYkluZGV4KSx0aGlzLmVsZW1lbnQuYXR0cihcInRhYmluZGV4XCIsXCItMVwiKSx0aGlzLl9vbih7Zm9jdXM6XCJfaGFuZGxlSW5wdXRGb2N1c1wifSksdGhpcy5lbGVtZW50LmlzKFwiOmRpc2FibGVkXCIpJiZ0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMH0pLHRoaXMuX29uKHRoaXMuZmxpcHN3aXRjaCx7Y2xpY2s6XCJfdG9nZ2xlXCIsc3dpcGVsZWZ0OlwiX2xlZnRcIixzd2lwZXJpZ2h0OlwiX3JpZ2h0XCJ9KSx0aGlzLl9vbih0aGlzLm9uLHtrZXlkb3duOlwiX2tleWRvd25cIn0pLHRoaXMuX29uKHtjaGFuZ2U6XCJyZWZyZXNoXCJ9KX0sX2hhbmRsZUlucHV0Rm9jdXM6ZnVuY3Rpb24oKXt0aGlzLm9uLmZvY3VzKCl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZsaXBzd2l0Y2h9LF9sZWZ0OmZ1bmN0aW9uKCl7dGhpcy5mbGlwc3dpdGNoLnJlbW92ZUNsYXNzKFwidWktZmxpcHN3aXRjaC1hY3RpdmVcIiksXCJTRUxFQ1RcIj09PXRoaXMudHlwZT90aGlzLmVsZW1lbnQuZ2V0KDApLnNlbGVjdGVkSW5kZXg9MDp0aGlzLmVsZW1lbnQucHJvcChcImNoZWNrZWRcIiwhMSksdGhpcy5lbGVtZW50LnRyaWdnZXIoXCJjaGFuZ2VcIil9LF9yaWdodDpmdW5jdGlvbigpe3RoaXMuZmxpcHN3aXRjaC5hZGRDbGFzcyhcInVpLWZsaXBzd2l0Y2gtYWN0aXZlXCIpLFwiU0VMRUNUXCI9PT10aGlzLnR5cGU/dGhpcy5lbGVtZW50LmdldCgwKS5zZWxlY3RlZEluZGV4PTE6dGhpcy5lbGVtZW50LnByb3AoXCJjaGVja2VkXCIsITApLHRoaXMuZWxlbWVudC50cmlnZ2VyKFwiY2hhbmdlXCIpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBiPWEoXCI8ZGl2PlwiKSxjPXRoaXMub3B0aW9ucyxkPXRoaXMuZWxlbWVudCxlPWMudGhlbWU/Yy50aGVtZTpcImluaGVyaXRcIixmPWEoXCI8YT48L2E+XCIse2hyZWY6XCIjXCJ9KSxnPWEoXCI8c3Bhbj48L3NwYW4+XCIpLGg9ZC5nZXQoMCkudGFnTmFtZSxpPVwiSU5QVVRcIj09PWg/Yy5vblRleHQ6ZC5maW5kKFwib3B0aW9uXCIpLmVxKDEpLnRleHQoKSxqPVwiSU5QVVRcIj09PWg/Yy5vZmZUZXh0OmQuZmluZChcIm9wdGlvblwiKS5lcSgwKS50ZXh0KCk7Zi5hZGRDbGFzcyhcInVpLWZsaXBzd2l0Y2gtb24gdWktYnRuIHVpLXNoYWRvdyB1aS1idG4taW5oZXJpdFwiKS50ZXh0KGkpLGcuYWRkQ2xhc3MoXCJ1aS1mbGlwc3dpdGNoLW9mZlwiKS50ZXh0KGopLGIuYWRkQ2xhc3MoXCJ1aS1mbGlwc3dpdGNoIHVpLXNoYWRvdy1pbnNldCB1aS1iYXItXCIrZStcIiBcIisoYy53cmFwcGVyQ2xhc3M/Yy53cmFwcGVyQ2xhc3M6XCJcIikrXCIgXCIrKGQuaXMoXCI6Y2hlY2tlZFwiKXx8ZC5maW5kKFwib3B0aW9uXCIpLmVxKDEpLmlzKFwiOnNlbGVjdGVkXCIpP1widWktZmxpcHN3aXRjaC1hY3RpdmVcIjpcIlwiKSsoZC5pcyhcIjpkaXNhYmxlZFwiKT9cIiB1aS1zdGF0ZS1kaXNhYmxlZFwiOlwiXCIpKyhjLmNvcm5lcnM/XCIgdWktY29ybmVyLWFsbFwiOlwiXCIpKyhjLm1pbmk/XCIgdWktbWluaVwiOlwiXCIpKS5hcHBlbmQoZixnKSxkLmFkZENsYXNzKFwidWktZmxpcHN3aXRjaC1pbnB1dFwiKS5hZnRlcihiKS5hcHBlbmRUbyhiKSxhLmV4dGVuZCh0aGlzLHtmbGlwc3dpdGNoOmIsb246ZixvZmY6Zyx0eXBlOmh9KX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMuZmxpcHN3aXRjaC5oYXNDbGFzcyhcInVpLWZsaXBzd2l0Y2gtYWN0aXZlXCIpP1wiX3JpZ2h0XCI6XCJfbGVmdFwiO2E9XCJTRUxFQ1RcIj09PXRoaXMudHlwZT90aGlzLmVsZW1lbnQuZ2V0KDApLnNlbGVjdGVkSW5kZXg+MD9cIl9yaWdodFwiOlwiX2xlZnRcIjp0aGlzLmVsZW1lbnQucHJvcChcImNoZWNrZWRcIik/XCJfcmlnaHRcIjpcIl9sZWZ0XCIsYSE9PWImJnRoaXNbYV0oKX0sX3RvZ2dsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZmxpcHN3aXRjaC5oYXNDbGFzcyhcInVpLWZsaXBzd2l0Y2gtYWN0aXZlXCIpP1wiX2xlZnRcIjpcIl9yaWdodFwiO3RoaXNbYV0oKX0sX2tleWRvd246ZnVuY3Rpb24oYil7Yi53aGljaD09PWEubW9iaWxlLmtleUNvZGUuTEVGVD90aGlzLl9sZWZ0KCk6Yi53aGljaD09PWEubW9iaWxlLmtleUNvZGUuUklHSFQ/dGhpcy5fcmlnaHQoKTpiLndoaWNoPT09YS5tb2JpbGUua2V5Q29kZS5TUEFDRSYmKHRoaXMuX3RvZ2dsZSgpLGIucHJldmVudERlZmF1bHQoKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2lmKGEudGhlbWUhPT1iKXt2YXIgYz1hLnRoZW1lP2EudGhlbWU6XCJpbmhlcml0XCIsZD1hLnRoZW1lP2EudGhlbWU6XCJpbmhlcml0XCI7dGhpcy53aWRnZXQoKS5yZW1vdmVDbGFzcyhcInVpLWJhci1cIitjKS5hZGRDbGFzcyhcInVpLWJhci1cIitkKX1hLm9uVGV4dCE9PWImJnRoaXMub24udGV4dChhLm9uVGV4dCksYS5vZmZUZXh0IT09YiYmdGhpcy5vZmYudGV4dChhLm9mZlRleHQpLGEuZGlzYWJsZWQhPT1iJiZ0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIixhLmRpc2FibGVkKSxhLm1pbmkhPT1iJiZ0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKFwidWktbWluaVwiLGEubWluaSksYS5jb3JuZXJzIT09YiYmdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyhcInVpLWNvcm5lci1hbGxcIixhLmNvcm5lcnMpLHRoaXMuX3N1cGVyKGEpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZHx8KG51bGwhPXRoaXMuX29yaWdpbmFsVGFiSW5kZXg/dGhpcy5lbGVtZW50LmF0dHIoXCJ0YWJpbmRleFwiLHRoaXMuX29yaWdpbmFsVGFiSW5kZXgpOnRoaXMuZWxlbWVudC5yZW1vdmVBdHRyKFwidGFiaW5kZXhcIiksdGhpcy5vbi5yZW1vdmUoKSx0aGlzLm9mZi5yZW1vdmUoKSx0aGlzLmVsZW1lbnQudW53cmFwKCksdGhpcy5mbGlwc3dpdGNoLnJlbW92ZSgpLHRoaXMucmVtb3ZlQ2xhc3MoXCJ1aS1mbGlwc3dpdGNoLWlucHV0XCIpKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldChcIm1vYmlsZS5yYW5nZXNsaWRlclwiLGEuZXh0ZW5kKHtvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxjb3JuZXJzOiEwLG1pbmk6ITEsaGlnaGxpZ2h0OiEwfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zLm1pbmk/XCJ1aS1yYW5nZXNsaWRlciB1aS1taW5pXCI6XCJ1aS1yYW5nZXNsaWRlclwiLGQ9Yi5maW5kKFwiaW5wdXRcIikuZmlyc3QoKSxlPWIuZmluZChcImlucHV0XCIpLmxhc3QoKSxmPWIuZmluZChcImxhYmVsXCIpLmZpcnN0KCksZz1hLmRhdGEoZC5nZXQoMCksXCJtb2JpbGUtc2xpZGVyXCIpfHxhLmRhdGEoZC5zbGlkZXIoKS5nZXQoMCksXCJtb2JpbGUtc2xpZGVyXCIpLGg9YS5kYXRhKGUuZ2V0KDApLFwibW9iaWxlLXNsaWRlclwiKXx8YS5kYXRhKGUuc2xpZGVyKCkuZ2V0KDApLFwibW9iaWxlLXNsaWRlclwiKSxpPWcuc2xpZGVyLGo9aC5zbGlkZXIsaz1nLmhhbmRsZSxsPWEoXCI8ZGl2IGNsYXNzPSd1aS1yYW5nZXNsaWRlci1zbGlkZXJzJyAvPlwiKS5hcHBlbmRUbyhiKTtkLmFkZENsYXNzKFwidWktcmFuZ2VzbGlkZXItZmlyc3RcIiksZS5hZGRDbGFzcyhcInVpLXJhbmdlc2xpZGVyLWxhc3RcIiksYi5hZGRDbGFzcyhjKSxpLmFwcGVuZFRvKGwpLGouYXBwZW5kVG8obCksZi5pbnNlcnRCZWZvcmUoYiksay5wcmVwZW5kVG8oaiksYS5leHRlbmQodGhpcyx7X2lucHV0Rmlyc3Q6ZCxfaW5wdXRMYXN0OmUsX3NsaWRlckZpcnN0OmksX3NsaWRlckxhc3Q6aixfbGFiZWw6ZixfdGFyZ2V0VmFsOm51bGwsX3NsaWRlclRhcmdldDohMSxfc2xpZGVyczpsLF9wcm94eTohMX0pLHRoaXMucmVmcmVzaCgpLHRoaXMuX29uKHRoaXMuZWxlbWVudC5maW5kKFwiaW5wdXQudWktc2xpZGVyLWlucHV0XCIpLHtzbGlkZWJlZm9yZXN0YXJ0OlwiX3NsaWRlYmVmb3Jlc3RhcnRcIixzbGlkZXN0b3A6XCJfc2xpZGVzdG9wXCIsc2xpZGVkcmFnOlwiX3NsaWRlZHJhZ1wiLHNsaWRlYmVmb3JlY2hhbmdlOlwiX2NoYW5nZVwiLGJsdXI6XCJfY2hhbmdlXCIsa2V5dXA6XCJfY2hhbmdlXCJ9KSx0aGlzLl9vbih7bW91c2Vkb3duOlwiX2NoYW5nZVwifSksdGhpcy5fb24odGhpcy5lbGVtZW50LmNsb3Nlc3QoXCJmb3JtXCIpLHtyZXNldDpcIl9oYW5kbGVSZXNldFwifSksdGhpcy5fb24oayx7dm1vdXNlZG93bjpcIl9kcmFnRmlyc3RIYW5kbGVcIn0pfSxfaGFuZGxlUmVzZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLl91cGRhdGVIaWdobGlnaHQoKX0sMCl9LF9kcmFnRmlyc3RIYW5kbGU6ZnVuY3Rpb24oYil7cmV0dXJuIGEuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSxcIm1vYmlsZS1zbGlkZXJcIikuZHJhZ2dpbmc9ITAsYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLFwibW9iaWxlLXNsaWRlclwiKS5yZWZyZXNoKGIpLGEuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSxcIm1vYmlsZS1zbGlkZXJcIikuX3RyaWdnZXIoXCJzdGFydFwiKSwhMX0sX3NsaWRlZHJhZzpmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KS5pcyh0aGlzLl9pbnB1dEZpcnN0KSxkPWM/dGhpcy5faW5wdXRMYXN0OnRoaXMuX2lucHV0Rmlyc3Q7cmV0dXJuIHRoaXMuX3NsaWRlclRhcmdldD0hMSxcImZpcnN0XCI9PT10aGlzLl9wcm94eSYmY3x8XCJsYXN0XCI9PT10aGlzLl9wcm94eSYmIWM/KGEuZGF0YShkLmdldCgwKSxcIm1vYmlsZS1zbGlkZXJcIikuZHJhZ2dpbmc9ITAsYS5kYXRhKGQuZ2V0KDApLFwibW9iaWxlLXNsaWRlclwiKS5yZWZyZXNoKGIpLCExKTp2b2lkIDB9LF9zbGlkZXN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuaXModGhpcy5faW5wdXRGaXJzdCk7dGhpcy5fcHJveHk9ITEsdGhpcy5lbGVtZW50LmZpbmQoXCJpbnB1dFwiKS50cmlnZ2VyKFwidm1vdXNldXBcIiksdGhpcy5fc2xpZGVyRmlyc3QuY3NzKFwiei1pbmRleFwiLGM/MTpcIlwiKX0sX3NsaWRlYmVmb3Jlc3RhcnQ6ZnVuY3Rpb24oYil7dGhpcy5fc2xpZGVyVGFyZ2V0PSExLGEoYi5vcmlnaW5hbEV2ZW50LnRhcmdldCkuaGFzQ2xhc3MoXCJ1aS1zbGlkZXItdHJhY2tcIikmJih0aGlzLl9zbGlkZXJUYXJnZXQ9ITAsdGhpcy5fdGFyZ2V0VmFsPWEoYi50YXJnZXQpLnZhbCgpKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7YS50aGVtZSE9PWImJnRoaXMuX3NldFRoZW1lKGEudGhlbWUpLGEudHJhY2tUaGVtZSE9PWImJnRoaXMuX3NldFRyYWNrVGhlbWUoYS50cmFja1RoZW1lKSxhLm1pbmkhPT1iJiZ0aGlzLl9zZXRNaW5pKGEubWluaSksYS5oaWdobGlnaHQhPT1iJiZ0aGlzLl9zZXRIaWdobGlnaHQoYS5oaWdobGlnaHQpLGEuZGlzYWJsZWQhPT1iJiZ0aGlzLl9zZXREaXNhYmxlZChhLmRpc2FibGVkKSx0aGlzLl9zdXBlcihhKSx0aGlzLnJlZnJlc2goKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudCxiPXRoaXMub3B0aW9uczsodGhpcy5faW5wdXRGaXJzdC5pcyhcIjpkaXNhYmxlZFwiKXx8dGhpcy5faW5wdXRMYXN0LmlzKFwiOmRpc2FibGVkXCIpKSYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD0hMCksYS5maW5kKFwiaW5wdXRcIikuc2xpZGVyKHt0aGVtZTpiLnRoZW1lLHRyYWNrVGhlbWU6Yi50cmFja1RoZW1lLGRpc2FibGVkOmIuZGlzYWJsZWQsY29ybmVyczpiLmNvcm5lcnMsbWluaTpiLm1pbmksaGlnaGxpZ2h0OmIuaGlnaGxpZ2h0fSkuc2xpZGVyKFwicmVmcmVzaFwiKSx0aGlzLl91cGRhdGVIaWdobGlnaHQoKX0sX2NoYW5nZTpmdW5jdGlvbihiKXtpZihcImtleXVwXCI9PT1iLnR5cGUpcmV0dXJuIHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLCExO3ZhciBjPXRoaXMsZD1wYXJzZUZsb2F0KHRoaXMuX2lucHV0Rmlyc3QudmFsKCksMTApLGU9cGFyc2VGbG9hdCh0aGlzLl9pbnB1dExhc3QudmFsKCksMTApLGY9YShiLnRhcmdldCkuaGFzQ2xhc3MoXCJ1aS1yYW5nZXNsaWRlci1maXJzdFwiKSxnPWY/dGhpcy5faW5wdXRGaXJzdDp0aGlzLl9pbnB1dExhc3QsaD1mP3RoaXMuX2lucHV0TGFzdDp0aGlzLl9pbnB1dEZpcnN0O2lmKHRoaXMuX2lucHV0Rmlyc3QudmFsKCk+dGhpcy5faW5wdXRMYXN0LnZhbCgpJiZcIm1vdXNlZG93blwiPT09Yi50eXBlJiYhYShiLnRhcmdldCkuaGFzQ2xhc3MoXCJ1aS1zbGlkZXItaGFuZGxlXCIpKWcuYmx1cigpO2Vsc2UgaWYoXCJtb3VzZWRvd25cIj09PWIudHlwZSlyZXR1cm47cmV0dXJuIGQ+ZSYmIXRoaXMuX3NsaWRlclRhcmdldD8oZy52YWwoZj9lOmQpLnNsaWRlcihcInJlZnJlc2hcIiksdGhpcy5fdHJpZ2dlcihcIm5vcm1hbGl6ZVwiKSk6ZD5lJiYoZy52YWwodGhpcy5fdGFyZ2V0VmFsKS5zbGlkZXIoXCJyZWZyZXNoXCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtoLnZhbChmP2Q6ZSkuc2xpZGVyKFwicmVmcmVzaFwiKSxhLmRhdGEoaC5nZXQoMCksXCJtb2JpbGUtc2xpZGVyXCIpLmhhbmRsZS5mb2N1cygpLGMuX3NsaWRlckZpcnN0LmNzcyhcInotaW5kZXhcIixmP1wiXCI6MSksYy5fdHJpZ2dlcihcIm5vcm1hbGl6ZVwiKX0sMCksdGhpcy5fcHJveHk9Zj9cImZpcnN0XCI6XCJsYXN0XCIpLGQ9PT1lPyhhLmRhdGEoZy5nZXQoMCksXCJtb2JpbGUtc2xpZGVyXCIpLmhhbmRsZS5jc3MoXCJ6LWluZGV4XCIsMSksYS5kYXRhKGguZ2V0KDApLFwibW9iaWxlLXNsaWRlclwiKS5oYW5kbGUuY3NzKFwiei1pbmRleFwiLDApKTooYS5kYXRhKGguZ2V0KDApLFwibW9iaWxlLXNsaWRlclwiKS5oYW5kbGUuY3NzKFwiei1pbmRleFwiLFwiXCIpLGEuZGF0YShnLmdldCgwKSxcIm1vYmlsZS1zbGlkZXJcIikuaGFuZGxlLmNzcyhcInotaW5kZXhcIixcIlwiKSksdGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCksZD49ZT8hMTp2b2lkIDB9LF91cGRhdGVIaWdobGlnaHQ6ZnVuY3Rpb24oKXt2YXIgYj1wYXJzZUludChhLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksXCJtb2JpbGUtc2xpZGVyXCIpLmhhbmRsZS5nZXQoMCkuc3R5bGUubGVmdCwxMCksYz1wYXJzZUludChhLmRhdGEodGhpcy5faW5wdXRMYXN0LmdldCgwKSxcIm1vYmlsZS1zbGlkZXJcIikuaGFuZGxlLmdldCgwKS5zdHlsZS5sZWZ0LDEwKSxkPWMtYjt0aGlzLmVsZW1lbnQuZmluZChcIi51aS1zbGlkZXItYmdcIikuY3NzKHtcIm1hcmdpbi1sZWZ0XCI6YitcIiVcIix3aWR0aDpkK1wiJVwifSl9LF9zZXRUaGVtZTpmdW5jdGlvbihhKXt0aGlzLl9pbnB1dEZpcnN0LnNsaWRlcihcIm9wdGlvblwiLFwidGhlbWVcIixhKSx0aGlzLl9pbnB1dExhc3Quc2xpZGVyKFwib3B0aW9uXCIsXCJ0aGVtZVwiLGEpfSxfc2V0VHJhY2tUaGVtZTpmdW5jdGlvbihhKXt0aGlzLl9pbnB1dEZpcnN0LnNsaWRlcihcIm9wdGlvblwiLFwidHJhY2tUaGVtZVwiLGEpLHRoaXMuX2lucHV0TGFzdC5zbGlkZXIoXCJvcHRpb25cIixcInRyYWNrVGhlbWVcIixhKX0sX3NldE1pbmk6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5zbGlkZXIoXCJvcHRpb25cIixcIm1pbmlcIixhKSx0aGlzLl9pbnB1dExhc3Quc2xpZGVyKFwib3B0aW9uXCIsXCJtaW5pXCIsYSksdGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKFwidWktbWluaVwiLCEhYSl9LF9zZXRIaWdobGlnaHQ6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5zbGlkZXIoXCJvcHRpb25cIixcImhpZ2hsaWdodFwiLGEpLHRoaXMuX2lucHV0TGFzdC5zbGlkZXIoXCJvcHRpb25cIixcImhpZ2hsaWdodFwiLGEpfSxfc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5wcm9wKFwiZGlzYWJsZWRcIixhKSx0aGlzLl9pbnB1dExhc3QucHJvcChcImRpc2FibGVkXCIsYSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fbGFiZWwucHJlcGVuZFRvKHRoaXMuZWxlbWVudCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktcmFuZ2VzbGlkZXIgdWktbWluaVwiKSx0aGlzLl9pbnB1dEZpcnN0LmFmdGVyKHRoaXMuX3NsaWRlckZpcnN0KSx0aGlzLl9pbnB1dExhc3QuYWZ0ZXIodGhpcy5fc2xpZGVyTGFzdCksdGhpcy5fc2xpZGVycy5yZW1vdmUoKSx0aGlzLmVsZW1lbnQuZmluZChcImlucHV0XCIpLnJlbW92ZUNsYXNzKFwidWktcmFuZ2VzbGlkZXItZmlyc3QgdWktcmFuZ2VzbGlkZXItbGFzdFwiKS5zbGlkZXIoXCJkZXN0cm95XCIpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KFwibW9iaWxlLnRleHRpbnB1dFwiLGEubW9iaWxlLnRleHRpbnB1dCx7b3B0aW9uczp7Y2xlYXJCdG46ITEsY2xlYXJCdG5UZXh0OlwiQ2xlYXIgdGV4dFwifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLmlzU2VhcmNoJiYodGhpcy5vcHRpb25zLmNsZWFyQnRuPSEwKSx0aGlzLm9wdGlvbnMuY2xlYXJCdG4mJnRoaXMuaW5wdXROZWVkc1dyYXAmJnRoaXMuX2FkZENsZWFyQnRuKCl9LGNsZWFyQnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEoXCI8YSBocmVmPScjJyB0YWJpbmRleD0nLTEnIGFyaWEtaGlkZGVuPSd0cnVlJyBjbGFzcz0ndWktaW5wdXQtY2xlYXIgdWktYnRuIHVpLWljb24tZGVsZXRlIHVpLWJ0bi1pY29uLW5vdGV4dCB1aS1jb3JuZXItYWxsJz48L2E+XCIpLmF0dHIoXCJ0aXRsZVwiLHRoaXMub3B0aW9ucy5jbGVhckJ0blRleHQpLnRleHQodGhpcy5vcHRpb25zLmNsZWFyQnRuVGV4dCl9LF9jbGVhckJ0bkNsaWNrOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC52YWwoXCJcIikuZm9jdXMoKS50cmlnZ2VyKFwiY2hhbmdlXCIpLHRoaXMuX2NsZWFyQnRuLmFkZENsYXNzKFwidWktaW5wdXQtY2xlYXItaGlkZGVuXCIpLGEucHJldmVudERlZmF1bHQoKX0sX2FkZENsZWFyQnRuOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkfHx0aGlzLl9lbmhhbmNlQ2xlYXIoKSxhLmV4dGVuZCh0aGlzLHtfY2xlYXJCdG46dGhpcy53aWRnZXQoKS5maW5kKFwiYS51aS1pbnB1dC1jbGVhclwiKX0pLHRoaXMuX2JpbmRDbGVhckV2ZW50cygpLHRoaXMuX3RvZ2dsZUNsZWFyKCl9LF9lbmhhbmNlQ2xlYXI6ZnVuY3Rpb24oKXt0aGlzLmNsZWFyQnV0dG9uKCkuYXBwZW5kVG8odGhpcy53aWRnZXQoKSksdGhpcy53aWRnZXQoKS5hZGRDbGFzcyhcInVpLWlucHV0LWhhcy1jbGVhclwiKX0sX2JpbmRDbGVhckV2ZW50czpmdW5jdGlvbigpe3RoaXMuX29uKHRoaXMuX2NsZWFyQnRuLHtjbGljazpcIl9jbGVhckJ0bkNsaWNrXCJ9KSx0aGlzLl9vbih7a2V5dXA6XCJfdG9nZ2xlQ2xlYXJcIixjaGFuZ2U6XCJfdG9nZ2xlQ2xlYXJcIixpbnB1dDpcIl90b2dnbGVDbGVhclwiLGZvY3VzOlwiX3RvZ2dsZUNsZWFyXCIsYmx1cjpcIl90b2dnbGVDbGVhclwiLGN1dDpcIl90b2dnbGVDbGVhclwiLHBhc3RlOlwiX3RvZ2dsZUNsZWFyXCJ9KX0sX3VuYmluZENsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fb2ZmKHRoaXMuX2NsZWFyQnRuLFwiY2xpY2tcIiksdGhpcy5fb2ZmKHRoaXMuZWxlbWVudCxcImtleXVwIGNoYW5nZSBpbnB1dCBmb2N1cyBibHVyIGN1dCBwYXN0ZVwiKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dGhpcy5fc3VwZXIoYSksYS5jbGVhckJ0bj09PWJ8fHRoaXMuZWxlbWVudC5pcyhcInRleHRhcmVhLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpXCIpfHwoYS5jbGVhckJ0bj90aGlzLl9hZGRDbGVhckJ0bigpOnRoaXMuX2Rlc3Ryb3lDbGVhcigpKSxhLmNsZWFyQnRuVGV4dCE9PWImJnRoaXMuX2NsZWFyQnRuIT09YiYmdGhpcy5fY2xlYXJCdG4udGV4dChhLmNsZWFyQnRuVGV4dCkuYXR0cihcInRpdGxlXCIsYS5jbGVhckJ0blRleHQpfSxfdG9nZ2xlQ2xlYXI6ZnVuY3Rpb24oKXt0aGlzLl9kZWxheShcIl90b2dnbGVDbGVhckNsYXNzXCIsMCl9LF90b2dnbGVDbGVhckNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJCdG4udG9nZ2xlQ2xhc3MoXCJ1aS1pbnB1dC1jbGVhci1oaWRkZW5cIiwhdGhpcy5lbGVtZW50LnZhbCgpKX0sX2Rlc3Ryb3lDbGVhcjpmdW5jdGlvbigpe3RoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoXCJ1aS1pbnB1dC1oYXMtY2xlYXJcIiksdGhpcy5fdW5iaW5kQ2xlYXIoKSx0aGlzLl9jbGVhckJ0bi5yZW1vdmUoKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMub3B0aW9ucy5jbGVhckJ0biYmdGhpcy5fZGVzdHJveUNsZWFyKCl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoXCJtb2JpbGUudGV4dGlucHV0XCIsYS5tb2JpbGUudGV4dGlucHV0LHtvcHRpb25zOnthdXRvZ3JvdzohMCxrZXl1cFRpbWVvdXRCdWZmZXI6MTAwfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuYXV0b2dyb3cmJnRoaXMuaXNUZXh0YXJlYSYmdGhpcy5fYXV0b2dyb3coKX0sX2F1dG9ncm93OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKFwidWktdGV4dGlucHV0LWF1dG9ncm93XCIpLHRoaXMuX29uKHtrZXl1cDpcIl90aW1lb3V0XCIsY2hhbmdlOlwiX3RpbWVvdXRcIixpbnB1dDpcIl90aW1lb3V0XCIscGFzdGU6XCJfdGltZW91dFwifSksdGhpcy5fb24oITAsdGhpcy5kb2N1bWVudCx7cGFnZXNob3c6XCJfaGFuZGxlU2hvd1wiLHBvcHVwYmVmb3JlcG9zaXRpb246XCJfaGFuZGxlU2hvd1wiLHVwZGF0ZWxheW91dDpcIl9oYW5kbGVTaG93XCIscGFuZWxvcGVuOlwiX2hhbmRsZVNob3dcIn0pfSxfaGFuZGxlU2hvdzpmdW5jdGlvbihiKXthLmNvbnRhaW5zKGIudGFyZ2V0LHRoaXMuZWxlbWVudFswXSkmJnRoaXMuZWxlbWVudC5pcyhcIjp2aXNpYmxlXCIpJiYoXCJwb3B1cGJlZm9yZXBvc2l0aW9uXCIhPT1iLnR5cGUmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyhcInVpLXRleHRpbnB1dC1hdXRvZ3Jvdy1yZXNpemVcIikuYW5pbWF0aW9uQ29tcGxldGUoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLXRleHRpbnB1dC1hdXRvZ3Jvdy1yZXNpemVcIil9LHRoaXMpLFwidHJhbnNpdGlvblwiKSx0aGlzLl9wcmVwYXJlSGVpZ2h0VXBkYXRlKCkpfSxfdW5iaW5kQXV0b2dyb3c6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS10ZXh0aW5wdXQtYXV0b2dyb3dcIiksdGhpcy5fb2ZmKHRoaXMuZWxlbWVudCxcImtleXVwIGNoYW5nZSBpbnB1dCBwYXN0ZVwiKSx0aGlzLl9vZmYodGhpcy5kb2N1bWVudCxcInBhZ2VzaG93IHBvcHVwYmVmb3JlcG9zaXRpb24gdXBkYXRlbGF5b3V0IHBhbmVsb3BlblwiKX0sa2V5dXBUaW1lb3V0Om51bGwsX3ByZXBhcmVIZWlnaHRVcGRhdGU6ZnVuY3Rpb24oYSl7dGhpcy5rZXl1cFRpbWVvdXQmJmNsZWFyVGltZW91dCh0aGlzLmtleXVwVGltZW91dCksYT09PWI/dGhpcy5fdXBkYXRlSGVpZ2h0KCk6dGhpcy5rZXl1cFRpbWVvdXQ9dGhpcy5fZGVsYXkoXCJfdXBkYXRlSGVpZ2h0XCIsYSl9LF90aW1lb3V0OmZ1bmN0aW9uKCl7dGhpcy5fcHJlcGFyZUhlaWdodFVwZGF0ZSh0aGlzLm9wdGlvbnMua2V5dXBUaW1lb3V0QnVmZmVyKX0sX3VwZGF0ZUhlaWdodDpmdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnLGgsaSxqPXRoaXMud2luZG93LnNjcm9sbFRvcCgpO3RoaXMua2V5dXBUaW1lb3V0PTAsXCJvbnBhZ2VcImluIHRoaXMuZWxlbWVudFswXXx8dGhpcy5lbGVtZW50LmNzcyh7aGVpZ2h0OjAsXCJtaW4taGVpZ2h0XCI6MCxcIm1heC1oZWlnaHRcIjowfSksZD10aGlzLmVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0LGU9dGhpcy5lbGVtZW50WzBdLmNsaWVudEhlaWdodCxmPXBhcnNlRmxvYXQodGhpcy5lbGVtZW50LmNzcyhcImJvcmRlci10b3Atd2lkdGhcIikpLGc9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuY3NzKFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiKSksaD1mK2csaT1kK2grMTUsMD09PWUmJihhPXBhcnNlRmxvYXQodGhpcy5lbGVtZW50LmNzcyhcInBhZGRpbmctdG9wXCIpKSxiPXBhcnNlRmxvYXQodGhpcy5lbGVtZW50LmNzcyhcInBhZGRpbmctYm90dG9tXCIpKSxjPWErYixpKz1jKSx0aGlzLmVsZW1lbnQuY3NzKHtoZWlnaHQ6aSxcIm1pbi1oZWlnaHRcIjpcIlwiLFwibWF4LWhlaWdodFwiOlwiXCJ9KSx0aGlzLndpbmRvdy5zY3JvbGxUb3Aoail9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuYXV0b2dyb3cmJnRoaXMuaXNUZXh0YXJlYSYmdGhpcy5fdXBkYXRlSGVpZ2h0KCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3RoaXMuX3N1cGVyKGEpLGEuYXV0b2dyb3chPT1iJiZ0aGlzLmlzVGV4dGFyZWEmJihhLmF1dG9ncm93P3RoaXMuX2F1dG9ncm93KCk6dGhpcy5fdW5iaW5kQXV0b2dyb3coKSl9fSl9KGEpLGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KFwibW9iaWxlLnNlbGVjdG1lbnVcIixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOlwic2VsZWN0Om5vdCggOmpxbURhdGEocm9sZT0nc2xpZGVyJykpOm5vdCggOmpxbURhdGEocm9sZT0nZmxpcHN3aXRjaCcpIClcIixvcHRpb25zOnt0aGVtZTpudWxsLGljb246XCJjYXJhdC1kXCIsaWNvbnBvczpcInJpZ2h0XCIsaW5saW5lOiExLGNvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITEsb3ZlcmxheVRoZW1lOm51bGwsZGl2aWRlclRoZW1lOm51bGwsaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zOiEwLGNsb3NlVGV4dDpcIkNsb3NlXCIsbmF0aXZlTWVudTohMCxwcmV2ZW50Rm9jdXNab29tOi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkFwcGxlV2ViS2l0XCIpPi0xLG1pbmk6ITF9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYShcIjxkaXYvPlwiKX0sX3NldERpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cihcImRpc2FibGVkXCIsYSksdGhpcy5idXR0b24uYXR0cihcImFyaWEtZGlzYWJsZWRcIixhKSx0aGlzLl9zZXRPcHRpb24oXCJkaXNhYmxlZFwiLGEpfSxfZm9jdXNCdXR0b246ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmJ1dHRvbi5mb2N1cygpfSw0MCl9LF9zZWxlY3RPcHRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0LmZpbmQoXCJvcHRpb25cIil9LF9wcmVFeHRlbnNpb246ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMuaW5saW5lfHx0aGlzLmVsZW1lbnQuanFtRGF0YShcImlubGluZVwiKSxjPXRoaXMub3B0aW9ucy5taW5pfHx0aGlzLmVsZW1lbnQuanFtRGF0YShcIm1pbmlcIiksZD1cIlwiO350aGlzLmVsZW1lbnRbMF0uY2xhc3NOYW1lLmluZGV4T2YoXCJ1aS1idG4tbGVmdFwiKSYmKGQ9XCIgdWktYnRuLWxlZnRcIiksfnRoaXMuZWxlbWVudFswXS5jbGFzc05hbWUuaW5kZXhPZihcInVpLWJ0bi1yaWdodFwiKSYmKGQ9XCIgdWktYnRuLXJpZ2h0XCIpLGImJihkKz1cIiB1aS1idG4taW5saW5lXCIpLGMmJihkKz1cIiB1aS1taW5pXCIpLHRoaXMuc2VsZWN0PXRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLWJ0bi1sZWZ0IHVpLWJ0bi1yaWdodFwiKS53cmFwKFwiPGRpdiBjbGFzcz0ndWktc2VsZWN0XCIrZCtcIic+XCIpLHRoaXMuc2VsZWN0SWQ9dGhpcy5zZWxlY3QuYXR0cihcImlkXCIpfHxcInNlbGVjdC1cIit0aGlzLnV1aWQsdGhpcy5idXR0b25JZD10aGlzLnNlbGVjdElkK1wiLWJ1dHRvblwiLHRoaXMubGFiZWw9YShcImxhYmVsW2Zvcj0nXCIrdGhpcy5zZWxlY3RJZCtcIiddXCIpLHRoaXMuaXNNdWx0aXBsZT10aGlzLnNlbGVjdFswXS5tdWx0aXBsZX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQucGFyZW50cyhcIi51aS1zZWxlY3RcIik7YS5sZW5ndGg+MCYmKGEuaXMoXCIudWktYnRuLWxlZnQsIC51aS1idG4tcmlnaHRcIikmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyhhLmhhc0NsYXNzKFwidWktYnRuLWxlZnRcIik/XCJ1aS1idG4tbGVmdFwiOlwidWktYnRuLXJpZ2h0XCIpLHRoaXMuZWxlbWVudC5pbnNlcnRBZnRlcihhKSxhLnJlbW92ZSgpKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3ByZUV4dGVuc2lvbigpLHRoaXMuYnV0dG9uPXRoaXMuX2J1dHRvbigpO3ZhciBjPXRoaXMsZD10aGlzLm9wdGlvbnMsZT1kLmljb24/ZC5pY29ucG9zfHx0aGlzLnNlbGVjdC5qcW1EYXRhKFwiaWNvbnBvc1wiKTohMSxmPXRoaXMuYnV0dG9uLmluc2VydEJlZm9yZSh0aGlzLnNlbGVjdCkuYXR0cihcImlkXCIsdGhpcy5idXR0b25JZCkuYWRkQ2xhc3MoXCJ1aS1idG5cIisoZC5pY29uP1wiIHVpLWljb24tXCIrZC5pY29uK1wiIHVpLWJ0bi1pY29uLVwiK2UrKGQuaWNvbnNoYWRvdz9cIiB1aS1zaGFkb3ctaWNvblwiOlwiXCIpOlwiXCIpKyhkLnRoZW1lP1wiIHVpLWJ0bi1cIitkLnRoZW1lOlwiXCIpKyhkLmNvcm5lcnM/XCIgdWktY29ybmVyLWFsbFwiOlwiXCIpKyhkLnNoYWRvdz9cIiB1aS1zaGFkb3dcIjpcIlwiKSk7dGhpcy5zZXRCdXR0b25UZXh0KCksZC5uYXRpdmVNZW51JiZiLm9wZXJhJiZiLm9wZXJhLnZlcnNpb24mJmYuYWRkQ2xhc3MoXCJ1aS1zZWxlY3QtbmF0aXZlb25seVwiKSx0aGlzLmlzTXVsdGlwbGUmJih0aGlzLmJ1dHRvbkNvdW50PWEoXCI8c3Bhbj5cIikuYWRkQ2xhc3MoXCJ1aS1saS1jb3VudCB1aS1ib2R5LWluaGVyaXRcIikuaGlkZSgpLmFwcGVuZFRvKGYuYWRkQ2xhc3MoXCJ1aS1saS1oYXMtY291bnRcIikpKSwoZC5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LmF0dHIoXCJkaXNhYmxlZFwiKSkmJnRoaXMuZGlzYWJsZSgpLHRoaXMuc2VsZWN0LmNoYW5nZShmdW5jdGlvbigpe2MucmVmcmVzaCgpLGQubmF0aXZlTWVudSYmYy5fZGVsYXkoZnVuY3Rpb24oKXtjLnNlbGVjdC5ibHVyKCl9KX0pLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMuX29uKHRoaXMuYnV0dG9uLHtrZXlkb3duOlwiX2hhbmRsZUtleWRvd25cIn0pLHRoaXMuYnVpbGQoKX0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuc2VsZWN0LmFwcGVuZFRvKGIuYnV0dG9uKS5iaW5kKFwidm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7Yi5idXR0b24uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZChcImZvY3VzXCIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoXCJibHVyXCIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoXCJmb2N1cyB2bW91c2VvdmVyXCIsZnVuY3Rpb24oKXtiLmJ1dHRvbi50cmlnZ2VyKFwidm1vdXNlb3ZlclwiKX0pLmJpbmQoXCJ2bW91c2Vtb3ZlXCIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKFwiY2hhbmdlIGJsdXIgdm1vdXNlb3V0XCIsZnVuY3Rpb24oKXtiLmJ1dHRvbi50cmlnZ2VyKFwidm1vdXNlb3V0XCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLGIuYnV0dG9uLmJpbmQoXCJ2bW91c2Vkb3duXCIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKX0pLGIubGFiZWwuYmluZChcImNsaWNrIGZvY3VzXCIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKX0pLGIuc2VsZWN0LmJpbmQoXCJmb2N1c1wiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSxiLmJ1dHRvbi5iaW5kKFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLm1vYmlsZS56b29tLmVuYWJsZSghMCl9LDApfSksYi5zZWxlY3QuYmluZChcImJsdXJcIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCl9KX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcihcIjpzZWxlY3RlZFwiKX0sc2VsZWN0ZWRJbmRpY2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gdGhpcy5zZWxlY3RlZCgpLm1hcChmdW5jdGlvbigpe3JldHVybiBhLl9zZWxlY3RPcHRpb25zKCkuaW5kZXgodGhpcyl9KS5nZXQoKX0sc2V0QnV0dG9uVGV4dDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLnNlbGVjdGVkKCksZT10aGlzLnBsYWNlaG9sZGVyLGY9YShjLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpKTt0aGlzLmJ1dHRvbi5jaGlsZHJlbihcInNwYW5cIikubm90KFwiLnVpLWxpLWNvdW50XCIpLnJlbW92ZSgpLmVuZCgpLmVuZCgpLnByZXBlbmQoZnVuY3Rpb24oKXtyZXR1cm4gZT1kLmxlbmd0aD9kLm1hcChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLnRleHQoKX0pLmdldCgpLmpvaW4oXCIsIFwiKTpiLnBsYWNlaG9sZGVyLGU/Zi50ZXh0KGUpOmYuaHRtbChcIiYjMTYwO1wiKSxmLmFkZENsYXNzKGIuc2VsZWN0LmF0dHIoXCJjbGFzc1wiKSkuYWRkQ2xhc3MoZC5hdHRyKFwiY2xhc3NcIikpLnJlbW92ZUNsYXNzKFwidWktc2NyZWVuLWhpZGRlblwiKX0oKSl9LHNldEJ1dHRvbkNvdW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3RlZCgpO3RoaXMuaXNNdWx0aXBsZSYmdGhpcy5idXR0b25Db3VudFthLmxlbmd0aD4xP1wic2hvd1wiOlwiaGlkZVwiXSgpLnRleHQoYS5sZW5ndGgpfSxfaGFuZGxlS2V5ZG93bjpmdW5jdGlvbigpe3RoaXMuX2RlbGF5KFwiX3JlZnJlc2hCdXR0b25cIil9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxfcmVmcmVzaEJ1dHRvbjpmdW5jdGlvbigpe3RoaXMuc2V0QnV0dG9uVGV4dCgpLHRoaXMuc2V0QnV0dG9uQ291bnQoKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2hCdXR0b24oKX0sb3BlbjphLm5vb3AsY2xvc2U6YS5ub29wLGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZCghMCksdGhpcy5idXR0b24uYWRkQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQoITEpLHRoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIil9fSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmxpbmtzPWZ1bmN0aW9uKGIpe2EoYikuZmluZChcImFcIikuanFtRW5oYW5jZWFibGUoKS5maWx0ZXIoXCI6anFtRGF0YShyZWw9J3BvcHVwJylbaHJlZl1baHJlZiE9JyddXCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLnN1YnN0cmluZygxKTtiJiYoYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhhc3BvcHVwXCIsITApLGEuc2V0QXR0cmlidXRlKFwiYXJpYS1vd25zXCIsYiksYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsITEpKX0pLmVuZCgpLm5vdChcIi51aS1idG4sIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpXCIpLmFkZENsYXNzKFwidWktbGlua1wiKX19KGEpLGZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gZChhLGIsYyxkKXt2YXIgZT1kO3JldHVybiBlPWI+YT9jKyhhLWIpLzI6TWF0aC5taW4oTWF0aC5tYXgoYyxkLWIvMiksYythLWIpfWZ1bmN0aW9uIGUoYSl7cmV0dXJue3g6YS5zY3JvbGxMZWZ0KCkseTphLnNjcm9sbFRvcCgpLGN4OmFbMF0uaW5uZXJXaWR0aHx8YS53aWR0aCgpLGN5OmFbMF0uaW5uZXJIZWlnaHR8fGEuaGVpZ2h0KCl9fWEud2lkZ2V0KFwibW9iaWxlLnBvcHVwXCIse29wdGlvbnM6e3dyYXBwZXJDbGFzczpudWxsLHRoZW1lOm51bGwsb3ZlcmxheVRoZW1lOm51bGwsc2hhZG93OiEwLGNvcm5lcnM6ITAsdHJhbnNpdGlvbjpcIm5vbmVcIixwb3NpdGlvblRvOlwib3JpZ2luXCIsdG9sZXJhbmNlOm51bGwsY2xvc2VMaW5rU2VsZWN0b3I6XCJhOmpxbURhdGEocmVsPSdiYWNrJylcIixjbG9zZUxpbmtFdmVudHM6XCJjbGljay5wb3B1cFwiLG5hdmlnYXRlRXZlbnRzOlwibmF2aWdhdGUucG9wdXBcIixjbG9zZUV2ZW50czpcIm5hdmlnYXRlLnBvcHVwIHBhZ2ViZWZvcmVjaGFuZ2UucG9wdXBcIixkaXNtaXNzaWJsZTohMCxlbmhhbmNlZDohMSxoaXN0b3J5OiFhLm1vYmlsZS5icm93c2VyLm9sZElFfSxfaGFuZGxlRG9jdW1lbnRWbW91c2Vkb3duOmZ1bmN0aW9uKGIpe3RoaXMuX2lzT3BlbiYmYS5jb250YWlucyh0aGlzLl91aS5jb250YWluZXJbMF0sYi50YXJnZXQpJiZ0aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPWIuYXR0cihcImlkXCIpLGQ9dGhpcy5vcHRpb25zO2QuaGlzdG9yeT1kLmhpc3RvcnkmJmEubW9iaWxlLmFqYXhFbmFibGVkJiZhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCx0aGlzLl9vbih0aGlzLmRvY3VtZW50LHt2bW91c2Vkb3duOlwiX2hhbmRsZURvY3VtZW50Vm1vdXNlZG93blwifSksYS5leHRlbmQodGhpcyx7X3Njcm9sbFRvcDowLF9wYWdlOmIuY2xvc2VzdChcIi51aS1wYWdlXCIpLF91aTpudWxsLF9mYWxsYmFja1RyYW5zaXRpb246XCJcIixfY3VycmVudFRyYW5zaXRpb246ITEsX3ByZXJlcXVpc2l0ZXM6bnVsbCxfaXNPcGVuOiExLF90b2xlcmFuY2U6bnVsbCxfcmVzaXplRGF0YTpudWxsLF9pZ25vcmVSZXNpemVUbzowLF9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M6ITF9KSwwPT09dGhpcy5fcGFnZS5sZW5ndGgmJih0aGlzLl9wYWdlPWEoXCJib2R5XCIpKSxkLmVuaGFuY2VkP3RoaXMuX3VpPXtjb250YWluZXI6Yi5wYXJlbnQoKSxzY3JlZW46Yi5wYXJlbnQoKS5wcmV2KCkscGxhY2Vob2xkZXI6YSh0aGlzLmRvY3VtZW50WzBdLmdldEVsZW1lbnRCeUlkKGMrXCItcGxhY2Vob2xkZXJcIikpfToodGhpcy5fdWk9dGhpcy5fZW5oYW5jZShiLGMpLHRoaXMuX2FwcGx5VHJhbnNpdGlvbihkLnRyYW5zaXRpb24pKSx0aGlzLl9zZXRUb2xlcmFuY2UoZC50b2xlcmFuY2UpLl91aS5mb2N1c0VsZW1lbnQ9dGhpcy5fdWkuY29udGFpbmVyLHRoaXMuX29uKHRoaXMuX3VpLnNjcmVlbix7dmNsaWNrOlwiX2VhdEV2ZW50QW5kQ2xvc2VcIn0pLHRoaXMuX29uKHRoaXMud2luZG93LHtvcmllbnRhdGlvbmNoYW5nZTphLnByb3h5KHRoaXMsXCJfaGFuZGxlV2luZG93T3JpZW50YXRpb25jaGFuZ2VcIikscmVzaXplOmEucHJveHkodGhpcyxcIl9oYW5kbGVXaW5kb3dSZXNpemVcIiksa2V5dXA6YS5wcm94eSh0aGlzLFwiX2hhbmRsZVdpbmRvd0tleVVwXCIpfSksdGhpcy5fb24odGhpcy5kb2N1bWVudCx7Zm9jdXNpbjpcIl9oYW5kbGVEb2N1bWVudEZvY3VzSW5cIn0pfSxfZW5oYW5jZTpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMub3B0aW9ucyxlPWQud3JhcHBlckNsYXNzLGY9e3NjcmVlbjphKFwiPGRpdiBjbGFzcz0ndWktc2NyZWVuLWhpZGRlbiB1aS1wb3B1cC1zY3JlZW4gXCIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1vdmVybGF5LVwiLGQub3ZlcmxheVRoZW1lKStcIic+PC9kaXY+XCIpLHBsYWNlaG9sZGVyOmEoXCI8ZGl2IHN0eWxlPSdkaXNwbGF5OiBub25lOyc+PCEtLSBwbGFjZWhvbGRlciAtLT48L2Rpdj5cIiksY29udGFpbmVyOmEoXCI8ZGl2IGNsYXNzPSd1aS1wb3B1cC1jb250YWluZXIgdWktcG9wdXAtaGlkZGVuIHVpLXBvcHVwLXRydW5jYXRlXCIrKGU/XCIgXCIrZTpcIlwiKStcIic+PC9kaXY+XCIpfSxnPXRoaXMuZG9jdW1lbnRbMF0uY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3JldHVybiBnLmFwcGVuZENoaWxkKGYuc2NyZWVuWzBdKSxnLmFwcGVuZENoaWxkKGYuY29udGFpbmVyWzBdKSxjJiYoZi5zY3JlZW4uYXR0cihcImlkXCIsYytcIi1zY3JlZW5cIiksZi5jb250YWluZXIuYXR0cihcImlkXCIsYytcIi1wb3B1cFwiKSxmLnBsYWNlaG9sZGVyLmF0dHIoXCJpZFwiLGMrXCItcGxhY2Vob2xkZXJcIikuaHRtbChcIjwhLS0gcGxhY2Vob2xkZXIgZm9yIFwiK2MrXCIgLS0+XCIpKSx0aGlzLl9wYWdlWzBdLmFwcGVuZENoaWxkKGcpLGYucGxhY2Vob2xkZXIuaW5zZXJ0QWZ0ZXIoYiksYi5kZXRhY2goKS5hZGRDbGFzcyhcInVpLXBvcHVwIFwiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKFwidWktYm9keS1cIixkLnRoZW1lKStcIiBcIisoZC5zaGFkb3c/XCJ1aS1vdmVybGF5LXNoYWRvdyBcIjpcIlwiKSsoZC5jb3JuZXJzP1widWktY29ybmVyLWFsbCBcIjpcIlwiKSkuYXBwZW5kVG8oZi5jb250YWluZXIpLGZ9LF9lYXRFdmVudEFuZENsb3NlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUmJnRoaXMuY2xvc2UoKSwhMX0sX3Jlc2l6ZVNjcmVlbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3VpLnNjcmVlbixiPXRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCksYz1hLnJlbW92ZUF0dHIoXCJzdHlsZVwiKS5oZWlnaHQoKSxkPXRoaXMuZG9jdW1lbnQuaGVpZ2h0KCktMTtkPmM/YS5oZWlnaHQoZCk6Yj5jJiZhLmhlaWdodChiKX0sX2hhbmRsZVdpbmRvd0tleVVwOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLl9pc09wZW4mJmIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRVNDQVBFP3RoaXMuX2VhdEV2ZW50QW5kQ2xvc2UoYik6dm9pZCAwfSxfZXhwZWN0UmVzaXplRXZlbnQ6ZnVuY3Rpb24oKXt2YXIgYT1lKHRoaXMud2luZG93KTtcbmlmKHRoaXMuX3Jlc2l6ZURhdGEpe2lmKGEueD09PXRoaXMuX3Jlc2l6ZURhdGEud2luZG93Q29vcmRpbmF0ZXMueCYmYS55PT09dGhpcy5fcmVzaXplRGF0YS53aW5kb3dDb29yZGluYXRlcy55JiZhLmN4PT09dGhpcy5fcmVzaXplRGF0YS53aW5kb3dDb29yZGluYXRlcy5jeCYmYS5jeT09PXRoaXMuX3Jlc2l6ZURhdGEud2luZG93Q29vcmRpbmF0ZXMuY3kpcmV0dXJuITE7Y2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2l6ZURhdGEudGltZW91dElkKX1yZXR1cm4gdGhpcy5fcmVzaXplRGF0YT17dGltZW91dElkOnRoaXMuX2RlbGF5KFwiX3Jlc2l6ZVRpbWVvdXRcIiwyMDApLHdpbmRvd0Nvb3JkaW5hdGVzOmF9LCEwfSxfcmVzaXplVGltZW91dDpmdW5jdGlvbigpe3RoaXMuX2lzT3Blbj90aGlzLl9leHBlY3RSZXNpemVFdmVudCgpfHwodGhpcy5fdWkuY29udGFpbmVyLmhhc0NsYXNzKFwidWktcG9wdXAtaGlkZGVuXCIpJiYodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKFwidWktcG9wdXAtaGlkZGVuIHVpLXBvcHVwLXRydW5jYXRlXCIpLHRoaXMucmVwb3NpdGlvbih7cG9zaXRpb25UbzpcIndpbmRvd1wifSksdGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCkpLHRoaXMuX3Jlc2l6ZVNjcmVlbigpLHRoaXMuX3Jlc2l6ZURhdGE9bnVsbCx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITEpOih0aGlzLl9yZXNpemVEYXRhPW51bGwsdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSExKX0sX3N0b3BJZ25vcmluZ1Jlc2l6ZUV2ZW50czpmdW5jdGlvbigpe3RoaXMuX2lnbm9yZVJlc2l6ZVRvPTB9LF9pZ25vcmVSZXNpemVFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9pZ25vcmVSZXNpemVUbyYmY2xlYXJUaW1lb3V0KHRoaXMuX2lnbm9yZVJlc2l6ZVRvKSx0aGlzLl9pZ25vcmVSZXNpemVUbz10aGlzLl9kZWxheShcIl9zdG9wSWdub3JpbmdSZXNpemVFdmVudHNcIiwxZTMpfSxfaGFuZGxlV2luZG93UmVzaXplOmZ1bmN0aW9uKCl7dGhpcy5faXNPcGVuJiYwPT09dGhpcy5faWdub3JlUmVzaXplVG8mJighdGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKSYmIXRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzc3x8dGhpcy5fdWkuY29udGFpbmVyLmhhc0NsYXNzKFwidWktcG9wdXAtaGlkZGVuXCIpfHx0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoXCJ1aS1wb3B1cC1oaWRkZW4gdWktcG9wdXAtdHJ1bmNhdGVcIikucmVtb3ZlQXR0cihcInN0eWxlXCIpKX0sX2hhbmRsZVdpbmRvd09yaWVudGF0aW9uY2hhbmdlOmZ1bmN0aW9uKCl7IXRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcyYmdGhpcy5faXNPcGVuJiYwPT09dGhpcy5faWdub3JlUmVzaXplVG8mJih0aGlzLl9leHBlY3RSZXNpemVFdmVudCgpLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMCl9LF9oYW5kbGVEb2N1bWVudEZvY3VzSW46ZnVuY3Rpb24oYil7dmFyIGMsZD1iLnRhcmdldCxlPXRoaXMuX3VpO2lmKHRoaXMuX2lzT3Blbil7aWYoZCE9PWUuY29udGFpbmVyWzBdKXtpZihjPWEoZCksIWEuY29udGFpbnMoZS5jb250YWluZXJbMF0sZCkpcmV0dXJuIGEodGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50KS5vbmUoXCJmb2N1c1wiLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9zYWZlbHlCbHVyKGQpfSx0aGlzKSksZS5mb2N1c0VsZW1lbnQuZm9jdXMoKSxiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMTtlLmZvY3VzRWxlbWVudFswXT09PWUuY29udGFpbmVyWzBdJiYoZS5mb2N1c0VsZW1lbnQ9Yyl9dGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCl9fSxfdGhlbWVDbGFzc0Zyb21PcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9cIm5vbmVcIj09PWI/XCJcIjphK2I6YStcImluaGVyaXRcIn0sX2FwcGx5VHJhbnNpdGlvbjpmdW5jdGlvbihiKXtyZXR1cm4gYiYmKHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyh0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pLFwibm9uZVwiIT09YiYmKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbj1hLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbihiKSxcIm5vbmVcIj09PXRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbiYmKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbj1cIlwiKSx0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3ModGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKSkpLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucyxkPXRoaXMuZWxlbWVudCxlPXRoaXMuX3VpLnNjcmVlbjtyZXR1cm4gYS53cmFwcGVyQ2xhc3MhPT1jJiZ0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoYi53cmFwcGVyQ2xhc3MpLmFkZENsYXNzKGEud3JhcHBlckNsYXNzKSxhLnRoZW1lIT09YyYmZC5yZW1vdmVDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihcInVpLWJvZHktXCIsYi50aGVtZSkpLmFkZENsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKFwidWktYm9keS1cIixhLnRoZW1lKSksYS5vdmVybGF5VGhlbWUhPT1jJiYoZS5yZW1vdmVDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihcInVpLW92ZXJsYXktXCIsYi5vdmVybGF5VGhlbWUpKS5hZGRDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihcInVpLW92ZXJsYXktXCIsYS5vdmVybGF5VGhlbWUpKSx0aGlzLl9pc09wZW4mJmUuYWRkQ2xhc3MoXCJpblwiKSksYS5zaGFkb3chPT1jJiZkLnRvZ2dsZUNsYXNzKFwidWktb3ZlcmxheS1zaGFkb3dcIixhLnNoYWRvdyksYS5jb3JuZXJzIT09YyYmZC50b2dnbGVDbGFzcyhcInVpLWNvcm5lci1hbGxcIixhLmNvcm5lcnMpLGEudHJhbnNpdGlvbiE9PWMmJih0aGlzLl9jdXJyZW50VHJhbnNpdGlvbnx8dGhpcy5fYXBwbHlUcmFuc2l0aW9uKGEudHJhbnNpdGlvbikpLGEudG9sZXJhbmNlIT09YyYmdGhpcy5fc2V0VG9sZXJhbmNlKGEudG9sZXJhbmNlKSxhLmRpc2FibGVkIT09YyYmYS5kaXNhYmxlZCYmdGhpcy5jbG9zZSgpLHRoaXMuX3N1cGVyKGEpfSxfc2V0VG9sZXJhbmNlOmZ1bmN0aW9uKGIpe3ZhciBkLGU9e3Q6MzAscjoxNSxiOjMwLGw6MTV9O2lmKGIhPT1jKXN3aXRjaChkPVN0cmluZyhiKS5zcGxpdChcIixcIiksYS5lYWNoKGQsZnVuY3Rpb24oYSxiKXtkW2FdPXBhcnNlSW50KGIsMTApfSksZC5sZW5ndGgpe2Nhc2UgMTppc05hTihkWzBdKXx8KGUudD1lLnI9ZS5iPWUubD1kWzBdKTticmVhaztjYXNlIDI6aXNOYU4oZFswXSl8fChlLnQ9ZS5iPWRbMF0pLGlzTmFOKGRbMV0pfHwoZS5sPWUucj1kWzFdKTticmVhaztjYXNlIDQ6aXNOYU4oZFswXSl8fChlLnQ9ZFswXSksaXNOYU4oZFsxXSl8fChlLnI9ZFsxXSksaXNOYU4oZFsyXSl8fChlLmI9ZFsyXSksaXNOYU4oZFszXSl8fChlLmw9ZFszXSl9cmV0dXJuIHRoaXMuX3RvbGVyYW5jZT1lLHRoaXN9LF9jbGFtcFBvcHVwV2lkdGg6ZnVuY3Rpb24oYSl7dmFyIGIsYz1lKHRoaXMud2luZG93KSxkPXt4OnRoaXMuX3RvbGVyYW5jZS5sLHk6Yy55K3RoaXMuX3RvbGVyYW5jZS50LGN4OmMuY3gtdGhpcy5fdG9sZXJhbmNlLmwtdGhpcy5fdG9sZXJhbmNlLnIsY3k6Yy5jeS10aGlzLl90b2xlcmFuY2UudC10aGlzLl90b2xlcmFuY2UuYn07cmV0dXJuIGF8fHRoaXMuX3VpLmNvbnRhaW5lci5jc3MoXCJtYXgtd2lkdGhcIixkLmN4KSxiPXtjeDp0aGlzLl91aS5jb250YWluZXIub3V0ZXJXaWR0aCghMCksY3k6dGhpcy5fdWkuY29udGFpbmVyLm91dGVySGVpZ2h0KCEwKX0se3JjOmQsbWVudVNpemU6Yn19LF9jYWxjdWxhdGVGaW5hbExvY2F0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGMsZT1iLnJjLGY9Yi5tZW51U2l6ZTtyZXR1cm4gYz17bGVmdDpkKGUuY3gsZi5jeCxlLngsYS54KSx0b3A6ZChlLmN5LGYuY3ksZS55LGEueSl9LGMudG9wPU1hdGgubWF4KDAsYy50b3ApLGMudG9wLT1NYXRoLm1pbihjLnRvcCxNYXRoLm1heCgwLGMudG9wK2YuY3ktdGhpcy5kb2N1bWVudC5oZWlnaHQoKSkpLGN9LF9wbGFjZW1lbnRDb29yZHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2NhbGN1bGF0ZUZpbmFsTG9jYXRpb24oYSx0aGlzLl9jbGFtcFBvcHVwV2lkdGgoKSl9LF9jcmVhdGVQcmVyZXF1aXNpdGVzOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmPXRoaXM7ZT17c2NyZWVuOmEuRGVmZXJyZWQoKSxjb250YWluZXI6YS5EZWZlcnJlZCgpfSxlLnNjcmVlbi50aGVuKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXVpc2l0ZXMmJmIoKX0pLGUuY29udGFpbmVyLnRoZW4oZnVuY3Rpb24oKXtlPT09Zi5fcHJlcmVxdWlzaXRlcyYmYygpfSksYS53aGVuKGUuc2NyZWVuLGUuY29udGFpbmVyKS5kb25lKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXVpc2l0ZXMmJihmLl9wcmVyZXF1aXNpdGVzPW51bGwsZCgpKX0pLGYuX3ByZXJlcXVpc2l0ZXM9ZX0sX2FuaW1hdGU6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpLmFkZENsYXNzKGIuc2NyZWVuQ2xhc3NUb0FkZCksYi5wcmVyZXF1aXNpdGVzLnNjcmVlbi5yZXNvbHZlKCksYi50cmFuc2l0aW9uJiZcIm5vbmVcIiE9PWIudHJhbnNpdGlvbiYmKGIuYXBwbHlUcmFuc2l0aW9uJiZ0aGlzLl9hcHBseVRyYW5zaXRpb24oYi50cmFuc2l0aW9uKSx0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pP3ZvaWQgdGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKGIuY29udGFpbmVyQ2xhc3NUb0FkZCkucmVtb3ZlQ2xhc3MoYi5jbGFzc1RvUmVtb3ZlKS5hbmltYXRpb25Db21wbGV0ZShhLnByb3h5KGIucHJlcmVxdWlzaXRlcy5jb250YWluZXIsXCJyZXNvbHZlXCIpKToodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSksdm9pZCBiLnByZXJlcXVpc2l0ZXMuY29udGFpbmVyLnJlc29sdmUoKSl9LF9kZXNpcmVkQ29vcmRzOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9bnVsbCxmPWUodGhpcy53aW5kb3cpLGc9Yi54LGg9Yi55LGk9Yi5wb3NpdGlvblRvO2lmKGkmJlwib3JpZ2luXCIhPT1pKWlmKFwid2luZG93XCI9PT1pKWc9Zi5jeC8yK2YueCxoPWYuY3kvMitmLnk7ZWxzZXt0cnl7ZD1hKGkpfWNhdGNoKGope2Q9bnVsbH1kJiYoZC5maWx0ZXIoXCI6dmlzaWJsZVwiKSwwPT09ZC5sZW5ndGgmJihkPW51bGwpKX1yZXR1cm4gZCYmKGM9ZC5vZmZzZXQoKSxnPWMubGVmdCtkLm91dGVyV2lkdGgoKS8yLGg9Yy50b3ArZC5vdXRlckhlaWdodCgpLzIpLChcIm51bWJlclwiIT09YS50eXBlKGcpfHxpc05hTihnKSkmJihnPWYuY3gvMitmLngpLChcIm51bWJlclwiIT09YS50eXBlKGgpfHxpc05hTihoKSkmJihoPWYuY3kvMitmLnkpLHt4OmcseTpofX0sX3JlcG9zaXRpb246ZnVuY3Rpb24oYSl7YT17eDphLngseTphLnkscG9zaXRpb25UbzphLnBvc2l0aW9uVG99LHRoaXMuX3RyaWdnZXIoXCJiZWZvcmVwb3NpdGlvblwiLGMsYSksdGhpcy5fdWkuY29udGFpbmVyLm9mZnNldCh0aGlzLl9wbGFjZW1lbnRDb29yZHModGhpcy5fZGVzaXJlZENvb3JkcyhhKSkpfSxyZXBvc2l0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX2lzT3BlbiYmdGhpcy5fcmVwb3NpdGlvbihhKX0sX3NhZmVseUJsdXI6ZnVuY3Rpb24oYil7YiE9PXRoaXMud2luZG93WzBdJiZcImJvZHlcIiE9PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmYShiKS5ibHVyKCl9LF9vcGVuUHJlcmVxdWlzaXRlc0NvbXBsZXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LmF0dHIoXCJpZFwiKSxjPXRoaXMuX3VpLmNvbnRhaW5lci5maW5kKFwiOmZvY3VzYWJsZVwiKS5maXJzdCgpO3RoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcyhcInVpLXBvcHVwLWFjdGl2ZVwiKSx0aGlzLl9pc09wZW49ITAsdGhpcy5fcmVzaXplU2NyZWVuKCksYS5jb250YWlucyh0aGlzLl91aS5jb250YWluZXJbMF0sdGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50KXx8dGhpcy5fc2FmZWx5Qmx1cih0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQpLGMubGVuZ3RoPjAmJih0aGlzLl91aS5mb2N1c0VsZW1lbnQ9YyksdGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCksYiYmdGhpcy5kb2N1bWVudC5maW5kKFwiW2FyaWEtaGFzcG9wdXA9J3RydWUnXVthcmlhLW93bnM9J1wiK2IrXCInXVwiKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLCEwKSx0aGlzLl90cmlnZ2VyKFwiYWZ0ZXJvcGVuXCIpfSxfb3BlbjpmdW5jdGlvbihiKXt2YXIgYz1hLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsYiksZD1mdW5jdGlvbigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQsYj1hLm1hdGNoKC9BcHBsZVdlYktpdFxcLyhbMC05XFwuXSspLyksYz0hIWImJmJbMV0sZD1hLm1hdGNoKC9BbmRyb2lkIChcXGQrKD86XFwuXFxkKykpLyksZT0hIWQmJmRbMV0sZj1hLmluZGV4T2YoXCJDaHJvbWVcIik+LTE7cmV0dXJuIG51bGwhPT1kJiZcIjQuMFwiPT09ZSYmYyYmYz41MzQuMTMmJiFmPyEwOiExfSgpO3RoaXMuX2NyZWF0ZVByZXJlcXVpc2l0ZXMoYS5ub29wLGEubm9vcCxhLnByb3h5KHRoaXMsXCJfb3BlblByZXJlcXVpc2l0ZXNDb21wbGV0ZVwiKSksdGhpcy5fY3VycmVudFRyYW5zaXRpb249Yy50cmFuc2l0aW9uLHRoaXMuX2FwcGx5VHJhbnNpdGlvbihjLnRyYW5zaXRpb24pLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcyhcInVpLXNjcmVlbi1oaWRkZW5cIiksdGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKFwidWktcG9wdXAtdHJ1bmNhdGVcIiksdGhpcy5fcmVwb3NpdGlvbihjKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoXCJ1aS1wb3B1cC1oaWRkZW5cIiksdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSYmZCYmdGhpcy5lbGVtZW50LmNsb3Nlc3QoXCIudWktcGFnZVwiKS5hZGRDbGFzcyhcInVpLXBvcHVwLW9wZW5cIiksdGhpcy5fYW5pbWF0ZSh7YWRkaXRpb25hbENvbmRpdGlvbjohMCx0cmFuc2l0aW9uOmMudHJhbnNpdGlvbixjbGFzc1RvUmVtb3ZlOlwiXCIsc2NyZWVuQ2xhc3NUb0FkZDpcImluXCIsY29udGFpbmVyQ2xhc3NUb0FkZDpcImluXCIsYXBwbHlUcmFuc2l0aW9uOiExLHByZXJlcXVpc2l0ZXM6dGhpcy5fcHJlcmVxdWlzaXRlc30pfSxfY2xvc2VQcmVyZXF1aXNpdGVTY3JlZW46ZnVuY3Rpb24oKXt0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoXCJvdXRcIikuYWRkQ2xhc3MoXCJ1aS1zY3JlZW4taGlkZGVuXCIpfSxfY2xvc2VQcmVyZXF1aXNpdGVDb250YWluZXI6ZnVuY3Rpb24oKXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoXCJyZXZlcnNlIG91dFwiKS5hZGRDbGFzcyhcInVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZVwiKS5yZW1vdmVBdHRyKFwic3R5bGVcIil9LF9jbG9zZVByZXJlcXVpc2l0ZXNEb25lOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5fdWkuY29udGFpbmVyLGQ9dGhpcy5lbGVtZW50LmF0dHIoXCJpZFwiKTthLm1vYmlsZS5wb3B1cC5hY3RpdmU9YyxhKFwiOmZvY3VzXCIsYlswXSkuYWRkKGJbMF0pLmJsdXIoKSxkJiZ0aGlzLmRvY3VtZW50LmZpbmQoXCJbYXJpYS1oYXNwb3B1cD0ndHJ1ZSddW2FyaWEtb3ducz0nXCIrZCtcIiddXCIpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsITEpLHRoaXMuX3RyaWdnZXIoXCJhZnRlcmNsb3NlXCIpfSxfY2xvc2U6ZnVuY3Rpb24oYil7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKFwidWktcG9wdXAtYWN0aXZlXCIpLHRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3MoXCJ1aS1wb3B1cC1vcGVuXCIpLHRoaXMuX2lzT3Blbj0hMSx0aGlzLl9jcmVhdGVQcmVyZXF1aXNpdGVzKGEucHJveHkodGhpcyxcIl9jbG9zZVByZXJlcXVpc2l0ZVNjcmVlblwiKSxhLnByb3h5KHRoaXMsXCJfY2xvc2VQcmVyZXF1aXNpdGVDb250YWluZXJcIiksYS5wcm94eSh0aGlzLFwiX2Nsb3NlUHJlcmVxdWlzaXRlc0RvbmVcIikpLHRoaXMuX2FuaW1hdGUoe2FkZGl0aW9uYWxDb25kaXRpb246dGhpcy5fdWkuc2NyZWVuLmhhc0NsYXNzKFwiaW5cIiksdHJhbnNpdGlvbjpiP1wibm9uZVwiOnRoaXMuX2N1cnJlbnRUcmFuc2l0aW9uLGNsYXNzVG9SZW1vdmU6XCJpblwiLHNjcmVlbkNsYXNzVG9BZGQ6XCJvdXRcIixjb250YWluZXJDbGFzc1RvQWRkOlwicmV2ZXJzZSBvdXRcIixhcHBseVRyYW5zaXRpb246ITAscHJlcmVxdWlzaXRlczp0aGlzLl9wcmVyZXF1aXNpdGVzfSl9LF91bmVuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fCh0aGlzLl9zZXRPcHRpb25zKHt0aGVtZTphLm1vYmlsZS5wb3B1cC5wcm90b3R5cGUub3B0aW9ucy50aGVtZX0pLHRoaXMuZWxlbWVudC5kZXRhY2goKS5pbnNlcnRBZnRlcih0aGlzLl91aS5wbGFjZWhvbGRlcikucmVtb3ZlQ2xhc3MoXCJ1aS1wb3B1cCB1aS1vdmVybGF5LXNoYWRvdyB1aS1jb3JuZXItYWxsIHVpLWJvZHktaW5oZXJpdFwiKSx0aGlzLl91aS5zY3JlZW4ucmVtb3ZlKCksdGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX3VpLnBsYWNlaG9sZGVyLnJlbW92ZSgpKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUucG9wdXAuYWN0aXZlPT09dGhpcz8odGhpcy5lbGVtZW50Lm9uZShcInBvcHVwYWZ0ZXJjbG9zZVwiLGEucHJveHkodGhpcyxcIl91bmVuaGFuY2VcIikpLHRoaXMuY2xvc2UoKSk6dGhpcy5fdW5lbmhhbmNlKCksdGhpc30sX2Nsb3NlUG9wdXA6ZnVuY3Rpb24oYyxkKXt2YXIgZSxmLGc9dGhpcy5vcHRpb25zLGg9ITE7YyYmYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8YS5tb2JpbGUucG9wdXAuYWN0aXZlIT09dGhpc3x8KGIuc2Nyb2xsVG8oMCx0aGlzLl9zY3JvbGxUb3ApLGMmJlwicGFnZWJlZm9yZWNoYW5nZVwiPT09Yy50eXBlJiZkJiYoZT1cInN0cmluZ1wiPT10eXBlb2YgZC50b1BhZ2U/ZC50b1BhZ2U6ZC50b1BhZ2UuanFtRGF0YShcInVybFwiKSxlPWEubW9iaWxlLnBhdGgucGFyc2VVcmwoZSksZj1lLnBhdGhuYW1lK2Uuc2VhcmNoK2UuaGFzaCx0aGlzLl9teVVybCE9PWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGYpP2g9ITA6Yy5wcmV2ZW50RGVmYXVsdCgpKSx0aGlzLndpbmRvdy5vZmYoZy5jbG9zZUV2ZW50cyksdGhpcy5lbGVtZW50LnVuZGVsZWdhdGUoZy5jbG9zZUxpbmtTZWxlY3RvcixnLmNsb3NlTGlua0V2ZW50cyksdGhpcy5fY2xvc2UoaCkpfSxfYmluZENvbnRhaW5lckNsb3NlOmZ1bmN0aW9uKCl7dGhpcy53aW5kb3cub24odGhpcy5vcHRpb25zLmNsb3NlRXZlbnRzLGEucHJveHkodGhpcyxcIl9jbG9zZVBvcHVwXCIpKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VpLmNvbnRhaW5lcn0sb3BlbjpmdW5jdGlvbihiKXt2YXIgYyxkLGUsZixnLGgsaT10aGlzLGo9dGhpcy5vcHRpb25zO3JldHVybiBhLm1vYmlsZS5wb3B1cC5hY3RpdmV8fGouZGlzYWJsZWQ/dGhpczooYS5tb2JpbGUucG9wdXAuYWN0aXZlPXRoaXMsdGhpcy5fc2Nyb2xsVG9wPXRoaXMud2luZG93LnNjcm9sbFRvcCgpLGouaGlzdG9yeT8oaD1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LGQ9YS5tb2JpbGUuZGlhbG9nSGFzaEtleSxlPWEubW9iaWxlLmFjdGl2ZVBhZ2UsZj1lP2UuaGFzQ2xhc3MoXCJ1aS1kaWFsb2dcIik6ITEsdGhpcy5fbXlVcmw9Yz1oLmdldEFjdGl2ZSgpLnVybCwoZz1jLmluZGV4T2YoZCk+LTEmJiFmJiZoLmFjdGl2ZUluZGV4PjApPyhpLl9vcGVuKGIpLGkuX2JpbmRDb250YWluZXJDbG9zZSgpLHRoaXMpOigtMSE9PWMuaW5kZXhPZihkKXx8Zj9jPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2grZDpjKz1jLmluZGV4T2YoXCIjXCIpPi0xP2Q6XCIjXCIrZCx0aGlzLndpbmRvdy5vbmUoXCJiZWZvcmVuYXZpZ2F0ZVwiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxpLl9vcGVuKGIpLGkuX2JpbmRDb250YWluZXJDbG9zZSgpfSksdGhpcy51cmxBbHRlcmVkPSEwLGEubW9iaWxlLm5hdmlnYXRlKGMse3JvbGU6XCJkaWFsb2dcIn0pLHRoaXMpKTooaS5fb3BlbihiKSxpLl9iaW5kQ29udGFpbmVyQ2xvc2UoKSxpLmVsZW1lbnQuZGVsZWdhdGUoai5jbG9zZUxpbmtTZWxlY3RvcixqLmNsb3NlTGlua0V2ZW50cyxmdW5jdGlvbihhKXtpLmNsb3NlKCksYS5wcmV2ZW50RGVmYXVsdCgpfSksdGhpcykpfSxjbG9zZTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5wb3B1cC5hY3RpdmUhPT10aGlzP3RoaXM6KHRoaXMuX3Njcm9sbFRvcD10aGlzLndpbmRvdy5zY3JvbGxUb3AoKSx0aGlzLm9wdGlvbnMuaGlzdG9yeSYmdGhpcy51cmxBbHRlcmVkPyhhLm1vYmlsZS5iYWNrKCksdGhpcy51cmxBbHRlcmVkPSExKTp0aGlzLl9jbG9zZVBvcHVwKCksdGhpcyl9fSksYS5tb2JpbGUucG9wdXAuaGFuZGxlTGluaz1mdW5jdGlvbihiKXt2YXIgYyxkPWEubW9iaWxlLnBhdGgsZT1hKGQuaGFzaFRvU2VsZWN0b3IoZC5wYXJzZVVybChiLmF0dHIoXCJocmVmXCIpKS5oYXNoKSkuZmlyc3QoKTtlLmxlbmd0aD4wJiZlLmRhdGEoXCJtb2JpbGUtcG9wdXBcIikmJihjPWIub2Zmc2V0KCksZS5wb3B1cChcIm9wZW5cIix7eDpjLmxlZnQrYi5vdXRlcldpZHRoKCkvMix5OmMudG9wK2Iub3V0ZXJIZWlnaHQoKS8yLHRyYW5zaXRpb246Yi5qcW1EYXRhKFwidHJhbnNpdGlvblwiKSxwb3NpdGlvblRvOmIuanFtRGF0YShcInBvc2l0aW9uLXRvXCIpfSkpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0sMzAwKX0sYS5tb2JpbGUuZG9jdW1lbnQub24oXCJwYWdlYmVmb3JlY2hhbmdlXCIsZnVuY3Rpb24oYixjKXtcInBvcHVwXCI9PT1jLm9wdGlvbnMucm9sZSYmKGEubW9iaWxlLnBvcHVwLmhhbmRsZUxpbmsoYy5vcHRpb25zLmxpbmspLGIucHJldmVudERlZmF1bHQoKSl9KX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgZD1cIi51aS1kaXNhYmxlZCwudWktc3RhdGUtZGlzYWJsZWQsLnVpLWxpLWRpdmlkZXIsLnVpLXNjcmVlbi1oaWRkZW4sOmpxbURhdGEocm9sZT0ncGxhY2Vob2xkZXInKVwiLGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPWFbYytcIkFsbFwiXSgpLm5vdChkKS5maXJzdCgpO2UubGVuZ3RoJiYoYi5ibHVyKCkuYXR0cihcInRhYmluZGV4XCIsXCItMVwiKSxlLmZpbmQoXCJhXCIpLmZpcnN0KCkuZm9jdXMoKSl9O2Eud2lkZ2V0KFwibW9iaWxlLnNlbGVjdG1lbnVcIixhLm1vYmlsZS5zZWxlY3RtZW51LHtfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zO3JldHVybiBhLm5hdGl2ZU1lbnU9YS5uYXRpdmVNZW51fHx0aGlzLmVsZW1lbnQucGFyZW50cyhcIjpqcW1EYXRhKHJvbGU9J3BvcHVwJyksOm1vYmlsZS1wb3B1cFwiKS5sZW5ndGg+MCx0aGlzLl9zdXBlcigpfSxfaGFuZGxlU2VsZWN0Rm9jdXM6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYmx1cigpLHRoaXMuYnV0dG9uLmZvY3VzKCl9LF9oYW5kbGVLZXlkb3duOmZ1bmN0aW9uKGEpe3RoaXMuX3N1cGVyKGEpLHRoaXMuX2hhbmRsZUJ1dHRvblZjbGlja0tleWRvd24oYSl9LF9oYW5kbGVCdXR0b25WY2xpY2tLZXlkb3duOmZ1bmN0aW9uKGIpe3RoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5pc09wZW58fHRoaXMub3B0aW9ucy5uYXRpdmVNZW51fHwoXCJ2Y2xpY2tcIj09PWIudHlwZXx8Yi5rZXlDb2RlJiYoYi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5FTlRFUnx8Yi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5TUEFDRSkpJiYodGhpcy5fZGVjaWRlRm9ybWF0KCksXCJvdmVybGF5XCI9PT10aGlzLm1lbnVUeXBlP3RoaXMuYnV0dG9uLmF0dHIoXCJocmVmXCIsXCIjXCIrdGhpcy5wb3B1cElkKS5hdHRyKFwiZGF0YS1cIisoYS5tb2JpbGUubnN8fFwiXCIpK1wicmVsXCIsXCJwb3B1cFwiKTp0aGlzLmJ1dHRvbi5hdHRyKFwiaHJlZlwiLFwiI1wiK3RoaXMuZGlhbG9nSWQpLmF0dHIoXCJkYXRhLVwiKyhhLm1vYmlsZS5uc3x8XCJcIikrXCJyZWxcIixcImRpYWxvZ1wiKSx0aGlzLmlzT3Blbj0hMCl9LF9oYW5kbGVMaXN0Rm9jdXM6ZnVuY3Rpb24oYil7dmFyIGM9XCJmb2N1c2luXCI9PT1iLnR5cGU/e3RhYmluZGV4OlwiMFwiLGV2ZW50Olwidm1vdXNlb3ZlclwifTp7dGFiaW5kZXg6XCItMVwiLGV2ZW50Olwidm1vdXNlb3V0XCJ9O2EoYi50YXJnZXQpLmF0dHIoXCJ0YWJpbmRleFwiLGMudGFiaW5kZXgpLnRyaWdnZXIoYy5ldmVudCl9LF9oYW5kbGVMaXN0S2V5ZG93bjpmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KSxkPWMuY2xvc2VzdChcImxpXCIpO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGUoZCxjLFwicHJldlwiKSwhMTtjYXNlIDQwOnJldHVybiBlKGQsYyxcIm5leHRcIiksITE7Y2FzZSAxMzpjYXNlIDMyOnJldHVybiBjLnRyaWdnZXIoXCJjbGlja1wiKSwhMX19LF9oYW5kbGVNZW51UGFnZUhpZGU6ZnVuY3Rpb24oKXt0aGlzLl9kZWxheWVkVHJpZ2dlcigpLHRoaXMudGhpc1BhZ2UucGFnZShcImJpbmRSZW1vdmVcIil9LF9oYW5kbGVIZWFkZXJDbG9zZUNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuXCJvdmVybGF5XCI9PT10aGlzLm1lbnVUeXBlPyh0aGlzLmNsb3NlKCksITEpOnZvaWQgMH0sX2hhbmRsZUxpc3RJdGVtQ2xpY2s6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuY2xvc2VzdChcImxpXCIpLGQ9dGhpcy5zZWxlY3RbMF0uc2VsZWN0ZWRJbmRleCxlPWEubW9iaWxlLmdldEF0dHJpYnV0ZShjLFwib3B0aW9uLWluZGV4XCIpLGY9dGhpcy5fc2VsZWN0T3B0aW9ucygpLmVxKGUpWzBdO2Yuc2VsZWN0ZWQ9dGhpcy5pc011bHRpcGxlPyFmLnNlbGVjdGVkOiEwLHRoaXMuaXNNdWx0aXBsZSYmYy5maW5kKFwiYVwiKS50b2dnbGVDbGFzcyhcInVpLWNoZWNrYm94LW9uXCIsZi5zZWxlY3RlZCkudG9nZ2xlQ2xhc3MoXCJ1aS1jaGVja2JveC1vZmZcIiwhZi5zZWxlY3RlZCksdGhpcy5pc011bHRpcGxlfHxkPT09ZXx8KHRoaXMuX3RyaWdnZXJDaGFuZ2U9ITApLHRoaXMuaXNNdWx0aXBsZT8odGhpcy5zZWxlY3QudHJpZ2dlcihcImNoYW5nZVwiKSx0aGlzLmxpc3QuZmluZChcImxpOm5vdCgudWktbGktZGl2aWRlcilcIikuZXEoZSkuZmluZChcImFcIikuZmlyc3QoKS5mb2N1cygpKTp0aGlzLmNsb3NlKCksYi5wcmV2ZW50RGVmYXVsdCgpfSxidWlsZDpmdW5jdGlvbigpe3ZhciBjLGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHAscSxyLHMsdCx1LHY9dGhpcy5vcHRpb25zO3JldHVybiB2Lm5hdGl2ZU1lbnU/dGhpcy5fc3VwZXIoKTooYz10aGlzLnNlbGVjdElkLGQ9YytcIi1saXN0Ym94XCIsZT1jK1wiLWRpYWxvZ1wiLGY9dGhpcy5sYWJlbCxnPXRoaXMuZWxlbWVudC5jbG9zZXN0KFwiLnVpLXBhZ2VcIiksaD10aGlzLmVsZW1lbnRbMF0ubXVsdGlwbGUsaT1jK1wiLW1lbnVcIixqPXYudGhlbWU/XCIgZGF0YS1cIithLm1vYmlsZS5ucytcInRoZW1lPSdcIit2LnRoZW1lK1wiJ1wiOlwiXCIsaz12Lm92ZXJsYXlUaGVtZXx8di50aGVtZXx8bnVsbCxsPWs/XCIgZGF0YS1cIithLm1vYmlsZS5ucytcIm92ZXJsYXktdGhlbWU9J1wiK2srXCInXCI6XCJcIixtPXYuZGl2aWRlclRoZW1lJiZoP1wiIGRhdGEtXCIrYS5tb2JpbGUubnMrXCJkaXZpZGVyLXRoZW1lPSdcIit2LmRpdmlkZXJUaGVtZStcIidcIjpcIlwiLG49YShcIjxkaXYgZGF0YS1cIithLm1vYmlsZS5ucytcInJvbGU9J2RpYWxvZycgY2xhc3M9J3VpLXNlbGVjdG1lbnUnIGlkPSdcIitlK1wiJ1wiK2orbCtcIj48ZGl2IGRhdGEtXCIrYS5tb2JpbGUubnMrXCJyb2xlPSdoZWFkZXInPjxkaXYgY2xhc3M9J3VpLXRpdGxlJz48L2Rpdj48L2Rpdj48ZGl2IGRhdGEtXCIrYS5tb2JpbGUubnMrXCJyb2xlPSdjb250ZW50Jz48L2Rpdj48L2Rpdj5cIiksbz1hKFwiPGRpdlwiK2orbCtcIiBpZD0nXCIrZCtcIicgY2xhc3M9J3VpLXNlbGVjdG1lbnUnPjwvZGl2PlwiKS5pbnNlcnRBZnRlcih0aGlzLnNlbGVjdCkucG9wdXAoKSxwPWEoXCI8dWwgY2xhc3M9J3VpLXNlbGVjdG1lbnUtbGlzdCcgaWQ9J1wiK2krXCInIHJvbGU9J2xpc3Rib3gnIGFyaWEtbGFiZWxsZWRieT0nXCIrdGhpcy5idXR0b25JZCtcIidcIitqK20rXCI+PC91bD5cIikuYXBwZW5kVG8obykscT1hKFwiPGRpdiBjbGFzcz0ndWktaGVhZGVyIHVpLWJhci1cIisodi50aGVtZT92LnRoZW1lOlwiaW5oZXJpdFwiKStcIic+PC9kaXY+XCIpLnByZXBlbmRUbyhvKSxyPWEoXCI8aDEgY2xhc3M9J3VpLXRpdGxlJz48L2gxPlwiKS5hcHBlbmRUbyhxKSx0aGlzLmlzTXVsdGlwbGUmJih1PWEoXCI8YT5cIix7cm9sZTpcImJ1dHRvblwiLHRleHQ6di5jbG9zZVRleHQsaHJlZjpcIiNcIixcImNsYXNzXCI6XCJ1aS1idG4gdWktY29ybmVyLWFsbCB1aS1idG4tbGVmdCB1aS1idG4taWNvbi1ub3RleHQgdWktaWNvbi1kZWxldGVcIn0pLmFwcGVuZFRvKHEpKSxhLmV4dGVuZCh0aGlzLHtzZWxlY3RJZDpjLG1lbnVJZDppLHBvcHVwSWQ6ZCxkaWFsb2dJZDplLHRoaXNQYWdlOmcsbWVudVBhZ2U6bixsYWJlbDpmLGlzTXVsdGlwbGU6aCx0aGVtZTp2LnRoZW1lLGxpc3Rib3g6byxsaXN0OnAsaGVhZGVyOnEsaGVhZGVyVGl0bGU6cixoZWFkZXJDbG9zZTp1LG1lbnVQYWdlQ29udGVudDpzLG1lbnVQYWdlQ2xvc2U6dCxwbGFjZWhvbGRlcjpcIlwifSksdGhpcy5yZWZyZXNoKCksdGhpcy5fb3JpZ1RhYkluZGV4PT09YiYmKHRoaXMuX29yaWdUYWJJbmRleD1udWxsPT09dGhpcy5zZWxlY3RbMF0uZ2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIik/ITE6dGhpcy5zZWxlY3QuYXR0cihcInRhYmluZGV4XCIpKSx0aGlzLnNlbGVjdC5hdHRyKFwidGFiaW5kZXhcIixcIi0xXCIpLHRoaXMuX29uKHRoaXMuc2VsZWN0LHtmb2N1czpcIl9oYW5kbGVTZWxlY3RGb2N1c1wifSksdGhpcy5fb24odGhpcy5idXR0b24se3ZjbGljazpcIl9oYW5kbGVCdXR0b25WY2xpY2tLZXlkb3duXCJ9KSx0aGlzLmxpc3QuYXR0cihcInJvbGVcIixcImxpc3Rib3hcIiksdGhpcy5fb24odGhpcy5saXN0LHtmb2N1c2luOlwiX2hhbmRsZUxpc3RGb2N1c1wiLGZvY3Vzb3V0OlwiX2hhbmRsZUxpc3RGb2N1c1wiLGtleWRvd246XCJfaGFuZGxlTGlzdEtleWRvd25cIixcImNsaWNrIGxpOm5vdCgudWktZGlzYWJsZWQsLnVpLXN0YXRlLWRpc2FibGVkLC51aS1saS1kaXZpZGVyKVwiOlwiX2hhbmRsZUxpc3RJdGVtQ2xpY2tcIn0pLHRoaXMuX29uKHRoaXMubWVudVBhZ2Use3BhZ2VoaWRlOlwiX2hhbmRsZU1lbnVQYWdlSGlkZVwifSksdGhpcy5fb24odGhpcy5saXN0Ym94LHtwb3B1cGFmdGVyY2xvc2U6XCJfcG9wdXBDbG9zZWRcIn0pLHRoaXMuaXNNdWx0aXBsZSYmdGhpcy5fb24odGhpcy5oZWFkZXJDbG9zZSx7Y2xpY2s6XCJfaGFuZGxlSGVhZGVyQ2xvc2VDbGlja1wifSksdGhpcyl9LF9wb3B1cENsb3NlZDpmdW5jdGlvbigpe3RoaXMuY2xvc2UoKSx0aGlzLl9kZWxheWVkVHJpZ2dlcigpfSxfZGVsYXllZFRyaWdnZXI6ZnVuY3Rpb24oKXt0aGlzLl90cmlnZ2VyQ2hhbmdlJiZ0aGlzLmVsZW1lbnQudHJpZ2dlcihcImNoYW5nZVwiKSx0aGlzLl90cmlnZ2VyQ2hhbmdlPSExfSxfaXNSZWJ1aWxkUmVxdWlyZWQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxpc3QuZmluZChcImxpXCIpLGI9dGhpcy5fc2VsZWN0T3B0aW9ucygpLm5vdChcIi51aS1zY3JlZW4taGlkZGVuXCIpO3JldHVybiBiLnRleHQoKSE9PWEudGV4dCgpfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKFwiOnNlbGVjdGVkOm5vdCggOmpxbURhdGEocGxhY2Vob2xkZXI9J3RydWUnKSApXCIpfSxyZWZyZXNoOmZ1bmN0aW9uKGIpe3ZhciBjLGQ7cmV0dXJuIHRoaXMub3B0aW9ucy5uYXRpdmVNZW51P3RoaXMuX3N1cGVyKGIpOihjPXRoaXMsKGJ8fHRoaXMuX2lzUmVidWlsZFJlcXVpcmVkKCkpJiZjLl9idWlsZExpc3QoKSxkPXRoaXMuc2VsZWN0ZWRJbmRpY2VzKCksYy5zZXRCdXR0b25UZXh0KCksYy5zZXRCdXR0b25Db3VudCgpLHZvaWQgYy5saXN0LmZpbmQoXCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpXCIpLmZpbmQoXCJhXCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5lbmQoKS5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLCExKS5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBlPWEodGhpcyk7YS5pbkFycmF5KGIsZCk+LTE/KGUuYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwhMCksYy5pc011bHRpcGxlP2UuZmluZChcImFcIikucmVtb3ZlQ2xhc3MoXCJ1aS1jaGVja2JveC1vZmZcIikuYWRkQ2xhc3MoXCJ1aS1jaGVja2JveC1vblwiKTplLmhhc0NsYXNzKFwidWktc2NyZWVuLWhpZGRlblwiKT9lLm5leHQoKS5maW5kKFwiYVwiKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk6ZS5maW5kKFwiYVwiKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykpOmMuaXNNdWx0aXBsZSYmZS5maW5kKFwiYVwiKS5yZW1vdmVDbGFzcyhcInVpLWNoZWNrYm94LW9uXCIpLmFkZENsYXNzKFwidWktY2hlY2tib3gtb2ZmXCIpfSkpfSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuaXNPcGVuKXt2YXIgYT10aGlzO1wicGFnZVwiPT09YS5tZW51VHlwZT8oYS5tZW51UGFnZS5kaWFsb2coXCJjbG9zZVwiKSxhLmxpc3QuYXBwZW5kVG8oYS5saXN0Ym94KSk6YS5saXN0Ym94LnBvcHVwKFwiY2xvc2VcIiksYS5fZm9jdXNCdXR0b24oKSxhLmlzT3Blbj0hMX19LG9wZW46ZnVuY3Rpb24oKXt0aGlzLmJ1dHRvbi5jbGljaygpfSxfZm9jdXNNZW51SXRlbTpmdW5jdGlvbigpe3ZhciBiPXRoaXMubGlzdC5maW5kKFwiYS5cIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7MD09PWIubGVuZ3RoJiYoYj10aGlzLmxpc3QuZmluZChcImxpOm5vdChcIitkK1wiKSBhLnVpLWJ0blwiKSksYi5maXJzdCgpLmZvY3VzKCl9LF9kZWNpZGVGb3JtYXQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9dGhpcy53aW5kb3csZD1iLmxpc3QucGFyZW50KCksZT1kLm91dGVySGVpZ2h0KCksZj1jLnNjcm9sbFRvcCgpLGc9Yi5idXR0b24ub2Zmc2V0KCkudG9wLGg9Yy5oZWlnaHQoKTtlPmgtODB8fCFhLnN1cHBvcnQuc2Nyb2xsVG9wPyhiLm1lbnVQYWdlLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLnBhZ2UoKSxiLm1lbnVQYWdlQ29udGVudD1iLm1lbnVQYWdlLmZpbmQoXCIudWktY29udGVudFwiKSxiLm1lbnVQYWdlQ2xvc2U9Yi5tZW51UGFnZS5maW5kKFwiLnVpLWhlYWRlciBhXCIpLGIudGhpc1BhZ2UudW5iaW5kKFwicGFnZWhpZGUucmVtb3ZlXCIpLDA9PT1mJiZnPmgmJmIudGhpc1BhZ2Uub25lKFwicGFnZWhpZGVcIixmdW5jdGlvbigpe2EodGhpcykuanFtRGF0YShcImxhc3RTY3JvbGxcIixnKX0pLGIubWVudVBhZ2Uub25lKHtwYWdlc2hvdzphLnByb3h5KHRoaXMsXCJfZm9jdXNNZW51SXRlbVwiKSxwYWdlaGlkZTphLnByb3h5KHRoaXMsXCJjbG9zZVwiKX0pLGIubWVudVR5cGU9XCJwYWdlXCIsYi5tZW51UGFnZUNvbnRlbnQuYXBwZW5kKGIubGlzdCksYi5tZW51UGFnZS5maW5kKFwiZGl2IC51aS10aXRsZVwiKS50ZXh0KGIubGFiZWwuZ2V0RW5jb2RlZFRleHQoKXx8Yi5wbGFjZWhvbGRlcikpOihiLm1lbnVUeXBlPVwib3ZlcmxheVwiLGIubGlzdGJveC5vbmUoe3BvcHVwYWZ0ZXJvcGVuOmEucHJveHkodGhpcyxcIl9mb2N1c01lbnVJdGVtXCIpfSkpfSxfYnVpbGRMaXN0OmZ1bmN0aW9uKCl7dmFyIGIsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxPXRoaXMscj10aGlzLm9wdGlvbnMscz10aGlzLnBsYWNlaG9sZGVyLHQ9ITAsdT1cImZhbHNlXCIsdj1cImRhdGEtXCIrYS5tb2JpbGUubnMsdz12K1wib3B0aW9uLWluZGV4XCIseD12K1wiaWNvblwiLHk9ditcInJvbGVcIix6PXYrXCJwbGFjZWhvbGRlclwiLEE9Yy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksQj0hMTtmb3IocS5saXN0LmVtcHR5KCkuZmlsdGVyKFwiLnVpLWxpc3R2aWV3XCIpLmxpc3R2aWV3KFwiZGVzdHJveVwiKSxiPXRoaXMuX3NlbGVjdE9wdGlvbnMoKSxkPWIubGVuZ3RoLGU9dGhpcy5zZWxlY3RbMF0sZz0wO2Q+ZztnKyssQj0hMSloPWJbZ10saT1hKGgpLGkuaGFzQ2xhc3MoXCJ1aS1zY3JlZW4taGlkZGVuXCIpfHwoaj1oLnBhcmVudE5vZGUsbT1bXSxrPWkudGV4dCgpLGw9Yy5jcmVhdGVFbGVtZW50KFwiYVwiKSxsLnNldEF0dHJpYnV0ZShcImhyZWZcIixcIiNcIiksbC5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKGspKSxqIT09ZSYmXCJvcHRncm91cFwiPT09ai5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYobj1qLmdldEF0dHJpYnV0ZShcImxhYmVsXCIpLG4hPT1mJiYobz1jLmNyZWF0ZUVsZW1lbnQoXCJsaVwiKSxvLnNldEF0dHJpYnV0ZSh5LFwibGlzdC1kaXZpZGVyXCIpLG8uc2V0QXR0cmlidXRlKFwicm9sZVwiLFwib3B0aW9uXCIpLG8uc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIi0xXCIpLG8uYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShuKSksQS5hcHBlbmRDaGlsZChvKSxmPW4pKSwhdHx8aC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSYmMCE9PWsubGVuZ3RoJiYhaS5qcW1EYXRhKFwicGxhY2Vob2xkZXJcIil8fCh0PSExLEI9ITAsbnVsbD09PWguZ2V0QXR0cmlidXRlKHopJiYodGhpcy5fcmVtb3ZlUGxhY2Vob2xkZXJBdHRyPSEwKSxoLnNldEF0dHJpYnV0ZSh6LCEwKSxyLmhpZGVQbGFjZWhvbGRlck1lbnVJdGVtcyYmbS5wdXNoKFwidWktc2NyZWVuLWhpZGRlblwiKSxzIT09ayYmKHM9cS5wbGFjZWhvbGRlcj1rKSkscD1jLmNyZWF0ZUVsZW1lbnQoXCJsaVwiKSxoLmRpc2FibGVkJiYobS5wdXNoKFwidWktc3RhdGUtZGlzYWJsZWRcIikscC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsITApKSxwLnNldEF0dHJpYnV0ZSh3LGcpLHAuc2V0QXR0cmlidXRlKHgsdSksQiYmcC5zZXRBdHRyaWJ1dGUoeiwhMCkscC5jbGFzc05hbWU9bS5qb2luKFwiIFwiKSxwLnNldEF0dHJpYnV0ZShcInJvbGVcIixcIm9wdGlvblwiKSxsLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXCItMVwiKSx0aGlzLmlzTXVsdGlwbGUmJmEobCkuYWRkQ2xhc3MoXCJ1aS1idG4gdWktY2hlY2tib3gtb2ZmIHVpLWJ0bi1pY29uLXJpZ2h0XCIpLHAuYXBwZW5kQ2hpbGQobCksQS5hcHBlbmRDaGlsZChwKSk7cS5saXN0WzBdLmFwcGVuZENoaWxkKEEpLHRoaXMuaXNNdWx0aXBsZXx8cy5sZW5ndGg/dGhpcy5oZWFkZXJUaXRsZS50ZXh0KHRoaXMucGxhY2Vob2xkZXIpOnRoaXMuaGVhZGVyLmFkZENsYXNzKFwidWktc2NyZWVuLWhpZGRlblwiKSxxLmxpc3QubGlzdHZpZXcoKX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubmF0aXZlTWVudT90aGlzLl9zdXBlcigpOmEoXCI8YT5cIix7aHJlZjpcIiNcIixyb2xlOlwiYnV0dG9uXCIsaWQ6dGhpcy5idXR0b25JZCxcImFyaWEtaGFzcG9wdXBcIjpcInRydWVcIixcImFyaWEtb3duc1wiOnRoaXMubWVudUlkfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLm5hdGl2ZU1lbnV8fCh0aGlzLmNsb3NlKCksdGhpcy5fb3JpZ1RhYkluZGV4IT09YiYmKHRoaXMuX29yaWdUYWJJbmRleCE9PSExP3RoaXMuc2VsZWN0LmF0dHIoXCJ0YWJpbmRleFwiLHRoaXMuX29yaWdUYWJJbmRleCk6dGhpcy5zZWxlY3QucmVtb3ZlQXR0cihcInRhYmluZGV4XCIpKSx0aGlzLl9yZW1vdmVQbGFjZWhvbGRlckF0dHImJnRoaXMuX3NlbGVjdE9wdGlvbnMoKS5yZW1vdmVBdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInBsYWNlaG9sZGVyXCIpLHRoaXMubGlzdGJveC5yZW1vdmUoKSx0aGlzLm1lbnVQYWdlLnJlbW92ZSgpKSx0aGlzLl9zdXBlcigpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxiKXt2YXIgYz1iP2I6W107cmV0dXJuIGMucHVzaChcInVpLWJ0blwiKSxhLnRoZW1lJiZjLnB1c2goXCJ1aS1idG4tXCIrYS50aGVtZSksYS5pY29uJiYoYz1jLmNvbmNhdChbXCJ1aS1pY29uLVwiK2EuaWNvbixcInVpLWJ0bi1pY29uLVwiK2EuaWNvbnBvc10pLGEuaWNvbnNoYWRvdyYmYy5wdXNoKFwidWktc2hhZG93LWljb25cIikpLGEuaW5saW5lJiZjLnB1c2goXCJ1aS1idG4taW5saW5lXCIpLGEuc2hhZG93JiZjLnB1c2goXCJ1aS1zaGFkb3dcIiksYS5jb3JuZXJzJiZjLnB1c2goXCJ1aS1jb3JuZXItYWxsXCIpLGEubWluaSYmYy5wdXNoKFwidWktbWluaVwiKSxjfWZ1bmN0aW9uIGQoYSl7dmFyIGMsZCxlLGc9ITEsaD0hMCxpPXtpY29uOlwiXCIsaW5saW5lOiExLHNoYWRvdzohMSxjb3JuZXJzOiExLGljb25zaGFkb3c6ITEsbWluaTohMX0saj1bXTtmb3IoYT1hLnNwbGl0KFwiIFwiKSxjPTA7YzxhLmxlbmd0aDtjKyspZT0hMCxkPWZbYVtjXV0sZCE9PWI/KGU9ITEsaVtkXT0hMCk6MD09PWFbY10uaW5kZXhPZihcInVpLWJ0bi1pY29uLVwiKT8oZT0hMSxoPSExLGkuaWNvbnBvcz1hW2NdLnN1YnN0cmluZygxMikpOjA9PT1hW2NdLmluZGV4T2YoXCJ1aS1pY29uLVwiKT8oZT0hMSxpLmljb249YVtjXS5zdWJzdHJpbmcoOCkpOjA9PT1hW2NdLmluZGV4T2YoXCJ1aS1idG4tXCIpJiY4PT09YVtjXS5sZW5ndGg/KGU9ITEsaS50aGVtZT1hW2NdLnN1YnN0cmluZyg3KSk6XCJ1aS1idG5cIj09PWFbY10mJihlPSExLGc9ITApLGUmJmoucHVzaChhW2NdKTtyZXR1cm4gaCYmKGkuaWNvbj1cIlwiKSx7b3B0aW9uczppLHVua25vd25DbGFzc2VzOmosYWxyZWFkeUVuaGFuY2VkOmd9fWZ1bmN0aW9uIGUoYSl7cmV0dXJuXCItXCIrYS50b0xvd2VyQ2FzZSgpfXZhciBmPXtcInVpLXNoYWRvd1wiOlwic2hhZG93XCIsXCJ1aS1jb3JuZXItYWxsXCI6XCJjb3JuZXJzXCIsXCJ1aS1idG4taW5saW5lXCI6XCJpbmxpbmVcIixcInVpLXNoYWRvdy1pY29uXCI6XCJpY29uc2hhZG93XCIsXCJ1aS1taW5pXCI6XCJtaW5pXCJ9LGc9ZnVuY3Rpb24oKXt2YXIgYz1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBudWxsPT1jP2I6Y30saD0vW0EtWl0vZzthLmZuLmJ1dHRvbk1hcmt1cD1mdW5jdGlvbihmLGkpe3ZhciBqLGssbCxtLG4sbz1hLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cztmb3Ioaj0wO2o8dGhpcy5sZW5ndGg7aisrKXtpZihsPXRoaXNbal0saz1pP3thbHJlYWR5RW5oYW5jZWQ6ITEsdW5rbm93bkNsYXNzZXM6W119OmQobC5jbGFzc05hbWUpLG09YS5leHRlbmQoe30say5hbHJlYWR5RW5oYW5jZWQ/ay5vcHRpb25zOnt9LGYpLCFrLmFscmVhZHlFbmhhbmNlZClmb3IobiBpbiBvKW1bbl09PT1iJiYobVtuXT1nKGwsbi5yZXBsYWNlKGgsZSkpKTtsLmNsYXNzTmFtZT1jKGEuZXh0ZW5kKHt9LG8sbSksay51bmtub3duQ2xhc3Nlcykuam9pbihcIiBcIiksXCJidXR0b25cIiE9PWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZsLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImJ1dHRvblwiKX1yZXR1cm4gdGhpc30sYS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHM9e2ljb246XCJcIixpY29ucG9zOlwibGVmdFwiLHRoZW1lOm51bGwsaW5saW5lOiExLHNoYWRvdzohMCxjb3JuZXJzOiEwLGljb25zaGFkb3c6ITEsbWluaTohMX0sYS5leHRlbmQoYS5mbi5idXR0b25NYXJrdXAse2luaXRTZWxlY3RvcjpcImE6anFtRGF0YShyb2xlPSdidXR0b24nKSwgLnVpLWJhciA+IGEsIC51aS1iYXIgPiA6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSA+IGEsIGJ1dHRvbjpub3QoOmpxbURhdGEocm9sZT0nbmF2YmFyJykgYnV0dG9uKVwifSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoXCJtb2JpbGUuY29udHJvbGdyb3VwXCIsYS5leHRlbmQoe29wdGlvbnM6e2VuaGFuY2VkOiExLHRoZW1lOm51bGwsc2hhZG93OiExLGNvcm5lcnM6ITAsZXhjbHVkZUludmlzaWJsZTohMCx0eXBlOlwidmVydGljYWxcIixtaW5pOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zLGQ9YS5tb2JpbGUucGFnZS5wcm90b3R5cGUua2VlcE5hdGl2ZVNlbGVjdG9yKCk7YS5mbi5idXR0b25NYXJrdXAmJnRoaXMuZWxlbWVudC5maW5kKGEuZm4uYnV0dG9uTWFya3VwLmluaXRTZWxlY3Rvcikubm90KGQpLmJ1dHRvbk1hcmt1cCgpLGEuZWFjaCh0aGlzLl9jaGlsZFdpZGdldHMsYS5wcm94eShmdW5jdGlvbihiLGMpe2EubW9iaWxlW2NdJiZ0aGlzLmVsZW1lbnQuZmluZChhLm1vYmlsZVtjXS5pbml0U2VsZWN0b3IpLm5vdChkKVtjXSgpfSx0aGlzKSksYS5leHRlbmQodGhpcyx7X3VpOm51bGwsX2luaXRpYWxSZWZyZXNoOiEwfSksdGhpcy5fdWk9Yy5lbmhhbmNlZD97Z3JvdXBMZWdlbmQ6Yi5jaGlsZHJlbihcIi51aS1jb250cm9sZ3JvdXAtbGFiZWxcIikuY2hpbGRyZW4oKSxjaGlsZFdyYXBwZXI6Yi5jaGlsZHJlbihcIi51aS1jb250cm9sZ3JvdXAtY29udHJvbHNcIil9OnRoaXMuX2VuaGFuY2UoKX0sX2NoaWxkV2lkZ2V0czpbXCJjaGVja2JveHJhZGlvXCIsXCJzZWxlY3RtZW51XCIsXCJidXR0b25cIl0sX3RoZW1lQ2xhc3NGcm9tT3B0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiBhP1wibm9uZVwiPT09YT9cIlwiOlwidWktZ3JvdXAtdGhlbWUtXCIrYTpcIlwifSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucyxkPXtncm91cExlZ2VuZDpiLmNoaWxkcmVuKFwibGVnZW5kXCIpLGNoaWxkV3JhcHBlcjpiLmFkZENsYXNzKFwidWktY29udHJvbGdyb3VwIHVpLWNvbnRyb2xncm91cC1cIisoXCJob3Jpem9udGFsXCI9PT1jLnR5cGU/XCJob3Jpem9udGFsXCI6XCJ2ZXJ0aWNhbFwiKStcIiBcIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihjLnRoZW1lKStcIiBcIisoYy5jb3JuZXJzP1widWktY29ybmVyLWFsbCBcIjpcIlwiKSsoYy5taW5pP1widWktbWluaSBcIjpcIlwiKSkud3JhcElubmVyKFwiPGRpdiBjbGFzcz0ndWktY29udHJvbGdyb3VwLWNvbnRyb2xzIFwiKyhjLnNoYWRvdz09PSEwP1widWktc2hhZG93XCI6XCJcIikrXCInPjwvZGl2PlwiKS5jaGlsZHJlbigpfTtyZXR1cm4gZC5ncm91cExlZ2VuZC5sZW5ndGg+MCYmYShcIjxkaXYgcm9sZT0naGVhZGluZycgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbCc+PC9kaXY+XCIpLmFwcGVuZChkLmdyb3VwTGVnZW5kKS5wcmVwZW5kVG8oYiksZH0sX2luaXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGMsZCxlPXRoaXMuZWxlbWVudDtyZXR1cm4gYS50eXBlIT09YiYmKGUucmVtb3ZlQ2xhc3MoXCJ1aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCB1aS1jb250cm9sZ3JvdXAtdmVydGljYWxcIikuYWRkQ2xhc3MoXCJ1aS1jb250cm9sZ3JvdXAtXCIrKFwiaG9yaXpvbnRhbFwiPT09YS50eXBlP1wiaG9yaXpvbnRhbFwiOlwidmVydGljYWxcIikpLGM9ITApLGEudGhlbWUhPT1iJiZlLnJlbW92ZUNsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKHRoaXMub3B0aW9ucy50aGVtZSkpLmFkZENsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKGEudGhlbWUpKSxhLmNvcm5lcnMhPT1iJiZlLnRvZ2dsZUNsYXNzKFwidWktY29ybmVyLWFsbFwiLGEuY29ybmVycyksYS5taW5pIT09YiYmZS50b2dnbGVDbGFzcyhcInVpLW1pbmlcIixhLm1pbmkpLGEuc2hhZG93IT09YiYmdGhpcy5fdWkuY2hpbGRXcmFwcGVyLnRvZ2dsZUNsYXNzKFwidWktc2hhZG93XCIsYS5zaGFkb3cpLGEuZXhjbHVkZUludmlzaWJsZSE9PWImJih0aGlzLm9wdGlvbnMuZXhjbHVkZUludmlzaWJsZT1hLmV4Y2x1ZGVJbnZpc2libGUsYz0hMCksZD10aGlzLl9zdXBlcihhKSxjJiZ0aGlzLnJlZnJlc2goKSxkfSxjb250YWluZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdWkuY2hpbGRXcmFwcGVyfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5jb250YWluZXIoKSxjPWIuZmluZChcIi51aS1idG5cIikubm90KFwiLnVpLXNsaWRlci1oYW5kbGVcIiksZD10aGlzLl9pbml0aWFsUmVmcmVzaDthLm1vYmlsZS5jaGVja2JveHJhZGlvJiZiLmZpbmQoXCI6bW9iaWxlLWNoZWNrYm94cmFkaW9cIikuY2hlY2tib3hyYWRpbyhcInJlZnJlc2hcIiksdGhpcy5fYWRkRmlyc3RMYXN0Q2xhc3NlcyhjLHRoaXMub3B0aW9ucy5leGNsdWRlSW52aXNpYmxlP3RoaXMuX2dldFZpc2libGVzKGMsZCk6YyxkKSx0aGlzLl9pbml0aWFsUmVmcmVzaD0hMX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYSxiLGM9dGhpcy5vcHRpb25zO3JldHVybiBjLmVuaGFuY2VkP3RoaXM6KGE9dGhpcy5fdWksYj10aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS1jb250cm9sZ3JvdXAgdWktY29udHJvbGdyb3VwLWhvcml6b250YWwgdWktY29udHJvbGdyb3VwLXZlcnRpY2FsIHVpLWNvcm5lci1hbGwgdWktbWluaSBcIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihjLnRoZW1lKSkuZmluZChcIi51aS1idG5cIikubm90KFwiLnVpLXNsaWRlci1oYW5kbGVcIiksdGhpcy5fcmVtb3ZlRmlyc3RMYXN0Q2xhc3NlcyhiKSxhLmdyb3VwTGVnZW5kLnVud3JhcCgpLHZvaWQgYS5jaGlsZFdyYXBwZXIuY2hpbGRyZW4oKS51bndyYXAoKSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KFwibW9iaWxlLnRvb2xiYXJcIix7aW5pdFNlbGVjdG9yOlwiOmpxbURhdGEocm9sZT0nZm9vdGVyJyksIDpqcW1EYXRhKHJvbGU9J2hlYWRlcicpXCIsb3B0aW9uczp7dGhlbWU6bnVsbCxhZGRCYWNrQnRuOiExLGJhY2tCdG5UaGVtZTpudWxsLGJhY2tCdG5UZXh0OlwiQmFja1wifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGIsYyxkPXRoaXMuZWxlbWVudC5pcyhcIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpXCIpP1wiaGVhZGVyXCI6XCJmb290ZXJcIixlPXRoaXMuZWxlbWVudC5jbG9zZXN0KFwiLnVpLXBhZ2VcIik7MD09PWUubGVuZ3RoJiYoZT0hMSx0aGlzLl9vbih0aGlzLmRvY3VtZW50LHtwYWdlc2hvdzpcInJlZnJlc2hcIn0pKSxhLmV4dGVuZCh0aGlzLHtyb2xlOmQscGFnZTplLGxlZnRidG46YixyaWdodGJ0bjpjfSksdGhpcy5lbGVtZW50LmF0dHIoXCJyb2xlXCIsXCJoZWFkZXJcIj09PWQ/XCJiYW5uZXJcIjpcImNvbnRlbnRpbmZvXCIpLmFkZENsYXNzKFwidWktXCIrZCksdGhpcy5yZWZyZXNoKCksdGhpcy5fc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXtpZihhLmFkZEJhY2tCdG4hPT1iJiZ0aGlzLl91cGRhdGVCYWNrQnV0dG9uKCksbnVsbCE9YS5iYWNrQnRuVGhlbWUmJnRoaXMuZWxlbWVudC5maW5kKFwiLnVpLXRvb2xiYXItYmFjay1idG5cIikuYWRkQ2xhc3MoXCJ1aS1idG4gdWktYnRuLVwiK2EuYmFja0J0blRoZW1lKSxhLmJhY2tCdG5UZXh0IT09YiYmdGhpcy5lbGVtZW50LmZpbmQoXCIudWktdG9vbGJhci1iYWNrLWJ0biAudWktYnRuLXRleHRcIikudGV4dChhLmJhY2tCdG5UZXh0KSxhLnRoZW1lIT09Yil7dmFyIGM9dGhpcy5vcHRpb25zLnRoZW1lP3RoaXMub3B0aW9ucy50aGVtZTpcImluaGVyaXRcIixkPWEudGhlbWU/YS50aGVtZTpcImluaGVyaXRcIjt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS1iYXItXCIrYykuYWRkQ2xhc3MoXCJ1aS1iYXItXCIrZCl9dGhpcy5fc3VwZXIoYSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXtcImhlYWRlclwiPT09dGhpcy5yb2xlJiZ0aGlzLl9hZGRIZWFkZXJCdXR0b25DbGFzc2VzKCksdGhpcy5wYWdlfHwodGhpcy5fc2V0UmVsYXRpdmUoKSxcImZvb3RlclwiPT09dGhpcy5yb2xlP3RoaXMuZWxlbWVudC5hcHBlbmRUbyhcImJvZHlcIik6XCJoZWFkZXJcIj09PXRoaXMucm9sZSYmdGhpcy5fdXBkYXRlQmFja0J1dHRvbigpKSx0aGlzLl9hZGRIZWFkaW5nQ2xhc3NlcygpLHRoaXMuX2J0bk1hcmt1cCgpfSxfc2V0UmVsYXRpdmU6ZnVuY3Rpb24oKXthKFwiW2RhdGEtXCIrYS5tb2JpbGUubnMrXCJyb2xlPSdwYWdlJ11cIikuY3NzKHtwb3NpdGlvbjpcInJlbGF0aXZlXCJ9KX0sX2J0bk1hcmt1cDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jaGlsZHJlbihcImFcIikuZmlsdGVyKFwiOm5vdChbZGF0YS1cIithLm1vYmlsZS5ucytcInJvbGU9J25vbmUnXSlcIikuYXR0cihcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJyb2xlXCIsXCJidXR0b25cIiksdGhpcy5lbGVtZW50LnRyaWdnZXIoXCJjcmVhdGVcIil9LF9hZGRIZWFkZXJCdXR0b25DbGFzc2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LmNoaWxkcmVuKFwiYSwgYnV0dG9uXCIpO3RoaXMubGVmdGJ0bj1hLmhhc0NsYXNzKFwidWktYnRuLWxlZnRcIikmJiFhLmhhc0NsYXNzKFwidWktdG9vbGJhci1iYWNrLWJ0blwiKSx0aGlzLnJpZ2h0YnRuPWEuaGFzQ2xhc3MoXCJ1aS1idG4tcmlnaHRcIiksdGhpcy5sZWZ0YnRuPXRoaXMubGVmdGJ0bnx8YS5lcSgwKS5ub3QoXCIudWktYnRuLXJpZ2h0LC51aS10b29sYmFyLWJhY2stYnRuXCIpLmFkZENsYXNzKFwidWktYnRuLWxlZnRcIikubGVuZ3RoLHRoaXMucmlnaHRidG49dGhpcy5yaWdodGJ0bnx8YS5lcSgxKS5hZGRDbGFzcyhcInVpLWJ0bi1yaWdodFwiKS5sZW5ndGh9LF91cGRhdGVCYWNrQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGIsYz10aGlzLm9wdGlvbnMsZD1jLmJhY2tCdG5UaGVtZXx8Yy50aGVtZTtiPXRoaXMuX2JhY2tCdXR0b249dGhpcy5fYmFja0J1dHRvbnx8e30sdGhpcy5vcHRpb25zLmFkZEJhY2tCdG4mJlwiaGVhZGVyXCI9PT10aGlzLnJvbGUmJmEoXCIudWktcGFnZVwiKS5sZW5ndGg+MSYmKHRoaXMucGFnZT90aGlzLnBhZ2VbMF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInVybFwiKSE9PWEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGxvY2F0aW9uLmhhc2gpOmEubW9iaWxlLm5hdmlnYXRlJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5JiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4PjApJiYhdGhpcy5sZWZ0YnRuP2IuYXR0YWNoZWR8fCh0aGlzLmJhY2tCdXR0b249Yi5lbGVtZW50PShiLmVsZW1lbnR8fGEoXCI8YSByb2xlPSdidXR0b24nIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnIGNsYXNzPSd1aS1idG4gdWktY29ybmVyLWFsbCB1aS1zaGFkb3cgdWktYnRuLWxlZnQgXCIrKGQ/XCJ1aS1idG4tXCIrZCtcIiBcIjpcIlwiKStcInVpLXRvb2xiYXItYmFjay1idG4gdWktaWNvbi1jYXJhdC1sIHVpLWJ0bi1pY29uLWxlZnQnIGRhdGEtXCIrYS5tb2JpbGUubnMrXCJyZWw9J2JhY2snPlwiK2MuYmFja0J0blRleHQrXCI8L2E+XCIpKS5wcmVwZW5kVG8odGhpcy5lbGVtZW50KSxiLmF0dGFjaGVkPSEwKTpiLmVsZW1lbnQmJihiLmVsZW1lbnQuZGV0YWNoKCksYi5hdHRhY2hlZD0hMSl9LF9hZGRIZWFkaW5nQ2xhc3NlczpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jaGlsZHJlbihcImgxLCBoMiwgaDMsIGg0LCBoNSwgaDZcIikuYWRkQ2xhc3MoXCJ1aS10aXRsZVwiKS5hdHRyKHtyb2xlOlwiaGVhZGluZ1wiLFwiYXJpYS1sZXZlbFwiOlwiMVwifSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE7dGhpcy5lbGVtZW50LmNoaWxkcmVuKFwiaDEsIGgyLCBoMywgaDQsIGg1LCBoNlwiKS5yZW1vdmVDbGFzcyhcInVpLXRpdGxlXCIpLnJlbW92ZUF0dHIoXCJyb2xlXCIpLnJlbW92ZUF0dHIoXCJhcmlhLWxldmVsXCIpLFwiaGVhZGVyXCI9PT10aGlzLnJvbGUmJih0aGlzLmVsZW1lbnQuY2hpbGRyZW4oXCJhLCBidXR0b25cIikucmVtb3ZlQ2xhc3MoXCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHQgdWktYnRuIHVpLXNoYWRvdyB1aS1jb3JuZXItYWxsXCIpLHRoaXMuYmFja0J1dHRvbiYmdGhpcy5iYWNrQnV0dG9uLnJlbW92ZSgpKSxhPXRoaXMub3B0aW9ucy50aGVtZT90aGlzLm9wdGlvbnMudGhlbWU6XCJpbmhlcml0XCIsdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktYmFyLVwiK2EpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLVwiK3RoaXMucm9sZSkucmVtb3ZlQXR0cihcInJvbGVcIil9fSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoXCJtb2JpbGUudG9vbGJhclwiLGEubW9iaWxlLnRvb2xiYXIse29wdGlvbnM6e3Bvc2l0aW9uOm51bGwsdmlzaWJsZU9uUGFnZVNob3c6ITAsZGlzYWJsZVBhZ2Vab29tOiEwLHRyYW5zaXRpb246XCJzbGlkZVwiLGZ1bGxzY3JlZW46ITEsdGFwVG9nZ2xlOiEwLHRhcFRvZ2dsZUJsYWNrbGlzdDpcImEsIGJ1dHRvbiwgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIC51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQsIC51aS1mbGlwc3dpdGNoLCAudWktcG9wdXAsIC51aS1wYW5lbCwgLnVpLXBhbmVsLWRpc21pc3Mtb3BlblwiLGhpZGVEdXJpbmdGb2N1czpcImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0XCIsdXBkYXRlUGFnZVBhZGRpbmc6ITAsdHJhY2tQZXJzaXN0ZW50VG9vbGJhcnM6ITAsc3VwcG9ydEJsYWNrbGlzdDpmdW5jdGlvbigpe3JldHVybiFhLnN1cHBvcnQuZml4ZWRQb3NpdGlvbn19LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMucGFnZWNvbnRhaW5lcj1hKFwiOm1vYmlsZS1wYWdlY29udGFpbmVyXCIpLFwiZml4ZWRcIiE9PXRoaXMub3B0aW9ucy5wb3NpdGlvbnx8dGhpcy5vcHRpb25zLnN1cHBvcnRCbGFja2xpc3QoKXx8dGhpcy5fbWFrZUZpeGVkKCl9LF9tYWtlRml4ZWQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJ1aS1cIit0aGlzLnJvbGUrXCItZml4ZWRcIiksdGhpcy51cGRhdGVQYWdlUGFkZGluZygpLHRoaXMuX2FkZFRyYW5zaXRpb25DbGFzcygpLHRoaXMuX2JpbmRQYWdlRXZlbnRzKCksdGhpcy5fYmluZFRvZ2dsZUhhbmRsZXJzKCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe2lmKFwiZml4ZWRcIj09PWMucG9zaXRpb24mJlwiZml4ZWRcIiE9PXRoaXMub3B0aW9ucy5wb3NpdGlvbiYmdGhpcy5fbWFrZUZpeGVkKCksXCJmaXhlZFwiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9uJiYhdGhpcy5vcHRpb25zLnN1cHBvcnRCbGFja2xpc3QoKSl7dmFyIGQ9dGhpcy5wYWdlP3RoaXMucGFnZTphKFwiLnVpLXBhZ2UtYWN0aXZlXCIpLmxlbmd0aD4wP2EoXCIudWktcGFnZS1hY3RpdmVcIik6YShcIi51aS1wYWdlXCIpLmVxKDApO2MuZnVsbHNjcmVlbiE9PWImJihjLmZ1bGxzY3JlZW4/KHRoaXMuZWxlbWVudC5hZGRDbGFzcyhcInVpLVwiK3RoaXMucm9sZStcIi1mdWxsc2NyZWVuXCIpLGQuYWRkQ2xhc3MoXCJ1aS1wYWdlLVwiK3RoaXMucm9sZStcIi1mdWxsc2NyZWVuXCIpKToodGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktXCIrdGhpcy5yb2xlK1wiLWZ1bGxzY3JlZW5cIiksZC5yZW1vdmVDbGFzcyhcInVpLXBhZ2UtXCIrdGhpcy5yb2xlK1wiLWZ1bGxzY3JlZW5cIikuYWRkQ2xhc3MoXCJ1aS1wYWdlLVwiK3RoaXMucm9sZStcIi1maXhlZFwiKSkpfXRoaXMuX3N1cGVyKGMpfSxfYWRkVHJhbnNpdGlvbkNsYXNzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLnRyYW5zaXRpb247YSYmXCJub25lXCIhPT1hJiYoXCJzbGlkZVwiPT09YSYmKGE9dGhpcy5lbGVtZW50Lmhhc0NsYXNzKFwidWktaGVhZGVyXCIpP1wic2xpZGVkb3duXCI6XCJzbGlkZXVwXCIpLHRoaXMuZWxlbWVudC5hZGRDbGFzcyhhKSl9LF9iaW5kUGFnZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFnZT90aGlzLmVsZW1lbnQuY2xvc2VzdChcIi51aS1wYWdlXCIpOnRoaXMuZG9jdW1lbnQ7dGhpcy5fb24oYSx7cGFnZWJlZm9yZXNob3c6XCJfaGFuZGxlUGFnZUJlZm9yZVNob3dcIix3ZWJraXRBbmltYXRpb25TdGFydDpcIl9oYW5kbGVBbmltYXRpb25TdGFydFwiLGFuaW1hdGlvbnN0YXJ0OlwiX2hhbmRsZUFuaW1hdGlvblN0YXJ0XCIsdXBkYXRlbGF5b3V0OlwiX2hhbmRsZUFuaW1hdGlvblN0YXJ0XCIscGFnZXNob3c6XCJfaGFuZGxlUGFnZVNob3dcIixwYWdlYmVmb3JlaGlkZTpcIl9oYW5kbGVQYWdlQmVmb3JlSGlkZVwifSl9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucztiLmRpc2FibGVQYWdlWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKSxiLnZpc2libGVPblBhZ2VTaG93fHx0aGlzLmhpZGUoITApfSxfaGFuZGxlQW5pbWF0aW9uU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMudXBkYXRlUGFnZVBhZGRpbmcmJnRoaXMudXBkYXRlUGFnZVBhZGRpbmcodGhpcy5wYWdlP3RoaXMucGFnZTpcIi51aS1wYWdlLWFjdGl2ZVwiKX0sX2hhbmRsZVBhZ2VTaG93OmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVQYWdlUGFkZGluZyh0aGlzLnBhZ2U/dGhpcy5wYWdlOlwiLnVpLXBhZ2UtYWN0aXZlXCIpLHRoaXMub3B0aW9ucy51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb24odGhpcy53aW5kb3cse3Rocm90dGxlZHJlc2l6ZTpcInVwZGF0ZVBhZ2VQYWRkaW5nXCJ9KX0sX2hhbmRsZVBhZ2VCZWZvcmVIaWRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmLGcsaD10aGlzLm9wdGlvbnM7aC5kaXNhYmxlUGFnZVpvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKSxoLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLl9vZmYodGhpcy53aW5kb3csXCJ0aHJvdHRsZWRyZXNpemVcIiksaC50cmFja1BlcnNpc3RlbnRUb29sYmFycyYmKGQ9YShcIi51aS1mb290ZXItZml4ZWQ6anFtRGF0YShpZClcIix0aGlzLnBhZ2UpLGU9YShcIi51aS1oZWFkZXItZml4ZWQ6anFtRGF0YShpZClcIix0aGlzLnBhZ2UpLGY9ZC5sZW5ndGgmJmMubmV4dFBhZ2UmJmEoXCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQ9J1wiK2QuanFtRGF0YShcImlkXCIpK1wiJylcIixjLm5leHRQYWdlKXx8YSgpLGc9ZS5sZW5ndGgmJmMubmV4dFBhZ2UmJmEoXCIudWktaGVhZGVyLWZpeGVkOmpxbURhdGEoaWQ9J1wiK2UuanFtRGF0YShcImlkXCIpK1wiJylcIixjLm5leHRQYWdlKXx8YSgpLChmLmxlbmd0aHx8Zy5sZW5ndGgpJiYoZi5hZGQoZykuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lciksYy5uZXh0UGFnZS5vbmUoXCJwYWdlc2hvd1wiLGZ1bmN0aW9uKCl7Zy5wcmVwZW5kVG8odGhpcyksZi5hcHBlbmRUbyh0aGlzKX0pKSl9LF92aXNpYmxlOiEwLHVwZGF0ZVBhZ2VQYWRkaW5nOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuZWxlbWVudCxlPVwiaGVhZGVyXCI9PT10aGlzLnJvbGUsZj1wYXJzZUZsb2F0KGQuY3NzKGU/XCJ0b3BcIjpcImJvdHRvbVwiKSk7dGhpcy5vcHRpb25zLmZ1bGxzY3JlZW58fChjPWMmJmMudHlwZT09PWImJmN8fHRoaXMucGFnZXx8ZC5jbG9zZXN0KFwiLnVpLXBhZ2VcIiksYz10aGlzLnBhZ2U/dGhpcy5wYWdlOlwiLnVpLXBhZ2UtYWN0aXZlXCIsYShjKS5jc3MoXCJwYWRkaW5nLVwiKyhlP1widG9wXCI6XCJib3R0b21cIiksZC5vdXRlckhlaWdodCgpK2YpKX0sX3VzZVRyYW5zaXRpb246ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy53aW5kb3csZD10aGlzLmVsZW1lbnQsZT1jLnNjcm9sbFRvcCgpLGY9ZC5oZWlnaHQoKSxnPXRoaXMucGFnZT9kLmNsb3Nlc3QoXCIudWktcGFnZVwiKS5oZWlnaHQoKTphKFwiLnVpLXBhZ2UtYWN0aXZlXCIpLmhlaWdodCgpLGg9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7cmV0dXJuIWImJih0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmXCJub25lXCIhPT10aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmKFwiaGVhZGVyXCI9PT10aGlzLnJvbGUmJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmZT5mfHxcImZvb3RlclwiPT09dGhpcy5yb2xlJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmctZj5lK2gpfHx0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbil9LHNob3c6ZnVuY3Rpb24oYSl7dmFyIGI9XCJ1aS1maXhlZC1oaWRkZW5cIixjPXRoaXMuZWxlbWVudDt0aGlzLl91c2VUcmFuc2l0aW9uKGEpP2MucmVtb3ZlQ2xhc3MoXCJvdXQgXCIrYikuYWRkQ2xhc3MoXCJpblwiKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoXCJpblwiKX0pOmMucmVtb3ZlQ2xhc3MoYiksdGhpcy5fdmlzaWJsZT0hMH0saGlkZTpmdW5jdGlvbihhKXt2YXIgYj1cInVpLWZpeGVkLWhpZGRlblwiLGM9dGhpcy5lbGVtZW50LGQ9XCJvdXRcIisoXCJzbGlkZVwiPT09dGhpcy5vcHRpb25zLnRyYW5zaXRpb24/XCIgcmV2ZXJzZVwiOlwiXCIpO3RoaXMuX3VzZVRyYW5zaXRpb24oYSk/Yy5hZGRDbGFzcyhkKS5yZW1vdmVDbGFzcyhcImluXCIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7Yy5hZGRDbGFzcyhiKS5yZW1vdmVDbGFzcyhkKX0pOmMuYWRkQ2xhc3MoYikucmVtb3ZlQ2xhc3MoZCksdGhpcy5fdmlzaWJsZT0hMX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl92aXNpYmxlP1wiaGlkZVwiOlwic2hvd1wiXSgpfSxfYmluZFRvZ2dsZUhhbmRsZXJzOmZ1bmN0aW9uKCl7dmFyIGIsYyxkPXRoaXMsZT1kLm9wdGlvbnMsZj0hMCxnPXRoaXMucGFnZT90aGlzLnBhZ2U6YShcIi51aS1wYWdlXCIpO2cuYmluZChcInZjbGlja1wiLGZ1bmN0aW9uKGIpe2UudGFwVG9nZ2xlJiYhYShiLnRhcmdldCkuY2xvc2VzdChlLnRhcFRvZ2dsZUJsYWNrbGlzdCkubGVuZ3RoJiZkLnRvZ2dsZSgpfSkuYmluZChcImZvY3VzaW4gZm9jdXNvdXRcIixmdW5jdGlvbihnKXtzY3JlZW4ud2lkdGg8MTAyNSYmYShnLnRhcmdldCkuaXMoZS5oaWRlRHVyaW5nRm9jdXMpJiYhYShnLnRhcmdldCkuY2xvc2VzdChcIi51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWRcIikubGVuZ3RoJiYoXCJmb2N1c291dFwiIT09Zy50eXBlfHxmP1wiZm9jdXNpblwiPT09Zy50eXBlJiZmJiYoY2xlYXJUaW1lb3V0KGIpLGY9ITEsYz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5oaWRlKCl9LDApKTooZj0hMCxjbGVhclRpbWVvdXQoYyksYj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5zaG93KCl9LDApKSl9KX0sX3NldFJlbGF0aXZlOmZ1bmN0aW9uKCl7XCJmaXhlZFwiIT09dGhpcy5vcHRpb25zLnBvc2l0aW9uJiZhKFwiW2RhdGEtXCIrYS5tb2JpbGUubnMrXCJyb2xlPSdwYWdlJ11cIikuY3NzKHtwb3NpdGlvbjpcInJlbGF0aXZlXCJ9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYixjLGQsZSxmLGc9dGhpcy5wYWdlY29udGFpbmVyLnBhZ2Vjb250YWluZXIoXCJnZXRBY3RpdmVQYWdlXCIpO3RoaXMuX3N1cGVyKCksXCJmaXhlZFwiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9uJiYoZD1hKFwiYm9keT4udWktXCIrdGhpcy5yb2xlK1wiLWZpeGVkXCIpLmFkZChnLmZpbmQoXCIudWktXCIrdGhpcy5vcHRpb25zLnJvbGUrXCItZml4ZWRcIikpLm5vdCh0aGlzLmVsZW1lbnQpLmxlbmd0aD4wLGY9YShcImJvZHk+LnVpLVwiK3RoaXMucm9sZStcIi1maXhlZFwiKS5hZGQoZy5maW5kKFwiLnVpLVwiK3RoaXMub3B0aW9ucy5yb2xlK1wiLWZ1bGxzY3JlZW5cIikpLm5vdCh0aGlzLmVsZW1lbnQpLmxlbmd0aD4wLGM9XCJ1aS1oZWFkZXItZml4ZWQgdWktZm9vdGVyLWZpeGVkIHVpLWhlYWRlci1mdWxsc2NyZWVuIGluIG91dCB1aS1mb290ZXItZnVsbHNjcmVlbiBmYWRlIHNsaWRlZG93biBzbGlkZXVwIHVpLWZpeGVkLWhpZGRlblwiLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhjKSxmfHwoYj1cInVpLXBhZ2UtXCIrdGhpcy5yb2xlK1wiLWZ1bGxzY3JlZW5cIiksZHx8KGU9XCJoZWFkZXJcIj09PXRoaXMucm9sZSxiKz1cIiB1aS1wYWdlLVwiK3RoaXMucm9sZStcIi1maXhlZFwiLGcuY3NzKFwicGFkZGluZy1cIisoZT9cInRvcFwiOlwiYm90dG9tXCIpLFwiXCIpKSxnLnJlbW92ZUNsYXNzKGIpKVxufX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldChcIm1vYmlsZS50b29sYmFyXCIsYS5tb2JpbGUudG9vbGJhcix7X21ha2VGaXhlZDpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5fd29ya2Fyb3VuZHMoKX0sX3dvcmthcm91bmRzOmZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudCxiPW5hdmlnYXRvci5wbGF0Zm9ybSxjPWEubWF0Y2goL0FwcGxlV2ViS2l0XFwvKFswLTldKykvKSxkPSEhYyYmY1sxXSxlPW51bGwsZj10aGlzO2lmKGIuaW5kZXhPZihcImlQaG9uZVwiKT4tMXx8Yi5pbmRleE9mKFwiaVBhZFwiKT4tMXx8Yi5pbmRleE9mKFwiaVBvZFwiKT4tMSllPVwiaW9zXCI7ZWxzZXtpZighKGEuaW5kZXhPZihcIkFuZHJvaWRcIik+LTEpKXJldHVybjtlPVwiYW5kcm9pZFwifWlmKFwiaW9zXCI9PT1lKWYuX2JpbmRTY3JvbGxXb3JrYXJvdW5kKCk7ZWxzZXtpZighKFwiYW5kcm9pZFwiPT09ZSYmZCYmNTM0PmQpKXJldHVybjtmLl9iaW5kU2Nyb2xsV29ya2Fyb3VuZCgpLGYuX2JpbmRMaXN0VGh1bWJXb3JrYXJvdW5kKCl9fSxfdmlld3BvcnRPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYj1hLmhhc0NsYXNzKFwidWktaGVhZGVyXCIpLGM9TWF0aC5hYnMoYS5vZmZzZXQoKS50b3AtdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCkpO3JldHVybiBifHwoYz1NYXRoLnJvdW5kKGMtdGhpcy53aW5kb3cuaGVpZ2h0KCkrYS5vdXRlckhlaWdodCgpKS02MCksY30sX2JpbmRTY3JvbGxXb3JrYXJvdW5kOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLl9vbih0aGlzLndpbmRvdyx7c2Nyb2xsc3RvcDpmdW5jdGlvbigpe3ZhciBiPWEuX3ZpZXdwb3J0T2Zmc2V0KCk7Yj4yJiZhLl92aXNpYmxlJiZhLl90cmlnZ2VyUmVkcmF3KCl9fSl9LF9iaW5kTGlzdFRodW1iV29ya2Fyb3VuZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jbG9zZXN0KFwiLnVpLXBhZ2VcIikuYWRkQ2xhc3MoXCJ1aS1hbmRyb2lkLTJ4LWZpeGVkXCIpfSxfdHJpZ2dlclJlZHJhdzpmdW5jdGlvbigpe3ZhciBiPXBhcnNlRmxvYXQoYShcIi51aS1wYWdlLWFjdGl2ZVwiKS5jc3MoXCJwYWRkaW5nLWJvdHRvbVwiKSk7YShcIi51aS1wYWdlLWFjdGl2ZVwiKS5jc3MoXCJwYWRkaW5nLWJvdHRvbVwiLGIrMStcInB4XCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthKFwiLnVpLXBhZ2UtYWN0aXZlXCIpLmNzcyhcInBhZGRpbmctYm90dG9tXCIsYitcInB4XCIpfSwwKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5lbGVtZW50LmNsb3Nlc3QoXCIudWktcGFnZS1hY3RpdmVcIikucmVtb3ZlQ2xhc3MoXCJ1aS1hbmRyb2lkLTJ4LWZpeFwiKX19KX0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7dmFyIGE9ZS5jbG9uZSgpLGI9YS5lcSgwKSxjPWEuZXEoMSksZD1jLmNoaWxkcmVuKCk7cmV0dXJue2FyRWxzOmMuYWRkKGIpLGdkOmIsY3Q6YyxhcjpkfX12YXIgZD1hLm1vYmlsZS5icm93c2VyLm9sZElFJiZhLm1vYmlsZS5icm93c2VyLm9sZElFPD04LGU9YShcIjxkaXYgY2xhc3M9J3VpLXBvcHVwLWFycm93LWd1aWRlJz48L2Rpdj48ZGl2IGNsYXNzPSd1aS1wb3B1cC1hcnJvdy1jb250YWluZXJcIisoZD9cIiBpZVwiOlwiXCIpK1wiJz48ZGl2IGNsYXNzPSd1aS1wb3B1cC1hcnJvdyc+PC9kaXY+PC9kaXY+XCIpO2Eud2lkZ2V0KFwibW9iaWxlLnBvcHVwXCIsYS5tb2JpbGUucG9wdXAse29wdGlvbnM6e2Fycm93OlwiXCJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMuX3N1cGVyKCk7cmV0dXJuIHRoaXMub3B0aW9ucy5hcnJvdyYmKHRoaXMuX3VpLmFycm93PWE9dGhpcy5fYWRkQXJyb3coKSksYn0sX2FkZEFycm93OmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLm9wdGlvbnMsZD1jKCk7cmV0dXJuIGE9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1ib2R5LVwiLGIudGhlbWUpLGQuYXIuYWRkQ2xhc3MoYSsoYi5zaGFkb3c/XCIgdWktb3ZlcmxheS1zaGFkb3dcIjpcIlwiKSksZC5hckVscy5oaWRlKCkuYXBwZW5kVG8odGhpcy5lbGVtZW50KSxkfSxfdW5lbmhhbmNlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdWkuYXJyb3c7cmV0dXJuIGEmJmEuYXJFbHMucmVtb3ZlKCksdGhpcy5fc3VwZXIoKX0sX3RyeUFuQXJyb3c6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaT17fSxqPXt9O3JldHVybiBkLmFyRnVsbFthLmRpbUtleV0+ZC5ndWlkZURpbXNbYS5kaW1LZXldP2U6KGlbYS5mc3RdPWNbYS5mc3RdKyhkLmFySGFsZlthLm9EaW1LZXldK2QubWVudUhhbGZbYS5vRGltS2V5XSkqYS5vZmZzZXRGYWN0b3ItZC5jb250ZW50Qm94W2EuZnN0XSsoZC5jbGFtcEluZm8ubWVudVNpemVbYS5vRGltS2V5XS1kLmNvbnRlbnRCb3hbYS5vRGltS2V5XSkqYS5hcnJvd09mZnNldEZhY3RvcixpW2Euc25kXT1jW2Euc25kXSxmPWQucmVzdWx0fHx0aGlzLl9jYWxjdWxhdGVGaW5hbExvY2F0aW9uKGksZC5jbGFtcEluZm8pLGc9e3g6Zi5sZWZ0LHk6Zi50b3B9LGpbYS5mc3RdPWdbYS5mc3RdK2QuY29udGVudEJveFthLmZzdF0rYS50aXBPZmZzZXQsalthLnNuZF09TWF0aC5tYXgoZlthLnByb3BdK2QuZ3VpZGVPZmZzZXRbYS5wcm9wXStkLmFySGFsZlthLmRpbUtleV0sTWF0aC5taW4oZlthLnByb3BdK2QuZ3VpZGVPZmZzZXRbYS5wcm9wXStkLmd1aWRlRGltc1thLmRpbUtleV0tZC5hckhhbGZbYS5kaW1LZXldLGNbYS5zbmRdKSksaD1NYXRoLmFicyhjLngtai54KStNYXRoLmFicyhjLnktai55KSwoIWV8fGg8ZS5kaWZmKSYmKGpbYS5zbmRdLT1kLmFySGFsZlthLmRpbUtleV0rZlthLnByb3BdK2QuY29udGVudEJveFthLnNuZF0sZT17ZGlyOmIsZGlmZjpoLHJlc3VsdDpmLHBvc1Byb3A6YS5wcm9wLHBvc1ZhbDpqW2Euc25kXX0pLGUpfSxfZ2V0UGxhY2VtZW50U3RhdGU6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPXRoaXMuX3VpLmFycm93LGU9e2NsYW1wSW5mbzp0aGlzLl9jbGFtcFBvcHVwV2lkdGgoIWEpLGFyRnVsbDp7Y3g6ZC5jdC53aWR0aCgpLGN5OmQuY3QuaGVpZ2h0KCl9LGd1aWRlRGltczp7Y3g6ZC5nZC53aWR0aCgpLGN5OmQuZ2QuaGVpZ2h0KCl9LGd1aWRlT2Zmc2V0OmQuZ2Qub2Zmc2V0KCl9O3JldHVybiBiPXRoaXMuZWxlbWVudC5vZmZzZXQoKSxkLmdkLmNzcyh7bGVmdDowLHRvcDowLHJpZ2h0OjAsYm90dG9tOjB9KSxjPWQuZ2Qub2Zmc2V0KCksZS5jb250ZW50Qm94PXt4OmMubGVmdC1iLmxlZnQseTpjLnRvcC1iLnRvcCxjeDpkLmdkLndpZHRoKCksY3k6ZC5nZC5oZWlnaHQoKX0sZC5nZC5yZW1vdmVBdHRyKFwic3R5bGVcIiksZS5ndWlkZU9mZnNldD17bGVmdDplLmd1aWRlT2Zmc2V0LmxlZnQtYi5sZWZ0LHRvcDplLmd1aWRlT2Zmc2V0LnRvcC1iLnRvcH0sZS5hckhhbGY9e2N4OmUuYXJGdWxsLmN4LzIsY3k6ZS5hckZ1bGwuY3kvMn0sZS5tZW51SGFsZj17Y3g6ZS5jbGFtcEluZm8ubWVudVNpemUuY3gvMixjeTplLmNsYW1wSW5mby5tZW51U2l6ZS5jeS8yfSxlfSxfcGxhY2VtZW50Q29vcmRzOmZ1bmN0aW9uKGIpe3ZhciBjLGUsZixnLGgsaT10aGlzLm9wdGlvbnMuYXJyb3csaj10aGlzLl91aS5hcnJvdztyZXR1cm4gaj8oai5hckVscy5zaG93KCksaD17fSxjPXRoaXMuX2dldFBsYWNlbWVudFN0YXRlKCEwKSxmPXtsOntmc3Q6XCJ4XCIsc25kOlwieVwiLHByb3A6XCJ0b3BcIixkaW1LZXk6XCJjeVwiLG9EaW1LZXk6XCJjeFwiLG9mZnNldEZhY3RvcjoxLHRpcE9mZnNldDotYy5hckhhbGYuY3gsYXJyb3dPZmZzZXRGYWN0b3I6MH0scjp7ZnN0OlwieFwiLHNuZDpcInlcIixwcm9wOlwidG9wXCIsZGltS2V5OlwiY3lcIixvRGltS2V5OlwiY3hcIixvZmZzZXRGYWN0b3I6LTEsdGlwT2Zmc2V0OmMuYXJIYWxmLmN4K2MuY29udGVudEJveC5jeCxhcnJvd09mZnNldEZhY3RvcjoxfSxiOntmc3Q6XCJ5XCIsc25kOlwieFwiLHByb3A6XCJsZWZ0XCIsZGltS2V5OlwiY3hcIixvRGltS2V5OlwiY3lcIixvZmZzZXRGYWN0b3I6LTEsdGlwT2Zmc2V0OmMuYXJIYWxmLmN5K2MuY29udGVudEJveC5jeSxhcnJvd09mZnNldEZhY3RvcjoxfSx0Ontmc3Q6XCJ5XCIsc25kOlwieFwiLHByb3A6XCJsZWZ0XCIsZGltS2V5OlwiY3hcIixvRGltS2V5OlwiY3lcIixvZmZzZXRGYWN0b3I6MSx0aXBPZmZzZXQ6LWMuYXJIYWxmLmN5LGFycm93T2Zmc2V0RmFjdG9yOjB9fSxhLmVhY2goKGk9PT0hMD9cImwsdCxyLGJcIjppKS5zcGxpdChcIixcIiksYS5wcm94eShmdW5jdGlvbihhLGQpe2U9dGhpcy5fdHJ5QW5BcnJvdyhmW2RdLGQsYixjLGUpfSx0aGlzKSksZT8oai5jdC5yZW1vdmVDbGFzcyhcInVpLXBvcHVwLWFycm93LWwgdWktcG9wdXAtYXJyb3ctdCB1aS1wb3B1cC1hcnJvdy1yIHVpLXBvcHVwLWFycm93LWJcIikuYWRkQ2xhc3MoXCJ1aS1wb3B1cC1hcnJvdy1cIitlLmRpcikucmVtb3ZlQXR0cihcInN0eWxlXCIpLmNzcyhlLnBvc1Byb3AsZS5wb3NWYWwpLnNob3coKSxkfHwoZz10aGlzLmVsZW1lbnQub2Zmc2V0KCksaFtmW2UuZGlyXS5mc3RdPWouY3Qub2Zmc2V0KCksaFtmW2UuZGlyXS5zbmRdPXtsZWZ0OmcubGVmdCtjLmNvbnRlbnRCb3gueCx0b3A6Zy50b3ArYy5jb250ZW50Qm94Lnl9KSxlLnJlc3VsdCk6KGouYXJFbHMuaGlkZSgpLHRoaXMuX3N1cGVyKGIpKSk6dGhpcy5fc3VwZXIoYil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcy5vcHRpb25zLnRoZW1lLGU9dGhpcy5fdWkuYXJyb3csZj10aGlzLl9zdXBlcihhKTtpZihhLmFycm93IT09Yil7aWYoIWUmJmEuYXJyb3cpcmV0dXJuIHZvaWQodGhpcy5fdWkuYXJyb3c9dGhpcy5fYWRkQXJyb3coKSk7ZSYmIWEuYXJyb3cmJihlLmFyRWxzLnJlbW92ZSgpLHRoaXMuX3VpLmFycm93PW51bGwpfXJldHVybiBlPXRoaXMuX3VpLmFycm93LGUmJihhLnRoZW1lIT09YiYmKGQ9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1ib2R5LVwiLGQpLGM9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1ib2R5LVwiLGEudGhlbWUpLGUuYXIucmVtb3ZlQ2xhc3MoZCkuYWRkQ2xhc3MoYykpLGEuc2hhZG93IT09YiYmZS5hci50b2dnbGVDbGFzcyhcInVpLW92ZXJsYXktc2hhZG93XCIsYS5zaGFkb3cpKSxmfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3VpLmFycm93O3JldHVybiBhJiZhLmFyRWxzLnJlbW92ZSgpLHRoaXMuX3N1cGVyKCl9fSl9KGEpLGZ1bmN0aW9uKGEsYyl7YS53aWRnZXQoXCJtb2JpbGUucGFuZWxcIix7b3B0aW9uczp7Y2xhc3Nlczp7cGFuZWw6XCJ1aS1wYW5lbFwiLHBhbmVsT3BlbjpcInVpLXBhbmVsLW9wZW5cIixwYW5lbENsb3NlZDpcInVpLXBhbmVsLWNsb3NlZFwiLHBhbmVsRml4ZWQ6XCJ1aS1wYW5lbC1maXhlZFwiLHBhbmVsSW5uZXI6XCJ1aS1wYW5lbC1pbm5lclwiLG1vZGFsOlwidWktcGFuZWwtZGlzbWlzc1wiLG1vZGFsT3BlbjpcInVpLXBhbmVsLWRpc21pc3Mtb3BlblwiLHBhZ2VDb250YWluZXI6XCJ1aS1wYW5lbC1wYWdlLWNvbnRhaW5lclwiLHBhZ2VXcmFwcGVyOlwidWktcGFuZWwtd3JhcHBlclwiLHBhZ2VGaXhlZFRvb2xiYXI6XCJ1aS1wYW5lbC1maXhlZC10b29sYmFyXCIscGFnZUNvbnRlbnRQcmVmaXg6XCJ1aS1wYW5lbC1wYWdlLWNvbnRlbnRcIixhbmltYXRlOlwidWktcGFuZWwtYW5pbWF0ZVwifSxhbmltYXRlOiEwLHRoZW1lOm51bGwscG9zaXRpb246XCJsZWZ0XCIsZGlzbWlzc2libGU6ITAsZGlzcGxheTpcInJldmVhbFwiLHN3aXBlQ2xvc2U6ITAscG9zaXRpb25GaXhlZDohMX0sX2Nsb3NlTGluazpudWxsLF9wYXJlbnRQYWdlOm51bGwsX3BhZ2U6bnVsbCxfbW9kYWw6bnVsbCxfcGFuZWxJbm5lcjpudWxsLF93cmFwcGVyOm51bGwsX2ZpeGVkVG9vbGJhcnM6bnVsbCxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5jbG9zZXN0KFwiLnVpLXBhZ2UsIDpqcW1EYXRhKHJvbGU9J3BhZ2UnKVwiKTthLmV4dGVuZCh0aGlzLHtfY2xvc2VMaW5rOmIuZmluZChcIjpqcW1EYXRhKHJlbD0nY2xvc2UnKVwiKSxfcGFyZW50UGFnZTpjLmxlbmd0aD4wP2M6ITEsX29wZW5lZFBhZ2U6bnVsbCxfcGFnZTp0aGlzLl9nZXRQYWdlLF9wYW5lbElubmVyOnRoaXMuX2dldFBhbmVsSW5uZXIoKSxfZml4ZWRUb29sYmFyczp0aGlzLl9nZXRGaXhlZFRvb2xiYXJzfSksXCJvdmVybGF5XCIhPT10aGlzLm9wdGlvbnMuZGlzcGxheSYmdGhpcy5fZ2V0V3JhcHBlcigpLHRoaXMuX2FkZFBhbmVsQ2xhc3NlcygpLGEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmdGhpcy5vcHRpb25zLmFuaW1hdGUmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5hbmltYXRlKSx0aGlzLl9iaW5kVXBkYXRlTGF5b3V0KCksdGhpcy5fYmluZENsb3NlRXZlbnRzKCksdGhpcy5fYmluZExpbmtMaXN0ZW5lcnMoKSx0aGlzLl9iaW5kUGFnZUV2ZW50cygpLHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSYmdGhpcy5fY3JlYXRlTW9kYWwoKSx0aGlzLl9iaW5kU3dpcGVFdmVudHMoKX0sX2dldFBhbmVsSW5uZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQuZmluZChcIi5cIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbElubmVyKTtyZXR1cm4gMD09PWEubGVuZ3RoJiYoYT10aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS53cmFwQWxsKFwiPGRpdiBjbGFzcz0nXCIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxJbm5lcitcIicgLz5cIikucGFyZW50KCkpLGF9LF9jcmVhdGVNb2RhbDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLl9wYXJlbnRQYWdlP2IuX3BhcmVudFBhZ2UucGFyZW50KCk6Yi5lbGVtZW50LnBhcmVudCgpO2IuX21vZGFsPWEoXCI8ZGl2IGNsYXNzPSdcIitiLm9wdGlvbnMuY2xhc3Nlcy5tb2RhbCtcIic+PC9kaXY+XCIpLm9uKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXtiLmNsb3NlKCl9KS5hcHBlbmRUbyhjKX0sX2dldFBhZ2U6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl9vcGVuZWRQYWdlfHx0aGlzLl9wYXJlbnRQYWdlfHxhKFwiLlwiK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyk7cmV0dXJuIGJ9LF9nZXRXcmFwcGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fcGFnZSgpLmZpbmQoXCIuXCIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZVdyYXBwZXIpOzA9PT1hLmxlbmd0aCYmKGE9dGhpcy5fcGFnZSgpLmNoaWxkcmVuKFwiLnVpLWhlYWRlcjpub3QoLnVpLWhlYWRlci1maXhlZCksIC51aS1jb250ZW50Om5vdCgudWktcG9wdXApLCAudWktZm9vdGVyOm5vdCgudWktZm9vdGVyLWZpeGVkKVwiKS53cmFwQWxsKFwiPGRpdiBjbGFzcz0nXCIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZVdyYXBwZXIrXCInPjwvZGl2PlwiKS5wYXJlbnQoKSksdGhpcy5fd3JhcHBlcj1hfSxfZ2V0Rml4ZWRUb29sYmFyczpmdW5jdGlvbigpe3ZhciBiPWEoXCJib2R5XCIpLmNoaWxkcmVuKFwiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZFwiKSxjPXRoaXMuX3BhZ2UoKS5maW5kKFwiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZFwiKSxkPWIuYWRkKGMpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhZ2VGaXhlZFRvb2xiYXIpO3JldHVybiBkfSxfZ2V0UG9zRGlzcGxheUNsYXNzZXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGErXCItcG9zaXRpb24tXCIrdGhpcy5vcHRpb25zLnBvc2l0aW9uK1wiIFwiK2ErXCItZGlzcGxheS1cIit0aGlzLm9wdGlvbnMuZGlzcGxheX0sX2dldFBhbmVsQ2xhc3NlczpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsK1wiIFwiK3RoaXMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsKStcIiBcIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbENsb3NlZCtcIiB1aS1ib2R5LVwiKyh0aGlzLm9wdGlvbnMudGhlbWU/dGhpcy5vcHRpb25zLnRoZW1lOlwiaW5oZXJpdFwiKTtyZXR1cm4gdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJihhKz1cIiBcIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbEZpeGVkKSxhfSxfYWRkUGFuZWxDbGFzc2VzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMuX2dldFBhbmVsQ2xhc3NlcygpKX0sX2hhbmRsZUNsb3NlQ2xpY2s6ZnVuY3Rpb24oYSl7YS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8dGhpcy5jbG9zZSgpfSxfYmluZENsb3NlRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5fb24odGhpcy5fY2xvc2VMaW5rLHtjbGljazpcIl9oYW5kbGVDbG9zZUNsaWNrXCJ9KSx0aGlzLl9vbih7XCJjbGljayBhOmpxbURhdGEoYWpheD0nZmFsc2UnKVwiOlwiX2hhbmRsZUNsb3NlQ2xpY2tcIn0pfSxfcG9zaXRpb25QYW5lbDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGQ9Yy5fcGFuZWxJbm5lci5vdXRlckhlaWdodCgpLGU9ZD5hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTtlfHwhYy5vcHRpb25zLnBvc2l0aW9uRml4ZWQ/KGUmJihjLl91bmZpeFBhbmVsKCksYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KGQpKSxiJiZ0aGlzLndpbmRvd1swXS5zY3JvbGxUbygwLGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsKSk6Yy5fZml4UGFuZWwoKX0sX2JpbmRGaXhMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuX29uKGEoYikse3Rocm90dGxlZHJlc2l6ZTpcIl9wb3NpdGlvblBhbmVsXCJ9KX0sX3VuYmluZEZpeExpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5fb2ZmKGEoYiksXCJ0aHJvdHRsZWRyZXNpemVcIil9LF91bmZpeFBhbmVsOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJmEuc3VwcG9ydC5maXhlZFBvc2l0aW9uJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCl9LF9maXhQYW5lbDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiZhLnN1cHBvcnQuZml4ZWRQb3NpdGlvbiYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpfSxfYmluZFVwZGF0ZUxheW91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5lbGVtZW50Lm9uKFwidXBkYXRlbGF5b3V0XCIsZnVuY3Rpb24oKXthLl9vcGVuJiZhLl9wb3NpdGlvblBhbmVsKCl9KX0sX2JpbmRMaW5rTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5fb24oXCJib2R5XCIse1wiY2xpY2sgYVwiOlwiX2hhbmRsZUNsaWNrXCJ9KX0sX2hhbmRsZUNsaWNrOmZ1bmN0aW9uKGIpe3ZhciBkLGU9dGhpcy5lbGVtZW50LmF0dHIoXCJpZFwiKTtiLmN1cnJlbnRUYXJnZXQuaHJlZi5zcGxpdChcIiNcIilbMV09PT1lJiZlIT09YyYmKGIucHJldmVudERlZmF1bHQoKSxkPWEoYi50YXJnZXQpLGQuaGFzQ2xhc3MoXCJ1aS1idG5cIikmJihkLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSx0aGlzLmVsZW1lbnQub25lKFwicGFuZWxvcGVuIHBhbmVsY2xvc2VcIixmdW5jdGlvbigpe2QucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkpLHRoaXMudG9nZ2xlKCkpfSxfYmluZFN3aXBlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuX21vZGFsP2EuZWxlbWVudC5hZGQoYS5fbW9kYWwpOmEuZWxlbWVudDthLm9wdGlvbnMuc3dpcGVDbG9zZSYmKFwibGVmdFwiPT09YS5vcHRpb25zLnBvc2l0aW9uP2Iub24oXCJzd2lwZWxlZnQucGFuZWxcIixmdW5jdGlvbigpe2EuY2xvc2UoKX0pOmIub24oXCJzd2lwZXJpZ2h0LnBhbmVsXCIsZnVuY3Rpb24oKXthLmNsb3NlKCl9KSl9LF9iaW5kUGFnZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5kb2N1bWVudC5vbihcInBhbmVsYmVmb3Jlb3BlblwiLGZ1bmN0aW9uKGIpe2EuX29wZW4mJmIudGFyZ2V0IT09YS5lbGVtZW50WzBdJiZhLmNsb3NlKCl9KS5vbihcImtleXVwLnBhbmVsXCIsZnVuY3Rpb24oYil7Mjc9PT1iLmtleUNvZGUmJmEuX29wZW4mJmEuY2xvc2UoKX0pLHRoaXMuX3BhcmVudFBhZ2V8fFwib3ZlcmxheVwiPT09dGhpcy5vcHRpb25zLmRpc3BsYXl8fHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse3BhZ2VzaG93OmZ1bmN0aW9uKCl7dGhpcy5fb3BlbmVkUGFnZT1udWxsLHRoaXMuX2dldFdyYXBwZXIoKX19KSxhLl9wYXJlbnRQYWdlP3RoaXMuZG9jdW1lbnQub24oXCJwYWdlaGlkZVwiLFwiOmpxbURhdGEocm9sZT0ncGFnZScpXCIsZnVuY3Rpb24oKXthLl9vcGVuJiZhLmNsb3NlKCEwKX0pOnRoaXMuZG9jdW1lbnQub24oXCJwYWdlYmVmb3JlaGlkZVwiLGZ1bmN0aW9uKCl7YS5fb3BlbiYmYS5jbG9zZSghMCl9KX0sX29wZW46ITEsX3BhZ2VDb250ZW50T3BlbkNsYXNzZXM6bnVsbCxfbW9kYWxPcGVuQ2xhc3NlczpudWxsLG9wZW46ZnVuY3Rpb24oYil7aWYoIXRoaXMuX29wZW4pe3ZhciBjPXRoaXMsZD1jLm9wdGlvbnMsZT1mdW5jdGlvbigpe2MuX29mZihjLmRvY3VtZW50LFwicGFuZWxjbG9zZVwiKSxjLl9wYWdlKCkuanFtRGF0YShcInBhbmVsXCIsXCJvcGVuXCIpLGEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmZC5hbmltYXRlJiZcIm92ZXJsYXlcIiE9PWQuZGlzcGxheSYmKGMuX3dyYXBwZXIuYWRkQ2xhc3MoZC5jbGFzc2VzLmFuaW1hdGUpLGMuX2ZpeGVkVG9vbGJhcnMoKS5hZGRDbGFzcyhkLmNsYXNzZXMuYW5pbWF0ZSkpLCFiJiZhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmQuYW5pbWF0ZT8oYy5fd3JhcHBlcnx8Yy5lbGVtZW50KS5hbmltYXRpb25Db21wbGV0ZShmLFwidHJhbnNpdGlvblwiKTpzZXRUaW1lb3V0KGYsMCksZC50aGVtZSYmXCJvdmVybGF5XCIhPT1kLmRpc3BsYXkmJmMuX3BhZ2UoKS5wYXJlbnQoKS5hZGRDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRhaW5lcitcIi10aGVtZWQgXCIrZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrXCItXCIrZC50aGVtZSksYy5lbGVtZW50LnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYW5lbENsb3NlZCkuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhbmVsT3BlbiksYy5fcG9zaXRpb25QYW5lbCghMCksYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3Nlcz1jLl9nZXRQb3NEaXNwbGF5Q2xhc3NlcyhkLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgpLFwib3ZlcmxheVwiIT09ZC5kaXNwbGF5JiYoYy5fcGFnZSgpLnBhcmVudCgpLmFkZENsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKSxjLl93cmFwcGVyLmFkZENsYXNzKGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXMpLGMuX2ZpeGVkVG9vbGJhcnMoKS5hZGRDbGFzcyhjLl9wYWdlQ29udGVudE9wZW5DbGFzc2VzKSksYy5fbW9kYWxPcGVuQ2xhc3Nlcz1jLl9nZXRQb3NEaXNwbGF5Q2xhc3NlcyhkLmNsYXNzZXMubW9kYWwpK1wiIFwiK2QuY2xhc3Nlcy5tb2RhbE9wZW4sYy5fbW9kYWwmJmMuX21vZGFsLmFkZENsYXNzKGMuX21vZGFsT3BlbkNsYXNzZXMpLmhlaWdodChNYXRoLm1heChjLl9tb2RhbC5oZWlnaHQoKSxjLmRvY3VtZW50LmhlaWdodCgpKSl9LGY9ZnVuY3Rpb24oKXtjLl9vcGVuJiYoXCJvdmVybGF5XCIhPT1kLmRpc3BsYXkmJihjLl93cmFwcGVyLmFkZENsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCtcIi1vcGVuXCIpLGMuX2ZpeGVkVG9vbGJhcnMoKS5hZGRDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrXCItb3BlblwiKSksYy5fYmluZEZpeExpc3RlbmVyKCksYy5fdHJpZ2dlcihcIm9wZW5cIiksYy5fb3BlbmVkUGFnZT1jLl9wYWdlKCkpfTtjLl90cmlnZ2VyKFwiYmVmb3Jlb3BlblwiKSxcIm9wZW5cIj09PWMuX3BhZ2UoKS5qcW1EYXRhKFwicGFuZWxcIik/Yy5fb24oYy5kb2N1bWVudCx7cGFuZWxjbG9zZTplfSk6ZSgpLGMuX29wZW49ITB9fSxjbG9zZTpmdW5jdGlvbihiKXtpZih0aGlzLl9vcGVuKXt2YXIgYz10aGlzLGQ9dGhpcy5vcHRpb25zLGU9ZnVuY3Rpb24oKXtjLmVsZW1lbnQucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhbmVsT3BlbiksXCJvdmVybGF5XCIhPT1kLmRpc3BsYXkmJihjLl93cmFwcGVyLnJlbW92ZUNsYXNzKGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXMpLGMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhjLl9wYWdlQ29udGVudE9wZW5DbGFzc2VzKSksIWImJmEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmZC5hbmltYXRlPyhjLl93cmFwcGVyfHxjLmVsZW1lbnQpLmFuaW1hdGlvbkNvbXBsZXRlKGYsXCJ0cmFuc2l0aW9uXCIpOnNldFRpbWVvdXQoZiwwKSxjLl9tb2RhbCYmYy5fbW9kYWwucmVtb3ZlQ2xhc3MoYy5fbW9kYWxPcGVuQ2xhc3NlcykuaGVpZ2h0KFwiXCIpfSxmPWZ1bmN0aW9uKCl7ZC50aGVtZSYmXCJvdmVybGF5XCIhPT1kLmRpc3BsYXkmJmMuX3BhZ2UoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRhaW5lcitcIi10aGVtZWQgXCIrZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrXCItXCIrZC50aGVtZSksYy5lbGVtZW50LmFkZENsYXNzKGQuY2xhc3Nlcy5wYW5lbENsb3NlZCksXCJvdmVybGF5XCIhPT1kLmRpc3BsYXkmJihjLl9wYWdlKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250YWluZXIpLGMuX3dyYXBwZXIucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4K1wiLW9wZW5cIiksYy5fZml4ZWRUb29sYmFycygpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCtcIi1vcGVuXCIpKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmQuYW5pbWF0ZSYmXCJvdmVybGF5XCIhPT1kLmRpc3BsYXkmJihjLl93cmFwcGVyLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5hbmltYXRlKSxjLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLmFuaW1hdGUpKSxjLl9maXhQYW5lbCgpLGMuX3VuYmluZEZpeExpc3RlbmVyKCksYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KCksYy5fcGFnZSgpLmpxbVJlbW92ZURhdGEoXCJwYW5lbFwiKSxjLl90cmlnZ2VyKFwiY2xvc2VcIiksYy5fb3BlbmVkUGFnZT1udWxsfTtjLl90cmlnZ2VyKFwiYmVmb3JlY2xvc2VcIiksZSgpLGMuX29wZW49ITF9fSx0b2dnbGU6ZnVuY3Rpb24oKXt0aGlzW3RoaXMuX29wZW4/XCJjbG9zZVwiOlwib3BlblwiXSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5vcHRpb25zLGQ9YShcImJvZHkgPiA6bW9iaWxlLXBhbmVsXCIpLmxlbmd0aCthLm1vYmlsZS5hY3RpdmVQYWdlLmZpbmQoXCI6bW9iaWxlLXBhbmVsXCIpLmxlbmd0aD4xO1wib3ZlcmxheVwiIT09Yy5kaXNwbGF5JiYoYj1hKFwiYm9keSA+IDptb2JpbGUtcGFuZWxcIikuYWRkKGEubW9iaWxlLmFjdGl2ZVBhZ2UuZmluZChcIjptb2JpbGUtcGFuZWxcIikpLDA9PT1iLm5vdChcIi51aS1wYW5lbC1kaXNwbGF5LW92ZXJsYXlcIikubm90KHRoaXMuZWxlbWVudCkubGVuZ3RoJiZ0aGlzLl93cmFwcGVyLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5fb3BlbiYmKHRoaXMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhjLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrXCItb3BlblwiKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmMuYW5pbWF0ZSYmdGhpcy5fZml4ZWRUb29sYmFycygpLnJlbW92ZUNsYXNzKGMuY2xhc3Nlcy5hbmltYXRlKSx0aGlzLl9wYWdlKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLnBhZ2VDb250YWluZXIpLGMudGhlbWUmJnRoaXMuX3BhZ2UoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcyhjLmNsYXNzZXMucGFnZUNvbnRhaW5lcitcIi10aGVtZWQgXCIrYy5jbGFzc2VzLnBhZ2VDb250YWluZXIrXCItXCIrYy50aGVtZSkpKSxkfHx0aGlzLmRvY3VtZW50Lm9mZihcInBhbmVsb3BlbiBwYW5lbGNsb3NlXCIpLHRoaXMuX29wZW4mJnRoaXMuX3BhZ2UoKS5qcW1SZW1vdmVEYXRhKFwicGFuZWxcIiksdGhpcy5fcGFuZWxJbm5lci5jaGlsZHJlbigpLnVud3JhcCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhbdGhpcy5fZ2V0UGFuZWxDbGFzc2VzKCksYy5jbGFzc2VzLnBhbmVsT3BlbixjLmNsYXNzZXMuYW5pbWF0ZV0uam9pbihcIiBcIikpLm9mZihcInN3aXBlbGVmdC5wYW5lbCBzd2lwZXJpZ2h0LnBhbmVsXCIpLm9mZihcInBhbmVsYmVmb3Jlb3BlblwiKS5vZmYoXCJwYW5lbGhpZGVcIikub2ZmKFwia2V5dXAucGFuZWxcIikub2ZmKFwidXBkYXRlbGF5b3V0XCIpLHRoaXMuX21vZGFsJiZ0aGlzLl9tb2RhbC5yZW1vdmUoKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldChcIm1vYmlsZS50YWJsZVwiLHtvcHRpb25zOntjbGFzc2VzOnt0YWJsZTpcInVpLXRhYmxlXCJ9LGVuaGFuY2VkOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkfHx0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMudGFibGUpLGEuZXh0ZW5kKHRoaXMse2hlYWRlcnM6YixhbGxIZWFkZXJzOmJ9KSx0aGlzLl9yZWZyZXNoKCEwKX0sX3NldEhlYWRlcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQuZmluZChcInRoZWFkIHRyXCIpO3RoaXMuaGVhZGVycz10aGlzLmVsZW1lbnQuZmluZChcInRyOmVxKDApXCIpLmNoaWxkcmVuKCksdGhpcy5hbGxIZWFkZXJzPXRoaXMuaGVhZGVycy5hZGQoYS5jaGlsZHJlbigpKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2goKX0scmVidWlsZDphLm5vb3AsX3JlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmZpbmQoXCJ0aGVhZCB0clwiKTt0aGlzLl9zZXRIZWFkZXJzKCksYy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9MDthKHRoaXMpLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpe3ZhciBlLGY9cGFyc2VJbnQodGhpcy5nZXRBdHRyaWJ1dGUoXCJjb2xzcGFuXCIpLDEwKSxnPVwiOm50aC1jaGlsZChcIisoZCsxKStcIilcIjtpZih0aGlzLnNldEF0dHJpYnV0ZShcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJjb2xzdGFydFwiLGQrMSksZilmb3IoZT0wO2YtMT5lO2UrKylkKyssZys9XCIsIDpudGgtY2hpbGQoXCIrKGQrMSkrXCIpXCI7YSh0aGlzKS5qcW1EYXRhKFwiY2VsbHNcIixiLmZpbmQoXCJ0clwiKS5ub3QoYy5lcSgwKSkubm90KHRoaXMpLmNoaWxkcmVuKGcpKSxkKyt9KX0pfX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldChcIm1vYmlsZS50YWJsZVwiLGEubW9iaWxlLnRhYmxlLHtvcHRpb25zOnttb2RlOlwiY29sdW1udG9nZ2xlXCIsY29sdW1uQnRuVGhlbWU6bnVsbCxjb2x1bW5Qb3B1cFRoZW1lOm51bGwsY29sdW1uQnRuVGV4dDpcIkNvbHVtbnMuLi5cIixjbGFzc2VzOmEuZXh0ZW5kKGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXMse3BvcHVwOlwidWktdGFibGUtY29sdW1udG9nZ2xlLXBvcHVwXCIsY29sdW1uQnRuOlwidWktdGFibGUtY29sdW1udG9nZ2xlLWJ0blwiLHByaW9yaXR5UHJlZml4OlwidWktdGFibGUtcHJpb3JpdHktXCIsY29sdW1uVG9nZ2xlVGFibGU6XCJ1aS10YWJsZS1jb2x1bW50b2dnbGVcIn0pfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSxcImNvbHVtbnRvZ2dsZVwiPT09dGhpcy5vcHRpb25zLm1vZGUmJihhLmV4dGVuZCh0aGlzLHtfbWVudTpudWxsfSksdGhpcy5vcHRpb25zLmVuaGFuY2VkPyh0aGlzLl9tZW51PWEodGhpcy5kb2N1bWVudFswXS5nZXRFbGVtZW50QnlJZCh0aGlzLl9pZCgpK1wiLXBvcHVwXCIpKS5jaGlsZHJlbigpLmZpcnN0KCksdGhpcy5fYWRkVG9nZ2xlcyh0aGlzLl9tZW51LCEwKSk6KHRoaXMuX21lbnU9dGhpcy5fZW5oYW5jZUNvbFRvZ2dsZSgpLHRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5jb2x1bW5Ub2dnbGVUYWJsZSkpLHRoaXMuX3NldHVwRXZlbnRzKCksdGhpcy5fc2V0VG9nZ2xlU3RhdGUoKSl9LF9pZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cihcImlkXCIpfHx0aGlzLndpZGdldE5hbWUrdGhpcy51dWlkfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLndpbmRvdyx7dGhyb3R0bGVkcmVzaXplOlwiX3NldFRvZ2dsZVN0YXRlXCJ9KSx0aGlzLl9vbih0aGlzLl9tZW51LHtcImNoYW5nZSBpbnB1dFwiOlwiX21lbnVJbnB1dENoYW5nZVwifSl9LF9hZGRUb2dnbGVzOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZT0wLGY9dGhpcy5vcHRpb25zLGc9Yi5jb250cm9sZ3JvdXAoXCJjb250YWluZXJcIik7Yz9kPWIuZmluZChcImlucHV0XCIpOmcuZW1wdHkoKSx0aGlzLmhlYWRlcnMubm90KFwidGRcIikuZWFjaChmdW5jdGlvbigpe3ZhciBiLGgsaT1hKHRoaXMpLGo9YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMsXCJwcmlvcml0eVwiKTtqJiYoaD1pLmFkZChpLmpxbURhdGEoXCJjZWxsc1wiKSksaC5hZGRDbGFzcyhmLmNsYXNzZXMucHJpb3JpdHlQcmVmaXgraiksYj0oYz9kLmVxKGUrKyk6YShcIjxsYWJlbD48aW5wdXQgdHlwZT0nY2hlY2tib3gnIGNoZWNrZWQgLz5cIisoaS5jaGlsZHJlbihcImFiYnJcIikuZmlyc3QoKS5hdHRyKFwidGl0bGVcIil8fGkudGV4dCgpKStcIjwvbGFiZWw+XCIpLmFwcGVuZFRvKGcpLmNoaWxkcmVuKDApLmNoZWNrYm94cmFkaW8oe3RoZW1lOmYuY29sdW1uUG9wdXBUaGVtZX0pKS5qcW1EYXRhKFwiaGVhZGVyXCIsaSkuanFtRGF0YShcImNlbGxzXCIsaCksaS5qcW1EYXRhKFwiaW5wdXRcIixiKSl9KSxjfHxiLmNvbnRyb2xncm91cChcInJlZnJlc2hcIil9LF9tZW51SW5wdXRDaGFuZ2U6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCksZD1jWzBdLmNoZWNrZWQ7Yy5qcW1EYXRhKFwiY2VsbHNcIikudG9nZ2xlQ2xhc3MoXCJ1aS10YWJsZS1jZWxsLWhpZGRlblwiLCFkKS50b2dnbGVDbGFzcyhcInVpLXRhYmxlLWNlbGwtdmlzaWJsZVwiLGQpfSxfdW5sb2NrQ2VsbHM6ZnVuY3Rpb24oYSl7YS5yZW1vdmVDbGFzcyhcInVpLXRhYmxlLWNlbGwtaGlkZGVuIHVpLXRhYmxlLWNlbGwtdmlzaWJsZVwiKX0sX2VuaGFuY2VDb2xUb2dnbGU6ZnVuY3Rpb24oKXt2YXIgYixjLGQsZSxmPXRoaXMuZWxlbWVudCxnPXRoaXMub3B0aW9ucyxoPWEubW9iaWxlLm5zLGk9dGhpcy5kb2N1bWVudFswXS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7cmV0dXJuIGI9dGhpcy5faWQoKStcIi1wb3B1cFwiLGM9YShcIjxhIGhyZWY9JyNcIitiK1wiJyBjbGFzcz0nXCIrZy5jbGFzc2VzLmNvbHVtbkJ0bitcIiB1aS1idG4gdWktYnRuLVwiKyhnLmNvbHVtbkJ0blRoZW1lfHxcImFcIikrXCIgdWktY29ybmVyLWFsbCB1aS1zaGFkb3cgdWktbWluaScgZGF0YS1cIitoK1wicmVsPSdwb3B1cCc+XCIrZy5jb2x1bW5CdG5UZXh0K1wiPC9hPlwiKSxkPWEoXCI8ZGl2IGNsYXNzPSdcIitnLmNsYXNzZXMucG9wdXArXCInIGlkPSdcIitiK1wiJz48L2Rpdj5cIiksZT1hKFwiPGZpZWxkc2V0PjwvZmllbGRzZXQ+XCIpLmNvbnRyb2xncm91cCgpLHRoaXMuX2FkZFRvZ2dsZXMoZSwhMSksZS5hcHBlbmRUbyhkKSxpLmFwcGVuZENoaWxkKGRbMF0pLGkuYXBwZW5kQ2hpbGQoY1swXSksZi5iZWZvcmUoaSksZC5wb3B1cCgpLGV9LHJlYnVpbGQ6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLFwiY29sdW1udG9nZ2xlXCI9PT10aGlzLm9wdGlvbnMubW9kZSYmdGhpcy5fcmVmcmVzaCghMSl9LF9yZWZyZXNoOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZTtpZih0aGlzLl9zdXBlcihiKSwhYiYmXCJjb2x1bW50b2dnbGVcIj09PXRoaXMub3B0aW9ucy5tb2RlKWZvcihjPXRoaXMuaGVhZGVycyxkPVtdLHRoaXMuX21lbnUuZmluZChcImlucHV0XCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGU9Yi5qcW1EYXRhKFwiaGVhZGVyXCIpLGY9Yy5pbmRleChlWzBdKTtmPi0xJiYhYi5wcm9wKFwiY2hlY2tlZFwiKSYmZC5wdXNoKGYpfSksdGhpcy5fdW5sb2NrQ2VsbHModGhpcy5lbGVtZW50LmZpbmQoXCIudWktdGFibGUtY2VsbC1oaWRkZW4sIC51aS10YWJsZS1jZWxsLXZpc2libGVcIikpLHRoaXMuX2FkZFRvZ2dsZXModGhpcy5fbWVudSxiKSxlPWQubGVuZ3RoLTE7ZT4tMTtlLS0pYy5lcShkW2VdKS5qcW1EYXRhKFwiaW5wdXRcIikucHJvcChcImNoZWNrZWRcIiwhMSkuY2hlY2tib3hyYWRpbyhcInJlZnJlc2hcIikudHJpZ2dlcihcImNoYW5nZVwiKX0sX3NldFRvZ2dsZVN0YXRlOmZ1bmN0aW9uKCl7dGhpcy5fbWVudS5maW5kKFwiaW5wdXRcIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7dGhpcy5jaGVja2VkPVwidGFibGUtY2VsbFwiPT09Yi5qcW1EYXRhKFwiY2VsbHNcIikuZXEoMCkuY3NzKFwiZGlzcGxheVwiKSxiLmNoZWNrYm94cmFkaW8oXCJyZWZyZXNoXCIpfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoXCJtb2JpbGUudGFibGVcIixhLm1vYmlsZS50YWJsZSx7b3B0aW9uczp7bW9kZTpcInJlZmxvd1wiLGNsYXNzZXM6YS5leHRlbmQoYS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY2xhc3Nlcyx7cmVmbG93VGFibGU6XCJ1aS10YWJsZS1yZWZsb3dcIixjZWxsTGFiZWxzOlwidWktdGFibGUtY2VsbC1sYWJlbFwifSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLFwicmVmbG93XCI9PT10aGlzLm9wdGlvbnMubW9kZSYmKHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8KHRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5yZWZsb3dUYWJsZSksdGhpcy5fdXBkYXRlUmVmbG93KCkpKX0scmVidWlsZDpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksXCJyZWZsb3dcIj09PXRoaXMub3B0aW9ucy5tb2RlJiZ0aGlzLl9yZWZyZXNoKCExKX0sX3JlZnJlc2g6ZnVuY3Rpb24oYSl7dGhpcy5fc3VwZXIoYSksYXx8XCJyZWZsb3dcIiE9PXRoaXMub3B0aW9ucy5tb2RlfHx0aGlzLl91cGRhdGVSZWZsb3coKX0sX3VwZGF0ZVJlZmxvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzLm9wdGlvbnM7YShiLmFsbEhlYWRlcnMuZ2V0KCkucmV2ZXJzZSgpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQsZSxmPWEodGhpcykuanFtRGF0YShcImNlbGxzXCIpLGc9YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMsXCJjb2xzdGFydFwiKSxoPWYubm90KHRoaXMpLmZpbHRlcihcInRoZWFkIHRoXCIpLmxlbmd0aCYmXCIgdWktdGFibGUtY2VsbC1sYWJlbC10b3BcIixpPWEodGhpcykuY2xvbmUoKS5jb250ZW50cygpO2kubGVuZ3RoPjAmJihoPyhkPXBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKFwiY29sc3BhblwiKSwxMCksZT1cIlwiLGQmJihlPVwidGQ6bnRoLWNoaWxkKFwiK2QrXCJuICsgXCIrZytcIilcIiksYi5fYWRkTGFiZWxzKGYuZmlsdGVyKGUpLGMuY2xhc3Nlcy5jZWxsTGFiZWxzK2gsaSkpOmIuX2FkZExhYmVscyhmLGMuY2xhc3Nlcy5jZWxsTGFiZWxzLGkpKX0pfSxfYWRkTGFiZWxzOmZ1bmN0aW9uKGIsYyxkKXsxPT09ZC5sZW5ndGgmJlwiYWJiclwiPT09ZFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYoZD1kLmVxKDApLmF0dHIoXCJ0aXRsZVwiKSksYi5ub3QoXCI6aGFzKGIuXCIrYytcIilcIikucHJlcGVuZChhKFwiPGIgY2xhc3M9J1wiK2MrXCInPjwvYj5cIikuYXBwZW5kKGQpKX19KX0oYSksZnVuY3Rpb24oYSxjKXt2YXIgZD1mdW5jdGlvbihiLGMpe3JldHVybi0xPT09KFwiXCIrKGEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLFwiZmlsdGVydGV4dFwiKXx8YSh0aGlzKS50ZXh0KCkpKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoYyl9O2Eud2lkZ2V0KFwibW9iaWxlLmZpbHRlcmFibGVcIix7aW5pdFNlbGVjdG9yOlwiOmpxbURhdGEoZmlsdGVyPSd0cnVlJylcIixvcHRpb25zOntmaWx0ZXJSZXZlYWw6ITEsZmlsdGVyQ2FsbGJhY2s6ZCxlbmhhbmNlZDohMSxpbnB1dDpudWxsLGNoaWxkcmVuOlwiPiBsaSwgPiBvcHRpb24sID4gb3B0Z3JvdXAgb3B0aW9uLCA+IHRib2R5IHRyLCA+IC51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgPiAudWktYnRuLCA+IC51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgPiAudWktY2hlY2tib3gsID4gLnVpLWNvbnRyb2xncm91cC1jb250cm9scyA+IC51aS1yYWRpb1wifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zO2EuZXh0ZW5kKHRoaXMse19zZWFyY2g6bnVsbCxfdGltZXI6MH0pLHRoaXMuX3NldElucHV0KGIuaW5wdXQpLGIuZW5oYW5jZWR8fHRoaXMuX2ZpbHRlckl0ZW1zKCh0aGlzLl9zZWFyY2gmJnRoaXMuX3NlYXJjaC52YWwoKXx8XCJcIikudG9Mb3dlckNhc2UoKSl9LF9vbktleVVwOmZ1bmN0aW9uKCl7dmFyIGMsZCxlPXRoaXMuX3NlYXJjaDtpZihlKXtpZihjPWUudmFsKCkudG9Mb3dlckNhc2UoKSxkPWEubW9iaWxlLmdldEF0dHJpYnV0ZShlWzBdLFwibGFzdHZhbFwiKStcIlwiLGQmJmQ9PT1jKXJldHVybjt0aGlzLl90aW1lciYmKGIuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj0wKSx0aGlzLl90aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmlnZ2VyKFwiYmVmb3JlZmlsdGVyXCIsbnVsbCx7aW5wdXQ6ZX0pPT09ITE/ITE6KGVbMF0uc2V0QXR0cmlidXRlKFwiZGF0YS1cIithLm1vYmlsZS5ucytcImxhc3R2YWxcIixjKSx0aGlzLl9maWx0ZXJJdGVtcyhjKSx2b2lkKHRoaXMuX3RpbWVyPTApKX0sMjUwKX19LF9nZXRGaWx0ZXJhYmxlSXRlbXM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMuY2hpbGRyZW4sZD1jP2EuaXNGdW5jdGlvbihjKT9jKCk6Yy5ub2RlTmFtZT9hKGMpOmMuanF1ZXJ5P2M6dGhpcy5lbGVtZW50LmZpbmQoYyk6e2xlbmd0aDowfTtyZXR1cm4gMD09PWQubGVuZ3RoJiYoZD1iLmNoaWxkcmVuKCkpLGR9LF9maWx0ZXJJdGVtczpmdW5jdGlvbihiKXt2YXIgYyxlLGYsZyxoPVtdLGk9W10saj10aGlzLm9wdGlvbnMsaz10aGlzLl9nZXRGaWx0ZXJhYmxlSXRlbXMoKTtpZihudWxsIT1iKWZvcihlPWouZmlsdGVyQ2FsbGJhY2t8fGQsZj1rLmxlbmd0aCxjPTA7Zj5jO2MrKylnPWUuY2FsbChrW2NdLGMsYik/aTpoLGcucHVzaChrW2NdKTswPT09aS5sZW5ndGg/a1tqLmZpbHRlclJldmVhbCYmMD09PWIubGVuZ3RoP1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKFwidWktc2NyZWVuLWhpZGRlblwiKTooYShpKS5hZGRDbGFzcyhcInVpLXNjcmVlbi1oaWRkZW5cIiksYShoKS5yZW1vdmVDbGFzcyhcInVpLXNjcmVlbi1oaWRkZW5cIikpLHRoaXMuX3JlZnJlc2hDaGlsZFdpZGdldCgpLHRoaXMuX3RyaWdnZXIoXCJmaWx0ZXJcIixudWxsLHtpdGVtczprfSl9LF9yZWZyZXNoQ2hpbGRXaWRnZXQ6ZnVuY3Rpb24oKXt2YXIgYixjLGQ9W1wiY29sbGFwc2libGVzZXRcIixcInNlbGVjdG1lbnVcIixcImNvbnRyb2xncm91cFwiLFwibGlzdHZpZXdcIl07Zm9yKGM9ZC5sZW5ndGgtMTtjPi0xO2MtLSliPWRbY10sYS5tb2JpbGVbYl0mJihiPXRoaXMuZWxlbWVudC5kYXRhKFwibW9iaWxlLVwiK2IpLGImJmEuaXNGdW5jdGlvbihiLnJlZnJlc2gpJiZiLnJlZnJlc2goKSl9LF9zZXRJbnB1dDpmdW5jdGlvbihjKXt2YXIgZD10aGlzLl9zZWFyY2g7dGhpcy5fdGltZXImJihiLmNsZWFyVGltZW91dCh0aGlzLl90aW1lciksdGhpcy5fdGltZXI9MCksZCYmKHRoaXMuX29mZihkLFwia2V5dXAgY2hhbmdlIGlucHV0XCIpLGQ9bnVsbCksYyYmKGQ9Yy5qcXVlcnk/YzpjLm5vZGVOYW1lP2EoYyk6dGhpcy5kb2N1bWVudC5maW5kKGMpLHRoaXMuX29uKGQse2tleWRvd246XCJfb25LZXlEb3duXCIsa2V5cHJlc3M6XCJfb25LZXlQcmVzc1wiLGtleXVwOlwiX29uS2V5VXBcIixjaGFuZ2U6XCJfb25LZXlVcFwiLGlucHV0OlwiX29uS2V5VXBcIn0pKSx0aGlzLl9zZWFyY2g9ZH0sX29uS2V5RG93bjpmdW5jdGlvbihiKXtiLmtleUNvZGU9PT1hLnVpLmtleUNvZGUuRU5URVImJihiLnByZXZlbnREZWZhdWx0KCksdGhpcy5fcHJldmVudEtleVByZXNzPSEwKX0sX29uS2V5UHJlc3M6ZnVuY3Rpb24oYSl7dGhpcy5fcHJldmVudEtleVByZXNzJiYoYS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX3ByZXZlbnRLZXlQcmVzcz0hMSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiPSEoYS5maWx0ZXJSZXZlYWw9PT1jJiZhLmZpbHRlckNhbGxiYWNrPT09YyYmYS5jaGlsZHJlbj09PWMpO3RoaXMuX3N1cGVyKGEpLGEuaW5wdXQhPT1jJiYodGhpcy5fc2V0SW5wdXQoYS5pbnB1dCksYj0hMCksYiYmdGhpcy5yZWZyZXNoKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9dGhpcy5fZ2V0RmlsdGVyYWJsZUl0ZW1zKCk7YS5lbmhhbmNlZD9iLnRvZ2dsZUNsYXNzKFwidWktc2NyZWVuLWhpZGRlblwiLGEuZmlsdGVyUmV2ZWFsKTpiLnJlbW92ZUNsYXNzKFwidWktc2NyZWVuLWhpZGRlblwiKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3RpbWVyJiYoYi5jbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLHRoaXMuX3RpbWVyPTApLHRoaXMuX2ZpbHRlckl0ZW1zKCh0aGlzLl9zZWFyY2gmJnRoaXMuX3NlYXJjaC52YWwoKXx8XCJcIikudG9Mb3dlckNhc2UoKSl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7Yi5jYWxsKHRoaXMsYyksYS5fc3luY1RleHRJbnB1dE9wdGlvbnMoYyl9fSxkPS8oXnxcXHMpdWktbGktZGl2aWRlcihcXHN8JCkvLGU9YS5tb2JpbGUuZmlsdGVyYWJsZS5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjazthLm1vYmlsZS5maWx0ZXJhYmxlLnByb3RvdHlwZS5vcHRpb25zLmZpbHRlckNhbGxiYWNrPWZ1bmN0aW9uKGEsYil7cmV0dXJuIXRoaXMuY2xhc3NOYW1lLm1hdGNoKGQpJiZlLmNhbGwodGhpcyxhLGIpfSxhLndpZGdldChcIm1vYmlsZS5maWx0ZXJhYmxlXCIsYS5tb2JpbGUuZmlsdGVyYWJsZSx7b3B0aW9uczp7ZmlsdGVyUGxhY2Vob2xkZXI6XCJGaWx0ZXIgaXRlbXMuLi5cIixmaWx0ZXJUaGVtZTpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGIsYyxkPXRoaXMuZWxlbWVudCxlPVtcImNvbGxhcHNpYmxlc2V0XCIsXCJzZWxlY3RtZW51XCIsXCJjb250cm9sZ3JvdXBcIixcImxpc3R2aWV3XCJdLGY9e307Zm9yKHRoaXMuX3N1cGVyKCksYS5leHRlbmQodGhpcyx7X3dpZGdldDpudWxsfSksYj1lLmxlbmd0aC0xO2I+LTE7Yi0tKWlmKGM9ZVtiXSxhLm1vYmlsZVtjXSl7aWYodGhpcy5fc2V0V2lkZ2V0KGQuZGF0YShcIm1vYmlsZS1cIitjKSkpYnJlYWs7ZltjK1wiY3JlYXRlXCJdPVwiX2hhbmRsZUNyZWF0ZVwifXRoaXMuX3dpZGdldHx8dGhpcy5fb24oZCxmKX0sX2hhbmRsZUNyZWF0ZTpmdW5jdGlvbihhKXt0aGlzLl9zZXRXaWRnZXQodGhpcy5lbGVtZW50LmRhdGEoXCJtb2JpbGUtXCIrYS50eXBlLnN1YnN0cmluZygwLGEudHlwZS5sZW5ndGgtNikpKX0sX3RyaWdnZXI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLl93aWRnZXQmJlwibW9iaWxlLWxpc3R2aWV3XCI9PT10aGlzLl93aWRnZXQud2lkZ2V0RnVsbE5hbWUmJlwiYmVmb3JlZmlsdGVyXCI9PT1hJiZ0aGlzLl93aWRnZXQuX3RyaWdnZXIoXCJiZWZvcmVmaWx0ZXJcIixiLGMpLHRoaXMuX3N1cGVyKGEsYixjKX0sX3NldFdpZGdldDpmdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5fd2lkZ2V0JiZhJiYodGhpcy5fd2lkZ2V0PWEsdGhpcy5fd2lkZ2V0Ll9zZXRPcHRpb25zPWModGhpcyx0aGlzLl93aWRnZXQuX3NldE9wdGlvbnMpKSx0aGlzLl93aWRnZXQmJih0aGlzLl9zeW5jVGV4dElucHV0T3B0aW9ucyh0aGlzLl93aWRnZXQub3B0aW9ucyksXCJsaXN0dmlld1wiPT09dGhpcy5fd2lkZ2V0LndpZGdldE5hbWUmJih0aGlzLl93aWRnZXQub3B0aW9ucy5oaWRlRGl2aWRlcnM9ITAsdGhpcy5fd2lkZ2V0LmVsZW1lbnQubGlzdHZpZXcoXCJyZWZyZXNoXCIpKSksISF0aGlzLl93aWRnZXR9LF9pc1NlYXJjaEludGVybmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlYXJjaCYmdGhpcy5fc2VhcmNoLmpxbURhdGEoXCJ1aS1maWx0ZXJhYmxlLVwiK3RoaXMudXVpZCtcIi1pbnRlcm5hbFwiKX0sX3NldElucHV0OmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMub3B0aW9ucyxkPSEwLGU9e307aWYoIWIpe2lmKHRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSlyZXR1cm47ZD0hMSxiPWEoXCI8aW5wdXQgZGF0YS1cIithLm1vYmlsZS5ucytcInR5cGU9J3NlYXJjaCcgcGxhY2Vob2xkZXI9J1wiK2MuZmlsdGVyUGxhY2Vob2xkZXIrXCInPjwvaW5wdXQ+XCIpLmpxbURhdGEoXCJ1aS1maWx0ZXJhYmxlLVwiK3RoaXMudXVpZCtcIi1pbnRlcm5hbFwiLCEwKSxhKFwiPGZvcm0gY2xhc3M9J3VpLWZpbHRlcmFibGUnPjwvZm9ybT5cIikuYXBwZW5kKGIpLnN1Ym1pdChmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksYi5ibHVyKCl9KS5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50KSxhLm1vYmlsZS50ZXh0aW5wdXQmJihudWxsIT10aGlzLm9wdGlvbnMuZmlsdGVyVGhlbWUmJihlLnRoZW1lPWMuZmlsdGVyVGhlbWUpLGIudGV4dGlucHV0KGUpKX10aGlzLl9zdXBlcihiKSx0aGlzLl9pc1NlYXJjaEludGVybmFsKCkmJmQmJnRoaXMuX3NlYXJjaC5hdHRyKFwicGxhY2Vob2xkZXJcIix0aGlzLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXIpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXt2YXIgZD10aGlzLl9zdXBlcihjKTtyZXR1cm4gYy5maWx0ZXJQbGFjZWhvbGRlciE9PWImJnRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmdGhpcy5fc2VhcmNoLmF0dHIoXCJwbGFjZWhvbGRlclwiLGMuZmlsdGVyUGxhY2Vob2xkZXIpLGMuZmlsdGVyVGhlbWUhPT1iJiZ0aGlzLl9zZWFyY2gmJmEubW9iaWxlLnRleHRpbnB1dCYmdGhpcy5fc2VhcmNoLnRleHRpbnB1dChcIm9wdGlvblwiLFwidGhlbWVcIixjLmZpbHRlclRoZW1lKSxkfSxfcmVmcmVzaENoaWxkV2lkZ2V0OmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaGluZ0NoaWxkV2lkZ2V0PSEwLHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKSx0aGlzLl9yZWZyZXNoaW5nQ2hpbGRXaWRnZXQ9ITF9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoaW5nQ2hpbGRXaWRnZXR8fHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9pc1NlYXJjaEludGVybmFsKCkmJnRoaXMuX3NlYXJjaC5yZW1vdmUoKSx0aGlzLl9zdXBlcigpfSxfc3luY1RleHRJbnB1dE9wdGlvbnM6ZnVuY3Rpb24oYyl7dmFyIGQsZT17fTtpZih0aGlzLl9pc1NlYXJjaEludGVybmFsKCkmJmEubW9iaWxlLnRleHRpbnB1dCl7Zm9yKGQgaW4gYS5tb2JpbGUudGV4dGlucHV0LnByb3RvdHlwZS5vcHRpb25zKWNbZF0hPT1iJiYoZVtkXT1cInRoZW1lXCI9PT1kJiZudWxsIT10aGlzLm9wdGlvbnMuZmlsdGVyVGhlbWU/dGhpcy5vcHRpb25zLmZpbHRlclRoZW1lOmNbZF0pO3RoaXMuX3NlYXJjaC50ZXh0aW5wdXQoXCJvcHRpb25cIixlKX19fSksYS53aWRnZXQoXCJtb2JpbGUubGlzdHZpZXdcIixhLm1vYmlsZS5saXN0dmlldyx7b3B0aW9uczp7ZmlsdGVyOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5maWx0ZXIhPT0hMHx8dGhpcy5lbGVtZW50LmRhdGEoXCJtb2JpbGUtZmlsdGVyYWJsZVwiKXx8dGhpcy5lbGVtZW50LmZpbHRlcmFibGUoKSx0aGlzLl9zdXBlcigpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGE7dGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpLHRoaXMub3B0aW9ucy5maWx0ZXI9PT0hMCYmKGE9dGhpcy5lbGVtZW50LmRhdGEoXCJtb2JpbGUtZmlsdGVyYWJsZVwiKSxhJiZhLnJlZnJlc2goKSl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3JldHVybisrZX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLmhhc2gubGVuZ3RoPjEmJmRlY29kZVVSSUNvbXBvbmVudChhLmhyZWYucmVwbGFjZShmLFwiXCIpKT09PWRlY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmLnJlcGxhY2UoZixcIlwiKSl9dmFyIGU9MCxmPS8jLiokLzthLndpZGdldChcInVpLnRhYnNcIix7dmVyc2lvbjpcImZhZGYyYjMxMmEwNTA0MDQzNjQ1MWM2NGJiZmFmNDgxNGJjNjJjNTZcIixkZWxheTozMDAsb3B0aW9uczp7YWN0aXZlOm51bGwsY29sbGFwc2libGU6ITEsZXZlbnQ6XCJjbGlja1wiLGhlaWdodFN0eWxlOlwiY29udGVudFwiLGhpZGU6bnVsbCxzaG93Om51bGwsYWN0aXZhdGU6bnVsbCxiZWZvcmVBY3RpdmF0ZTpudWxsLGJlZm9yZUxvYWQ6bnVsbCxsb2FkOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9dGhpcy5vcHRpb25zO3RoaXMucnVubmluZz0hMSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJ1aS10YWJzIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsXCIpLnRvZ2dsZUNsYXNzKFwidWktdGFicy1jb2xsYXBzaWJsZVwiLGMuY29sbGFwc2libGUpLmRlbGVnYXRlKFwiLnVpLXRhYnMtbmF2ID4gbGlcIixcIm1vdXNlZG93blwiK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oYil7YSh0aGlzKS5pcyhcIi51aS1zdGF0ZS1kaXNhYmxlZFwiKSYmYi5wcmV2ZW50RGVmYXVsdCgpfSkuZGVsZWdhdGUoXCIudWktdGFicy1hbmNob3JcIixcImZvY3VzXCIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbigpe2EodGhpcykuY2xvc2VzdChcImxpXCIpLmlzKFwiLnVpLXN0YXRlLWRpc2FibGVkXCIpJiZ0aGlzLmJsdXIoKX0pLHRoaXMuX3Byb2Nlc3NUYWJzKCksYy5hY3RpdmU9dGhpcy5faW5pdGlhbEFjdGl2ZSgpLGEuaXNBcnJheShjLmRpc2FibGVkKSYmKGMuZGlzYWJsZWQ9YS51bmlxdWUoYy5kaXNhYmxlZC5jb25jYXQoYS5tYXAodGhpcy50YWJzLmZpbHRlcihcIi51aS1zdGF0ZS1kaXNhYmxlZFwiKSxmdW5jdGlvbihhKXtyZXR1cm4gYi50YWJzLmluZGV4KGEpfSkpKS5zb3J0KCkpLHRoaXMuYWN0aXZlPXRoaXMub3B0aW9ucy5hY3RpdmUhPT0hMSYmdGhpcy5hbmNob3JzLmxlbmd0aD90aGlzLl9maW5kQWN0aXZlKGMuYWN0aXZlKTphKCksdGhpcy5fcmVmcmVzaCgpLHRoaXMuYWN0aXZlLmxlbmd0aCYmdGhpcy5sb2FkKGMuYWN0aXZlKX0sX2luaXRpYWxBY3RpdmU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMuYWN0aXZlLGM9dGhpcy5vcHRpb25zLmNvbGxhcHNpYmxlLGQ9bG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSk7cmV0dXJuIG51bGw9PT1iJiYoZCYmdGhpcy50YWJzLmVhY2goZnVuY3Rpb24oYyxlKXtyZXR1cm4gYShlKS5hdHRyKFwiYXJpYS1jb250cm9sc1wiKT09PWQ/KGI9YywhMSk6dm9pZCAwfSksbnVsbD09PWImJihiPXRoaXMudGFicy5pbmRleCh0aGlzLnRhYnMuZmlsdGVyKFwiLnVpLXRhYnMtYWN0aXZlXCIpKSksKG51bGw9PT1ifHwtMT09PWIpJiYoYj10aGlzLnRhYnMubGVuZ3RoPzA6ITEpKSxiIT09ITEmJihiPXRoaXMudGFicy5pbmRleCh0aGlzLnRhYnMuZXEoYikpLC0xPT09YiYmKGI9Yz8hMTowKSksIWMmJmI9PT0hMSYmdGhpcy5hbmNob3JzLmxlbmd0aCYmKGI9MCksYn0sX2dldENyZWF0ZUV2ZW50RGF0YTpmdW5jdGlvbigpe3JldHVybnt0YWI6dGhpcy5hY3RpdmUscGFuZWw6dGhpcy5hY3RpdmUubGVuZ3RoP3RoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKTphKCl9fSxfdGFiS2V5ZG93bjpmdW5jdGlvbihiKXt2YXIgYz1hKHRoaXMuZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCkuY2xvc2VzdChcImxpXCIpLGQ9dGhpcy50YWJzLmluZGV4KGMpLGU9ITA7aWYoIXRoaXMuX2hhbmRsZVBhZ2VOYXYoYikpe3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgYS51aS5rZXlDb2RlLlJJR0hUOmNhc2UgYS51aS5rZXlDb2RlLkRPV046ZCsrO2JyZWFrO2Nhc2UgYS51aS5rZXlDb2RlLlVQOmNhc2UgYS51aS5rZXlDb2RlLkxFRlQ6ZT0hMSxkLS07YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuRU5EOmQ9dGhpcy5hbmNob3JzLmxlbmd0aC0xO2JyZWFrO2Nhc2UgYS51aS5rZXlDb2RlLkhPTUU6ZD0wO2JyZWFrO2Nhc2UgYS51aS5rZXlDb2RlLlNQQUNFOnJldHVybiBiLnByZXZlbnREZWZhdWx0KCksY2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZhdGluZyksdm9pZCB0aGlzLl9hY3RpdmF0ZShkKTtjYXNlIGEudWkua2V5Q29kZS5FTlRFUjpyZXR1cm4gYi5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLHZvaWQgdGhpcy5fYWN0aXZhdGUoZD09PXRoaXMub3B0aW9ucy5hY3RpdmU/ITE6ZCk7ZGVmYXVsdDpyZXR1cm59Yi5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLGQ9dGhpcy5fZm9jdXNOZXh0VGFiKGQsZSksYi5jdHJsS2V5fHwoYy5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLFwiZmFsc2VcIiksdGhpcy50YWJzLmVxKGQpLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsXCJ0cnVlXCIpLHRoaXMuYWN0aXZhdGluZz10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMub3B0aW9uKFwiYWN0aXZlXCIsZCl9LHRoaXMuZGVsYXkpKX19LF9wYW5lbEtleWRvd246ZnVuY3Rpb24oYil7dGhpcy5faGFuZGxlUGFnZU5hdihiKXx8Yi5jdHJsS2V5JiZiLmtleUNvZGU9PT1hLnVpLmtleUNvZGUuVVAmJihiLnByZXZlbnREZWZhdWx0KCksdGhpcy5hY3RpdmUuZm9jdXMoKSl9LF9oYW5kbGVQYWdlTmF2OmZ1bmN0aW9uKGIpe3JldHVybiBiLmFsdEtleSYmYi5rZXlDb2RlPT09YS51aS5rZXlDb2RlLlBBR0VfVVA/KHRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZvY3VzTmV4dFRhYih0aGlzLm9wdGlvbnMuYWN0aXZlLTEsITEpKSwhMCk6Yi5hbHRLZXkmJmIua2V5Q29kZT09PWEudWkua2V5Q29kZS5QQUdFX0RPV04/KHRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZvY3VzTmV4dFRhYih0aGlzLm9wdGlvbnMuYWN0aXZlKzEsITApKSwhMCk6dm9pZCAwfSxfZmluZE5leHRUYWI6ZnVuY3Rpb24oYixjKXtmdW5jdGlvbiBkKCl7cmV0dXJuIGI+ZSYmKGI9MCksMD5iJiYoYj1lKSxifWZvcih2YXIgZT10aGlzLnRhYnMubGVuZ3RoLTE7LTEhPT1hLmluQXJyYXkoZCgpLHRoaXMub3B0aW9ucy5kaXNhYmxlZCk7KWI9Yz9iKzE6Yi0xO3JldHVybiBifSxfZm9jdXNOZXh0VGFiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9dGhpcy5fZmluZE5leHRUYWIoYSxiKSx0aGlzLnRhYnMuZXEoYSkuZm9jdXMoKSxhfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuXCJhY3RpdmVcIj09PWE/dm9pZCB0aGlzLl9hY3RpdmF0ZShiKTpcImRpc2FibGVkXCI9PT1hP3ZvaWQgdGhpcy5fc2V0dXBEaXNhYmxlZChiKToodGhpcy5fc3VwZXIoYSxiKSxcImNvbGxhcHNpYmxlXCI9PT1hJiYodGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKFwidWktdGFicy1jb2xsYXBzaWJsZVwiLGIpLGJ8fHRoaXMub3B0aW9ucy5hY3RpdmUhPT0hMXx8dGhpcy5fYWN0aXZhdGUoMCkpLFwiZXZlbnRcIj09PWEmJnRoaXMuX3NldHVwRXZlbnRzKGIpLHZvaWQoXCJoZWlnaHRTdHlsZVwiPT09YSYmdGhpcy5fc2V0dXBIZWlnaHRTdHlsZShiKSkpfSxfdGFiSWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuYXR0cihcImFyaWEtY29udHJvbHNcIil8fFwidWktdGFicy1cIitjKCl9LF9zYW5pdGl6ZVNlbGVjdG9yOmZ1bmN0aW9uKGEpe3JldHVybiBhP2EucmVwbGFjZSgvWyFcIiQlJicoKSorLC5cXC86Ozw9Pj9AXFxbXFxdXFxeYHt8fX5dL2csXCJcXFxcJCZcIik6XCJcIn0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPXRoaXMudGFibGlzdC5jaGlsZHJlbihcIjpoYXMoYVtocmVmXSlcIik7Yi5kaXNhYmxlZD1hLm1hcChjLmZpbHRlcihcIi51aS1zdGF0ZS1kaXNhYmxlZFwiKSxmdW5jdGlvbihhKXtyZXR1cm4gYy5pbmRleChhKX0pLHRoaXMuX3Byb2Nlc3NUYWJzKCksYi5hY3RpdmUhPT0hMSYmdGhpcy5hbmNob3JzLmxlbmd0aD90aGlzLmFjdGl2ZS5sZW5ndGgmJiFhLmNvbnRhaW5zKHRoaXMudGFibGlzdFswXSx0aGlzLmFjdGl2ZVswXSk/dGhpcy50YWJzLmxlbmd0aD09PWIuZGlzYWJsZWQubGVuZ3RoPyhiLmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1hKCkpOnRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZpbmROZXh0VGFiKE1hdGgubWF4KDAsYi5hY3RpdmUtMSksITEpKTpiLmFjdGl2ZT10aGlzLnRhYnMuaW5kZXgodGhpcy5hY3RpdmUpOihiLmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1hKCkpLHRoaXMuX3JlZnJlc2goKX0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9zZXR1cERpc2FibGVkKHRoaXMub3B0aW9ucy5kaXNhYmxlZCksdGhpcy5fc2V0dXBFdmVudHModGhpcy5vcHRpb25zLmV2ZW50KSx0aGlzLl9zZXR1cEhlaWdodFN0eWxlKHRoaXMub3B0aW9ucy5oZWlnaHRTdHlsZSksdGhpcy50YWJzLm5vdCh0aGlzLmFjdGl2ZSkuYXR0cih7XCJhcmlhLXNlbGVjdGVkXCI6XCJmYWxzZVwiLHRhYkluZGV4Oi0xfSksdGhpcy5wYW5lbHMubm90KHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKSkuaGlkZSgpLmF0dHIoe1wiYXJpYS1leHBhbmRlZFwiOlwiZmFsc2VcIixcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCJ9KSx0aGlzLmFjdGl2ZS5sZW5ndGg/KHRoaXMuYWN0aXZlLmFkZENsYXNzKFwidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlXCIpLmF0dHIoe1wiYXJpYS1zZWxlY3RlZFwiOlwidHJ1ZVwiLHRhYkluZGV4OjB9KSx0aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSkuc2hvdygpLmF0dHIoe1wiYXJpYS1leHBhbmRlZFwiOlwidHJ1ZVwiLFwiYXJpYS1oaWRkZW5cIjpcImZhbHNlXCJ9KSk6dGhpcy50YWJzLmVxKDApLmF0dHIoXCJ0YWJJbmRleFwiLDApfSxfcHJvY2Vzc1RhYnM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMudGFibGlzdD10aGlzLl9nZXRMaXN0KCkuYWRkQ2xhc3MoXCJ1aS10YWJzLW5hdiB1aS1oZWxwZXItcmVzZXQgdWktaGVscGVyLWNsZWFyZml4IHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbFwiKS5hdHRyKFwicm9sZVwiLFwidGFibGlzdFwiKSx0aGlzLnRhYnM9dGhpcy50YWJsaXN0LmZpbmQoXCI+IGxpOmhhcyhhW2hyZWZdKVwiKS5hZGRDbGFzcyhcInVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLXRvcFwiKS5hdHRyKHtyb2xlOlwidGFiXCIsdGFiSW5kZXg6LTF9KSx0aGlzLmFuY2hvcnM9dGhpcy50YWJzLm1hcChmdW5jdGlvbigpe3JldHVybiBhKFwiYVwiLHRoaXMpWzBdfSkuYWRkQ2xhc3MoXCJ1aS10YWJzLWFuY2hvclwiKS5hdHRyKHtyb2xlOlwicHJlc2VudGF0aW9uXCIsdGFiSW5kZXg6LTF9KSx0aGlzLnBhbmVscz1hKCksdGhpcy5hbmNob3JzLmVhY2goZnVuY3Rpb24oYyxlKXt2YXIgZixnLGgsaT1hKGUpLnVuaXF1ZUlkKCkuYXR0cihcImlkXCIpLGo9YShlKS5jbG9zZXN0KFwibGlcIiksaz1qLmF0dHIoXCJhcmlhLWNvbnRyb2xzXCIpO2QoZSk/KGY9ZS5oYXNoLGc9Yi5lbGVtZW50LmZpbmQoYi5fc2FuaXRpemVTZWxlY3RvcihmKSkpOihoPWIuX3RhYklkKGopLGY9XCIjXCIraCxnPWIuZWxlbWVudC5maW5kKGYpLGcubGVuZ3RofHwoZz1iLl9jcmVhdGVQYW5lbChoKSxnLmluc2VydEFmdGVyKGIucGFuZWxzW2MtMV18fGIudGFibGlzdCkpLGcuYXR0cihcImFyaWEtbGl2ZVwiLFwicG9saXRlXCIpKSxnLmxlbmd0aCYmKGIucGFuZWxzPWIucGFuZWxzLmFkZChnKSksayYmai5kYXRhKFwidWktdGFicy1hcmlhLWNvbnRyb2xzXCIsayksai5hdHRyKHtcImFyaWEtY29udHJvbHNcIjpmLnN1YnN0cmluZygxKSxcImFyaWEtbGFiZWxsZWRieVwiOml9KSxnLmF0dHIoXCJhcmlhLWxhYmVsbGVkYnlcIixpKX0pLHRoaXMucGFuZWxzLmFkZENsYXNzKFwidWktdGFicy1wYW5lbCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tXCIpLmF0dHIoXCJyb2xlXCIsXCJ0YWJwYW5lbFwiKX0sX2dldExpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmZpbmQoXCJvbCx1bFwiKS5lcSgwKX0sX2NyZWF0ZVBhbmVsOmZ1bmN0aW9uKGIpe3JldHVybiBhKFwiPGRpdj5cIikuYXR0cihcImlkXCIsYikuYWRkQ2xhc3MoXCJ1aS10YWJzLXBhbmVsIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b21cIikuZGF0YShcInVpLXRhYnMtZGVzdHJveVwiLCEwKX0sX3NldHVwRGlzYWJsZWQ6ZnVuY3Rpb24oYil7YS5pc0FycmF5KGIpJiYoYi5sZW5ndGg/Yi5sZW5ndGg9PT10aGlzLmFuY2hvcnMubGVuZ3RoJiYoYj0hMCk6Yj0hMSk7Zm9yKHZhciBjLGQ9MDtjPXRoaXMudGFic1tkXTtkKyspYj09PSEwfHwtMSE9PWEuaW5BcnJheShkLGIpP2EoYykuYWRkQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLFwidHJ1ZVwiKTphKGMpLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIikucmVtb3ZlQXR0cihcImFyaWEtZGlzYWJsZWRcIik7dGhpcy5vcHRpb25zLmRpc2FibGVkPWJ9LF9zZXR1cEV2ZW50czpmdW5jdGlvbihiKXt2YXIgYz17Y2xpY2s6ZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpfX07YiYmYS5lYWNoKGIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEsYil7Y1tiXT1cIl9ldmVudEhhbmRsZXJcIn0pLHRoaXMuX29mZih0aGlzLmFuY2hvcnMuYWRkKHRoaXMudGFicykuYWRkKHRoaXMucGFuZWxzKSksdGhpcy5fb24odGhpcy5hbmNob3JzLGMpLHRoaXMuX29uKHRoaXMudGFicyx7a2V5ZG93bjpcIl90YWJLZXlkb3duXCJ9KSx0aGlzLl9vbih0aGlzLnBhbmVscyx7a2V5ZG93bjpcIl9wYW5lbEtleWRvd25cIn0pLHRoaXMuX2ZvY3VzYWJsZSh0aGlzLnRhYnMpLHRoaXMuX2hvdmVyYWJsZSh0aGlzLnRhYnMpfSxfc2V0dXBIZWlnaHRTdHlsZTpmdW5jdGlvbihiKXt2YXIgYyxkPXRoaXMuZWxlbWVudC5wYXJlbnQoKTtcImZpbGxcIj09PWI/KGM9ZC5oZWlnaHQoKSxjLT10aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKS10aGlzLmVsZW1lbnQuaGVpZ2h0KCksdGhpcy5lbGVtZW50LnNpYmxpbmdzKFwiOnZpc2libGVcIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZD1iLmNzcyhcInBvc2l0aW9uXCIpO1wiYWJzb2x1dGVcIiE9PWQmJlwiZml4ZWRcIiE9PWQmJihjLT1iLm91dGVySGVpZ2h0KCEwKSl9KSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS5ub3QodGhpcy5wYW5lbHMpLmVhY2goZnVuY3Rpb24oKXtjLT1hKHRoaXMpLm91dGVySGVpZ2h0KCEwKVxufSksdGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuaGVpZ2h0KE1hdGgubWF4KDAsYy1hKHRoaXMpLmlubmVySGVpZ2h0KCkrYSh0aGlzKS5oZWlnaHQoKSkpfSkuY3NzKFwib3ZlcmZsb3dcIixcImF1dG9cIikpOlwiYXV0b1wiPT09YiYmKGM9MCx0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCl7Yz1NYXRoLm1heChjLGEodGhpcykuaGVpZ2h0KFwiXCIpLmhlaWdodCgpKX0pLmhlaWdodChjKSl9LF9ldmVudEhhbmRsZXI6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5vcHRpb25zLGQ9dGhpcy5hY3RpdmUsZT1hKGIuY3VycmVudFRhcmdldCksZj1lLmNsb3Nlc3QoXCJsaVwiKSxnPWZbMF09PT1kWzBdLGg9ZyYmYy5jb2xsYXBzaWJsZSxpPWg/YSgpOnRoaXMuX2dldFBhbmVsRm9yVGFiKGYpLGo9ZC5sZW5ndGg/dGhpcy5fZ2V0UGFuZWxGb3JUYWIoZCk6YSgpLGs9e29sZFRhYjpkLG9sZFBhbmVsOmosbmV3VGFiOmg/YSgpOmYsbmV3UGFuZWw6aX07Yi5wcmV2ZW50RGVmYXVsdCgpLGYuaGFzQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiKXx8Zi5oYXNDbGFzcyhcInVpLXRhYnMtbG9hZGluZ1wiKXx8dGhpcy5ydW5uaW5nfHxnJiYhYy5jb2xsYXBzaWJsZXx8dGhpcy5fdHJpZ2dlcihcImJlZm9yZUFjdGl2YXRlXCIsYixrKT09PSExfHwoYy5hY3RpdmU9aD8hMTp0aGlzLnRhYnMuaW5kZXgoZiksdGhpcy5hY3RpdmU9Zz9hKCk6Zix0aGlzLnhociYmdGhpcy54aHIuYWJvcnQoKSxqLmxlbmd0aHx8aS5sZW5ndGh8fGEuZXJyb3IoXCJqUXVlcnkgVUkgVGFiczogTWlzbWF0Y2hpbmcgZnJhZ21lbnQgaWRlbnRpZmllci5cIiksaS5sZW5ndGgmJnRoaXMubG9hZCh0aGlzLnRhYnMuaW5kZXgoZiksYiksdGhpcy5fdG9nZ2xlKGIsaykpfSxfdG9nZ2xlOmZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZCgpe2YucnVubmluZz0hMSxmLl90cmlnZ2VyKFwiYWN0aXZhdGVcIixiLGMpfWZ1bmN0aW9uIGUoKXtjLm5ld1RhYi5jbG9zZXN0KFwibGlcIikuYWRkQ2xhc3MoXCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmVcIiksZy5sZW5ndGgmJmYub3B0aW9ucy5zaG93P2YuX3Nob3coZyxmLm9wdGlvbnMuc2hvdyxkKTooZy5zaG93KCksZCgpKX12YXIgZj10aGlzLGc9Yy5uZXdQYW5lbCxoPWMub2xkUGFuZWw7dGhpcy5ydW5uaW5nPSEwLGgubGVuZ3RoJiZ0aGlzLm9wdGlvbnMuaGlkZT90aGlzLl9oaWRlKGgsdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtjLm9sZFRhYi5jbG9zZXN0KFwibGlcIikucmVtb3ZlQ2xhc3MoXCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmVcIiksZSgpfSk6KGMub2xkVGFiLmNsb3Nlc3QoXCJsaVwiKS5yZW1vdmVDbGFzcyhcInVpLXRhYnMtYWN0aXZlIHVpLXN0YXRlLWFjdGl2ZVwiKSxoLmhpZGUoKSxlKCkpLGguYXR0cih7XCJhcmlhLWV4cGFuZGVkXCI6XCJmYWxzZVwiLFwiYXJpYS1oaWRkZW5cIjpcInRydWVcIn0pLGMub2xkVGFiLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsXCJmYWxzZVwiKSxnLmxlbmd0aCYmaC5sZW5ndGg/Yy5vbGRUYWIuYXR0cihcInRhYkluZGV4XCIsLTEpOmcubGVuZ3RoJiZ0aGlzLnRhYnMuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1hKHRoaXMpLmF0dHIoXCJ0YWJJbmRleFwiKX0pLmF0dHIoXCJ0YWJJbmRleFwiLC0xKSxnLmF0dHIoe1wiYXJpYS1leHBhbmRlZFwiOlwidHJ1ZVwiLFwiYXJpYS1oaWRkZW5cIjpcImZhbHNlXCJ9KSxjLm5ld1RhYi5hdHRyKHtcImFyaWEtc2VsZWN0ZWRcIjpcInRydWVcIix0YWJJbmRleDowfSl9LF9hY3RpdmF0ZTpmdW5jdGlvbihiKXt2YXIgYyxkPXRoaXMuX2ZpbmRBY3RpdmUoYik7ZFswXSE9PXRoaXMuYWN0aXZlWzBdJiYoZC5sZW5ndGh8fChkPXRoaXMuYWN0aXZlKSxjPWQuZmluZChcIi51aS10YWJzLWFuY2hvclwiKVswXSx0aGlzLl9ldmVudEhhbmRsZXIoe3RhcmdldDpjLGN1cnJlbnRUYXJnZXQ6YyxwcmV2ZW50RGVmYXVsdDphLm5vb3B9KSl9LF9maW5kQWN0aXZlOmZ1bmN0aW9uKGIpe3JldHVybiBiPT09ITE/YSgpOnRoaXMudGFicy5lcShiKX0sX2dldEluZGV4OmZ1bmN0aW9uKGEpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT10aGlzLmFuY2hvcnMuaW5kZXgodGhpcy5hbmNob3JzLmZpbHRlcihcIltocmVmJD0nXCIrYStcIiddXCIpKSksYX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnhociYmdGhpcy54aHIuYWJvcnQoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS10YWJzIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIHVpLXRhYnMtY29sbGFwc2libGVcIiksdGhpcy50YWJsaXN0LnJlbW92ZUNsYXNzKFwidWktdGFicy1uYXYgdWktaGVscGVyLXJlc2V0IHVpLWhlbHBlci1jbGVhcmZpeCB1aS13aWRnZXQtaGVhZGVyIHVpLWNvcm5lci1hbGxcIikucmVtb3ZlQXR0cihcInJvbGVcIiksdGhpcy5hbmNob3JzLnJlbW92ZUNsYXNzKFwidWktdGFicy1hbmNob3JcIikucmVtb3ZlQXR0cihcInJvbGVcIikucmVtb3ZlQXR0cihcInRhYkluZGV4XCIpLnJlbW92ZVVuaXF1ZUlkKCksdGhpcy50YWJzLmFkZCh0aGlzLnBhbmVscykuZWFjaChmdW5jdGlvbigpe2EuZGF0YSh0aGlzLFwidWktdGFicy1kZXN0cm95XCIpP2EodGhpcykucmVtb3ZlKCk6YSh0aGlzKS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWRlZmF1bHQgdWktc3RhdGUtYWN0aXZlIHVpLXN0YXRlLWRpc2FibGVkIHVpLWNvcm5lci10b3AgdWktY29ybmVyLWJvdHRvbSB1aS13aWRnZXQtY29udGVudCB1aS10YWJzLWFjdGl2ZSB1aS10YWJzLXBhbmVsXCIpLnJlbW92ZUF0dHIoXCJ0YWJJbmRleFwiKS5yZW1vdmVBdHRyKFwiYXJpYS1saXZlXCIpLnJlbW92ZUF0dHIoXCJhcmlhLWJ1c3lcIikucmVtb3ZlQXR0cihcImFyaWEtc2VsZWN0ZWRcIikucmVtb3ZlQXR0cihcImFyaWEtbGFiZWxsZWRieVwiKS5yZW1vdmVBdHRyKFwiYXJpYS1oaWRkZW5cIikucmVtb3ZlQXR0cihcImFyaWEtZXhwYW5kZWRcIikucmVtb3ZlQXR0cihcInJvbGVcIil9KSx0aGlzLnRhYnMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksYz1iLmRhdGEoXCJ1aS10YWJzLWFyaWEtY29udHJvbHNcIik7Yz9iLmF0dHIoXCJhcmlhLWNvbnRyb2xzXCIsYykucmVtb3ZlRGF0YShcInVpLXRhYnMtYXJpYS1jb250cm9sc1wiKTpiLnJlbW92ZUF0dHIoXCJhcmlhLWNvbnRyb2xzXCIpfSksdGhpcy5wYW5lbHMuc2hvdygpLFwiY29udGVudFwiIT09dGhpcy5vcHRpb25zLmhlaWdodFN0eWxlJiZ0aGlzLnBhbmVscy5jc3MoXCJoZWlnaHRcIixcIlwiKX0sZW5hYmxlOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMub3B0aW9ucy5kaXNhYmxlZDtkIT09ITEmJihjPT09Yj9kPSExOihjPXRoaXMuX2dldEluZGV4KGMpLGQ9YS5pc0FycmF5KGQpP2EubWFwKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1jP2E6bnVsbH0pOmEubWFwKHRoaXMudGFicyxmdW5jdGlvbihhLGIpe3JldHVybiBiIT09Yz9iOm51bGx9KSksdGhpcy5fc2V0dXBEaXNhYmxlZChkKSl9LGRpc2FibGU6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5vcHRpb25zLmRpc2FibGVkO2lmKGQhPT0hMCl7aWYoYz09PWIpZD0hMDtlbHNle2lmKGM9dGhpcy5fZ2V0SW5kZXgoYyksLTEhPT1hLmluQXJyYXkoYyxkKSlyZXR1cm47ZD1hLmlzQXJyYXkoZCk/YS5tZXJnZShbY10sZCkuc29ydCgpOltjXX10aGlzLl9zZXR1cERpc2FibGVkKGQpfX0sbG9hZDpmdW5jdGlvbihiLGMpe2I9dGhpcy5fZ2V0SW5kZXgoYik7dmFyIGU9dGhpcyxmPXRoaXMudGFicy5lcShiKSxnPWYuZmluZChcIi51aS10YWJzLWFuY2hvclwiKSxoPXRoaXMuX2dldFBhbmVsRm9yVGFiKGYpLGk9e3RhYjpmLHBhbmVsOmh9O2QoZ1swXSl8fCh0aGlzLnhocj1hLmFqYXgodGhpcy5fYWpheFNldHRpbmdzKGcsYyxpKSksdGhpcy54aHImJlwiY2FuY2VsZWRcIiE9PXRoaXMueGhyLnN0YXR1c1RleHQmJihmLmFkZENsYXNzKFwidWktdGFicy1sb2FkaW5nXCIpLGguYXR0cihcImFyaWEtYnVzeVwiLFwidHJ1ZVwiKSx0aGlzLnhoci5zdWNjZXNzKGZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtoLmh0bWwoYSksZS5fdHJpZ2dlcihcImxvYWRcIixjLGkpfSwxKX0pLmNvbXBsZXRlKGZ1bmN0aW9uKGEsYil7c2V0VGltZW91dChmdW5jdGlvbigpe1wiYWJvcnRcIj09PWImJmUucGFuZWxzLnN0b3AoITEsITApLGYucmVtb3ZlQ2xhc3MoXCJ1aS10YWJzLWxvYWRpbmdcIiksaC5yZW1vdmVBdHRyKFwiYXJpYS1idXN5XCIpLGE9PT1lLnhociYmZGVsZXRlIGUueGhyfSwxKX0pKSl9LF9hamF4U2V0dGluZ3M6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPXRoaXM7cmV0dXJue3VybDpiLmF0dHIoXCJocmVmXCIpLGJlZm9yZVNlbmQ6ZnVuY3Rpb24oYixmKXtyZXR1cm4gZS5fdHJpZ2dlcihcImJlZm9yZUxvYWRcIixjLGEuZXh0ZW5kKHtqcVhIUjpiLGFqYXhTZXR0aW5nczpmfSxkKSl9fX0sX2dldFBhbmVsRm9yVGFiOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYikuYXR0cihcImFyaWEtY29udHJvbHNcIik7cmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKHRoaXMuX3Nhbml0aXplU2VsZWN0b3IoXCIjXCIrYykpfX0pfShhKSxmdW5jdGlvbigpe30oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2U9YS5vcmlnaW5hbEV2ZW50LGk9ZS5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LGY9TWF0aC5hYnMoaS54KSxnPU1hdGguYWJzKGkueSksaD1NYXRoLmFicyhpLnopLCFiLm9yaWVudGF0aW9uJiYoZj43fHwoaD42JiY4Pmd8fDg+aCYmZz42KSYmZj41KT9kLmVuYWJsZWQmJmQuZGlzYWJsZSgpOmQuZW5hYmxlZHx8ZC5lbmFibGUoKX1hLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQ9ITA7dmFyIGQsZSxmLGcsaCxpLGo9bmF2aWdhdG9yLnVzZXJBZ2VudDtyZXR1cm4vaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiYvT1MgWzEtNV1fWzAtOV9dKiBsaWtlIE1hYyBPUyBYL2kudGVzdChqKSYmai5pbmRleE9mKFwiQXBwbGVXZWJLaXRcIik+LTE/KGQ9YS5tb2JpbGUuem9vbSx2b2lkIGEubW9iaWxlLmRvY3VtZW50Lm9uKFwibW9iaWxlaW5pdFwiLGZ1bmN0aW9uKCl7YS5tb2JpbGUuaW9zb3JpZW50YXRpb25maXhFbmFibGVkJiZhLm1vYmlsZS53aW5kb3cuYmluZChcIm9yaWVudGF0aW9uY2hhbmdlLmlvc29yaWVudGF0aW9uZml4XCIsZC5lbmFibGUpLmJpbmQoXCJkZXZpY2Vtb3Rpb24uaW9zb3JpZW50YXRpb25maXhcIixjKX0pKTp2b2lkKGEubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZD0hMSl9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGUoKXtmLnJlbW92ZUNsYXNzKFwidWktbW9iaWxlLXJlbmRlcmluZ1wiKX12YXIgZj1hKFwiaHRtbFwiKSxnPWEubW9iaWxlLndpbmRvdzthKGIuZG9jdW1lbnQpLnRyaWdnZXIoXCJtb2JpbGVpbml0XCIpLGEubW9iaWxlLmdyYWRlQSgpJiYoYS5tb2JpbGUuYWpheEJsYWNrbGlzdCYmKGEubW9iaWxlLmFqYXhFbmFibGVkPSExKSxmLmFkZENsYXNzKFwidWktbW9iaWxlIHVpLW1vYmlsZS1yZW5kZXJpbmdcIiksc2V0VGltZW91dChlLDVlMyksYS5leHRlbmQoYS5tb2JpbGUse2luaXRpYWxpemVQYWdlOmZ1bmN0aW9uKCl7dmFyIGI9YS5tb2JpbGUucGF0aCxmPWEoXCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpXCIpLGg9Yi5zdHJpcEhhc2goYi5zdHJpcFF1ZXJ5UGFyYW1zKGIucGFyc2VMb2NhdGlvbigpLmhhc2gpKSxpPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLGo9aD9jLmdldEVsZW1lbnRCeUlkKGgpOmQ7Zi5sZW5ndGh8fChmPWEoXCJib2R5XCIpLndyYXBJbm5lcihcIjxkaXYgZGF0YS1cIithLm1vYmlsZS5ucytcInJvbGU9J3BhZ2UnPjwvZGl2PlwiKS5jaGlsZHJlbigwKSksZi5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTtjWzBdLmdldEF0dHJpYnV0ZShcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJ1cmxcIil8fGMuYXR0cihcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJ1cmxcIixjLmF0dHIoXCJpZFwiKXx8Yi5jb252ZXJ0VXJsVG9EYXRhVXJsKGkucGF0aG5hbWUraS5zZWFyY2gpKX0pLGEubW9iaWxlLmZpcnN0UGFnZT1mLmZpcnN0KCksYS5tb2JpbGUucGFnZUNvbnRhaW5lcj1hLm1vYmlsZS5maXJzdFBhZ2UucGFyZW50KCkuYWRkQ2xhc3MoXCJ1aS1tb2JpbGUtdmlld3BvcnRcIikucGFnZWNvbnRhaW5lcigpLGEubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQucmVzb2x2ZSgpLGcudHJpZ2dlcihcInBhZ2Vjb250YWluZXJjcmVhdGVcIiksYS5tb2JpbGUubG9hZGluZyhcInNob3dcIiksZSgpLGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZhLm1vYmlsZS5wYXRoLmlzSGFzaFZhbGlkKGxvY2F0aW9uLmhhc2gpJiYoYShqKS5pcyhcIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKVwiKXx8YS5tb2JpbGUucGF0aC5pc1BhdGgoaCl8fGg9PT1hLm1vYmlsZS5kaWFsb2dIYXNoS2V5KT9hLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnkuc3RhY2s9W10sYS5tb2JpbGUubmF2aWdhdGUoYS5tb2JpbGUucGF0aC5pc1BhdGgobG9jYXRpb24uaGFzaCk/bG9jYXRpb24uaGFzaDpsb2NhdGlvbi5ocmVmKSk6Zy50cmlnZ2VyKFwiaGFzaGNoYW5nZVwiLFshMF0pOihhLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCkmJmEubW9iaWxlLm5hdmlnYXRlLm5hdmlnYXRvci5zcXVhc2goYi5wYXJzZUxvY2F0aW9uKCkuaHJlZiksYS5tb2JpbGUuY2hhbmdlUGFnZShhLm1vYmlsZS5maXJzdFBhZ2Use3RyYW5zaXRpb246XCJub25lXCIscmV2ZXJzZTohMCxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSkpfX0pLGEoZnVuY3Rpb24oKXthLnN1cHBvcnQuaW5saW5lU1ZHKCksYS5tb2JpbGUuaGlkZVVybEJhciYmYi5zY3JvbGxUbygwLDEpLGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsPWEuc3VwcG9ydC5zY3JvbGxUb3AmJjEhPT1hLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCk/MTowLGEubW9iaWxlLmF1dG9Jbml0aWFsaXplUGFnZSYmYS5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UoKSxhLm1vYmlsZS5oaWRlVXJsQmFyJiZnLmxvYWQoYS5tb2JpbGUuc2lsZW50U2Nyb2xsKSxhLnN1cHBvcnQuY3NzUG9pbnRlckV2ZW50c3x8YS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoXCIudWktc3RhdGUtZGlzYWJsZWQsLnVpLWRpc2FibGVkXCIsXCJ2Y2xpY2tcIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0pfSkpfShhLHRoaXMpfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1qcXVlcnkubW9iaWxlLTEuNC41Lm1pbi5tYXBcbjsgYnJvd3NlcmlmeV9zaGltX19kZWZpbmVfX21vZHVsZV9fZXhwb3J0X18odHlwZW9mICQubW9iaWxlICE9IFwidW5kZWZpbmVkXCIgPyAkLm1vYmlsZSA6IHdpbmRvdy4kLm1vYmlsZSk7XG5cbn0pLmNhbGwoZ2xvYmFsLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbiBkZWZpbmVFeHBvcnQoZXgpIHsgbW9kdWxlLmV4cG9ydHMgPSBleDsgfSk7XG4iLCIoZnVuY3Rpb24gYnJvd3NlcmlmeVNoaW0obW9kdWxlLCBleHBvcnRzLCBkZWZpbmUsIGJyb3dzZXJpZnlfc2hpbV9fZGVmaW5lX19tb2R1bGVfX2V4cG9ydF9fKSB7XG4vKiEgalF1ZXJ5IHYxLjExLjEgfCAoYykgMjAwNSwgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiB8IGpxdWVyeS5vcmcvbGljZW5zZSAqL1xuIWZ1bmN0aW9uKGEsYil7XCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWEuZG9jdW1lbnQ/YihhLCEwKTpmdW5jdGlvbihhKXtpZighYS5kb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoXCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIpO3JldHVybiBiKGEpfTpiKGEpfShcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZD1jLnNsaWNlLGU9Yy5jb25jYXQsZj1jLnB1c2gsZz1jLmluZGV4T2YsaD17fSxpPWgudG9TdHJpbmcsaj1oLmhhc093blByb3BlcnR5LGs9e30sbD1cIjEuMTEuMVwiLG09ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IG0uZm4uaW5pdChhLGIpfSxuPS9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyxvPS9eLW1zLS8scD0vLShbXFxkYS16XSkvZ2kscT1mdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9O20uZm49bS5wcm90b3R5cGU9e2pxdWVyeTpsLGNvbnN0cnVjdG9yOm0sc2VsZWN0b3I6XCJcIixsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIGQuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hPzA+YT90aGlzW2ErdGhpcy5sZW5ndGhdOnRoaXNbYV06ZC5jYWxsKHRoaXMpfSxwdXNoU3RhY2s6ZnVuY3Rpb24oYSl7dmFyIGI9bS5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksYSk7cmV0dXJuIGIucHJldk9iamVjdD10aGlzLGIuY29udGV4dD10aGlzLmNvbnRleHQsYn0sZWFjaDpmdW5jdGlvbihhLGIpe3JldHVybiBtLmVhY2godGhpcyxhLGIpfSxtYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG0ubWFwKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5jYWxsKGIsYyxiKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmxlbmd0aCxjPSthKygwPmE/YjowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYz49MCYmYj5jP1t0aGlzW2NdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IobnVsbCl9LHB1c2g6Zixzb3J0OmMuc29ydCxzcGxpY2U6Yy5zcGxpY2V9LG0uZXh0ZW5kPW0uZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc9YXJndW1lbnRzWzBdfHx7fSxoPTEsaT1hcmd1bWVudHMubGVuZ3RoLGo9ITE7Zm9yKFwiYm9vbGVhblwiPT10eXBlb2YgZyYmKGo9ZyxnPWFyZ3VtZW50c1toXXx8e30saCsrKSxcIm9iamVjdFwiPT10eXBlb2YgZ3x8bS5pc0Z1bmN0aW9uKGcpfHwoZz17fSksaD09PWkmJihnPXRoaXMsaC0tKTtpPmg7aCsrKWlmKG51bGwhPShlPWFyZ3VtZW50c1toXSkpZm9yKGQgaW4gZSlhPWdbZF0sYz1lW2RdLGchPT1jJiYoaiYmYyYmKG0uaXNQbGFpbk9iamVjdChjKXx8KGI9bS5pc0FycmF5KGMpKSk/KGI/KGI9ITEsZj1hJiZtLmlzQXJyYXkoYSk/YTpbXSk6Zj1hJiZtLmlzUGxhaW5PYmplY3QoYSk/YTp7fSxnW2RdPW0uZXh0ZW5kKGosZixjKSk6dm9pZCAwIT09YyYmKGdbZF09YykpO3JldHVybiBnfSxtLmV4dGVuZCh7ZXhwYW5kbzpcImpRdWVyeVwiKyhsK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xcRC9nLFwiXCIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKGEpfSxub29wOmZ1bmN0aW9uKCl7fSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09PW0udHlwZShhKX0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm5cImFycmF5XCI9PT1tLnR5cGUoYSl9LGlzV2luZG93OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZhPT1hLndpbmRvd30saXNOdW1lcmljOmZ1bmN0aW9uKGEpe3JldHVybiFtLmlzQXJyYXkoYSkmJmEtcGFyc2VGbG9hdChhKT49MH0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXJldHVybiExO3JldHVybiEwfSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGEpe3ZhciBiO2lmKCFhfHxcIm9iamVjdFwiIT09bS50eXBlKGEpfHxhLm5vZGVUeXBlfHxtLmlzV2luZG93KGEpKXJldHVybiExO3RyeXtpZihhLmNvbnN0cnVjdG9yJiYhai5jYWxsKGEsXCJjb25zdHJ1Y3RvclwiKSYmIWouY2FsbChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSxcImlzUHJvdG90eXBlT2ZcIikpcmV0dXJuITF9Y2F0Y2goYyl7cmV0dXJuITF9aWYoay5vd25MYXN0KWZvcihiIGluIGEpcmV0dXJuIGouY2FsbChhLGIpO2ZvcihiIGluIGEpO3JldHVybiB2b2lkIDA9PT1ifHxqLmNhbGwoYSxiKX0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9hK1wiXCI6XCJvYmplY3RcIj09dHlwZW9mIGF8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGE/aFtpLmNhbGwoYSldfHxcIm9iamVjdFwiOnR5cGVvZiBhfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGIpe2ImJm0udHJpbShiKSYmKGEuZXhlY1NjcmlwdHx8ZnVuY3Rpb24oYil7YS5ldmFsLmNhbGwoYSxiKX0pKGIpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShvLFwibXMtXCIpLnJlcGxhY2UocCxxKX0sbm9kZU5hbWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yi50b0xvd2VyQ2FzZSgpfSxlYWNoOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPTAsZj1hLmxlbmd0aCxnPXIoYSk7aWYoYyl7aWYoZyl7Zm9yKDtmPmU7ZSsrKWlmKGQ9Yi5hcHBseShhW2VdLGMpLGQ9PT0hMSlicmVha31lbHNlIGZvcihlIGluIGEpaWYoZD1iLmFwcGx5KGFbZV0sYyksZD09PSExKWJyZWFrfWVsc2UgaWYoZyl7Zm9yKDtmPmU7ZSsrKWlmKGQ9Yi5jYWxsKGFbZV0sZSxhW2VdKSxkPT09ITEpYnJlYWt9ZWxzZSBmb3IoZSBpbiBhKWlmKGQ9Yi5jYWxsKGFbZV0sZSxhW2VdKSxkPT09ITEpYnJlYWs7cmV0dXJuIGF9LHRyaW06ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/XCJcIjooYStcIlwiKS5yZXBsYWNlKG4sXCJcIil9LG1ha2VBcnJheTpmdW5jdGlvbihhLGIpe3ZhciBjPWJ8fFtdO3JldHVybiBudWxsIT1hJiYocihPYmplY3QoYSkpP20ubWVyZ2UoYyxcInN0cmluZ1wiPT10eXBlb2YgYT9bYV06YSk6Zi5jYWxsKGMsYSkpLGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKGIpe2lmKGcpcmV0dXJuIGcuY2FsbChiLGEsYyk7Zm9yKGQ9Yi5sZW5ndGgsYz1jPzA+Yz9NYXRoLm1heCgwLGQrYyk6YzowO2Q+YztjKyspaWYoYyBpbiBiJiZiW2NdPT09YSlyZXR1cm4gY31yZXR1cm4tMX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz0rYi5sZW5ndGgsZD0wLGU9YS5sZW5ndGg7d2hpbGUoYz5kKWFbZSsrXT1iW2QrK107aWYoYyE9PWMpd2hpbGUodm9pZCAwIT09YltkXSlhW2UrK109YltkKytdO3JldHVybiBhLmxlbmd0aD1lLGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPVtdLGY9MCxnPWEubGVuZ3RoLGg9IWM7Zz5mO2YrKylkPSFiKGFbZl0sZiksZCE9PWgmJmUucHVzaChhW2ZdKTtyZXR1cm4gZX0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxmPTAsZz1hLmxlbmd0aCxoPXIoYSksaT1bXTtpZihoKWZvcig7Zz5mO2YrKylkPWIoYVtmXSxmLGMpLG51bGwhPWQmJmkucHVzaChkKTtlbHNlIGZvcihmIGluIGEpZD1iKGFbZl0sZixjKSxudWxsIT1kJiZpLnB1c2goZCk7cmV0dXJuIGUuYXBwbHkoW10saSl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZjtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYiYmKGY9YVtiXSxiPWEsYT1mKSxtLmlzRnVuY3Rpb24oYSk/KGM9ZC5jYWxsKGFyZ3VtZW50cywyKSxlPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYnx8dGhpcyxjLmNvbmNhdChkLmNhbGwoYXJndW1lbnRzKSkpfSxlLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8bS5ndWlkKyssZSk6dm9pZCAwfSxub3c6ZnVuY3Rpb24oKXtyZXR1cm4rbmV3IERhdGV9LHN1cHBvcnQ6a30pLG0uZWFjaChcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3JcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSxiKXtoW1wiW29iamVjdCBcIitiK1wiXVwiXT1iLnRvTG93ZXJDYXNlKCl9KTtmdW5jdGlvbiByKGEpe3ZhciBiPWEubGVuZ3RoLGM9bS50eXBlKGEpO3JldHVyblwiZnVuY3Rpb25cIj09PWN8fG0uaXNXaW5kb3coYSk/ITE6MT09PWEubm9kZVR5cGUmJmI/ITA6XCJhcnJheVwiPT09Y3x8MD09PWJ8fFwibnVtYmVyXCI9PXR5cGVvZiBiJiZiPjAmJmItMSBpbiBhfXZhciBzPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHU9XCJzaXp6bGVcIistbmV3IERhdGUsdj1hLmRvY3VtZW50LHc9MCx4PTAseT1nYigpLHo9Z2IoKSxBPWdiKCksQj1mdW5jdGlvbihhLGIpe3JldHVybiBhPT09YiYmKGw9ITApLDB9LEM9XCJ1bmRlZmluZWRcIixEPTE8PDMxLEU9e30uaGFzT3duUHJvcGVydHksRj1bXSxHPUYucG9wLEg9Ri5wdXNoLEk9Ri5wdXNoLEo9Ri5zbGljZSxLPUYuaW5kZXhPZnx8ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz10aGlzLmxlbmd0aDtjPmI7YisrKWlmKHRoaXNbYl09PT1hKXJldHVybiBiO3JldHVybi0xfSxMPVwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIixNPVwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixOPVwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFxcXHgwMC1cXFxceGEwXSkrXCIsTz1OLnJlcGxhY2UoXCJ3XCIsXCJ3I1wiKSxQPVwiXFxcXFtcIitNK1wiKihcIitOK1wiKSg/OlwiK00rXCIqKFsqXiR8IX5dPz0pXCIrTStcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiK08rXCIpKXwpXCIrTStcIipcXFxcXVwiLFE9XCI6KFwiK04rXCIpKD86XFxcXCgoKCcoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcIil8KCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiK1ArXCIpKil8LiopXFxcXCl8KVwiLFI9bmV3IFJlZ0V4cChcIl5cIitNK1wiK3woKD86XnxbXlxcXFxcXFxcXSkoPzpcXFxcXFxcXC4pKilcIitNK1wiKyRcIixcImdcIiksUz1uZXcgUmVnRXhwKFwiXlwiK00rXCIqLFwiK00rXCIqXCIpLFQ9bmV3IFJlZ0V4cChcIl5cIitNK1wiKihbPit+XXxcIitNK1wiKVwiK00rXCIqXCIpLFU9bmV3IFJlZ0V4cChcIj1cIitNK1wiKihbXlxcXFxdJ1xcXCJdKj8pXCIrTStcIipcXFxcXVwiLFwiZ1wiKSxWPW5ldyBSZWdFeHAoUSksVz1uZXcgUmVnRXhwKFwiXlwiK08rXCIkXCIpLFg9e0lEOm5ldyBSZWdFeHAoXCJeIyhcIitOK1wiKVwiKSxDTEFTUzpuZXcgUmVnRXhwKFwiXlxcXFwuKFwiK04rXCIpXCIpLFRBRzpuZXcgUmVnRXhwKFwiXihcIitOLnJlcGxhY2UoXCJ3XCIsXCJ3KlwiKStcIilcIiksQVRUUjpuZXcgUmVnRXhwKFwiXlwiK1ApLFBTRVVETzpuZXcgUmVnRXhwKFwiXlwiK1EpLENISUxEOm5ldyBSZWdFeHAoXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiK00rXCIqKGV2ZW58b2RkfCgoWystXXwpKFxcXFxkKilufClcIitNK1wiKig/OihbKy1dfClcIitNK1wiKihcXFxcZCspfCkpXCIrTStcIipcXFxcKXwpXCIsXCJpXCIpLGJvb2w6bmV3IFJlZ0V4cChcIl4oPzpcIitMK1wiKSRcIixcImlcIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoXCJeXCIrTStcIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcXFwoXCIrTStcIiooKD86LVxcXFxkKT9cXFxcZCopXCIrTStcIipcXFxcKXwpKD89W14tXXwkKVwiLFwiaVwiKX0sWT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFo9L15oXFxkJC9pLCQ9L15bXntdK1xce1xccypcXFtuYXRpdmUgXFx3LyxfPS9eKD86IyhbXFx3LV0rKXwoXFx3Kyl8XFwuKFtcXHctXSspKSQvLGFiPS9bK35dLyxiYj0vJ3xcXFxcL2csY2I9bmV3IFJlZ0V4cChcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiK00rXCI/fChcIitNK1wiKXwuKVwiLFwiaWdcIiksZGI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVwiMHhcIitiLTY1NTM2O3JldHVybiBkIT09ZHx8Yz9iOjA+ZD9TdHJpbmcuZnJvbUNoYXJDb2RlKGQrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUoZD4+MTB8NTUyOTYsMTAyMyZkfDU2MzIwKX07dHJ5e0kuYXBwbHkoRj1KLmNhbGwodi5jaGlsZE5vZGVzKSx2LmNoaWxkTm9kZXMpLEZbdi5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZWIpe0k9e2FwcGx5OkYubGVuZ3RoP2Z1bmN0aW9uKGEsYil7SC5hcHBseShhLEouY2FsbChiKSl9OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5sZW5ndGgsZD0wO3doaWxlKGFbYysrXT1iW2QrK10pO2EubGVuZ3RoPWMtMX19fWZ1bmN0aW9uIGZiKGEsYixkLGUpe3ZhciBmLGgsaixrLGwsbyxyLHMsdyx4O2lmKChiP2Iub3duZXJEb2N1bWVudHx8Yjp2KSE9PW4mJm0oYiksYj1ifHxuLGQ9ZHx8W10sIWF8fFwic3RyaW5nXCIhPXR5cGVvZiBhKXJldHVybiBkO2lmKDEhPT0oaz1iLm5vZGVUeXBlKSYmOSE9PWspcmV0dXJuW107aWYocCYmIWUpe2lmKGY9Xy5leGVjKGEpKWlmKGo9ZlsxXSl7aWYoOT09PWspe2lmKGg9Yi5nZXRFbGVtZW50QnlJZChqKSwhaHx8IWgucGFyZW50Tm9kZSlyZXR1cm4gZDtpZihoLmlkPT09ailyZXR1cm4gZC5wdXNoKGgpLGR9ZWxzZSBpZihiLm93bmVyRG9jdW1lbnQmJihoPWIub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChqKSkmJnQoYixoKSYmaC5pZD09PWopcmV0dXJuIGQucHVzaChoKSxkfWVsc2V7aWYoZlsyXSlyZXR1cm4gSS5hcHBseShkLGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSkpLGQ7aWYoKGo9ZlszXSkmJmMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBJLmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGopKSxkfWlmKGMucXNhJiYoIXF8fCFxLnRlc3QoYSkpKXtpZihzPXI9dSx3PWIseD05PT09ayYmYSwxPT09ayYmXCJvYmplY3RcIiE9PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7bz1nKGEpLChyPWIuZ2V0QXR0cmlidXRlKFwiaWRcIikpP3M9ci5yZXBsYWNlKGJiLFwiXFxcXCQmXCIpOmIuc2V0QXR0cmlidXRlKFwiaWRcIixzKSxzPVwiW2lkPSdcIitzK1wiJ10gXCIsbD1vLmxlbmd0aDt3aGlsZShsLS0pb1tsXT1zK3FiKG9bbF0pO3c9YWIudGVzdChhKSYmb2IoYi5wYXJlbnROb2RlKXx8Yix4PW8uam9pbihcIixcIil9aWYoeCl0cnl7cmV0dXJuIEkuYXBwbHkoZCx3LnF1ZXJ5U2VsZWN0b3JBbGwoeCkpLGR9Y2F0Y2goeSl7fWZpbmFsbHl7cnx8Yi5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKX19fXJldHVybiBpKGEucmVwbGFjZShSLFwiJDFcIiksYixkLGUpfWZ1bmN0aW9uIGdiKCl7dmFyIGE9W107ZnVuY3Rpb24gYihjLGUpe3JldHVybiBhLnB1c2goYytcIiBcIik+ZC5jYWNoZUxlbmd0aCYmZGVsZXRlIGJbYS5zaGlmdCgpXSxiW2MrXCIgXCJdPWV9cmV0dXJuIGJ9ZnVuY3Rpb24gaGIoYSl7cmV0dXJuIGFbdV09ITAsYX1mdW5jdGlvbiBpYihhKXt2YXIgYj1uLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dHJ5e3JldHVybiEhYShiKX1jYXRjaChjKXtyZXR1cm4hMX1maW5hbGx5e2IucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbH19ZnVuY3Rpb24gamIoYSxiKXt2YXIgYz1hLnNwbGl0KFwifFwiKSxlPWEubGVuZ3RoO3doaWxlKGUtLSlkLmF0dHJIYW5kbGVbY1tlXV09Yn1mdW5jdGlvbiBrYihhLGIpe3ZhciBjPWImJmEsZD1jJiYxPT09YS5ub2RlVHlwZSYmMT09PWIubm9kZVR5cGUmJih+Yi5zb3VyY2VJbmRleHx8RCktKH5hLnNvdXJjZUluZGV4fHxEKTtpZihkKXJldHVybiBkO2lmKGMpd2hpbGUoYz1jLm5leHRTaWJsaW5nKWlmKGM9PT1iKXJldHVybi0xO3JldHVybiBhPzE6LTF9ZnVuY3Rpb24gbGIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT1jJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBtYihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybihcImlucHV0XCI9PT1jfHxcImJ1dHRvblwiPT09YykmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG5iKGEpe3JldHVybiBoYihmdW5jdGlvbihiKXtyZXR1cm4gYj0rYixoYihmdW5jdGlvbihjLGQpe3ZhciBlLGY9YShbXSxjLmxlbmd0aCxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSljW2U9ZltnXV0mJihjW2VdPSEoZFtlXT1jW2VdKSl9KX0pfWZ1bmN0aW9uIG9iKGEpe3JldHVybiBhJiZ0eXBlb2YgYS5nZXRFbGVtZW50c0J5VGFnTmFtZSE9PUMmJmF9Yz1mYi5zdXBwb3J0PXt9LGY9ZmIuaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9YSYmKGEub3duZXJEb2N1bWVudHx8YSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBiP1wiSFRNTFwiIT09Yi5ub2RlTmFtZTohMX0sbT1mYi5zZXREb2N1bWVudD1mdW5jdGlvbihhKXt2YXIgYixlPWE/YS5vd25lckRvY3VtZW50fHxhOnYsZz1lLmRlZmF1bHRWaWV3O3JldHVybiBlIT09biYmOT09PWUubm9kZVR5cGUmJmUuZG9jdW1lbnRFbGVtZW50PyhuPWUsbz1lLmRvY3VtZW50RWxlbWVudCxwPSFmKGUpLGcmJmchPT1nLnRvcCYmKGcuYWRkRXZlbnRMaXN0ZW5lcj9nLmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmxvYWRcIixmdW5jdGlvbigpe20oKX0sITEpOmcuYXR0YWNoRXZlbnQmJmcuYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLGZ1bmN0aW9uKCl7bSgpfSkpLGMuYXR0cmlidXRlcz1pYihmdW5jdGlvbihhKXtyZXR1cm4gYS5jbGFzc05hbWU9XCJpXCIsIWEuZ2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIpfSksYy5nZXRFbGVtZW50c0J5VGFnTmFtZT1pYihmdW5jdGlvbihhKXtyZXR1cm4gYS5hcHBlbmRDaGlsZChlLmNyZWF0ZUNvbW1lbnQoXCJcIikpLCFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKS5sZW5ndGh9KSxjLmdldEVsZW1lbnRzQnlDbGFzc05hbWU9JC50ZXN0KGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSkmJmliKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD1cIjxkaXYgY2xhc3M9J2EnPjwvZGl2PjxkaXYgY2xhc3M9J2EgaSc+PC9kaXY+XCIsYS5maXJzdENoaWxkLmNsYXNzTmFtZT1cImlcIiwyPT09YS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaVwiKS5sZW5ndGh9KSxjLmdldEJ5SWQ9aWIoZnVuY3Rpb24oYSl7cmV0dXJuIG8uYXBwZW5kQ2hpbGQoYSkuaWQ9dSwhZS5nZXRFbGVtZW50c0J5TmFtZXx8IWUuZ2V0RWxlbWVudHNCeU5hbWUodSkubGVuZ3RofSksYy5nZXRCeUlkPyhkLmZpbmQuSUQ9ZnVuY3Rpb24oYSxiKXtpZih0eXBlb2YgYi5nZXRFbGVtZW50QnlJZCE9PUMmJnApe3ZhciBjPWIuZ2V0RWxlbWVudEJ5SWQoYSk7cmV0dXJuIGMmJmMucGFyZW50Tm9kZT9bY106W119fSxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoY2IsZGIpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoXCJpZFwiKT09PWJ9fSk6KGRlbGV0ZSBkLmZpbmQuSUQsZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGNiLGRiKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9dHlwZW9mIGEuZ2V0QXR0cmlidXRlTm9kZSE9PUMmJmEuZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO3JldHVybiBjJiZjLnZhbHVlPT09Yn19KSxkLmZpbmQuVEFHPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdHlwZW9mIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1DP2IuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk6dm9pZCAwfTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT0wLGY9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKTtpZihcIipcIj09PWEpe3doaWxlKGM9ZltlKytdKTE9PT1jLm5vZGVUeXBlJiZkLnB1c2goYyk7cmV0dXJuIGR9cmV0dXJuIGZ9LGQuZmluZC5DTEFTUz1jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGEsYil7cmV0dXJuIHR5cGVvZiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUhPT1DJiZwP2IuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhKTp2b2lkIDB9LHI9W10scT1bXSwoYy5xc2E9JC50ZXN0KGUucXVlcnlTZWxlY3RvckFsbCkpJiYoaWIoZnVuY3Rpb24oYSl7YS5pbm5lckhUTUw9XCI8c2VsZWN0IG1zYWxsb3djbGlwPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XCIsYS5xdWVyeVNlbGVjdG9yQWxsKFwiW21zYWxsb3djbGlwXj0nJ11cIikubGVuZ3RoJiZxLnB1c2goXCJbKl4kXT1cIitNK1wiKig/OicnfFxcXCJcXFwiKVwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbc2VsZWN0ZWRdXCIpLmxlbmd0aHx8cS5wdXNoKFwiXFxcXFtcIitNK1wiKig/OnZhbHVlfFwiK0wrXCIpXCIpLGEucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aHx8cS5wdXNoKFwiOmNoZWNrZWRcIil9KSxpYihmdW5jdGlvbihhKXt2YXIgYj1lLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtiLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImhpZGRlblwiKSxhLmFwcGVuZENoaWxkKGIpLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIkRcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoJiZxLnB1c2goXCJuYW1lXCIrTStcIipbKl4kfCF+XT89XCIpLGEucXVlcnlTZWxlY3RvckFsbChcIjplbmFibGVkXCIpLmxlbmd0aHx8cS5wdXNoKFwiOmVuYWJsZWRcIixcIjpkaXNhYmxlZFwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqLDp4XCIpLHEucHVzaChcIiwuKjpcIil9KSksKGMubWF0Y2hlc1NlbGVjdG9yPSQudGVzdChzPW8ubWF0Y2hlc3x8by53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fG8ubW96TWF0Y2hlc1NlbGVjdG9yfHxvLm9NYXRjaGVzU2VsZWN0b3J8fG8ubXNNYXRjaGVzU2VsZWN0b3IpKSYmaWIoZnVuY3Rpb24oYSl7Yy5kaXNjb25uZWN0ZWRNYXRjaD1zLmNhbGwoYSxcImRpdlwiKSxzLmNhbGwoYSxcIltzIT0nJ106eFwiKSxyLnB1c2goXCIhPVwiLFEpfSkscT1xLmxlbmd0aCYmbmV3IFJlZ0V4cChxLmpvaW4oXCJ8XCIpKSxyPXIubGVuZ3RoJiZuZXcgUmVnRXhwKHIuam9pbihcInxcIikpLGI9JC50ZXN0KG8uY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHQ9Ynx8JC50ZXN0KG8uY29udGFpbnMpP2Z1bmN0aW9uKGEsYil7dmFyIGM9OT09PWEubm9kZVR5cGU/YS5kb2N1bWVudEVsZW1lbnQ6YSxkPWImJmIucGFyZW50Tm9kZTtyZXR1cm4gYT09PWR8fCEoIWR8fDEhPT1kLm5vZGVUeXBlfHwhKGMuY29udGFpbnM/Yy5jb250YWlucyhkKTphLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGQpKSl9OmZ1bmN0aW9uKGEsYil7aWYoYil3aGlsZShiPWIucGFyZW50Tm9kZSlpZihiPT09YSlyZXR1cm4hMDtyZXR1cm4hMX0sQj1iP2Z1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgZD0hYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gZD9kOihkPShhLm93bmVyRG9jdW1lbnR8fGEpPT09KGIub3duZXJEb2N1bWVudHx8Yik/YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKToxLDEmZHx8IWMuc29ydERldGFjaGVkJiZiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEpPT09ZD9hPT09ZXx8YS5vd25lckRvY3VtZW50PT09diYmdCh2LGEpPy0xOmI9PT1lfHxiLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYik/MTprP0suY2FsbChrLGEpLUsuY2FsbChrLGIpOjA6NCZkPy0xOjEpfTpmdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiBsPSEwLDA7dmFyIGMsZD0wLGY9YS5wYXJlbnROb2RlLGc9Yi5wYXJlbnROb2RlLGg9W2FdLGk9W2JdO2lmKCFmfHwhZylyZXR1cm4gYT09PWU/LTE6Yj09PWU/MTpmPy0xOmc/MTprP0suY2FsbChrLGEpLUsuY2FsbChrLGIpOjA7aWYoZj09PWcpcmV0dXJuIGtiKGEsYik7Yz1hO3doaWxlKGM9Yy5wYXJlbnROb2RlKWgudW5zaGlmdChjKTtjPWI7d2hpbGUoYz1jLnBhcmVudE5vZGUpaS51bnNoaWZ0KGMpO3doaWxlKGhbZF09PT1pW2RdKWQrKztyZXR1cm4gZD9rYihoW2RdLGlbZF0pOmhbZF09PT12Py0xOmlbZF09PT12PzE6MH0sZSk6bn0sZmIubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBmYihhLG51bGwsbnVsbCxiKX0sZmIubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7aWYoKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLGI9Yi5yZXBsYWNlKFUsXCI9JyQxJ11cIiksISghYy5tYXRjaGVzU2VsZWN0b3J8fCFwfHxyJiZyLnRlc3QoYil8fHEmJnEudGVzdChiKSkpdHJ5e3ZhciBkPXMuY2FsbChhLGIpO2lmKGR8fGMuZGlzY29ubmVjdGVkTWF0Y2h8fGEuZG9jdW1lbnQmJjExIT09YS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gZH1jYXRjaChlKXt9cmV0dXJuIGZiKGIsbixudWxsLFthXSkubGVuZ3RoPjB9LGZiLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLHQoYSxiKX0sZmIuYXR0cj1mdW5jdGlvbihhLGIpeyhhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKTt2YXIgZT1kLmF0dHJIYW5kbGVbYi50b0xvd2VyQ2FzZSgpXSxmPWUmJkUuY2FsbChkLmF0dHJIYW5kbGUsYi50b0xvd2VyQ2FzZSgpKT9lKGEsYiwhcCk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1mP2Y6Yy5hdHRyaWJ1dGVzfHwhcD9hLmdldEF0dHJpYnV0ZShiKTooZj1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZmLnNwZWNpZmllZD9mLnZhbHVlOm51bGx9LGZiLmVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcihcIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246IFwiK2EpfSxmYi51bmlxdWVTb3J0PWZ1bmN0aW9uKGEpe3ZhciBiLGQ9W10sZT0wLGY9MDtpZihsPSFjLmRldGVjdER1cGxpY2F0ZXMsaz0hYy5zb3J0U3RhYmxlJiZhLnNsaWNlKDApLGEuc29ydChCKSxsKXt3aGlsZShiPWFbZisrXSliPT09YVtmXSYmKGU9ZC5wdXNoKGYpKTt3aGlsZShlLS0pYS5zcGxpY2UoZFtlXSwxKX1yZXR1cm4gaz1udWxsLGF9LGU9ZmIuZ2V0VGV4dD1mdW5jdGlvbihhKXt2YXIgYixjPVwiXCIsZD0wLGY9YS5ub2RlVHlwZTtpZihmKXtpZigxPT09Znx8OT09PWZ8fDExPT09Zil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEudGV4dENvbnRlbnQpcmV0dXJuIGEudGV4dENvbnRlbnQ7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWMrPWUoYSl9ZWxzZSBpZigzPT09Znx8ND09PWYpcmV0dXJuIGEubm9kZVZhbHVlfWVsc2Ugd2hpbGUoYj1hW2QrK10pYys9ZShiKTtyZXR1cm4gY30sZD1mYi5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpoYixtYXRjaDpYLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7XCI+XCI6e2RpcjpcInBhcmVudE5vZGVcIixmaXJzdDohMH0sXCIgXCI6e2RpcjpcInBhcmVudE5vZGVcIn0sXCIrXCI6e2RpcjpcInByZXZpb3VzU2libGluZ1wiLGZpcnN0OiEwfSxcIn5cIjp7ZGlyOlwicHJldmlvdXNTaWJsaW5nXCJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS5yZXBsYWNlKGNiLGRiKSxhWzNdPShhWzNdfHxhWzRdfHxhWzVdfHxcIlwiKS5yZXBsYWNlKGNiLGRiKSxcIn49XCI9PT1hWzJdJiYoYVszXT1cIiBcIithWzNdK1wiIFwiKSxhLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0udG9Mb3dlckNhc2UoKSxcIm50aFwiPT09YVsxXS5zbGljZSgwLDMpPyhhWzNdfHxmYi5lcnJvcihhWzBdKSxhWzRdPSsoYVs0XT9hWzVdKyhhWzZdfHwxKToyKihcImV2ZW5cIj09PWFbM118fFwib2RkXCI9PT1hWzNdKSksYVs1XT0rKGFbN10rYVs4XXx8XCJvZGRcIj09PWFbM10pKTphWzNdJiZmYi5lcnJvcihhWzBdKSxhfSxQU0VVRE86ZnVuY3Rpb24oYSl7dmFyIGIsYz0hYVs2XSYmYVsyXTtyZXR1cm4gWC5DSElMRC50ZXN0KGFbMF0pP251bGw6KGFbM10/YVsyXT1hWzRdfHxhWzVdfHxcIlwiOmMmJlYudGVzdChjKSYmKGI9ZyhjLCEwKSkmJihiPWMuaW5kZXhPZihcIilcIixjLmxlbmd0aC1iKS1jLmxlbmd0aCkmJihhWzBdPWFbMF0uc2xpY2UoMCxiKSxhWzJdPWMuc2xpY2UoMCxiKSksYS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShjYixkYikudG9Mb3dlckNhc2UoKTtyZXR1cm5cIipcIj09PWE/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWJ9fSxDTEFTUzpmdW5jdGlvbihhKXt2YXIgYj15W2ErXCIgXCJdO3JldHVybiBifHwoYj1uZXcgUmVnRXhwKFwiKF58XCIrTStcIilcIithK1wiKFwiK00rXCJ8JClcIikpJiZ5KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGIudGVzdChcInN0cmluZ1wiPT10eXBlb2YgYS5jbGFzc05hbWUmJmEuY2xhc3NOYW1lfHx0eXBlb2YgYS5nZXRBdHRyaWJ1dGUhPT1DJiZhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKX0pfSxBVFRSOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9ZmIuYXR0cihkLGEpO3JldHVybiBudWxsPT1lP1wiIT1cIj09PWI6Yj8oZSs9XCJcIixcIj1cIj09PWI/ZT09PWM6XCIhPVwiPT09Yj9lIT09YzpcIl49XCI9PT1iP2MmJjA9PT1lLmluZGV4T2YoYyk6XCIqPVwiPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6XCIkPVwiPT09Yj9jJiZlLnNsaWNlKC1jLmxlbmd0aCk9PT1jOlwifj1cIj09PWI/KFwiIFwiK2UrXCIgXCIpLmluZGV4T2YoYyk+LTE6XCJ8PVwiPT09Yj9lPT09Y3x8ZS5zbGljZSgwLGMubGVuZ3RoKzEpPT09YytcIi1cIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPVwibnRoXCIhPT1hLnNsaWNlKDAsMyksZz1cImxhc3RcIiE9PWEuc2xpY2UoLTQpLGg9XCJvZi10eXBlXCI9PT1iO3JldHVybiAxPT09ZCYmMD09PWU/ZnVuY3Rpb24oYSl7cmV0dXJuISFhLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGIsYyxpKXt2YXIgaixrLGwsbSxuLG8scD1mIT09Zz9cIm5leHRTaWJsaW5nXCI6XCJwcmV2aW91c1NpYmxpbmdcIixxPWIucGFyZW50Tm9kZSxyPWgmJmIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxzPSFpJiYhaDtpZihxKXtpZihmKXt3aGlsZShwKXtsPWI7d2hpbGUobD1sW3BdKWlmKGg/bC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09cjoxPT09bC5ub2RlVHlwZSlyZXR1cm4hMTtvPXA9XCJvbmx5XCI9PT1hJiYhbyYmXCJuZXh0U2libGluZ1wifXJldHVybiEwfWlmKG89W2c/cS5maXJzdENoaWxkOnEubGFzdENoaWxkXSxnJiZzKXtrPXFbdV18fChxW3VdPXt9KSxqPWtbYV18fFtdLG49alswXT09PXcmJmpbMV0sbT1qWzBdPT09dyYmalsyXSxsPW4mJnEuY2hpbGROb2Rlc1tuXTt3aGlsZShsPSsrbiYmbCYmbFtwXXx8KG09bj0wKXx8by5wb3AoKSlpZigxPT09bC5ub2RlVHlwZSYmKyttJiZsPT09Yil7a1thXT1bdyxuLG1dO2JyZWFrfX1lbHNlIGlmKHMmJihqPShiW3VdfHwoYlt1XT17fSkpW2FdKSYmalswXT09PXcpbT1qWzFdO2Vsc2Ugd2hpbGUobD0rK24mJmwmJmxbcF18fChtPW49MCl8fG8ucG9wKCkpaWYoKGg/bC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09cjoxPT09bC5ub2RlVHlwZSkmJisrbSYmKHMmJigobFt1XXx8KGxbdV09e30pKVthXT1bdyxtXSksbD09PWIpKWJyZWFrO3JldHVybiBtLT1lLG09PT1kfHxtJWQ9PT0wJiZtL2Q+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGEsYil7dmFyIGMsZT1kLnBzZXVkb3NbYV18fGQuc2V0RmlsdGVyc1thLnRvTG93ZXJDYXNlKCldfHxmYi5lcnJvcihcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIrYSk7cmV0dXJuIGVbdV0/ZShiKTplLmxlbmd0aD4xPyhjPVthLGEsXCJcIixiXSxkLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoYS50b0xvd2VyQ2FzZSgpKT9oYihmdW5jdGlvbihhLGMpe3ZhciBkLGY9ZShhLGIpLGc9Zi5sZW5ndGg7d2hpbGUoZy0tKWQ9Sy5jYWxsKGEsZltnXSksYVtkXT0hKGNbZF09ZltnXSl9KTpmdW5jdGlvbihhKXtyZXR1cm4gZShhLDAsYyl9KTplfX0scHNldWRvczp7bm90OmhiKGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZD1oKGEucmVwbGFjZShSLFwiJDFcIikpO3JldHVybiBkW3VdP2hiKGZ1bmN0aW9uKGEsYixjLGUpe3ZhciBmLGc9ZChhLG51bGwsZSxbXSksaD1hLmxlbmd0aDt3aGlsZShoLS0pKGY9Z1toXSkmJihhW2hdPSEoYltoXT1mKSl9KTpmdW5jdGlvbihhLGUsZil7cmV0dXJuIGJbMF09YSxkKGIsbnVsbCxmLGMpLCFjLnBvcCgpfX0pLGhhczpoYihmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGZiKGEsYikubGVuZ3RoPjB9fSksY29udGFpbnM6aGIoZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybihiLnRleHRDb250ZW50fHxiLmlubmVyVGV4dHx8ZShiKSkuaW5kZXhPZihhKT4tMX19KSxsYW5nOmhiKGZ1bmN0aW9uKGEpe3JldHVybiBXLnRlc3QoYXx8XCJcIil8fGZiLmVycm9yKFwidW5zdXBwb3J0ZWQgbGFuZzogXCIrYSksYT1hLnJlcGxhY2UoY2IsZGIpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oYil7dmFyIGM7ZG8gaWYoYz1wP2IubGFuZzpiLmdldEF0dHJpYnV0ZShcInhtbDpsYW5nXCIpfHxiLmdldEF0dHJpYnV0ZShcImxhbmdcIikpcmV0dXJuIGM9Yy50b0xvd2VyQ2FzZSgpLGM9PT1hfHwwPT09Yy5pbmRleE9mKGErXCItXCIpO3doaWxlKChiPWIucGFyZW50Tm9kZSkmJjE9PT1iLm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24oYil7dmFyIGM9YS5sb2NhdGlvbiYmYS5sb2NhdGlvbi5oYXNoO3JldHVybiBjJiZjLnNsaWNlKDEpPT09Yi5pZH0scm9vdDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW99LGZvY3VzOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09bi5hY3RpdmVFbGVtZW50JiYoIW4uaGFzRm9jdXN8fG4uaGFzRm9jdXMoKSkmJiEhKGEudHlwZXx8YS5ocmVmfHx+YS50YWJJbmRleCl9LGVuYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMX0sZGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09YiYmISFhLmNoZWNrZWR8fFwib3B0aW9uXCI9PT1iJiYhIWEuc2VsZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LGEuc2VsZWN0ZWQ9PT0hMH0sZW1wdHk6ZnVuY3Rpb24oYSl7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWlmKGEubm9kZVR5cGU8NilyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGEpe3JldHVybiFkLnBzZXVkb3MuZW1wdHkoYSl9LGhlYWRlcjpmdW5jdGlvbihhKXtyZXR1cm4gWi50ZXN0KGEubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihhKXtyZXR1cm4gWS50ZXN0KGEubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PWImJlwiYnV0dG9uXCI9PT1hLnR5cGV8fFwiYnV0dG9uXCI9PT1ifSx0ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVyblwiaW5wdXRcIj09PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmXCJ0ZXh0XCI9PT1hLnR5cGUmJihudWxsPT0oYj1hLmdldEF0dHJpYnV0ZShcInR5cGVcIikpfHxcInRleHRcIj09PWIudG9Mb3dlckNhc2UoKSl9LGZpcnN0Om5iKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpuYihmdW5jdGlvbihhLGIpe3JldHVybltiLTFdfSksZXE6bmIoZnVuY3Rpb24oYSxiLGMpe3JldHVyblswPmM/YytiOmNdfSksZXZlbjpuYihmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLG9kZDpuYihmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0xO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLGx0Om5iKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOy0tZD49MDspYS5wdXNoKGQpO3JldHVybiBhfSksZ3Q6bmIoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7KytkPGI7KWEucHVzaChkKTtyZXR1cm4gYX0pfX0sZC5wc2V1ZG9zLm50aD1kLnBzZXVkb3MuZXE7Zm9yKGIgaW57cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pZC5wc2V1ZG9zW2JdPWxiKGIpO2ZvcihiIGlue3N1Ym1pdDohMCxyZXNldDohMH0pZC5wc2V1ZG9zW2JdPW1iKGIpO2Z1bmN0aW9uIHBiKCl7fXBiLnByb3RvdHlwZT1kLmZpbHRlcnM9ZC5wc2V1ZG9zLGQuc2V0RmlsdGVycz1uZXcgcGIsZz1mYi50b2tlbml6ZT1mdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnLGgsaSxqLGs9elthK1wiIFwiXTtpZihrKXJldHVybiBiPzA6ay5zbGljZSgwKTtoPWEsaT1bXSxqPWQucHJlRmlsdGVyO3doaWxlKGgpeyghY3x8KGU9Uy5leGVjKGgpKSkmJihlJiYoaD1oLnNsaWNlKGVbMF0ubGVuZ3RoKXx8aCksaS5wdXNoKGY9W10pKSxjPSExLChlPVQuZXhlYyhoKSkmJihjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTplWzBdLnJlcGxhY2UoUixcIiBcIil9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtmb3IoZyBpbiBkLmZpbHRlcikhKGU9WFtnXS5leGVjKGgpKXx8altnXSYmIShlPWpbZ10oZSkpfHwoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZyxtYXRjaGVzOmV9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtpZighYylicmVha31yZXR1cm4gYj9oLmxlbmd0aDpoP2ZiLmVycm9yKGEpOnooYSxpKS5zbGljZSgwKX07ZnVuY3Rpb24gcWIoYSl7Zm9yKHZhciBiPTAsYz1hLmxlbmd0aCxkPVwiXCI7Yz5iO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHJiKGEsYixjKXt2YXIgZD1iLmRpcixlPWMmJlwicGFyZW50Tm9kZVwiPT09ZCxmPXgrKztyZXR1cm4gYi5maXJzdD9mdW5jdGlvbihiLGMsZil7d2hpbGUoYj1iW2RdKWlmKDE9PT1iLm5vZGVUeXBlfHxlKXJldHVybiBhKGIsYyxmKX06ZnVuY3Rpb24oYixjLGcpe3ZhciBoLGksaj1bdyxmXTtpZihnKXt3aGlsZShiPWJbZF0paWYoKDE9PT1iLm5vZGVUeXBlfHxlKSYmYShiLGMsZykpcmV0dXJuITB9ZWxzZSB3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpe2lmKGk9Ylt1XXx8KGJbdV09e30pLChoPWlbZF0pJiZoWzBdPT09dyYmaFsxXT09PWYpcmV0dXJuIGpbMl09aFsyXTtpZihpW2RdPWosalsyXT1hKGIsYyxnKSlyZXR1cm4hMH19fWZ1bmN0aW9uIHNiKGEpe3JldHVybiBhLmxlbmd0aD4xP2Z1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmxlbmd0aDt3aGlsZShlLS0paWYoIWFbZV0oYixjLGQpKXJldHVybiExO3JldHVybiEwfTphWzBdfWZ1bmN0aW9uIHRiKGEsYixjKXtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2U+ZDtkKyspZmIoYSxiW2RdLGMpO3JldHVybiBjfWZ1bmN0aW9uIHViKGEsYixjLGQsZSl7Zm9yKHZhciBmLGc9W10saD0wLGk9YS5sZW5ndGgsaj1udWxsIT1iO2k+aDtoKyspKGY9YVtoXSkmJighY3x8YyhmLGQsZSkpJiYoZy5wdXNoKGYpLGomJmIucHVzaChoKSk7cmV0dXJuIGd9ZnVuY3Rpb24gdmIoYSxiLGMsZCxlLGYpe3JldHVybiBkJiYhZFt1XSYmKGQ9dmIoZCkpLGUmJiFlW3VdJiYoZT12YihlLGYpKSxoYihmdW5jdGlvbihmLGcsaCxpKXt2YXIgaixrLGwsbT1bXSxuPVtdLG89Zy5sZW5ndGgscD1mfHx0YihifHxcIipcIixoLm5vZGVUeXBlP1toXTpoLFtdKSxxPSFhfHwhZiYmYj9wOnViKHAsbSxhLGgsaSkscj1jP2V8fChmP2E6b3x8ZCk/W106ZzpxO2lmKGMmJmMocSxyLGgsaSksZCl7aj11YihyLG4pLGQoaixbXSxoLGkpLGs9ai5sZW5ndGg7d2hpbGUoay0tKShsPWpba10pJiYocltuW2tdXT0hKHFbbltrXV09bCkpfWlmKGYpe2lmKGV8fGEpe2lmKGUpe2o9W10saz1yLmxlbmd0aDt3aGlsZShrLS0pKGw9cltrXSkmJmoucHVzaChxW2tdPWwpO2UobnVsbCxyPVtdLGosaSl9az1yLmxlbmd0aDt3aGlsZShrLS0pKGw9cltrXSkmJihqPWU/Sy5jYWxsKGYsbCk6bVtrXSk+LTEmJihmW2pdPSEoZ1tqXT1sKSl9fWVsc2Ugcj11YihyPT09Zz9yLnNwbGljZShvLHIubGVuZ3RoKTpyKSxlP2UobnVsbCxnLHIsaSk6SS5hcHBseShnLHIpfSl9ZnVuY3Rpb24gd2IoYSl7Zm9yKHZhciBiLGMsZSxmPWEubGVuZ3RoLGc9ZC5yZWxhdGl2ZVthWzBdLnR5cGVdLGg9Z3x8ZC5yZWxhdGl2ZVtcIiBcIl0saT1nPzE6MCxrPXJiKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saCwhMCksbD1yYihmdW5jdGlvbihhKXtyZXR1cm4gSy5jYWxsKGIsYSk+LTF9LGgsITApLG09W2Z1bmN0aW9uKGEsYyxkKXtyZXR1cm4hZyYmKGR8fGMhPT1qKXx8KChiPWMpLm5vZGVUeXBlP2soYSxjLGQpOmwoYSxjLGQpKX1dO2Y+aTtpKyspaWYoYz1kLnJlbGF0aXZlW2FbaV0udHlwZV0pbT1bcmIoc2IobSksYyldO2Vsc2V7aWYoYz1kLmZpbHRlclthW2ldLnR5cGVdLmFwcGx5KG51bGwsYVtpXS5tYXRjaGVzKSxjW3VdKXtmb3IoZT0rK2k7Zj5lO2UrKylpZihkLnJlbGF0aXZlW2FbZV0udHlwZV0pYnJlYWs7cmV0dXJuIHZiKGk+MSYmc2IobSksaT4xJiZxYihhLnNsaWNlKDAsaS0xKS5jb25jYXQoe3ZhbHVlOlwiIFwiPT09YVtpLTJdLnR5cGU/XCIqXCI6XCJcIn0pKS5yZXBsYWNlKFIsXCIkMVwiKSxjLGU+aSYmd2IoYS5zbGljZShpLGUpKSxmPmUmJndiKGE9YS5zbGljZShlKSksZj5lJiZxYihhKSl9bS5wdXNoKGMpfXJldHVybiBzYihtKX1mdW5jdGlvbiB4YihhLGIpe3ZhciBjPWIubGVuZ3RoPjAsZT1hLmxlbmd0aD4wLGY9ZnVuY3Rpb24oZixnLGgsaSxrKXt2YXIgbCxtLG8scD0wLHE9XCIwXCIscj1mJiZbXSxzPVtdLHQ9aix1PWZ8fGUmJmQuZmluZC5UQUcoXCIqXCIsayksdj13Kz1udWxsPT10PzE6TWF0aC5yYW5kb20oKXx8LjEseD11Lmxlbmd0aDtmb3IoayYmKGo9ZyE9PW4mJmcpO3EhPT14JiZudWxsIT0obD11W3FdKTtxKyspe2lmKGUmJmwpe209MDt3aGlsZShvPWFbbSsrXSlpZihvKGwsZyxoKSl7aS5wdXNoKGwpO2JyZWFrfWsmJih3PXYpfWMmJigobD0hbyYmbCkmJnAtLSxmJiZyLnB1c2gobCkpfWlmKHArPXEsYyYmcSE9PXApe209MDt3aGlsZShvPWJbbSsrXSlvKHIscyxnLGgpO2lmKGYpe2lmKHA+MCl3aGlsZShxLS0pcltxXXx8c1txXXx8KHNbcV09Ry5jYWxsKGkpKTtzPXViKHMpfUkuYXBwbHkoaSxzKSxrJiYhZiYmcy5sZW5ndGg+MCYmcCtiLmxlbmd0aD4xJiZmYi51bmlxdWVTb3J0KGkpfXJldHVybiBrJiYodz12LGo9dCkscn07cmV0dXJuIGM/aGIoZik6Zn1yZXR1cm4gaD1mYi5jb21waWxlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPVtdLGY9QVthK1wiIFwiXTtpZighZil7Ynx8KGI9ZyhhKSksYz1iLmxlbmd0aDt3aGlsZShjLS0pZj13YihiW2NdKSxmW3VdP2QucHVzaChmKTplLnB1c2goZik7Zj1BKGEseGIoZSxkKSksZi5zZWxlY3Rvcj1hfXJldHVybiBmfSxpPWZiLnNlbGVjdD1mdW5jdGlvbihhLGIsZSxmKXt2YXIgaSxqLGssbCxtLG49XCJmdW5jdGlvblwiPT10eXBlb2YgYSYmYSxvPSFmJiZnKGE9bi5zZWxlY3Rvcnx8YSk7aWYoZT1lfHxbXSwxPT09by5sZW5ndGgpe2lmKGo9b1swXT1vWzBdLnNsaWNlKDApLGoubGVuZ3RoPjImJlwiSURcIj09PShrPWpbMF0pLnR5cGUmJmMuZ2V0QnlJZCYmOT09PWIubm9kZVR5cGUmJnAmJmQucmVsYXRpdmVbalsxXS50eXBlXSl7aWYoYj0oZC5maW5kLklEKGsubWF0Y2hlc1swXS5yZXBsYWNlKGNiLGRiKSxiKXx8W10pWzBdLCFiKXJldHVybiBlO24mJihiPWIucGFyZW50Tm9kZSksYT1hLnNsaWNlKGouc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWk9WC5uZWVkc0NvbnRleHQudGVzdChhKT8wOmoubGVuZ3RoO3doaWxlKGktLSl7aWYoaz1qW2ldLGQucmVsYXRpdmVbbD1rLnR5cGVdKWJyZWFrO2lmKChtPWQuZmluZFtsXSkmJihmPW0oay5tYXRjaGVzWzBdLnJlcGxhY2UoY2IsZGIpLGFiLnRlc3QoalswXS50eXBlKSYmb2IoYi5wYXJlbnROb2RlKXx8YikpKXtpZihqLnNwbGljZShpLDEpLGE9Zi5sZW5ndGgmJnFiKGopLCFhKXJldHVybiBJLmFwcGx5KGUsZiksZTticmVha319fXJldHVybihufHxoKGEsbykpKGYsYiwhcCxlLGFiLnRlc3QoYSkmJm9iKGIucGFyZW50Tm9kZSl8fGIpLGV9LGMuc29ydFN0YWJsZT11LnNwbGl0KFwiXCIpLnNvcnQoQikuam9pbihcIlwiKT09PXUsYy5kZXRlY3REdXBsaWNhdGVzPSEhbCxtKCksYy5zb3J0RGV0YWNoZWQ9aWIoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpfSksaWIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPVwiPGEgaHJlZj0nIyc+PC9hPlwiLFwiI1wiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcImhyZWZcIil9KXx8amIoXCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoXCIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP3ZvaWQgMDphLmdldEF0dHJpYnV0ZShiLFwidHlwZVwiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxjLmF0dHJpYnV0ZXMmJmliKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD1cIjxpbnB1dC8+XCIsYS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIiksXCJcIj09PWEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKX0pfHxqYihcInZhbHVlXCIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHxcImlucHV0XCIhPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/dm9pZCAwOmEuZGVmYXVsdFZhbHVlfSksaWIoZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWEuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIil9KXx8amIoTCxmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGM/dm9pZCAwOmFbYl09PT0hMD9iLnRvTG93ZXJDYXNlKCk6KGQ9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZC5zcGVjaWZpZWQ/ZC52YWx1ZTpudWxsfSksZmJ9KGEpO20uZmluZD1zLG0uZXhwcj1zLnNlbGVjdG9ycyxtLmV4cHJbXCI6XCJdPW0uZXhwci5wc2V1ZG9zLG0udW5pcXVlPXMudW5pcXVlU29ydCxtLnRleHQ9cy5nZXRUZXh0LG0uaXNYTUxEb2M9cy5pc1hNTCxtLmNvbnRhaW5zPXMuY29udGFpbnM7dmFyIHQ9bS5leHByLm1hdGNoLm5lZWRzQ29udGV4dCx1PS9ePChcXHcrKVxccypcXC8/Pig/OjxcXC9cXDE+fCkkLyx2PS9eLlteOiNcXFtcXC4sXSokLztmdW5jdGlvbiB3KGEsYixjKXtpZihtLmlzRnVuY3Rpb24oYikpcmV0dXJuIG0uZ3JlcChhLGZ1bmN0aW9uKGEsZCl7cmV0dXJuISFiLmNhbGwoYSxkLGEpIT09Y30pO2lmKGIubm9kZVR5cGUpcmV0dXJuIG0uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBhPT09YiE9PWN9KTtpZihcInN0cmluZ1wiPT10eXBlb2YgYil7aWYodi50ZXN0KGIpKXJldHVybiBtLmZpbHRlcihiLGEsYyk7Yj1tLmZpbHRlcihiLGEpfXJldHVybiBtLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gbS5pbkFycmF5KGEsYik+PTAhPT1jfSl9bS5maWx0ZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWJbMF07cmV0dXJuIGMmJihhPVwiOm5vdChcIithK1wiKVwiKSwxPT09Yi5sZW5ndGgmJjE9PT1kLm5vZGVUeXBlP20uZmluZC5tYXRjaGVzU2VsZWN0b3IoZCxhKT9bZF06W106bS5maW5kLm1hdGNoZXMoYSxtLmdyZXAoYixmdW5jdGlvbihhKXtyZXR1cm4gMT09PWEubm9kZVR5cGV9KSl9LG0uZm4uZXh0ZW5kKHtmaW5kOmZ1bmN0aW9uKGEpe3ZhciBiLGM9W10sZD10aGlzLGU9ZC5sZW5ndGg7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEpcmV0dXJuIHRoaXMucHVzaFN0YWNrKG0oYSkuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKGI9MDtlPmI7YisrKWlmKG0uY29udGFpbnMoZFtiXSx0aGlzKSlyZXR1cm4hMH0pKTtmb3IoYj0wO2U+YjtiKyspbS5maW5kKGEsZFtiXSxjKTtyZXR1cm4gYz10aGlzLnB1c2hTdGFjayhlPjE/bS51bmlxdWUoYyk6YyksYy5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yP3RoaXMuc2VsZWN0b3IrXCIgXCIrYTphLGN9LGZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sodyh0aGlzLGF8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sodyh0aGlzLGF8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEhdyh0aGlzLFwic3RyaW5nXCI9PXR5cGVvZiBhJiZ0LnRlc3QoYSk/bShhKTphfHxbXSwhMSkubGVuZ3RofX0pO3ZhciB4LHk9YS5kb2N1bWVudCx6PS9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKnwjKFtcXHctXSopKSQvLEE9bS5mbi5pbml0PWZ1bmN0aW9uKGEsYil7dmFyIGMsZDtpZighYSlyZXR1cm4gdGhpcztpZihcInN0cmluZ1wiPT10eXBlb2YgYSl7aWYoYz1cIjxcIj09PWEuY2hhckF0KDApJiZcIj5cIj09PWEuY2hhckF0KGEubGVuZ3RoLTEpJiZhLmxlbmd0aD49Mz9bbnVsbCxhLG51bGxdOnouZXhlYyhhKSwhY3x8IWNbMV0mJmIpcmV0dXJuIWJ8fGIuanF1ZXJ5PyhifHx4KS5maW5kKGEpOnRoaXMuY29uc3RydWN0b3IoYikuZmluZChhKTtpZihjWzFdKXtpZihiPWIgaW5zdGFuY2VvZiBtP2JbMF06YixtLm1lcmdlKHRoaXMsbS5wYXJzZUhUTUwoY1sxXSxiJiZiLm5vZGVUeXBlP2Iub3duZXJEb2N1bWVudHx8Yjp5LCEwKSksdS50ZXN0KGNbMV0pJiZtLmlzUGxhaW5PYmplY3QoYikpZm9yKGMgaW4gYiltLmlzRnVuY3Rpb24odGhpc1tjXSk/dGhpc1tjXShiW2NdKTp0aGlzLmF0dHIoYyxiW2NdKTtyZXR1cm4gdGhpc31pZihkPXkuZ2V0RWxlbWVudEJ5SWQoY1syXSksZCYmZC5wYXJlbnROb2RlKXtpZihkLmlkIT09Y1syXSlyZXR1cm4geC5maW5kKGEpO3RoaXMubGVuZ3RoPTEsdGhpc1swXT1kfXJldHVybiB0aGlzLmNvbnRleHQ9eSx0aGlzLnNlbGVjdG9yPWEsdGhpc31yZXR1cm4gYS5ub2RlVHlwZT8odGhpcy5jb250ZXh0PXRoaXNbMF09YSx0aGlzLmxlbmd0aD0xLHRoaXMpOm0uaXNGdW5jdGlvbihhKT9cInVuZGVmaW5lZFwiIT10eXBlb2YgeC5yZWFkeT94LnJlYWR5KGEpOmEobSk6KHZvaWQgMCE9PWEuc2VsZWN0b3ImJih0aGlzLnNlbGVjdG9yPWEuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWEuY29udGV4dCksbS5tYWtlQXJyYXkoYSx0aGlzKSl9O0EucHJvdG90eXBlPW0uZm4seD1tKHkpO3ZhciBCPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLEM9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07bS5leHRlbmQoe2RpcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZT1hW2JdO3doaWxlKGUmJjkhPT1lLm5vZGVUeXBlJiYodm9pZCAwPT09Y3x8MSE9PWUubm9kZVR5cGV8fCFtKGUpLmlzKGMpKSkxPT09ZS5ub2RlVHlwZSYmZC5wdXNoKGUpLGU9ZVtiXTtyZXR1cm4gZH0sc2libGluZzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY319KSxtLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGEpe3ZhciBiLGM9bShhLHRoaXMpLGQ9Yy5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKGI9MDtkPmI7YisrKWlmKG0uY29udGFpbnModGhpcyxjW2JdKSlyZXR1cm4hMH0pfSxjbG9zZXN0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9MCxlPXRoaXMubGVuZ3RoLGY9W10sZz10LnRlc3QoYSl8fFwic3RyaW5nXCIhPXR5cGVvZiBhP20oYSxifHx0aGlzLmNvbnRleHQpOjA7ZT5kO2QrKylmb3IoYz10aGlzW2RdO2MmJmMhPT1iO2M9Yy5wYXJlbnROb2RlKWlmKGMubm9kZVR5cGU8MTEmJihnP2cuaW5kZXgoYyk+LTE6MT09PWMubm9kZVR5cGUmJm0uZmluZC5tYXRjaGVzU2VsZWN0b3IoYyxhKSkpe2YucHVzaChjKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soZi5sZW5ndGg+MT9tLnVuaXF1ZShmKTpmKX0saW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/XCJzdHJpbmdcIj09dHlwZW9mIGE/bS5pbkFycmF5KHRoaXNbMF0sbShhKSk6bS5pbkFycmF5KGEuanF1ZXJ5P2FbMF06YSx0aGlzKTp0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/dGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGg6LTF9LGFkZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnB1c2hTdGFjayhtLnVuaXF1ZShtLm1lcmdlKHRoaXMuZ2V0KCksbShhLGIpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFkZChudWxsPT1hP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGEpKX19KTtmdW5jdGlvbiBEKGEsYil7ZG8gYT1hW2JdO3doaWxlKGEmJjEhPT1hLm5vZGVUeXBlKTtyZXR1cm4gYX1tLmVhY2goe3BhcmVudDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJjExIT09Yi5ub2RlVHlwZT9iOm51bGx9LHBhcmVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIG0uZGlyKGEsXCJwYXJlbnROb2RlXCIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBtLmRpcihhLFwicGFyZW50Tm9kZVwiLGMpfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBEKGEsXCJuZXh0U2libGluZ1wiKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gRChhLFwicHJldmlvdXNTaWJsaW5nXCIpfSxuZXh0QWxsOmZ1bmN0aW9uKGEpe3JldHVybiBtLmRpcihhLFwibmV4dFNpYmxpbmdcIil9LHByZXZBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIG0uZGlyKGEsXCJwcmV2aW91c1NpYmxpbmdcIil9LG5leHRVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG0uZGlyKGEsXCJuZXh0U2libGluZ1wiLGMpfSxwcmV2VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBtLmRpcihhLFwicHJldmlvdXNTaWJsaW5nXCIsYyl9LHNpYmxpbmdzOmZ1bmN0aW9uKGEpe3JldHVybiBtLnNpYmxpbmcoKGEucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3JldHVybiBtLnNpYmxpbmcoYS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIG0ubm9kZU5hbWUoYSxcImlmcmFtZVwiKT9hLmNvbnRlbnREb2N1bWVudHx8YS5jb250ZW50V2luZG93LmRvY3VtZW50Om0ubWVyZ2UoW10sYS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKGEsYil7bS5mblthXT1mdW5jdGlvbihjLGQpe3ZhciBlPW0ubWFwKHRoaXMsYixjKTtyZXR1cm5cIlVudGlsXCIhPT1hLnNsaWNlKC01KSYmKGQ9YyksZCYmXCJzdHJpbmdcIj09dHlwZW9mIGQmJihlPW0uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihDW2FdfHwoZT1tLnVuaXF1ZShlKSksQi50ZXN0KGEpJiYoZT1lLnJldmVyc2UoKSkpLHRoaXMucHVzaFN0YWNrKGUpfX0pO3ZhciBFPS9cXFMrL2csRj17fTtmdW5jdGlvbiBHKGEpe3ZhciBiPUZbYV09e307cmV0dXJuIG0uZWFjaChhLm1hdGNoKEUpfHxbXSxmdW5jdGlvbihhLGMpe2JbY109ITB9KSxifW0uQ2FsbGJhY2tzPWZ1bmN0aW9uKGEpe2E9XCJzdHJpbmdcIj09dHlwZW9mIGE/RlthXXx8RyhhKTptLmV4dGVuZCh7fSxhKTt2YXIgYixjLGQsZSxmLGcsaD1bXSxpPSFhLm9uY2UmJltdLGo9ZnVuY3Rpb24obCl7Zm9yKGM9YS5tZW1vcnkmJmwsZD0hMCxmPWd8fDAsZz0wLGU9aC5sZW5ndGgsYj0hMDtoJiZlPmY7ZisrKWlmKGhbZl0uYXBwbHkobFswXSxsWzFdKT09PSExJiZhLnN0b3BPbkZhbHNlKXtjPSExO2JyZWFrfWI9ITEsaCYmKGk/aS5sZW5ndGgmJmooaS5zaGlmdCgpKTpjP2g9W106ay5kaXNhYmxlKCkpfSxrPXthZGQ6ZnVuY3Rpb24oKXtpZihoKXt2YXIgZD1oLmxlbmd0aDshZnVuY3Rpb24gZihiKXttLmVhY2goYixmdW5jdGlvbihiLGMpe3ZhciBkPW0udHlwZShjKTtcImZ1bmN0aW9uXCI9PT1kP2EudW5pcXVlJiZrLmhhcyhjKXx8aC5wdXNoKGMpOmMmJmMubGVuZ3RoJiZcInN0cmluZ1wiIT09ZCYmZihjKX0pfShhcmd1bWVudHMpLGI/ZT1oLmxlbmd0aDpjJiYoZz1kLGooYykpfXJldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gaCYmbS5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihhLGMpe3ZhciBkO3doaWxlKChkPW0uaW5BcnJheShjLGgsZCkpPi0xKWguc3BsaWNlKGQsMSksYiYmKGU+PWQmJmUtLSxmPj1kJiZmLS0pfSksdGhpc30saGFzOmZ1bmN0aW9uKGEpe3JldHVybiBhP20uaW5BcnJheShhLGgpPi0xOiEoIWh8fCFoLmxlbmd0aCl9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIGg9W10sZT0wLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gaD1pPWM9dm9pZCAwLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWh9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gaT12b2lkIDAsY3x8ay5kaXNhYmxlKCksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIWl9LGZpcmVXaXRoOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIWh8fGQmJiFpfHwoYz1jfHxbXSxjPVthLGMuc2xpY2U/Yy5zbGljZSgpOmNdLGI/aS5wdXNoKGMpOmooYykpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gay5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWR9fTtyZXR1cm4ga30sbS5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGEpe3ZhciBiPVtbXCJyZXNvbHZlXCIsXCJkb25lXCIsbS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxcInJlc29sdmVkXCJdLFtcInJlamVjdFwiLFwiZmFpbFwiLG0uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXCJyZWplY3RlZFwiXSxbXCJub3RpZnlcIixcInByb2dyZXNzXCIsbS5DYWxsYmFja3MoXCJtZW1vcnlcIildXSxjPVwicGVuZGluZ1wiLGQ9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGN9LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBlLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksdGhpc30sdGhlbjpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cztyZXR1cm4gbS5EZWZlcnJlZChmdW5jdGlvbihjKXttLmVhY2goYixmdW5jdGlvbihiLGYpe3ZhciBnPW0uaXNGdW5jdGlvbihhW2JdKSYmYVtiXTtlW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIGE9ZyYmZy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSYmbS5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/YS5wcm9taXNlKCkuZG9uZShjLnJlc29sdmUpLmZhaWwoYy5yZWplY3QpLnByb2dyZXNzKGMubm90aWZ5KTpjW2ZbMF0rXCJXaXRoXCJdKHRoaXM9PT1kP2MucHJvbWlzZSgpOnRoaXMsZz9bYV06YXJndW1lbnRzKX0pfSksYT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP20uZXh0ZW5kKGEsZCk6ZH19LGU9e307cmV0dXJuIGQucGlwZT1kLnRoZW4sbS5lYWNoKGIsZnVuY3Rpb24oYSxmKXt2YXIgZz1mWzJdLGg9ZlszXTtkW2ZbMV1dPWcuYWRkLGgmJmcuYWRkKGZ1bmN0aW9uKCl7Yz1ofSxiWzFeYV1bMl0uZGlzYWJsZSxiWzJdWzJdLmxvY2spLGVbZlswXV09ZnVuY3Rpb24oKXtyZXR1cm4gZVtmWzBdK1wiV2l0aFwiXSh0aGlzPT09ZT9kOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxlW2ZbMF0rXCJXaXRoXCJdPWcuZmlyZVdpdGh9KSxkLnByb21pc2UoZSksYSYmYS5jYWxsKGUsZSksZX0sd2hlbjpmdW5jdGlvbihhKXt2YXIgYj0wLGM9ZC5jYWxsKGFyZ3VtZW50cyksZT1jLmxlbmd0aCxmPTEhPT1lfHxhJiZtLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9lOjAsZz0xPT09Zj9hOm0uRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZSl7YlthXT10aGlzLGNbYV09YXJndW1lbnRzLmxlbmd0aD4xP2QuY2FsbChhcmd1bWVudHMpOmUsYz09PWk/Zy5ub3RpZnlXaXRoKGIsYyk6LS1mfHxnLnJlc29sdmVXaXRoKGIsYyl9fSxpLGosaztpZihlPjEpZm9yKGk9bmV3IEFycmF5KGUpLGo9bmV3IEFycmF5KGUpLGs9bmV3IEFycmF5KGUpO2U+YjtiKyspY1tiXSYmbS5pc0Z1bmN0aW9uKGNbYl0ucHJvbWlzZSk/Y1tiXS5wcm9taXNlKCkuZG9uZShoKGIsayxjKSkuZmFpbChnLnJlamVjdCkucHJvZ3Jlc3MoaChiLGosaSkpOi0tZjtyZXR1cm4gZnx8Zy5yZXNvbHZlV2l0aChrLGMpLGcucHJvbWlzZSgpfX0pO3ZhciBIO20uZm4ucmVhZHk9ZnVuY3Rpb24oYSl7cmV0dXJuIG0ucmVhZHkucHJvbWlzZSgpLmRvbmUoYSksdGhpc30sbS5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGEpe2E/bS5yZWFkeVdhaXQrKzptLnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oYSl7aWYoYT09PSEwPyEtLW0ucmVhZHlXYWl0OiFtLmlzUmVhZHkpe2lmKCF5LmJvZHkpcmV0dXJuIHNldFRpbWVvdXQobS5yZWFkeSk7bS5pc1JlYWR5PSEwLGEhPT0hMCYmLS1tLnJlYWR5V2FpdD4wfHwoSC5yZXNvbHZlV2l0aCh5LFttXSksbS5mbi50cmlnZ2VySGFuZGxlciYmKG0oeSkudHJpZ2dlckhhbmRsZXIoXCJyZWFkeVwiKSxtKHkpLm9mZihcInJlYWR5XCIpKSl9fX0pO2Z1bmN0aW9uIEkoKXt5LmFkZEV2ZW50TGlzdGVuZXI/KHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixKLCExKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsSiwhMSkpOih5LmRldGFjaEV2ZW50KFwib25yZWFkeXN0YXRlY2hhbmdlXCIsSiksYS5kZXRhY2hFdmVudChcIm9ubG9hZFwiLEopKX1mdW5jdGlvbiBKKCl7KHkuYWRkRXZlbnRMaXN0ZW5lcnx8XCJsb2FkXCI9PT1ldmVudC50eXBlfHxcImNvbXBsZXRlXCI9PT15LnJlYWR5U3RhdGUpJiYoSSgpLG0ucmVhZHkoKSl9bS5yZWFkeS5wcm9taXNlPWZ1bmN0aW9uKGIpe2lmKCFIKWlmKEg9bS5EZWZlcnJlZCgpLFwiY29tcGxldGVcIj09PXkucmVhZHlTdGF0ZSlzZXRUaW1lb3V0KG0ucmVhZHkpO2Vsc2UgaWYoeS5hZGRFdmVudExpc3RlbmVyKXkuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixKLCExKSxhLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsSiwhMSk7ZWxzZXt5LmF0dGFjaEV2ZW50KFwib25yZWFkeXN0YXRlY2hhbmdlXCIsSiksYS5hdHRhY2hFdmVudChcIm9ubG9hZFwiLEopO3ZhciBjPSExO3RyeXtjPW51bGw9PWEuZnJhbWVFbGVtZW50JiZ5LmRvY3VtZW50RWxlbWVudH1jYXRjaChkKXt9YyYmYy5kb1Njcm9sbCYmIWZ1bmN0aW9uIGUoKXtpZighbS5pc1JlYWR5KXt0cnl7Yy5kb1Njcm9sbChcImxlZnRcIil9Y2F0Y2goYSl7cmV0dXJuIHNldFRpbWVvdXQoZSw1MCl9SSgpLG0ucmVhZHkoKX19KCl9cmV0dXJuIEgucHJvbWlzZShiKX07dmFyIEs9XCJ1bmRlZmluZWRcIixMO2ZvcihMIGluIG0oaykpYnJlYWs7ay5vd25MYXN0PVwiMFwiIT09TCxrLmlubGluZUJsb2NrTmVlZHNMYXlvdXQ9ITEsbShmdW5jdGlvbigpe3ZhciBhLGIsYyxkO2M9eS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF0sYyYmYy5zdHlsZSYmKGI9eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGQ9eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGQuc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOmFic29sdXRlO2JvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4XCIsYy5hcHBlbmRDaGlsZChkKS5hcHBlbmRDaGlsZChiKSx0eXBlb2YgYi5zdHlsZS56b29tIT09SyYmKGIuc3R5bGUuY3NzVGV4dD1cImRpc3BsYXk6aW5saW5lO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjFcIixrLmlubGluZUJsb2NrTmVlZHNMYXlvdXQ9YT0zPT09Yi5vZmZzZXRXaWR0aCxhJiYoYy5zdHlsZS56b29tPTEpKSxjLnJlbW92ZUNoaWxkKGQpKX0pLGZ1bmN0aW9uKCl7dmFyIGE9eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2lmKG51bGw9PWsuZGVsZXRlRXhwYW5kbyl7ay5kZWxldGVFeHBhbmRvPSEwO3RyeXtkZWxldGUgYS50ZXN0fWNhdGNoKGIpe2suZGVsZXRlRXhwYW5kbz0hMX19YT1udWxsfSgpLG0uYWNjZXB0RGF0YT1mdW5jdGlvbihhKXt2YXIgYj1tLm5vRGF0YVsoYS5ub2RlTmFtZStcIiBcIikudG9Mb3dlckNhc2UoKV0sYz0rYS5ub2RlVHlwZXx8MTtyZXR1cm4gMSE9PWMmJjkhPT1jPyExOiFifHxiIT09ITAmJmEuZ2V0QXR0cmlidXRlKFwiY2xhc3NpZFwiKT09PWJ9O3ZhciBNPS9eKD86XFx7W1xcd1xcV10qXFx9fFxcW1tcXHdcXFddKlxcXSkkLyxOPS8oW0EtWl0pL2c7ZnVuY3Rpb24gTyhhLGIsYyl7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpe3ZhciBkPVwiZGF0YS1cIitiLnJlcGxhY2UoTixcIi0kMVwiKS50b0xvd2VyQ2FzZSgpO2lmKGM9YS5nZXRBdHRyaWJ1dGUoZCksXCJzdHJpbmdcIj09dHlwZW9mIGMpe3RyeXtjPVwidHJ1ZVwiPT09Yz8hMDpcImZhbHNlXCI9PT1jPyExOlwibnVsbFwiPT09Yz9udWxsOitjK1wiXCI9PT1jPytjOk0udGVzdChjKT9tLnBhcnNlSlNPTihjKTpjfWNhdGNoKGUpe31tLmRhdGEoYSxiLGMpfWVsc2UgYz12b2lkIDB9cmV0dXJuIGN9ZnVuY3Rpb24gUChhKXt2YXIgYjtmb3IoYiBpbiBhKWlmKChcImRhdGFcIiE9PWJ8fCFtLmlzRW1wdHlPYmplY3QoYVtiXSkpJiZcInRvSlNPTlwiIT09YilyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBRKGEsYixkLGUpe2lmKG0uYWNjZXB0RGF0YShhKSl7dmFyIGYsZyxoPW0uZXhwYW5kbyxpPWEubm9kZVR5cGUsaj1pP20uY2FjaGU6YSxrPWk/YVtoXTphW2hdJiZoO1xuaWYoayYmaltrXSYmKGV8fGpba10uZGF0YSl8fHZvaWQgMCE9PWR8fFwic3RyaW5nXCIhPXR5cGVvZiBiKXJldHVybiBrfHwoaz1pP2FbaF09Yy5wb3AoKXx8bS5ndWlkKys6aCksaltrXXx8KGpba109aT97fTp7dG9KU09OOm0ubm9vcH0pLChcIm9iamVjdFwiPT10eXBlb2YgYnx8XCJmdW5jdGlvblwiPT10eXBlb2YgYikmJihlP2pba109bS5leHRlbmQoaltrXSxiKTpqW2tdLmRhdGE9bS5leHRlbmQoaltrXS5kYXRhLGIpKSxnPWpba10sZXx8KGcuZGF0YXx8KGcuZGF0YT17fSksZz1nLmRhdGEpLHZvaWQgMCE9PWQmJihnW20uY2FtZWxDYXNlKGIpXT1kKSxcInN0cmluZ1wiPT10eXBlb2YgYj8oZj1nW2JdLG51bGw9PWYmJihmPWdbbS5jYW1lbENhc2UoYildKSk6Zj1nLGZ9fWZ1bmN0aW9uIFIoYSxiLGMpe2lmKG0uYWNjZXB0RGF0YShhKSl7dmFyIGQsZSxmPWEubm9kZVR5cGUsZz1mP20uY2FjaGU6YSxoPWY/YVttLmV4cGFuZG9dOm0uZXhwYW5kbztpZihnW2hdKXtpZihiJiYoZD1jP2dbaF06Z1toXS5kYXRhKSl7bS5pc0FycmF5KGIpP2I9Yi5jb25jYXQobS5tYXAoYixtLmNhbWVsQ2FzZSkpOmIgaW4gZD9iPVtiXTooYj1tLmNhbWVsQ2FzZShiKSxiPWIgaW4gZD9bYl06Yi5zcGxpdChcIiBcIikpLGU9Yi5sZW5ndGg7d2hpbGUoZS0tKWRlbGV0ZSBkW2JbZV1dO2lmKGM/IVAoZCk6IW0uaXNFbXB0eU9iamVjdChkKSlyZXR1cm59KGN8fChkZWxldGUgZ1toXS5kYXRhLFAoZ1toXSkpKSYmKGY/bS5jbGVhbkRhdGEoW2FdLCEwKTprLmRlbGV0ZUV4cGFuZG98fGchPWcud2luZG93P2RlbGV0ZSBnW2hdOmdbaF09bnVsbCl9fX1tLmV4dGVuZCh7Y2FjaGU6e30sbm9EYXRhOntcImFwcGxldCBcIjohMCxcImVtYmVkIFwiOiEwLFwib2JqZWN0IFwiOlwiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwXCJ9LGhhc0RhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9YS5ub2RlVHlwZT9tLmNhY2hlW2FbbS5leHBhbmRvXV06YVttLmV4cGFuZG9dLCEhYSYmIVAoYSl9LGRhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBRKGEsYixjKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihhLGIpe3JldHVybiBSKGEsYil9LF9kYXRhOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gUShhLGIsYywhMCl9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFIoYSxiLCEwKX19KSxtLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPXRoaXNbMF0sZz1mJiZmLmF0dHJpYnV0ZXM7aWYodm9pZCAwPT09YSl7aWYodGhpcy5sZW5ndGgmJihlPW0uZGF0YShmKSwxPT09Zi5ub2RlVHlwZSYmIW0uX2RhdGEoZixcInBhcnNlZEF0dHJzXCIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoXCJkYXRhLVwiKSYmKGQ9bS5jYW1lbENhc2UoZC5zbGljZSg1KSksTyhmLGQsZVtkXSkpKTttLl9kYXRhKGYsXCJwYXJzZWRBdHRyc1wiLCEwKX1yZXR1cm4gZX1yZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgYT90aGlzLmVhY2goZnVuY3Rpb24oKXttLmRhdGEodGhpcyxhKX0pOmFyZ3VtZW50cy5sZW5ndGg+MT90aGlzLmVhY2goZnVuY3Rpb24oKXttLmRhdGEodGhpcyxhLGIpfSk6Zj9PKGYsYSxtLmRhdGEoZixhKSk6dm9pZCAwfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXttLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pLG0uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGE/KGI9KGJ8fFwiZnhcIikrXCJxdWV1ZVwiLGQ9bS5fZGF0YShhLGIpLGMmJighZHx8bS5pc0FycmF5KGMpP2Q9bS5fZGF0YShhLGIsbS5tYWtlQXJyYXkoYykpOmQucHVzaChjKSksZHx8W10pOnZvaWQgMH0sZGVxdWV1ZTpmdW5jdGlvbihhLGIpe2I9Ynx8XCJmeFwiO3ZhciBjPW0ucXVldWUoYSxiKSxkPWMubGVuZ3RoLGU9Yy5zaGlmdCgpLGY9bS5fcXVldWVIb29rcyhhLGIpLGc9ZnVuY3Rpb24oKXttLmRlcXVldWUoYSxiKX07XCJpbnByb2dyZXNzXCI9PT1lJiYoZT1jLnNoaWZ0KCksZC0tKSxlJiYoXCJmeFwiPT09YiYmYy51bnNoaWZ0KFwiaW5wcm9ncmVzc1wiKSxkZWxldGUgZi5zdG9wLGUuY2FsbChhLGcsZikpLCFkJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iK1wicXVldWVIb29rc1wiO3JldHVybiBtLl9kYXRhKGEsYyl8fG0uX2RhdGEoYSxjLHtlbXB0eTptLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLmFkZChmdW5jdGlvbigpe20uX3JlbW92ZURhdGEoYSxiK1wicXVldWVcIiksbS5fcmVtb3ZlRGF0YShhLGMpfSl9KX19KSxtLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYj1hLGE9XCJmeFwiLGMtLSksYXJndW1lbnRzLmxlbmd0aDxjP20ucXVldWUodGhpc1swXSxhKTp2b2lkIDA9PT1iP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9bS5xdWV1ZSh0aGlzLGEsYik7bS5fcXVldWVIb29rcyh0aGlzLGEpLFwiZnhcIj09PWEmJlwiaW5wcm9ncmVzc1wiIT09Y1swXSYmbS5kZXF1ZXVlKHRoaXMsYSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bS5kZXF1ZXVlKHRoaXMsYSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShhfHxcImZ4XCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0xLGU9bS5EZWZlcnJlZCgpLGY9dGhpcyxnPXRoaXMubGVuZ3RoLGg9ZnVuY3Rpb24oKXstLWR8fGUucmVzb2x2ZVdpdGgoZixbZl0pfTtcInN0cmluZ1wiIT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYT1hfHxcImZ4XCI7d2hpbGUoZy0tKWM9bS5fZGF0YShmW2ddLGErXCJxdWV1ZUhvb2tzXCIpLGMmJmMuZW1wdHkmJihkKyssYy5lbXB0eS5hZGQoaCkpO3JldHVybiBoKCksZS5wcm9taXNlKGIpfX0pO3ZhciBTPS9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvLnNvdXJjZSxUPVtcIlRvcFwiLFwiUmlnaHRcIixcIkJvdHRvbVwiLFwiTGVmdFwiXSxVPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9Ynx8YSxcIm5vbmVcIj09PW0uY3NzKGEsXCJkaXNwbGF5XCIpfHwhbS5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSl9LFY9bS5hY2Nlc3M9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9MCxpPWEubGVuZ3RoLGo9bnVsbD09YztpZihcIm9iamVjdFwiPT09bS50eXBlKGMpKXtlPSEwO2ZvcihoIGluIGMpbS5hY2Nlc3MoYSxiLGgsY1toXSwhMCxmLGcpfWVsc2UgaWYodm9pZCAwIT09ZCYmKGU9ITAsbS5pc0Z1bmN0aW9uKGQpfHwoZz0hMCksaiYmKGc/KGIuY2FsbChhLGQpLGI9bnVsbCk6KGo9YixiPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gai5jYWxsKG0oYSksYyl9KSksYikpZm9yKDtpPmg7aCsrKWIoYVtoXSxjLGc/ZDpkLmNhbGwoYVtoXSxoLGIoYVtoXSxjKSkpO3JldHVybiBlP2E6aj9iLmNhbGwoYSk6aT9iKGFbMF0sYyk6Zn0sVz0vXig/OmNoZWNrYm94fHJhZGlvKSQvaTshZnVuY3Rpb24oKXt2YXIgYT15LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxiPXkuY3JlYXRlRWxlbWVudChcImRpdlwiKSxjPXkuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2lmKGIuaW5uZXJIVE1MPVwiICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+XCIsay5sZWFkaW5nV2hpdGVzcGFjZT0zPT09Yi5maXJzdENoaWxkLm5vZGVUeXBlLGsudGJvZHk9IWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0Ym9keVwiKS5sZW5ndGgsay5odG1sU2VyaWFsaXplPSEhYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImxpbmtcIikubGVuZ3RoLGsuaHRtbDVDbG9uZT1cIjw6bmF2PjwvOm5hdj5cIiE9PXkuY3JlYXRlRWxlbWVudChcIm5hdlwiKS5jbG9uZU5vZGUoITApLm91dGVySFRNTCxhLnR5cGU9XCJjaGVja2JveFwiLGEuY2hlY2tlZD0hMCxjLmFwcGVuZENoaWxkKGEpLGsuYXBwZW5kQ2hlY2tlZD1hLmNoZWNrZWQsYi5pbm5lckhUTUw9XCI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+XCIsay5ub0Nsb25lQ2hlY2tlZD0hIWIuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlLGMuYXBwZW5kQ2hpbGQoYiksYi5pbm5lckhUTUw9XCI8aW5wdXQgdHlwZT0ncmFkaW8nIGNoZWNrZWQ9J2NoZWNrZWQnIG5hbWU9J3QnLz5cIixrLmNoZWNrQ2xvbmU9Yi5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsay5ub0Nsb25lRXZlbnQ9ITAsYi5hdHRhY2hFdmVudCYmKGIuYXR0YWNoRXZlbnQoXCJvbmNsaWNrXCIsZnVuY3Rpb24oKXtrLm5vQ2xvbmVFdmVudD0hMX0pLGIuY2xvbmVOb2RlKCEwKS5jbGljaygpKSxudWxsPT1rLmRlbGV0ZUV4cGFuZG8pe2suZGVsZXRlRXhwYW5kbz0hMDt0cnl7ZGVsZXRlIGIudGVzdH1jYXRjaChkKXtrLmRlbGV0ZUV4cGFuZG89ITF9fX0oKSxmdW5jdGlvbigpe3ZhciBiLGMsZD15LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zm9yKGIgaW57c3VibWl0OiEwLGNoYW5nZTohMCxmb2N1c2luOiEwfSljPVwib25cIitiLChrW2IrXCJCdWJibGVzXCJdPWMgaW4gYSl8fChkLnNldEF0dHJpYnV0ZShjLFwidFwiKSxrW2IrXCJCdWJibGVzXCJdPWQuYXR0cmlidXRlc1tjXS5leHBhbmRvPT09ITEpO2Q9bnVsbH0oKTt2YXIgWD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYSkkL2ksWT0vXmtleS8sWj0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnUpfGNsaWNrLywkPS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxfPS9eKFteLl0qKSg/OlxcLiguKyl8KSQvO2Z1bmN0aW9uIGFiKCl7cmV0dXJuITB9ZnVuY3Rpb24gYmIoKXtyZXR1cm4hMX1mdW5jdGlvbiBjYigpe3RyeXtyZXR1cm4geS5hY3RpdmVFbGVtZW50fWNhdGNoKGEpe319bS5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG4sbyxwLHEscj1tLl9kYXRhKGEpO2lmKHIpe2MuaGFuZGxlciYmKGk9YyxjPWkuaGFuZGxlcixlPWkuc2VsZWN0b3IpLGMuZ3VpZHx8KGMuZ3VpZD1tLmd1aWQrKyksKGc9ci5ldmVudHMpfHwoZz1yLmV2ZW50cz17fSksKGs9ci5oYW5kbGUpfHwoaz1yLmhhbmRsZT1mdW5jdGlvbihhKXtyZXR1cm4gdHlwZW9mIG09PT1LfHxhJiZtLmV2ZW50LnRyaWdnZXJlZD09PWEudHlwZT92b2lkIDA6bS5ldmVudC5kaXNwYXRjaC5hcHBseShrLmVsZW0sYXJndW1lbnRzKX0say5lbGVtPWEpLGI9KGJ8fFwiXCIpLm1hdGNoKEUpfHxbXCJcIl0saD1iLmxlbmd0aDt3aGlsZShoLS0pZj1fLmV4ZWMoYltoXSl8fFtdLG89cT1mWzFdLHA9KGZbMl18fFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCksbyYmKGo9bS5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP2ouZGVsZWdhdGVUeXBlOmouYmluZFR5cGUpfHxvLGo9bS5ldmVudC5zcGVjaWFsW29dfHx7fSxsPW0uZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6cSxkYXRhOmQsaGFuZGxlcjpjLGd1aWQ6Yy5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJm0uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6cC5qb2luKFwiLlwiKX0saSksKG49Z1tvXSl8fChuPWdbb109W10sbi5kZWxlZ2F0ZUNvdW50PTAsai5zZXR1cCYmai5zZXR1cC5jYWxsKGEsZCxwLGspIT09ITF8fChhLmFkZEV2ZW50TGlzdGVuZXI/YS5hZGRFdmVudExpc3RlbmVyKG8saywhMSk6YS5hdHRhY2hFdmVudCYmYS5hdHRhY2hFdmVudChcIm9uXCIrbyxrKSkpLGouYWRkJiYoai5hZGQuY2FsbChhLGwpLGwuaGFuZGxlci5ndWlkfHwobC5oYW5kbGVyLmd1aWQ9Yy5ndWlkKSksZT9uLnNwbGljZShuLmRlbGVnYXRlQ291bnQrKywwLGwpOm4ucHVzaChsKSxtLmV2ZW50Lmdsb2JhbFtvXT0hMCk7YT1udWxsfX0scmVtb3ZlOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbixvLHAscSxyPW0uaGFzRGF0YShhKSYmbS5fZGF0YShhKTtpZihyJiYoaz1yLmV2ZW50cykpe2I9KGJ8fFwiXCIpLm1hdGNoKEUpfHxbXCJcIl0saj1iLmxlbmd0aDt3aGlsZShqLS0paWYoaD1fLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCksbyl7bD1tLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGQ/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG8sbj1rW29dfHxbXSxoPWhbMl0mJm5ldyBSZWdFeHAoXCIoXnxcXFxcLilcIitwLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKSxpPWY9bi5sZW5ndGg7d2hpbGUoZi0tKWc9bltmXSwhZSYmcSE9PWcub3JpZ1R5cGV8fGMmJmMuZ3VpZCE9PWcuZ3VpZHx8aCYmIWgudGVzdChnLm5hbWVzcGFjZSl8fGQmJmQhPT1nLnNlbGVjdG9yJiYoXCIqKlwiIT09ZHx8IWcuc2VsZWN0b3IpfHwobi5zcGxpY2UoZiwxKSxnLnNlbGVjdG9yJiZuLmRlbGVnYXRlQ291bnQtLSxsLnJlbW92ZSYmbC5yZW1vdmUuY2FsbChhLGcpKTtpJiYhbi5sZW5ndGgmJihsLnRlYXJkb3duJiZsLnRlYXJkb3duLmNhbGwoYSxwLHIuaGFuZGxlKSE9PSExfHxtLnJlbW92ZUV2ZW50KGEsbyxyLmhhbmRsZSksZGVsZXRlIGtbb10pfWVsc2UgZm9yKG8gaW4gayltLmV2ZW50LnJlbW92ZShhLG8rYltqXSxjLGQsITApO20uaXNFbXB0eU9iamVjdChrKSYmKGRlbGV0ZSByLmhhbmRsZSxtLl9yZW1vdmVEYXRhKGEsXCJldmVudHNcIikpfX0sdHJpZ2dlcjpmdW5jdGlvbihiLGMsZCxlKXt2YXIgZixnLGgsaSxrLGwsbixvPVtkfHx5XSxwPWouY2FsbChiLFwidHlwZVwiKT9iLnR5cGU6YixxPWouY2FsbChiLFwibmFtZXNwYWNlXCIpP2IubmFtZXNwYWNlLnNwbGl0KFwiLlwiKTpbXTtpZihoPWw9ZD1kfHx5LDMhPT1kLm5vZGVUeXBlJiY4IT09ZC5ub2RlVHlwZSYmISQudGVzdChwK20uZXZlbnQudHJpZ2dlcmVkKSYmKHAuaW5kZXhPZihcIi5cIik+PTAmJihxPXAuc3BsaXQoXCIuXCIpLHA9cS5zaGlmdCgpLHEuc29ydCgpKSxnPXAuaW5kZXhPZihcIjpcIik8MCYmXCJvblwiK3AsYj1iW20uZXhwYW5kb10/YjpuZXcgbS5FdmVudChwLFwib2JqZWN0XCI9PXR5cGVvZiBiJiZiKSxiLmlzVHJpZ2dlcj1lPzI6MyxiLm5hbWVzcGFjZT1xLmpvaW4oXCIuXCIpLGIubmFtZXNwYWNlX3JlPWIubmFtZXNwYWNlP25ldyBSZWdFeHAoXCIoXnxcXFxcLilcIitxLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKTpudWxsLGIucmVzdWx0PXZvaWQgMCxiLnRhcmdldHx8KGIudGFyZ2V0PWQpLGM9bnVsbD09Yz9bYl06bS5tYWtlQXJyYXkoYyxbYl0pLGs9bS5ldmVudC5zcGVjaWFsW3BdfHx7fSxlfHwhay50cmlnZ2VyfHxrLnRyaWdnZXIuYXBwbHkoZCxjKSE9PSExKSl7aWYoIWUmJiFrLm5vQnViYmxlJiYhbS5pc1dpbmRvdyhkKSl7Zm9yKGk9ay5kZWxlZ2F0ZVR5cGV8fHAsJC50ZXN0KGkrcCl8fChoPWgucGFyZW50Tm9kZSk7aDtoPWgucGFyZW50Tm9kZSlvLnB1c2goaCksbD1oO2w9PT0oZC5vd25lckRvY3VtZW50fHx5KSYmby5wdXNoKGwuZGVmYXVsdFZpZXd8fGwucGFyZW50V2luZG93fHxhKX1uPTA7d2hpbGUoKGg9b1tuKytdKSYmIWIuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSliLnR5cGU9bj4xP2k6ay5iaW5kVHlwZXx8cCxmPShtLl9kYXRhKGgsXCJldmVudHNcIil8fHt9KVtiLnR5cGVdJiZtLl9kYXRhKGgsXCJoYW5kbGVcIiksZiYmZi5hcHBseShoLGMpLGY9ZyYmaFtnXSxmJiZmLmFwcGx5JiZtLmFjY2VwdERhdGEoaCkmJihiLnJlc3VsdD1mLmFwcGx5KGgsYyksYi5yZXN1bHQ9PT0hMSYmYi5wcmV2ZW50RGVmYXVsdCgpKTtpZihiLnR5cGU9cCwhZSYmIWIuaXNEZWZhdWx0UHJldmVudGVkKCkmJighay5fZGVmYXVsdHx8ay5fZGVmYXVsdC5hcHBseShvLnBvcCgpLGMpPT09ITEpJiZtLmFjY2VwdERhdGEoZCkmJmcmJmRbcF0mJiFtLmlzV2luZG93KGQpKXtsPWRbZ10sbCYmKGRbZ109bnVsbCksbS5ldmVudC50cmlnZ2VyZWQ9cDt0cnl7ZFtwXSgpfWNhdGNoKHIpe31tLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsbCYmKGRbZ109bCl9cmV0dXJuIGIucmVzdWx0fX0sZGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YT1tLmV2ZW50LmZpeChhKTt2YXIgYixjLGUsZixnLGg9W10saT1kLmNhbGwoYXJndW1lbnRzKSxqPShtLl9kYXRhKHRoaXMsXCJldmVudHNcIil8fHt9KVthLnR5cGVdfHxbXSxrPW0uZXZlbnQuc3BlY2lhbFthLnR5cGVdfHx7fTtpZihpWzBdPWEsYS5kZWxlZ2F0ZVRhcmdldD10aGlzLCFrLnByZURpc3BhdGNofHxrLnByZURpc3BhdGNoLmNhbGwodGhpcyxhKSE9PSExKXtoPW0uZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLGEsaiksYj0wO3doaWxlKChmPWhbYisrXSkmJiFhLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe2EuY3VycmVudFRhcmdldD1mLmVsZW0sZz0wO3doaWxlKChlPWYuaGFuZGxlcnNbZysrXSkmJiFhLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpKCFhLm5hbWVzcGFjZV9yZXx8YS5uYW1lc3BhY2VfcmUudGVzdChlLm5hbWVzcGFjZSkpJiYoYS5oYW5kbGVPYmo9ZSxhLmRhdGE9ZS5kYXRhLGM9KChtLmV2ZW50LnNwZWNpYWxbZS5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fGUuaGFuZGxlcikuYXBwbHkoZi5lbGVtLGkpLHZvaWQgMCE9PWMmJihhLnJlc3VsdD1jKT09PSExJiYoYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCkpKX1yZXR1cm4gay5wb3N0RGlzcGF0Y2gmJmsucG9zdERpc3BhdGNoLmNhbGwodGhpcyxhKSxhLnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZz1bXSxoPWIuZGVsZWdhdGVDb3VudCxpPWEudGFyZ2V0O2lmKGgmJmkubm9kZVR5cGUmJighYS5idXR0b258fFwiY2xpY2tcIiE9PWEudHlwZSkpZm9yKDtpIT10aGlzO2k9aS5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1pLm5vZGVUeXBlJiYoaS5kaXNhYmxlZCE9PSEwfHxcImNsaWNrXCIhPT1hLnR5cGUpKXtmb3IoZT1bXSxmPTA7aD5mO2YrKylkPWJbZl0sYz1kLnNlbGVjdG9yK1wiIFwiLHZvaWQgMD09PWVbY10mJihlW2NdPWQubmVlZHNDb250ZXh0P20oYyx0aGlzKS5pbmRleChpKT49MDptLmZpbmQoYyx0aGlzLG51bGwsW2ldKS5sZW5ndGgpLGVbY10mJmUucHVzaChkKTtlLmxlbmd0aCYmZy5wdXNoKHtlbGVtOmksaGFuZGxlcnM6ZX0pfXJldHVybiBoPGIubGVuZ3RoJiZnLnB1c2goe2VsZW06dGhpcyxoYW5kbGVyczpiLnNsaWNlKGgpfSksZ30sZml4OmZ1bmN0aW9uKGEpe2lmKGFbbS5leHBhbmRvXSlyZXR1cm4gYTt2YXIgYixjLGQsZT1hLnR5cGUsZj1hLGc9dGhpcy5maXhIb29rc1tlXTtnfHwodGhpcy5maXhIb29rc1tlXT1nPVoudGVzdChlKT90aGlzLm1vdXNlSG9va3M6WS50ZXN0KGUpP3RoaXMua2V5SG9va3M6e30pLGQ9Zy5wcm9wcz90aGlzLnByb3BzLmNvbmNhdChnLnByb3BzKTp0aGlzLnByb3BzLGE9bmV3IG0uRXZlbnQoZiksYj1kLmxlbmd0aDt3aGlsZShiLS0pYz1kW2JdLGFbY109ZltjXTtyZXR1cm4gYS50YXJnZXR8fChhLnRhcmdldD1mLnNyY0VsZW1lbnR8fHkpLDM9PT1hLnRhcmdldC5ub2RlVHlwZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLGEubWV0YUtleT0hIWEubWV0YUtleSxnLmZpbHRlcj9nLmZpbHRlcihhLGYpOmF9LHByb3BzOlwiYWx0S2V5IGJ1YmJsZXMgY2FuY2VsYWJsZSBjdHJsS2V5IGN1cnJlbnRUYXJnZXQgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoXCIuc3BsaXQoXCIgXCIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczpcImNoYXIgY2hhckNvZGUga2V5IGtleUNvZGVcIi5zcGxpdChcIiBcIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWEud2hpY2gmJihhLndoaWNoPW51bGwhPWIuY2hhckNvZGU/Yi5jaGFyQ29kZTpiLmtleUNvZGUpLGF9fSxtb3VzZUhvb2tzOntwcm9wczpcImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBmcm9tRWxlbWVudCBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudFwiLnNwbGl0KFwiIFwiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj1iLmJ1dHRvbixnPWIuZnJvbUVsZW1lbnQ7cmV0dXJuIG51bGw9PWEucGFnZVgmJm51bGwhPWIuY2xpZW50WCYmKGQ9YS50YXJnZXQub3duZXJEb2N1bWVudHx8eSxlPWQuZG9jdW1lbnRFbGVtZW50LGM9ZC5ib2R5LGEucGFnZVg9Yi5jbGllbnRYKyhlJiZlLnNjcm9sbExlZnR8fGMmJmMuc2Nyb2xsTGVmdHx8MCktKGUmJmUuY2xpZW50TGVmdHx8YyYmYy5jbGllbnRMZWZ0fHwwKSxhLnBhZ2VZPWIuY2xpZW50WSsoZSYmZS5zY3JvbGxUb3B8fGMmJmMuc2Nyb2xsVG9wfHwwKS0oZSYmZS5jbGllbnRUb3B8fGMmJmMuY2xpZW50VG9wfHwwKSksIWEucmVsYXRlZFRhcmdldCYmZyYmKGEucmVsYXRlZFRhcmdldD1nPT09YS50YXJnZXQ/Yi50b0VsZW1lbnQ6ZyksYS53aGljaHx8dm9pZCAwPT09Znx8KGEud2hpY2g9MSZmPzE6MiZmPzM6NCZmPzI6MCksYX19LHNwZWNpYWw6e2xvYWQ6e25vQnViYmxlOiEwfSxmb2N1czp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKHRoaXMhPT1jYigpJiZ0aGlzLmZvY3VzKXRyeXtyZXR1cm4gdGhpcy5mb2N1cygpLCExfWNhdGNoKGEpe319LGRlbGVnYXRlVHlwZTpcImZvY3VzaW5cIn0sYmx1cjp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzPT09Y2IoKSYmdGhpcy5ibHVyPyh0aGlzLmJsdXIoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6XCJmb2N1c291dFwifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiBtLm5vZGVOYW1lKHRoaXMsXCJpbnB1dFwiKSYmXCJjaGVja2JveFwiPT09dGhpcy50eXBlJiZ0aGlzLmNsaWNrPyh0aGlzLmNsaWNrKCksITEpOnZvaWQgMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG0ubm9kZU5hbWUoYS50YXJnZXQsXCJhXCIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dm9pZCAwIT09YS5yZXN1bHQmJmEub3JpZ2luYWxFdmVudCYmKGEub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1hLnJlc3VsdCl9fX0sc2ltdWxhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bS5leHRlbmQobmV3IG0uRXZlbnQsYyx7dHlwZTphLGlzU2ltdWxhdGVkOiEwLG9yaWdpbmFsRXZlbnQ6e319KTtkP20uZXZlbnQudHJpZ2dlcihlLG51bGwsYik6bS5ldmVudC5kaXNwYXRjaC5jYWxsKGIsZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYy5wcmV2ZW50RGVmYXVsdCgpfX0sbS5yZW1vdmVFdmVudD15LnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1cIm9uXCIrYjthLmRldGFjaEV2ZW50JiYodHlwZW9mIGFbZF09PT1LJiYoYVtkXT1udWxsKSxhLmRldGFjaEV2ZW50KGQsYykpfSxtLkV2ZW50PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBtLkV2ZW50PyhhJiZhLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1hLHRoaXMudHlwZT1hLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9YS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1hLmRlZmF1bHRQcmV2ZW50ZWQmJmEucmV0dXJuVmFsdWU9PT0hMT9hYjpiYik6dGhpcy50eXBlPWEsYiYmbS5leHRlbmQodGhpcyxiKSx0aGlzLnRpbWVTdGFtcD1hJiZhLnRpbWVTdGFtcHx8bS5ub3coKSx2b2lkKHRoaXNbbS5leHBhbmRvXT0hMCkpOm5ldyBtLkV2ZW50KGEsYil9LG0uRXZlbnQucHJvdG90eXBlPXtpc0RlZmF1bHRQcmV2ZW50ZWQ6YmIsaXNQcm9wYWdhdGlvblN0b3BwZWQ6YmIsaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6YmIscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9YWIsYSYmKGEucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1hYixhJiYoYS5zdG9wUHJvcGFnYXRpb24mJmEuc3RvcFByb3BhZ2F0aW9uKCksYS5jYW5jZWxCdWJibGU9ITApfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1hYixhJiZhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sbS5lYWNoKHttb3VzZWVudGVyOlwibW91c2VvdmVyXCIsbW91c2VsZWF2ZTpcIm1vdXNlb3V0XCIscG9pbnRlcmVudGVyOlwicG9pbnRlcm92ZXJcIixwb2ludGVybGVhdmU6XCJwb2ludGVyb3V0XCJ9LGZ1bmN0aW9uKGEsYil7bS5ldmVudC5zcGVjaWFsW2FdPXtkZWxlZ2F0ZVR5cGU6YixiaW5kVHlwZTpiLGhhbmRsZTpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMsZT1hLnJlbGF0ZWRUYXJnZXQsZj1hLmhhbmRsZU9iajtyZXR1cm4oIWV8fGUhPT1kJiYhbS5jb250YWlucyhkLGUpKSYmKGEudHlwZT1mLm9yaWdUeXBlLGM9Zi5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhLnR5cGU9YiksY319fSksay5zdWJtaXRCdWJibGVzfHwobS5ldmVudC5zcGVjaWFsLnN1Ym1pdD17c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gbS5ub2RlTmFtZSh0aGlzLFwiZm9ybVwiKT8hMTp2b2lkIG0uZXZlbnQuYWRkKHRoaXMsXCJjbGljay5fc3VibWl0IGtleXByZXNzLl9zdWJtaXRcIixmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxjPW0ubm9kZU5hbWUoYixcImlucHV0XCIpfHxtLm5vZGVOYW1lKGIsXCJidXR0b25cIik/Yi5mb3JtOnZvaWQgMDtjJiYhbS5fZGF0YShjLFwic3VibWl0QnViYmxlc1wiKSYmKG0uZXZlbnQuYWRkKGMsXCJzdWJtaXQuX3N1Ym1pdFwiLGZ1bmN0aW9uKGEpe2EuX3N1Ym1pdF9idWJibGU9ITB9KSxtLl9kYXRhKGMsXCJzdWJtaXRCdWJibGVzXCIsITApKX0pfSxwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YS5fc3VibWl0X2J1YmJsZSYmKGRlbGV0ZSBhLl9zdWJtaXRfYnViYmxlLHRoaXMucGFyZW50Tm9kZSYmIWEuaXNUcmlnZ2VyJiZtLmV2ZW50LnNpbXVsYXRlKFwic3VibWl0XCIsdGhpcy5wYXJlbnROb2RlLGEsITApKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4gbS5ub2RlTmFtZSh0aGlzLFwiZm9ybVwiKT8hMTp2b2lkIG0uZXZlbnQucmVtb3ZlKHRoaXMsXCIuX3N1Ym1pdFwiKX19KSxrLmNoYW5nZUJ1YmJsZXN8fChtLmV2ZW50LnNwZWNpYWwuY2hhbmdlPXtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBYLnRlc3QodGhpcy5ub2RlTmFtZSk/KChcImNoZWNrYm94XCI9PT10aGlzLnR5cGV8fFwicmFkaW9cIj09PXRoaXMudHlwZSkmJihtLmV2ZW50LmFkZCh0aGlzLFwicHJvcGVydHljaGFuZ2UuX2NoYW5nZVwiLGZ1bmN0aW9uKGEpe1wiY2hlY2tlZFwiPT09YS5vcmlnaW5hbEV2ZW50LnByb3BlcnR5TmFtZSYmKHRoaXMuX2p1c3RfY2hhbmdlZD0hMCl9KSxtLmV2ZW50LmFkZCh0aGlzLFwiY2xpY2suX2NoYW5nZVwiLGZ1bmN0aW9uKGEpe3RoaXMuX2p1c3RfY2hhbmdlZCYmIWEuaXNUcmlnZ2VyJiYodGhpcy5fanVzdF9jaGFuZ2VkPSExKSxtLmV2ZW50LnNpbXVsYXRlKFwiY2hhbmdlXCIsdGhpcyxhLCEwKX0pKSwhMSk6dm9pZCBtLmV2ZW50LmFkZCh0aGlzLFwiYmVmb3JlYWN0aXZhdGUuX2NoYW5nZVwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0O1gudGVzdChiLm5vZGVOYW1lKSYmIW0uX2RhdGEoYixcImNoYW5nZUJ1YmJsZXNcIikmJihtLmV2ZW50LmFkZChiLFwiY2hhbmdlLl9jaGFuZ2VcIixmdW5jdGlvbihhKXshdGhpcy5wYXJlbnROb2RlfHxhLmlzU2ltdWxhdGVkfHxhLmlzVHJpZ2dlcnx8bS5ldmVudC5zaW11bGF0ZShcImNoYW5nZVwiLHRoaXMucGFyZW50Tm9kZSxhLCEwKX0pLG0uX2RhdGEoYixcImNoYW5nZUJ1YmJsZXNcIiwhMCkpfSl9LGhhbmRsZTpmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldDtyZXR1cm4gdGhpcyE9PWJ8fGEuaXNTaW11bGF0ZWR8fGEuaXNUcmlnZ2VyfHxcInJhZGlvXCIhPT1iLnR5cGUmJlwiY2hlY2tib3hcIiE9PWIudHlwZT9hLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp2b2lkIDB9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIG0uZXZlbnQucmVtb3ZlKHRoaXMsXCIuX2NoYW5nZVwiKSwhWC50ZXN0KHRoaXMubm9kZU5hbWUpfX0pLGsuZm9jdXNpbkJ1YmJsZXN8fG0uZWFjaCh7Zm9jdXM6XCJmb2N1c2luXCIsYmx1cjpcImZvY3Vzb3V0XCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSl7bS5ldmVudC5zaW11bGF0ZShiLGEudGFyZ2V0LG0uZXZlbnQuZml4KGEpLCEwKX07bS5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPW0uX2RhdGEoZCxiKTtlfHxkLmFkZEV2ZW50TGlzdGVuZXIoYSxjLCEwKSxtLl9kYXRhKGQsYiwoZXx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGU9bS5fZGF0YShkLGIpLTE7ZT9tLl9kYXRhKGQsYixlKTooZC5yZW1vdmVFdmVudExpc3RlbmVyKGEsYywhMCksbS5fcmVtb3ZlRGF0YShkLGIpKX19fSksbS5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZztpZihcIm9iamVjdFwiPT10eXBlb2YgYSl7XCJzdHJpbmdcIiE9dHlwZW9mIGImJihjPWN8fGIsYj12b2lkIDApO2ZvcihmIGluIGEpdGhpcy5vbihmLGIsYyxhW2ZdLGUpO3JldHVybiB0aGlzfWlmKG51bGw9PWMmJm51bGw9PWQ/KGQ9YixjPWI9dm9pZCAwKTpudWxsPT1kJiYoXCJzdHJpbmdcIj09dHlwZW9mIGI/KGQ9YyxjPXZvaWQgMCk6KGQ9YyxjPWIsYj12b2lkIDApKSxkPT09ITEpZD1iYjtlbHNlIGlmKCFkKXJldHVybiB0aGlzO3JldHVybiAxPT09ZSYmKGc9ZCxkPWZ1bmN0aW9uKGEpe3JldHVybiBtKCkub2ZmKGEpLGcuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxkLmd1aWQ9Zy5ndWlkfHwoZy5ndWlkPW0uZ3VpZCsrKSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bS5ldmVudC5hZGQodGhpcyxhLGQsYyxiKX0pfSxvbmU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMub24oYSxiLGMsZCwxKX0sb2ZmOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlO2lmKGEmJmEucHJldmVudERlZmF1bHQmJmEuaGFuZGxlT2JqKXJldHVybiBkPWEuaGFuZGxlT2JqLG0oYS5kZWxlZ2F0ZVRhcmdldCkub2ZmKGQubmFtZXNwYWNlP2Qub3JpZ1R5cGUrXCIuXCIrZC5uYW1lc3BhY2U6ZC5vcmlnVHlwZSxkLnNlbGVjdG9yLGQuaGFuZGxlciksdGhpcztpZihcIm9iamVjdFwiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuKGI9PT0hMXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYikmJihjPWIsYj12b2lkIDApLGM9PT0hMSYmKGM9YmIpLHRoaXMuZWFjaChmdW5jdGlvbigpe20uZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bS5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/bS5ldmVudC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSk7ZnVuY3Rpb24gZGIoYSl7dmFyIGI9ZWIuc3BsaXQoXCJ8XCIpLGM9YS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aWYoYy5jcmVhdGVFbGVtZW50KXdoaWxlKGIubGVuZ3RoKWMuY3JlYXRlRWxlbWVudChiLnBvcCgpKTtyZXR1cm4gY312YXIgZWI9XCJhYmJyfGFydGljbGV8YXNpZGV8YXVkaW98YmRpfGNhbnZhc3xkYXRhfGRhdGFsaXN0fGRldGFpbHN8ZmlnY2FwdGlvbnxmaWd1cmV8Zm9vdGVyfGhlYWRlcnxoZ3JvdXB8bWFya3xtZXRlcnxuYXZ8b3V0cHV0fHByb2dyZXNzfHNlY3Rpb258c3VtbWFyeXx0aW1lfHZpZGVvXCIsZmI9LyBqUXVlcnlcXGQrPVwiKD86bnVsbHxcXGQrKVwiL2csZ2I9bmV3IFJlZ0V4cChcIjwoPzpcIitlYitcIilbXFxcXHMvPl1cIixcImlcIiksaGI9L15cXHMrLyxpYj0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Ol0rKVtePl0qKVxcLz4vZ2ksamI9LzwoW1xcdzpdKykvLGtiPS88dGJvZHkvaSxsYj0vPHwmIz9cXHcrOy8sbWI9LzwoPzpzY3JpcHR8c3R5bGV8bGluaykvaSxuYj0vY2hlY2tlZFxccyooPzpbXj1dfD1cXHMqLmNoZWNrZWQuKS9pLG9iPS9eJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2kscGI9L150cnVlXFwvKC4qKS8scWI9L15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nLHJiPXtvcHRpb246WzEsXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsXCI8L3NlbGVjdD5cIl0sbGVnZW5kOlsxLFwiPGZpZWxkc2V0PlwiLFwiPC9maWVsZHNldD5cIl0sYXJlYTpbMSxcIjxtYXA+XCIsXCI8L21hcD5cIl0scGFyYW06WzEsXCI8b2JqZWN0PlwiLFwiPC9vYmplY3Q+XCJdLHRoZWFkOlsxLFwiPHRhYmxlPlwiLFwiPC90YWJsZT5cIl0sdHI6WzIsXCI8dGFibGU+PHRib2R5PlwiLFwiPC90Ym9keT48L3RhYmxlPlwiXSxjb2w6WzIsXCI8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPlwiLFwiPC9jb2xncm91cD48L3RhYmxlPlwiXSx0ZDpbMyxcIjx0YWJsZT48dGJvZHk+PHRyPlwiLFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCJdLF9kZWZhdWx0OmsuaHRtbFNlcmlhbGl6ZT9bMCxcIlwiLFwiXCJdOlsxLFwiWDxkaXY+XCIsXCI8L2Rpdj5cIl19LHNiPWRiKHkpLHRiPXNiLmFwcGVuZENoaWxkKHkuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7cmIub3B0Z3JvdXA9cmIub3B0aW9uLHJiLnRib2R5PXJiLnRmb290PXJiLmNvbGdyb3VwPXJiLmNhcHRpb249cmIudGhlYWQscmIudGg9cmIudGQ7ZnVuY3Rpb24gdWIoYSxiKXt2YXIgYyxkLGU9MCxmPXR5cGVvZiBhLmdldEVsZW1lbnRzQnlUYWdOYW1lIT09Sz9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKGJ8fFwiKlwiKTp0eXBlb2YgYS5xdWVyeVNlbGVjdG9yQWxsIT09Sz9hLnF1ZXJ5U2VsZWN0b3JBbGwoYnx8XCIqXCIpOnZvaWQgMDtpZighZilmb3IoZj1bXSxjPWEuY2hpbGROb2Rlc3x8YTtudWxsIT0oZD1jW2VdKTtlKyspIWJ8fG0ubm9kZU5hbWUoZCxiKT9mLnB1c2goZCk6bS5tZXJnZShmLHViKGQsYikpO3JldHVybiB2b2lkIDA9PT1ifHxiJiZtLm5vZGVOYW1lKGEsYik/bS5tZXJnZShbYV0sZik6Zn1mdW5jdGlvbiB2YihhKXtXLnRlc3QoYS50eXBlKSYmKGEuZGVmYXVsdENoZWNrZWQ9YS5jaGVja2VkKX1mdW5jdGlvbiB3YihhLGIpe3JldHVybiBtLm5vZGVOYW1lKGEsXCJ0YWJsZVwiKSYmbS5ub2RlTmFtZSgxMSE9PWIubm9kZVR5cGU/YjpiLmZpcnN0Q2hpbGQsXCJ0clwiKT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGJvZHlcIilbMF18fGEuYXBwZW5kQ2hpbGQoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKSk6YX1mdW5jdGlvbiB4YihhKXtyZXR1cm4gYS50eXBlPShudWxsIT09bS5maW5kLmF0dHIoYSxcInR5cGVcIikpK1wiL1wiK2EudHlwZSxhfWZ1bmN0aW9uIHliKGEpe3ZhciBiPXBiLmV4ZWMoYS50eXBlKTtyZXR1cm4gYj9hLnR5cGU9YlsxXTphLnJlbW92ZUF0dHJpYnV0ZShcInR5cGVcIiksYX1mdW5jdGlvbiB6YihhLGIpe2Zvcih2YXIgYyxkPTA7bnVsbCE9KGM9YVtkXSk7ZCsrKW0uX2RhdGEoYyxcImdsb2JhbEV2YWxcIiwhYnx8bS5fZGF0YShiW2RdLFwiZ2xvYmFsRXZhbFwiKSl9ZnVuY3Rpb24gQWIoYSxiKXtpZigxPT09Yi5ub2RlVHlwZSYmbS5oYXNEYXRhKGEpKXt2YXIgYyxkLGUsZj1tLl9kYXRhKGEpLGc9bS5fZGF0YShiLGYpLGg9Zi5ldmVudHM7aWYoaCl7ZGVsZXRlIGcuaGFuZGxlLGcuZXZlbnRzPXt9O2ZvcihjIGluIGgpZm9yKGQ9MCxlPWhbY10ubGVuZ3RoO2U+ZDtkKyspbS5ldmVudC5hZGQoYixjLGhbY11bZF0pfWcuZGF0YSYmKGcuZGF0YT1tLmV4dGVuZCh7fSxnLmRhdGEpKX19ZnVuY3Rpb24gQmIoYSxiKXt2YXIgYyxkLGU7aWYoMT09PWIubm9kZVR5cGUpe2lmKGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCFrLm5vQ2xvbmVFdmVudCYmYlttLmV4cGFuZG9dKXtlPW0uX2RhdGEoYik7Zm9yKGQgaW4gZS5ldmVudHMpbS5yZW1vdmVFdmVudChiLGQsZS5oYW5kbGUpO2IucmVtb3ZlQXR0cmlidXRlKG0uZXhwYW5kbyl9XCJzY3JpcHRcIj09PWMmJmIudGV4dCE9PWEudGV4dD8oeGIoYikudGV4dD1hLnRleHQseWIoYikpOlwib2JqZWN0XCI9PT1jPyhiLnBhcmVudE5vZGUmJihiLm91dGVySFRNTD1hLm91dGVySFRNTCksay5odG1sNUNsb25lJiZhLmlubmVySFRNTCYmIW0udHJpbShiLmlubmVySFRNTCkmJihiLmlubmVySFRNTD1hLmlubmVySFRNTCkpOlwiaW5wdXRcIj09PWMmJlcudGVzdChhLnR5cGUpPyhiLmRlZmF1bHRDaGVja2VkPWIuY2hlY2tlZD1hLmNoZWNrZWQsYi52YWx1ZSE9PWEudmFsdWUmJihiLnZhbHVlPWEudmFsdWUpKTpcIm9wdGlvblwiPT09Yz9iLmRlZmF1bHRTZWxlY3RlZD1iLnNlbGVjdGVkPWEuZGVmYXVsdFNlbGVjdGVkOihcImlucHV0XCI9PT1jfHxcInRleHRhcmVhXCI9PT1jKSYmKGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX19bS5leHRlbmQoe2Nsb25lOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGk9bS5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSk7aWYoay5odG1sNUNsb25lfHxtLmlzWE1MRG9jKGEpfHwhZ2IudGVzdChcIjxcIithLm5vZGVOYW1lK1wiPlwiKT9mPWEuY2xvbmVOb2RlKCEwKToodGIuaW5uZXJIVE1MPWEub3V0ZXJIVE1MLHRiLnJlbW92ZUNoaWxkKGY9dGIuZmlyc3RDaGlsZCkpLCEoay5ub0Nsb25lRXZlbnQmJmsubm9DbG9uZUNoZWNrZWR8fDEhPT1hLm5vZGVUeXBlJiYxMSE9PWEubm9kZVR5cGV8fG0uaXNYTUxEb2MoYSkpKWZvcihkPXViKGYpLGg9dWIoYSksZz0wO251bGwhPShlPWhbZ10pOysrZylkW2ddJiZCYihlLGRbZ10pO2lmKGIpaWYoYylmb3IoaD1ofHx1YihhKSxkPWR8fHViKGYpLGc9MDtudWxsIT0oZT1oW2ddKTtnKyspQWIoZSxkW2ddKTtlbHNlIEFiKGEsZik7cmV0dXJuIGQ9dWIoZixcInNjcmlwdFwiKSxkLmxlbmd0aD4wJiZ6YihkLCFpJiZ1YihhLFwic2NyaXB0XCIpKSxkPWg9ZT1udWxsLGZ9LGJ1aWxkRnJhZ21lbnQ6ZnVuY3Rpb24oYSxiLGMsZCl7Zm9yKHZhciBlLGYsZyxoLGksaixsLG49YS5sZW5ndGgsbz1kYihiKSxwPVtdLHE9MDtuPnE7cSsrKWlmKGY9YVtxXSxmfHwwPT09ZilpZihcIm9iamVjdFwiPT09bS50eXBlKGYpKW0ubWVyZ2UocCxmLm5vZGVUeXBlP1tmXTpmKTtlbHNlIGlmKGxiLnRlc3QoZikpe2g9aHx8by5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLGk9KGpiLmV4ZWMoZil8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpLGw9cmJbaV18fHJiLl9kZWZhdWx0LGguaW5uZXJIVE1MPWxbMV0rZi5yZXBsYWNlKGliLFwiPCQxPjwvJDI+XCIpK2xbMl0sZT1sWzBdO3doaWxlKGUtLSloPWgubGFzdENoaWxkO2lmKCFrLmxlYWRpbmdXaGl0ZXNwYWNlJiZoYi50ZXN0KGYpJiZwLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShoYi5leGVjKGYpWzBdKSksIWsudGJvZHkpe2Y9XCJ0YWJsZVwiIT09aXx8a2IudGVzdChmKT9cIjx0YWJsZT5cIiE9PWxbMV18fGtiLnRlc3QoZik/MDpoOmguZmlyc3RDaGlsZCxlPWYmJmYuY2hpbGROb2Rlcy5sZW5ndGg7d2hpbGUoZS0tKW0ubm9kZU5hbWUoaj1mLmNoaWxkTm9kZXNbZV0sXCJ0Ym9keVwiKSYmIWouY2hpbGROb2Rlcy5sZW5ndGgmJmYucmVtb3ZlQ2hpbGQoail9bS5tZXJnZShwLGguY2hpbGROb2RlcyksaC50ZXh0Q29udGVudD1cIlwiO3doaWxlKGguZmlyc3RDaGlsZCloLnJlbW92ZUNoaWxkKGguZmlyc3RDaGlsZCk7aD1vLmxhc3RDaGlsZH1lbHNlIHAucHVzaChiLmNyZWF0ZVRleHROb2RlKGYpKTtoJiZvLnJlbW92ZUNoaWxkKGgpLGsuYXBwZW5kQ2hlY2tlZHx8bS5ncmVwKHViKHAsXCJpbnB1dFwiKSx2YikscT0wO3doaWxlKGY9cFtxKytdKWlmKCghZHx8LTE9PT1tLmluQXJyYXkoZixkKSkmJihnPW0uY29udGFpbnMoZi5vd25lckRvY3VtZW50LGYpLGg9dWIoby5hcHBlbmRDaGlsZChmKSxcInNjcmlwdFwiKSxnJiZ6YihoKSxjKSl7ZT0wO3doaWxlKGY9aFtlKytdKW9iLnRlc3QoZi50eXBlfHxcIlwiKSYmYy5wdXNoKGYpfXJldHVybiBoPW51bGwsb30sY2xlYW5EYXRhOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBkLGUsZixnLGg9MCxpPW0uZXhwYW5kbyxqPW0uY2FjaGUsbD1rLmRlbGV0ZUV4cGFuZG8sbj1tLmV2ZW50LnNwZWNpYWw7bnVsbCE9KGQ9YVtoXSk7aCsrKWlmKChifHxtLmFjY2VwdERhdGEoZCkpJiYoZj1kW2ldLGc9ZiYmaltmXSkpe2lmKGcuZXZlbnRzKWZvcihlIGluIGcuZXZlbnRzKW5bZV0/bS5ldmVudC5yZW1vdmUoZCxlKTptLnJlbW92ZUV2ZW50KGQsZSxnLmhhbmRsZSk7altmXSYmKGRlbGV0ZSBqW2ZdLGw/ZGVsZXRlIGRbaV06dHlwZW9mIGQucmVtb3ZlQXR0cmlidXRlIT09Sz9kLnJlbW92ZUF0dHJpYnV0ZShpKTpkW2ldPW51bGwsYy5wdXNoKGYpKX19fSksbS5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFYodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9tLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHx5KS5jcmVhdGVUZXh0Tm9kZShhKSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj13Yih0aGlzLGEpO2IuYXBwZW5kQ2hpbGQoYSl9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPXdiKHRoaXMsYSk7Yi5pbnNlcnRCZWZvcmUoYSxiLmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcy5uZXh0U2libGluZyl9KX0scmVtb3ZlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9YT9tLmZpbHRlcihhLHRoaXMpOnRoaXMsZT0wO251bGwhPShjPWRbZV0pO2UrKylifHwxIT09Yy5ub2RlVHlwZXx8bS5jbGVhbkRhdGEodWIoYykpLGMucGFyZW50Tm9kZSYmKGImJm0uY29udGFpbnMoYy5vd25lckRvY3VtZW50LGMpJiZ6Yih1YihjLFwic2NyaXB0XCIpKSxjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYykpO3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgYSxiPTA7bnVsbCE9KGE9dGhpc1tiXSk7YisrKXsxPT09YS5ub2RlVHlwZSYmbS5jbGVhbkRhdGEodWIoYSwhMSkpO3doaWxlKGEuZmlyc3RDaGlsZClhLnJlbW92ZUNoaWxkKGEuZmlyc3RDaGlsZCk7YS5vcHRpb25zJiZtLm5vZGVOYW1lKGEsXCJzZWxlY3RcIikmJihhLm9wdGlvbnMubGVuZ3RoPTApfXJldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihhLGIpe3JldHVybiBhPW51bGw9PWE/ITE6YSxiPW51bGw9PWI/YTpiLHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIG0uY2xvbmUodGhpcyxhLGIpfSl9LGh0bWw6ZnVuY3Rpb24oYSl7cmV0dXJuIFYodGhpcyxmdW5jdGlvbihhKXt2YXIgYj10aGlzWzBdfHx7fSxjPTAsZD10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1hKXJldHVybiAxPT09Yi5ub2RlVHlwZT9iLmlubmVySFRNTC5yZXBsYWNlKGZiLFwiXCIpOnZvaWQgMDtpZighKFwic3RyaW5nXCIhPXR5cGVvZiBhfHxtYi50ZXN0KGEpfHwhay5odG1sU2VyaWFsaXplJiZnYi50ZXN0KGEpfHwhay5sZWFkaW5nV2hpdGVzcGFjZSYmaGIudGVzdChhKXx8cmJbKGpiLmV4ZWMoYSl8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpXSkpe2E9YS5yZXBsYWNlKGliLFwiPCQxPjwvJDI+XCIpO3RyeXtmb3IoO2Q+YztjKyspYj10aGlzW2NdfHx7fSwxPT09Yi5ub2RlVHlwZSYmKG0uY2xlYW5EYXRhKHViKGIsITEpKSxiLmlubmVySFRNTD1hKTtiPTB9Y2F0Y2goZSl7fX1iJiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGEpfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihiKXthPXRoaXMucGFyZW50Tm9kZSxtLmNsZWFuRGF0YSh1Yih0aGlzKSksYSYmYS5yZXBsYWNlQ2hpbGQoYix0aGlzKX0pLGEmJihhLmxlbmd0aHx8YS5ub2RlVHlwZSk/dGhpczp0aGlzLnJlbW92ZSgpfSxkZXRhY2g6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmVtb3ZlKGEsITApfSxkb21NYW5pcDpmdW5jdGlvbihhLGIpe2E9ZS5hcHBseShbXSxhKTt2YXIgYyxkLGYsZyxoLGksaj0wLGw9dGhpcy5sZW5ndGgsbj10aGlzLG89bC0xLHA9YVswXSxxPW0uaXNGdW5jdGlvbihwKTtpZihxfHxsPjEmJlwic3RyaW5nXCI9PXR5cGVvZiBwJiYhay5jaGVja0Nsb25lJiZuYi50ZXN0KHApKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGQ9bi5lcShjKTtxJiYoYVswXT1wLmNhbGwodGhpcyxjLGQuaHRtbCgpKSksZC5kb21NYW5pcChhLGIpfSk7aWYobCYmKGk9bS5idWlsZEZyYWdtZW50KGEsdGhpc1swXS5vd25lckRvY3VtZW50LCExLHRoaXMpLGM9aS5maXJzdENoaWxkLDE9PT1pLmNoaWxkTm9kZXMubGVuZ3RoJiYoaT1jKSxjKSl7Zm9yKGc9bS5tYXAodWIoaSxcInNjcmlwdFwiKSx4YiksZj1nLmxlbmd0aDtsPmo7aisrKWQ9aSxqIT09byYmKGQ9bS5jbG9uZShkLCEwLCEwKSxmJiZtLm1lcmdlKGcsdWIoZCxcInNjcmlwdFwiKSkpLGIuY2FsbCh0aGlzW2pdLGQsaik7aWYoZilmb3IoaD1nW2cubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsbS5tYXAoZyx5Yiksaj0wO2Y+ajtqKyspZD1nW2pdLG9iLnRlc3QoZC50eXBlfHxcIlwiKSYmIW0uX2RhdGEoZCxcImdsb2JhbEV2YWxcIikmJm0uY29udGFpbnMoaCxkKSYmKGQuc3JjP20uX2V2YWxVcmwmJm0uX2V2YWxVcmwoZC5zcmMpOm0uZ2xvYmFsRXZhbCgoZC50ZXh0fHxkLnRleHRDb250ZW50fHxkLmlubmVySFRNTHx8XCJcIikucmVwbGFjZShxYixcIlwiKSkpO2k9Yz1udWxsfXJldHVybiB0aGlzfX0pLG0uZWFjaCh7YXBwZW5kVG86XCJhcHBlbmRcIixwcmVwZW5kVG86XCJwcmVwZW5kXCIsaW5zZXJ0QmVmb3JlOlwiYmVmb3JlXCIsaW5zZXJ0QWZ0ZXI6XCJhZnRlclwiLHJlcGxhY2VBbGw6XCJyZXBsYWNlV2l0aFwifSxmdW5jdGlvbihhLGIpe20uZm5bYV09ZnVuY3Rpb24oYSl7Zm9yKHZhciBjLGQ9MCxlPVtdLGc9bShhKSxoPWcubGVuZ3RoLTE7aD49ZDtkKyspYz1kPT09aD90aGlzOnRoaXMuY2xvbmUoITApLG0oZ1tkXSlbYl0oYyksZi5hcHBseShlLGMuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgQ2IsRGI9e307ZnVuY3Rpb24gRWIoYixjKXt2YXIgZCxlPW0oYy5jcmVhdGVFbGVtZW50KGIpKS5hcHBlbmRUbyhjLmJvZHkpLGY9YS5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSYmKGQ9YS5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZShlWzBdKSk/ZC5kaXNwbGF5Om0uY3NzKGVbMF0sXCJkaXNwbGF5XCIpO3JldHVybiBlLmRldGFjaCgpLGZ9ZnVuY3Rpb24gRmIoYSl7dmFyIGI9eSxjPURiW2FdO3JldHVybiBjfHwoYz1FYihhLGIpLFwibm9uZVwiIT09YyYmY3x8KENiPShDYnx8bShcIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHdpZHRoPScwJyBoZWlnaHQ9JzAnLz5cIikpLmFwcGVuZFRvKGIuZG9jdW1lbnRFbGVtZW50KSxiPShDYlswXS5jb250ZW50V2luZG93fHxDYlswXS5jb250ZW50RG9jdW1lbnQpLmRvY3VtZW50LGIud3JpdGUoKSxiLmNsb3NlKCksYz1FYihhLGIpLENiLmRldGFjaCgpKSxEYlthXT1jKSxjfSFmdW5jdGlvbigpe3ZhciBhO2suc2hyaW5rV3JhcEJsb2Nrcz1mdW5jdGlvbigpe2lmKG51bGwhPWEpcmV0dXJuIGE7YT0hMTt2YXIgYixjLGQ7cmV0dXJuIGM9eS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF0sYyYmYy5zdHlsZT8oYj15LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZD15LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZC5zdHlsZS5jc3NUZXh0PVwicG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHhcIixjLmFwcGVuZENoaWxkKGQpLmFwcGVuZENoaWxkKGIpLHR5cGVvZiBiLnN0eWxlLnpvb20hPT1LJiYoYi5zdHlsZS5jc3NUZXh0PVwiLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tb3otYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzoxcHg7d2lkdGg6MXB4O3pvb206MVwiLGIuYXBwZW5kQ2hpbGQoeS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5zdHlsZS53aWR0aD1cIjVweFwiLGE9MyE9PWIub2Zmc2V0V2lkdGgpLGMucmVtb3ZlQ2hpbGQoZCksYSk6dm9pZCAwfX0oKTt2YXIgR2I9L15tYXJnaW4vLEhiPW5ldyBSZWdFeHAoXCJeKFwiK1MrXCIpKD8hcHgpW2EteiVdKyRcIixcImlcIiksSWIsSmIsS2I9L14odG9wfHJpZ2h0fGJvdHRvbXxsZWZ0KSQvO2EuZ2V0Q29tcHV0ZWRTdHlsZT8oSWI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGEsbnVsbCl9LEpiPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8SWIoYSksZz1jP2MuZ2V0UHJvcGVydHlWYWx1ZShiKXx8Y1tiXTp2b2lkIDAsYyYmKFwiXCIhPT1nfHxtLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9bS5zdHlsZShhLGIpKSxIYi50ZXN0KGcpJiZHYi50ZXN0KGIpJiYoZD1oLndpZHRoLGU9aC5taW5XaWR0aCxmPWgubWF4V2lkdGgsaC5taW5XaWR0aD1oLm1heFdpZHRoPWgud2lkdGg9ZyxnPWMud2lkdGgsaC53aWR0aD1kLGgubWluV2lkdGg9ZSxoLm1heFdpZHRoPWYpKSx2b2lkIDA9PT1nP2c6ZytcIlwifSk6eS5kb2N1bWVudEVsZW1lbnQuY3VycmVudFN0eWxlJiYoSWI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY3VycmVudFN0eWxlfSxKYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLnN0eWxlO3JldHVybiBjPWN8fEliKGEpLGc9Yz9jW2JdOnZvaWQgMCxudWxsPT1nJiZoJiZoW2JdJiYoZz1oW2JdKSxIYi50ZXN0KGcpJiYhS2IudGVzdChiKSYmKGQ9aC5sZWZ0LGU9YS5ydW50aW1lU3R5bGUsZj1lJiZlLmxlZnQsZiYmKGUubGVmdD1hLmN1cnJlbnRTdHlsZS5sZWZ0KSxoLmxlZnQ9XCJmb250U2l6ZVwiPT09Yj9cIjFlbVwiOmcsZz1oLnBpeGVsTGVmdCtcInB4XCIsaC5sZWZ0PWQsZiYmKGUubGVmdD1mKSksdm9pZCAwPT09Zz9nOmcrXCJcInx8XCJhdXRvXCJ9KTtmdW5jdGlvbiBMYihhLGIpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXt2YXIgYz1hKCk7aWYobnVsbCE9YylyZXR1cm4gYz92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19IWZ1bmN0aW9uKCl7dmFyIGIsYyxkLGUsZixnLGg7aWYoYj15LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksYi5pbm5lckhUTUw9XCIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz5cIixkPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJhXCIpWzBdLGM9ZCYmZC5zdHlsZSl7Yy5jc3NUZXh0PVwiZmxvYXQ6bGVmdDtvcGFjaXR5Oi41XCIsay5vcGFjaXR5PVwiMC41XCI9PT1jLm9wYWNpdHksay5jc3NGbG9hdD0hIWMuY3NzRmxvYXQsYi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cImNvbnRlbnQtYm94XCIsYi5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPVwiXCIsay5jbGVhckNsb25lU3R5bGU9XCJjb250ZW50LWJveFwiPT09Yi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxrLmJveFNpemluZz1cIlwiPT09Yy5ib3hTaXppbmd8fFwiXCI9PT1jLk1vekJveFNpemluZ3x8XCJcIj09PWMuV2Via2l0Qm94U2l6aW5nLG0uZXh0ZW5kKGsse3JlbGlhYmxlSGlkZGVuT2Zmc2V0czpmdW5jdGlvbigpe3JldHVybiBudWxsPT1nJiZpKCksZ30sYm94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09ZiYmaSgpLGZ9LHBpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09ZSYmaSgpLGV9LHJlbGlhYmxlTWFyZ2luUmlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09aCYmaSgpLGh9fSk7ZnVuY3Rpb24gaSgpe3ZhciBiLGMsZCxpO2M9eS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF0sYyYmYy5zdHlsZSYmKGI9eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGQ9eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGQuc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOmFic29sdXRlO2JvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4XCIsYy5hcHBlbmRDaGlsZChkKS5hcHBlbmRDaGlsZChiKSxiLnN0eWxlLmNzc1RleHQ9XCItd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDstbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7ZGlzcGxheTpibG9jazttYXJnaW4tdG9wOjElO3RvcDoxJTtib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3dpZHRoOjRweDtwb3NpdGlvbjphYnNvbHV0ZVwiLGU9Zj0hMSxoPSEwLGEuZ2V0Q29tcHV0ZWRTdHlsZSYmKGU9XCIxJVwiIT09KGEuZ2V0Q29tcHV0ZWRTdHlsZShiLG51bGwpfHx7fSkudG9wLGY9XCI0cHhcIj09PShhLmdldENvbXB1dGVkU3R5bGUoYixudWxsKXx8e3dpZHRoOlwiNHB4XCJ9KS53aWR0aCxpPWIuYXBwZW5kQ2hpbGQoeS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxpLnN0eWxlLmNzc1RleHQ9Yi5zdHlsZS5jc3NUZXh0PVwiLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tb3otYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowXCIsaS5zdHlsZS5tYXJnaW5SaWdodD1pLnN0eWxlLndpZHRoPVwiMFwiLGIuc3R5bGUud2lkdGg9XCIxcHhcIixoPSFwYXJzZUZsb2F0KChhLmdldENvbXB1dGVkU3R5bGUoaSxudWxsKXx8e30pLm1hcmdpblJpZ2h0KSksYi5pbm5lckhUTUw9XCI8dGFibGU+PHRyPjx0ZD48L3RkPjx0ZD50PC90ZD48L3RyPjwvdGFibGU+XCIsaT1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGRcIiksaVswXS5zdHlsZS5jc3NUZXh0PVwibWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowO2Rpc3BsYXk6bm9uZVwiLGc9MD09PWlbMF0ub2Zmc2V0SGVpZ2h0LGcmJihpWzBdLnN0eWxlLmRpc3BsYXk9XCJcIixpWzFdLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZz0wPT09aVswXS5vZmZzZXRIZWlnaHQpLGMucmVtb3ZlQ2hpbGQoZCkpfX19KCksbS5zd2FwPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZz17fTtmb3IoZiBpbiBiKWdbZl09YS5zdHlsZVtmXSxhLnN0eWxlW2ZdPWJbZl07ZT1jLmFwcGx5KGEsZHx8W10pO2ZvcihmIGluIGIpYS5zdHlsZVtmXT1nW2ZdO3JldHVybiBlfTt2YXIgTWI9L2FscGhhXFwoW14pXSpcXCkvaSxOYj0vb3BhY2l0eVxccyo9XFxzKihbXildKikvLE9iPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxQYj1uZXcgUmVnRXhwKFwiXihcIitTK1wiKSguKikkXCIsXCJpXCIpLFFiPW5ldyBSZWdFeHAoXCJeKFsrLV0pPShcIitTK1wiKVwiLFwiaVwiKSxSYj17cG9zaXRpb246XCJhYnNvbHV0ZVwiLHZpc2liaWxpdHk6XCJoaWRkZW5cIixkaXNwbGF5OlwiYmxvY2tcIn0sU2I9e2xldHRlclNwYWNpbmc6XCIwXCIsZm9udFdlaWdodDpcIjQwMFwifSxUYj1bXCJXZWJraXRcIixcIk9cIixcIk1velwiLFwibXNcIl07ZnVuY3Rpb24gVWIoYSxiKXtpZihiIGluIGEpcmV0dXJuIGI7dmFyIGM9Yi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStiLnNsaWNlKDEpLGQ9YixlPVRiLmxlbmd0aDt3aGlsZShlLS0paWYoYj1UYltlXStjLGIgaW4gYSlyZXR1cm4gYjtyZXR1cm4gZH1mdW5jdGlvbiBWYihhLGIpe2Zvcih2YXIgYyxkLGUsZj1bXSxnPTAsaD1hLmxlbmd0aDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoZltnXT1tLl9kYXRhKGQsXCJvbGRkaXNwbGF5XCIpLGM9ZC5zdHlsZS5kaXNwbGF5LGI/KGZbZ118fFwibm9uZVwiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT1cIlwiKSxcIlwiPT09ZC5zdHlsZS5kaXNwbGF5JiZVKGQpJiYoZltnXT1tLl9kYXRhKGQsXCJvbGRkaXNwbGF5XCIsRmIoZC5ub2RlTmFtZSkpKSk6KGU9VShkKSwoYyYmXCJub25lXCIhPT1jfHwhZSkmJm0uX2RhdGEoZCxcIm9sZGRpc3BsYXlcIixlP2M6bS5jc3MoZCxcImRpc3BsYXlcIikpKSk7Zm9yKGc9MDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoYiYmXCJub25lXCIhPT1kLnN0eWxlLmRpc3BsYXkmJlwiXCIhPT1kLnN0eWxlLmRpc3BsYXl8fChkLnN0eWxlLmRpc3BsYXk9Yj9mW2ddfHxcIlwiOlwibm9uZVwiKSk7cmV0dXJuIGF9ZnVuY3Rpb24gV2IoYSxiLGMpe3ZhciBkPVBiLmV4ZWMoYik7cmV0dXJuIGQ/TWF0aC5tYXgoMCxkWzFdLShjfHwwKSkrKGRbMl18fFwicHhcIik6Yn1mdW5jdGlvbiBYYihhLGIsYyxkLGUpe2Zvcih2YXIgZj1jPT09KGQ/XCJib3JkZXJcIjpcImNvbnRlbnRcIik/NDpcIndpZHRoXCI9PT1iPzE6MCxnPTA7ND5mO2YrPTIpXCJtYXJnaW5cIj09PWMmJihnKz1tLmNzcyhhLGMrVFtmXSwhMCxlKSksZD8oXCJjb250ZW50XCI9PT1jJiYoZy09bS5jc3MoYSxcInBhZGRpbmdcIitUW2ZdLCEwLGUpKSxcIm1hcmdpblwiIT09YyYmKGctPW0uY3NzKGEsXCJib3JkZXJcIitUW2ZdK1wiV2lkdGhcIiwhMCxlKSkpOihnKz1tLmNzcyhhLFwicGFkZGluZ1wiK1RbZl0sITAsZSksXCJwYWRkaW5nXCIhPT1jJiYoZys9bS5jc3MoYSxcImJvcmRlclwiK1RbZl0rXCJXaWR0aFwiLCEwLGUpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gWWIoYSxiLGMpe3ZhciBkPSEwLGU9XCJ3aWR0aFwiPT09Yj9hLm9mZnNldFdpZHRoOmEub2Zmc2V0SGVpZ2h0LGY9SWIoYSksZz1rLmJveFNpemluZyYmXCJib3JkZXItYm94XCI9PT1tLmNzcyhhLFwiYm94U2l6aW5nXCIsITEsZik7aWYoMD49ZXx8bnVsbD09ZSl7aWYoZT1KYihhLGIsZiksKDA+ZXx8bnVsbD09ZSkmJihlPWEuc3R5bGVbYl0pLEhiLnRlc3QoZSkpcmV0dXJuIGU7ZD1nJiYoay5ib3hTaXppbmdSZWxpYWJsZSgpfHxlPT09YS5zdHlsZVtiXSksZT1wYXJzZUZsb2F0KGUpfHwwfXJldHVybiBlK1hiKGEsYixjfHwoZz9cImJvcmRlclwiOlwiY29udGVudFwiKSxkLGYpK1wicHhcIn1tLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPUpiKGEsXCJvcGFjaXR5XCIpO3JldHVyblwiXCI9PT1jP1wiMVwiOmN9fX19LGNzc051bWJlcjp7Y29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e1wiZmxvYXRcIjprLmNzc0Zsb2F0P1wiY3NzRmxvYXRcIjpcInN0eWxlRmxvYXRcIn0sc3R5bGU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYSYmMyE9PWEubm9kZVR5cGUmJjghPT1hLm5vZGVUeXBlJiZhLnN0eWxlKXt2YXIgZSxmLGcsaD1tLmNhbWVsQ2FzZShiKSxpPWEuc3R5bGU7aWYoYj1tLmNzc1Byb3BzW2hdfHwobS5jc3NQcm9wc1toXT1VYihpLGgpKSxnPW0uY3NzSG9va3NbYl18fG0uY3NzSG9va3NbaF0sdm9pZCAwPT09YylyZXR1cm4gZyYmXCJnZXRcImluIGcmJnZvaWQgMCE9PShlPWcuZ2V0KGEsITEsZCkpP2U6aVtiXTtpZihmPXR5cGVvZiBjLFwic3RyaW5nXCI9PT1mJiYoZT1RYi5leGVjKGMpKSYmKGM9KGVbMV0rMSkqZVsyXStwYXJzZUZsb2F0KG0uY3NzKGEsYikpLGY9XCJudW1iZXJcIiksbnVsbCE9YyYmYz09PWMmJihcIm51bWJlclwiIT09Znx8bS5jc3NOdW1iZXJbaF18fChjKz1cInB4XCIpLGsuY2xlYXJDbG9uZVN0eWxlfHxcIlwiIT09Y3x8MCE9PWIuaW5kZXhPZihcImJhY2tncm91bmRcIil8fChpW2JdPVwiaW5oZXJpdFwiKSwhKGcmJlwic2V0XCJpbiBnJiZ2b2lkIDA9PT0oYz1nLnNldChhLGMsZCkpKSkpdHJ5e2lbYl09Y31jYXRjaChqKXt9fX0sY3NzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoPW0uY2FtZWxDYXNlKGIpO3JldHVybiBiPW0uY3NzUHJvcHNbaF18fChtLmNzc1Byb3BzW2hdPVViKGEuc3R5bGUsaCkpLGc9bS5jc3NIb29rc1tiXXx8bS5jc3NIb29rc1toXSxnJiZcImdldFwiaW4gZyYmKGY9Zy5nZXQoYSwhMCxjKSksdm9pZCAwPT09ZiYmKGY9SmIoYSxiLGQpKSxcIm5vcm1hbFwiPT09ZiYmYiBpbiBTYiYmKGY9U2JbYl0pLFwiXCI9PT1jfHxjPyhlPXBhcnNlRmxvYXQoZiksYz09PSEwfHxtLmlzTnVtZXJpYyhlKT9lfHwwOmYpOmZ9fSksbS5lYWNoKFtcImhlaWdodFwiLFwid2lkdGhcIl0sZnVuY3Rpb24oYSxiKXttLmNzc0hvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBjP09iLnRlc3QobS5jc3MoYSxcImRpc3BsYXlcIikpJiYwPT09YS5vZmZzZXRXaWR0aD9tLnN3YXAoYSxSYixmdW5jdGlvbigpe3JldHVybiBZYihhLGIsZCl9KTpZYihhLGIsZCk6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWQmJkliKGEpO3JldHVybiBXYihhLGMsZD9YYihhLGIsZCxrLmJveFNpemluZyYmXCJib3JkZXItYm94XCI9PT1tLmNzcyhhLFwiYm94U2l6aW5nXCIsITEsZSksZSk6MCl9fX0pLGsub3BhY2l0eXx8KG0uY3NzSG9va3Mub3BhY2l0eT17Z2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIE5iLnRlc3QoKGImJmEuY3VycmVudFN0eWxlP2EuY3VycmVudFN0eWxlLmZpbHRlcjphLnN0eWxlLmZpbHRlcil8fFwiXCIpPy4wMSpwYXJzZUZsb2F0KFJlZ0V4cC4kMSkrXCJcIjpiP1wiMVwiOlwiXCJ9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuc3R5bGUsZD1hLmN1cnJlbnRTdHlsZSxlPW0uaXNOdW1lcmljKGIpP1wiYWxwaGEob3BhY2l0eT1cIisxMDAqYitcIilcIjpcIlwiLGY9ZCYmZC5maWx0ZXJ8fGMuZmlsdGVyfHxcIlwiO2Muem9vbT0xLChiPj0xfHxcIlwiPT09YikmJlwiXCI9PT1tLnRyaW0oZi5yZXBsYWNlKE1iLFwiXCIpKSYmYy5yZW1vdmVBdHRyaWJ1dGUmJihjLnJlbW92ZUF0dHJpYnV0ZShcImZpbHRlclwiKSxcIlwiPT09Ynx8ZCYmIWQuZmlsdGVyKXx8KGMuZmlsdGVyPU1iLnRlc3QoZik/Zi5yZXBsYWNlKE1iLGUpOmYrXCIgXCIrZSl9fSksbS5jc3NIb29rcy5tYXJnaW5SaWdodD1MYihrLnJlbGlhYmxlTWFyZ2luUmlnaHQsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9tLnN3YXAoYSx7ZGlzcGxheTpcImlubGluZS1ibG9ja1wifSxKYixbYSxcIm1hcmdpblJpZ2h0XCJdKTp2b2lkIDB9KSxtLmVhY2goe21hcmdpbjpcIlwiLHBhZGRpbmc6XCJcIixib3JkZXI6XCJXaWR0aFwifSxmdW5jdGlvbihhLGIpe20uY3NzSG9va3NbYStiXT17ZXhwYW5kOmZ1bmN0aW9uKGMpe2Zvcih2YXIgZD0wLGU9e30sZj1cInN0cmluZ1wiPT10eXBlb2YgYz9jLnNwbGl0KFwiIFwiKTpbY107ND5kO2QrKyllW2ErVFtkXStiXT1mW2RdfHxmW2QtMl18fGZbMF07cmV0dXJuIGV9fSxHYi50ZXN0KGEpfHwobS5jc3NIb29rc1thK2JdLnNldD1XYil9KSxtLmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFYodGhpcyxmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPXt9LGc9MDtpZihtLmlzQXJyYXkoYikpe2ZvcihkPUliKGEpLGU9Yi5sZW5ndGg7ZT5nO2crKylmW2JbZ11dPW0uY3NzKGEsYltnXSwhMSxkKTtyZXR1cm4gZn1yZXR1cm4gdm9pZCAwIT09Yz9tLnN0eWxlKGEsYixjKTptLmNzcyhhLGIpfSxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiBWYih0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBWYih0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgYT9hP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpOnRoaXMuZWFjaChmdW5jdGlvbigpe1UodGhpcyk/bSh0aGlzKS5zaG93KCk6bSh0aGlzKS5oaWRlKCl9KX19KTtmdW5jdGlvbiBaYihhLGIsYyxkLGUpe3JldHVybiBuZXcgWmIucHJvdG90eXBlLmluaXQoYSxiLGMsZCxlKX1tLlR3ZWVuPVpiLFpiLnByb3RvdHlwZT17Y29uc3RydWN0b3I6WmIsaW5pdDpmdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5lbGVtPWEsdGhpcy5wcm9wPWMsdGhpcy5lYXNpbmc9ZXx8XCJzd2luZ1wiLHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwobS5jc3NOdW1iZXJbY10/XCJcIjpcInB4XCIpXG59LGN1cjpmdW5jdGlvbigpe3ZhciBhPVpiLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTpaYi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1aYi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5wb3M9Yj10aGlzLm9wdGlvbnMuZHVyYXRpb24/bS5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6YSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqYit0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxjJiZjLnNldD9jLnNldCh0aGlzKTpaYi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSxaYi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9WmIucHJvdG90eXBlLFpiLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gbnVsbD09YS5lbGVtW2EucHJvcF18fGEuZWxlbS5zdHlsZSYmbnVsbCE9YS5lbGVtLnN0eWxlW2EucHJvcF0/KGI9bS5jc3MoYS5lbGVtLGEucHJvcCxcIlwiKSxiJiZcImF1dG9cIiE9PWI/YjowKTphLmVsZW1bYS5wcm9wXX0sc2V0OmZ1bmN0aW9uKGEpe20uZnguc3RlcFthLnByb3BdP20uZnguc3RlcFthLnByb3BdKGEpOmEuZWxlbS5zdHlsZSYmKG51bGwhPWEuZWxlbS5zdHlsZVttLmNzc1Byb3BzW2EucHJvcF1dfHxtLmNzc0hvb2tzW2EucHJvcF0pP20uc3R5bGUoYS5lbGVtLGEucHJvcCxhLm5vdythLnVuaXQpOmEuZWxlbVthLnByb3BdPWEubm93fX19LFpiLnByb3BIb29rcy5zY3JvbGxUb3A9WmIucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihhKXthLmVsZW0ubm9kZVR5cGUmJmEuZWxlbS5wYXJlbnROb2RlJiYoYS5lbGVtW2EucHJvcF09YS5ub3cpfX0sbS5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihhKXtyZXR1cm4gYX0sc3dpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuLjUtTWF0aC5jb3MoYSpNYXRoLlBJKS8yfX0sbS5meD1aYi5wcm90b3R5cGUuaW5pdCxtLmZ4LnN0ZXA9e307dmFyICRiLF9iLGFjPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxiYz1uZXcgUmVnRXhwKFwiXig/OihbKy1dKT18KShcIitTK1wiKShbYS16JV0qKSRcIixcImlcIiksY2M9L3F1ZXVlSG9va3MkLyxkYz1baWNdLGVjPXtcIipcIjpbZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZVR3ZWVuKGEsYiksZD1jLmN1cigpLGU9YmMuZXhlYyhiKSxmPWUmJmVbM118fChtLmNzc051bWJlclthXT9cIlwiOlwicHhcIiksZz0obS5jc3NOdW1iZXJbYV18fFwicHhcIiE9PWYmJitkKSYmYmMuZXhlYyhtLmNzcyhjLmVsZW0sYSkpLGg9MSxpPTIwO2lmKGcmJmdbM10hPT1mKXtmPWZ8fGdbM10sZT1lfHxbXSxnPStkfHwxO2RvIGg9aHx8XCIuNVwiLGcvPWgsbS5zdHlsZShjLmVsZW0sYSxnK2YpO3doaWxlKGghPT0oaD1jLmN1cigpL2QpJiYxIT09aCYmLS1pKX1yZXR1cm4gZSYmKGc9Yy5zdGFydD0rZ3x8K2R8fDAsYy51bml0PWYsYy5lbmQ9ZVsxXT9nKyhlWzFdKzEpKmVbMl06K2VbMl0pLGN9XX07ZnVuY3Rpb24gZmMoKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpeyRiPXZvaWQgMH0pLCRiPW0ubm93KCl9ZnVuY3Rpb24gZ2MoYSxiKXt2YXIgYyxkPXtoZWlnaHQ6YX0sZT0wO2ZvcihiPWI/MTowOzQ+ZTtlKz0yLWIpYz1UW2VdLGRbXCJtYXJnaW5cIitjXT1kW1wicGFkZGluZ1wiK2NdPWE7cmV0dXJuIGImJihkLm9wYWNpdHk9ZC53aWR0aD1hKSxkfWZ1bmN0aW9uIGhjKGEsYixjKXtmb3IodmFyIGQsZT0oZWNbYl18fFtdKS5jb25jYXQoZWNbXCIqXCJdKSxmPTAsZz1lLmxlbmd0aDtnPmY7ZisrKWlmKGQ9ZVtmXS5jYWxsKGMsYixhKSlyZXR1cm4gZH1mdW5jdGlvbiBpYyhhLGIsYyl7dmFyIGQsZSxmLGcsaCxpLGosbCxuPXRoaXMsbz17fSxwPWEuc3R5bGUscT1hLm5vZGVUeXBlJiZVKGEpLHI9bS5fZGF0YShhLFwiZnhzaG93XCIpO2MucXVldWV8fChoPW0uX3F1ZXVlSG9va3MoYSxcImZ4XCIpLG51bGw9PWgudW5xdWV1ZWQmJihoLnVucXVldWVkPTAsaT1oLmVtcHR5LmZpcmUsaC5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7aC51bnF1ZXVlZHx8aSgpfSksaC51bnF1ZXVlZCsrLG4uYWx3YXlzKGZ1bmN0aW9uKCl7bi5hbHdheXMoZnVuY3Rpb24oKXtoLnVucXVldWVkLS0sbS5xdWV1ZShhLFwiZnhcIikubGVuZ3RofHxoLmVtcHR5LmZpcmUoKX0pfSkpLDE9PT1hLm5vZGVUeXBlJiYoXCJoZWlnaHRcImluIGJ8fFwid2lkdGhcImluIGIpJiYoYy5vdmVyZmxvdz1bcC5vdmVyZmxvdyxwLm92ZXJmbG93WCxwLm92ZXJmbG93WV0saj1tLmNzcyhhLFwiZGlzcGxheVwiKSxsPVwibm9uZVwiPT09aj9tLl9kYXRhKGEsXCJvbGRkaXNwbGF5XCIpfHxGYihhLm5vZGVOYW1lKTpqLFwiaW5saW5lXCI9PT1sJiZcIm5vbmVcIj09PW0uY3NzKGEsXCJmbG9hdFwiKSYmKGsuaW5saW5lQmxvY2tOZWVkc0xheW91dCYmXCJpbmxpbmVcIiE9PUZiKGEubm9kZU5hbWUpP3Auem9vbT0xOnAuZGlzcGxheT1cImlubGluZS1ibG9ja1wiKSksYy5vdmVyZmxvdyYmKHAub3ZlcmZsb3c9XCJoaWRkZW5cIixrLnNocmlua1dyYXBCbG9ja3MoKXx8bi5hbHdheXMoZnVuY3Rpb24oKXtwLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0scC5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxwLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLGFjLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8XCJ0b2dnbGVcIj09PWUsZT09PShxP1wiaGlkZVwiOlwic2hvd1wiKSl7aWYoXCJzaG93XCIhPT1lfHwhcnx8dm9pZCAwPT09cltkXSljb250aW51ZTtxPSEwfW9bZF09ciYmcltkXXx8bS5zdHlsZShhLGQpfWVsc2Ugaj12b2lkIDA7aWYobS5pc0VtcHR5T2JqZWN0KG8pKVwiaW5saW5lXCI9PT0oXCJub25lXCI9PT1qP0ZiKGEubm9kZU5hbWUpOmopJiYocC5kaXNwbGF5PWopO2Vsc2V7cj9cImhpZGRlblwiaW4gciYmKHE9ci5oaWRkZW4pOnI9bS5fZGF0YShhLFwiZnhzaG93XCIse30pLGYmJihyLmhpZGRlbj0hcSkscT9tKGEpLnNob3coKTpuLmRvbmUoZnVuY3Rpb24oKXttKGEpLmhpZGUoKX0pLG4uZG9uZShmdW5jdGlvbigpe3ZhciBiO20uX3JlbW92ZURhdGEoYSxcImZ4c2hvd1wiKTtmb3IoYiBpbiBvKW0uc3R5bGUoYSxiLG9bYl0pfSk7Zm9yKGQgaW4gbylnPWhjKHE/cltkXTowLGQsbiksZCBpbiByfHwocltkXT1nLnN0YXJ0LHEmJihnLmVuZD1nLnN0YXJ0LGcuc3RhcnQ9XCJ3aWR0aFwiPT09ZHx8XCJoZWlnaHRcIj09PWQ/MTowKSl9fWZ1bmN0aW9uIGpjKGEsYil7dmFyIGMsZCxlLGYsZztmb3IoYyBpbiBhKWlmKGQ9bS5jYW1lbENhc2UoYyksZT1iW2RdLGY9YVtjXSxtLmlzQXJyYXkoZikmJihlPWZbMV0sZj1hW2NdPWZbMF0pLGMhPT1kJiYoYVtkXT1mLGRlbGV0ZSBhW2NdKSxnPW0uY3NzSG9va3NbZF0sZyYmXCJleHBhbmRcImluIGcpe2Y9Zy5leHBhbmQoZiksZGVsZXRlIGFbZF07Zm9yKGMgaW4gZiljIGluIGF8fChhW2NdPWZbY10sYltjXT1lKX1lbHNlIGJbZF09ZX1mdW5jdGlvbiBrYyhhLGIsYyl7dmFyIGQsZSxmPTAsZz1kYy5sZW5ndGgsaD1tLkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIGkuZWxlbX0pLGk9ZnVuY3Rpb24oKXtpZihlKXJldHVybiExO2Zvcih2YXIgYj0kYnx8ZmMoKSxjPU1hdGgubWF4KDAsai5zdGFydFRpbWUrai5kdXJhdGlvbi1iKSxkPWMvai5kdXJhdGlvbnx8MCxmPTEtZCxnPTAsaT1qLnR3ZWVucy5sZW5ndGg7aT5nO2crKylqLnR3ZWVuc1tnXS5ydW4oZik7cmV0dXJuIGgubm90aWZ5V2l0aChhLFtqLGYsY10pLDE+ZiYmaT9jOihoLnJlc29sdmVXaXRoKGEsW2pdKSwhMSl9LGo9aC5wcm9taXNlKHtlbGVtOmEscHJvcHM6bS5leHRlbmQoe30sYiksb3B0czptLmV4dGVuZCghMCx7c3BlY2lhbEVhc2luZzp7fX0sYyksb3JpZ2luYWxQcm9wZXJ0aWVzOmIsb3JpZ2luYWxPcHRpb25zOmMsc3RhcnRUaW1lOiRifHxmYygpLGR1cmF0aW9uOmMuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9bS5Ud2VlbihhLGoub3B0cyxiLGMsai5vcHRzLnNwZWNpYWxFYXNpbmdbYl18fGoub3B0cy5lYXNpbmcpO3JldHVybiBqLnR3ZWVucy5wdXNoKGQpLGR9LHN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9MCxkPWI/ai50d2VlbnMubGVuZ3RoOjA7aWYoZSlyZXR1cm4gdGhpcztmb3IoZT0hMDtkPmM7YysrKWoudHdlZW5zW2NdLnJ1bigxKTtyZXR1cm4gYj9oLnJlc29sdmVXaXRoKGEsW2osYl0pOmgucmVqZWN0V2l0aChhLFtqLGJdKSx0aGlzfX0pLGs9ai5wcm9wcztmb3IoamMoayxqLm9wdHMuc3BlY2lhbEVhc2luZyk7Zz5mO2YrKylpZihkPWRjW2ZdLmNhbGwoaixhLGssai5vcHRzKSlyZXR1cm4gZDtyZXR1cm4gbS5tYXAoayxoYyxqKSxtLmlzRnVuY3Rpb24oai5vcHRzLnN0YXJ0KSYmai5vcHRzLnN0YXJ0LmNhbGwoYSxqKSxtLmZ4LnRpbWVyKG0uZXh0ZW5kKGkse2VsZW06YSxhbmltOmoscXVldWU6ai5vcHRzLnF1ZXVlfSkpLGoucHJvZ3Jlc3Moai5vcHRzLnByb2dyZXNzKS5kb25lKGoub3B0cy5kb25lLGoub3B0cy5jb21wbGV0ZSkuZmFpbChqLm9wdHMuZmFpbCkuYWx3YXlzKGoub3B0cy5hbHdheXMpfW0uQW5pbWF0aW9uPW0uZXh0ZW5kKGtjLHt0d2VlbmVyOmZ1bmN0aW9uKGEsYil7bS5pc0Z1bmN0aW9uKGEpPyhiPWEsYT1bXCIqXCJdKTphPWEuc3BsaXQoXCIgXCIpO2Zvcih2YXIgYyxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWM9YVtkXSxlY1tjXT1lY1tjXXx8W10sZWNbY10udW5zaGlmdChiKX0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9kYy51bnNoaWZ0KGEpOmRjLnB1c2goYSl9fSksbS5zcGVlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSYmXCJvYmplY3RcIj09dHlwZW9mIGE/bS5leHRlbmQoe30sYSk6e2NvbXBsZXRlOmN8fCFjJiZifHxtLmlzRnVuY3Rpb24oYSkmJmEsZHVyYXRpb246YSxlYXNpbmc6YyYmYnx8YiYmIW0uaXNGdW5jdGlvbihiKSYmYn07cmV0dXJuIGQuZHVyYXRpb249bS5meC5vZmY/MDpcIm51bWJlclwiPT10eXBlb2YgZC5kdXJhdGlvbj9kLmR1cmF0aW9uOmQuZHVyYXRpb24gaW4gbS5meC5zcGVlZHM/bS5meC5zcGVlZHNbZC5kdXJhdGlvbl06bS5meC5zcGVlZHMuX2RlZmF1bHQsKG51bGw9PWQucXVldWV8fGQucXVldWU9PT0hMCkmJihkLnF1ZXVlPVwiZnhcIiksZC5vbGQ9ZC5jb21wbGV0ZSxkLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bS5pc0Z1bmN0aW9uKGQub2xkKSYmZC5vbGQuY2FsbCh0aGlzKSxkLnF1ZXVlJiZtLmRlcXVldWUodGhpcyxkLnF1ZXVlKX0sZH0sbS5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5maWx0ZXIoVSkuY3NzKFwib3BhY2l0eVwiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsYyxkKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1tLmlzRW1wdHlPYmplY3QoYSksZj1tLnNwZWVkKGIsYyxkKSxnPWZ1bmN0aW9uKCl7dmFyIGI9a2ModGhpcyxtLmV4dGVuZCh7fSxhKSxmKTsoZXx8bS5fZGF0YSh0aGlzLFwiZmluaXNoXCIpKSYmYi5zdG9wKCEwKX07cmV0dXJuIGcuZmluaXNoPWcsZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoYyl9O3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYz1iLGI9YSxhPXZvaWQgMCksYiYmYSE9PSExJiZ0aGlzLnF1ZXVlKGF8fFwiZnhcIixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ITAsZT1udWxsIT1hJiZhK1wicXVldWVIb29rc1wiLGY9bS50aW1lcnMsZz1tLl9kYXRhKHRoaXMpO2lmKGUpZ1tlXSYmZ1tlXS5zdG9wJiZkKGdbZV0pO2Vsc2UgZm9yKGUgaW4gZylnW2VdJiZnW2VdLnN0b3AmJmNjLnRlc3QoZSkmJmQoZ1tlXSk7Zm9yKGU9Zi5sZW5ndGg7ZS0tOylmW2VdLmVsZW0hPT10aGlzfHxudWxsIT1hJiZmW2VdLnF1ZXVlIT09YXx8KGZbZV0uYW5pbS5zdG9wKGMpLGI9ITEsZi5zcGxpY2UoZSwxKSk7KGJ8fCFjKSYmbS5kZXF1ZXVlKHRoaXMsYSl9KX0sZmluaXNoOmZ1bmN0aW9uKGEpe3JldHVybiBhIT09ITEmJihhPWF8fFwiZnhcIiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYz1tLl9kYXRhKHRoaXMpLGQ9Y1thK1wicXVldWVcIl0sZT1jW2ErXCJxdWV1ZUhvb2tzXCJdLGY9bS50aW1lcnMsZz1kP2QubGVuZ3RoOjA7Zm9yKGMuZmluaXNoPSEwLG0ucXVldWUodGhpcyxhLFtdKSxlJiZlLnN0b3AmJmUuc3RvcC5jYWxsKHRoaXMsITApLGI9Zi5sZW5ndGg7Yi0tOylmW2JdLmVsZW09PT10aGlzJiZmW2JdLnF1ZXVlPT09YSYmKGZbYl0uYW5pbS5zdG9wKCEwKSxmLnNwbGljZShiLDEpKTtmb3IoYj0wO2c+YjtiKyspZFtiXSYmZFtiXS5maW5pc2gmJmRbYl0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIGMuZmluaXNofSl9fSksbS5lYWNoKFtcInRvZ2dsZVwiLFwic2hvd1wiLFwiaGlkZVwiXSxmdW5jdGlvbihhLGIpe3ZhciBjPW0uZm5bYl07bS5mbltiXT1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIG51bGw9PWF8fFwiYm9vbGVhblwiPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoZ2MoYiwhMCksYSxkLGUpfX0pLG0uZWFjaCh7c2xpZGVEb3duOmdjKFwic2hvd1wiKSxzbGlkZVVwOmdjKFwiaGlkZVwiKSxzbGlkZVRvZ2dsZTpnYyhcInRvZ2dsZVwiKSxmYWRlSW46e29wYWNpdHk6XCJzaG93XCJ9LGZhZGVPdXQ6e29wYWNpdHk6XCJoaWRlXCJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6XCJ0b2dnbGVcIn19LGZ1bmN0aW9uKGEsYil7bS5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxtLnRpbWVycz1bXSxtLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPW0udGltZXJzLGM9MDtmb3IoJGI9bS5ub3coKTtjPGIubGVuZ3RoO2MrKylhPWJbY10sYSgpfHxiW2NdIT09YXx8Yi5zcGxpY2UoYy0tLDEpO2IubGVuZ3RofHxtLmZ4LnN0b3AoKSwkYj12b2lkIDB9LG0uZngudGltZXI9ZnVuY3Rpb24oYSl7bS50aW1lcnMucHVzaChhKSxhKCk/bS5meC5zdGFydCgpOm0udGltZXJzLnBvcCgpfSxtLmZ4LmludGVydmFsPTEzLG0uZnguc3RhcnQ9ZnVuY3Rpb24oKXtfYnx8KF9iPXNldEludGVydmFsKG0uZngudGljayxtLmZ4LmludGVydmFsKSl9LG0uZnguc3RvcD1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoX2IpLF9iPW51bGx9LG0uZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LG0uZm4uZGVsYXk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1tLmZ4P20uZnguc3BlZWRzW2FdfHxhOmEsYj1ifHxcImZ4XCIsdGhpcy5xdWV1ZShiLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9c2V0VGltZW91dChiLGEpO2Muc3RvcD1mdW5jdGlvbigpe2NsZWFyVGltZW91dChkKX19KX0sZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlO2I9eS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGIuc2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIsXCJ0XCIpLGIuaW5uZXJIVE1MPVwiICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+XCIsZD1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYVwiKVswXSxjPXkuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKSxlPWMuYXBwZW5kQ2hpbGQoeS5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpKSxhPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbnB1dFwiKVswXSxkLnN0eWxlLmNzc1RleHQ9XCJ0b3A6MXB4XCIsay5nZXRTZXRBdHRyaWJ1dGU9XCJ0XCIhPT1iLmNsYXNzTmFtZSxrLnN0eWxlPS90b3AvLnRlc3QoZC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSksay5ocmVmTm9ybWFsaXplZD1cIi9hXCI9PT1kLmdldEF0dHJpYnV0ZShcImhyZWZcIiksay5jaGVja09uPSEhYS52YWx1ZSxrLm9wdFNlbGVjdGVkPWUuc2VsZWN0ZWQsay5lbmN0eXBlPSEheS5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKS5lbmN0eXBlLGMuZGlzYWJsZWQ9ITAsay5vcHREaXNhYmxlZD0hZS5kaXNhYmxlZCxhPXkuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGEuc2V0QXR0cmlidXRlKFwidmFsdWVcIixcIlwiKSxrLmlucHV0PVwiXCI9PT1hLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpLGEudmFsdWU9XCJ0XCIsYS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJyYWRpb1wiKSxrLnJhZGlvVmFsdWU9XCJ0XCI9PT1hLnZhbHVlfSgpO3ZhciBsYz0vXFxyL2c7bS5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbihhKXt2YXIgYixjLGQsZT10aGlzWzBdO3tpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBkPW0uaXNGdW5jdGlvbihhKSx0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGU7MT09PXRoaXMubm9kZVR5cGUmJihlPWQ/YS5jYWxsKHRoaXMsYyxtKHRoaXMpLnZhbCgpKTphLG51bGw9PWU/ZT1cIlwiOlwibnVtYmVyXCI9PXR5cGVvZiBlP2UrPVwiXCI6bS5pc0FycmF5KGUpJiYoZT1tLm1hcChlLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP1wiXCI6YStcIlwifSkpLGI9bS52YWxIb29rc1t0aGlzLnR5cGVdfHxtLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sYiYmXCJzZXRcImluIGImJnZvaWQgMCE9PWIuc2V0KHRoaXMsZSxcInZhbHVlXCIpfHwodGhpcy52YWx1ZT1lKSl9KTtpZihlKXJldHVybiBiPW0udmFsSG9va3NbZS50eXBlXXx8bS52YWxIb29rc1tlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJlwiZ2V0XCJpbiBiJiZ2b2lkIDAhPT0oYz1iLmdldChlLFwidmFsdWVcIikpP2M6KGM9ZS52YWx1ZSxcInN0cmluZ1wiPT10eXBlb2YgYz9jLnJlcGxhY2UobGMsXCJcIik6bnVsbD09Yz9cIlwiOmMpfX19KSxtLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPW0uZmluZC5hdHRyKGEsXCJ2YWx1ZVwiKTtyZXR1cm4gbnVsbCE9Yj9iOm0udHJpbShtLnRleHQoYSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGMsZD1hLm9wdGlvbnMsZT1hLnNlbGVjdGVkSW5kZXgsZj1cInNlbGVjdC1vbmVcIj09PWEudHlwZXx8MD5lLGc9Zj9udWxsOltdLGg9Zj9lKzE6ZC5sZW5ndGgsaT0wPmU/aDpmP2U6MDtoPmk7aSsrKWlmKGM9ZFtpXSwhKCFjLnNlbGVjdGVkJiZpIT09ZXx8KGsub3B0RGlzYWJsZWQ/Yy5kaXNhYmxlZDpudWxsIT09Yy5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSl8fGMucGFyZW50Tm9kZS5kaXNhYmxlZCYmbS5ub2RlTmFtZShjLnBhcmVudE5vZGUsXCJvcHRncm91cFwiKSkpe2lmKGI9bShjKS52YWwoKSxmKXJldHVybiBiO2cucHVzaChiKX1yZXR1cm4gZ30sc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPWEub3B0aW9ucyxmPW0ubWFrZUFycmF5KGIpLGc9ZS5sZW5ndGg7d2hpbGUoZy0tKWlmKGQ9ZVtnXSxtLmluQXJyYXkobS52YWxIb29rcy5vcHRpb24uZ2V0KGQpLGYpPj0wKXRyeXtkLnNlbGVjdGVkPWM9ITB9Y2F0Y2goaCl7ZC5zY3JvbGxIZWlnaHR9ZWxzZSBkLnNlbGVjdGVkPSExO3JldHVybiBjfHwoYS5zZWxlY3RlZEluZGV4PS0xKSxlfX19fSksbS5lYWNoKFtcInJhZGlvXCIsXCJjaGVja2JveFwiXSxmdW5jdGlvbigpe20udmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihhLGIpe3JldHVybiBtLmlzQXJyYXkoYik/YS5jaGVja2VkPW0uaW5BcnJheShtKGEpLnZhbCgpLGIpPj0wOnZvaWQgMH19LGsuY2hlY2tPbnx8KG0udmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKT9cIm9uXCI6YS52YWx1ZX0pfSk7dmFyIG1jLG5jLG9jPW0uZXhwci5hdHRySGFuZGxlLHBjPS9eKD86Y2hlY2tlZHxzZWxlY3RlZCkkL2kscWM9ay5nZXRTZXRBdHRyaWJ1dGUscmM9ay5pbnB1dDttLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIpe3JldHVybiBWKHRoaXMsbS5hdHRyLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXttLnJlbW92ZUF0dHIodGhpcyxhKX0pfX0pLG0uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZihhJiYzIT09ZiYmOCE9PWYmJjIhPT1mKXJldHVybiB0eXBlb2YgYS5nZXRBdHRyaWJ1dGU9PT1LP20ucHJvcChhLGIsYyk6KDE9PT1mJiZtLmlzWE1MRG9jKGEpfHwoYj1iLnRvTG93ZXJDYXNlKCksZD1tLmF0dHJIb29rc1tiXXx8KG0uZXhwci5tYXRjaC5ib29sLnRlc3QoYik/bmM6bWMpKSx2b2lkIDA9PT1jP2QmJlwiZ2V0XCJpbiBkJiZudWxsIT09KGU9ZC5nZXQoYSxiKSk/ZTooZT1tLmZpbmQuYXR0cihhLGIpLG51bGw9PWU/dm9pZCAwOmUpOm51bGwhPT1jP2QmJlwic2V0XCJpbiBkJiZ2b2lkIDAhPT0oZT1kLnNldChhLGMsYikpP2U6KGEuc2V0QXR0cmlidXRlKGIsYytcIlwiKSxjKTp2b2lkIG0ucmVtb3ZlQXR0cihhLGIpKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT0wLGY9YiYmYi5tYXRjaChFKTtpZihmJiYxPT09YS5ub2RlVHlwZSl3aGlsZShjPWZbZSsrXSlkPW0ucHJvcEZpeFtjXXx8YyxtLmV4cHIubWF0Y2guYm9vbC50ZXN0KGMpP3JjJiZxY3x8IXBjLnRlc3QoYyk/YVtkXT0hMTphW20uY2FtZWxDYXNlKFwiZGVmYXVsdC1cIitjKV09YVtkXT0hMTptLmF0dHIoYSxjLFwiXCIpLGEucmVtb3ZlQXR0cmlidXRlKHFjP2M6ZCl9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGEsYil7aWYoIWsucmFkaW9WYWx1ZSYmXCJyYWRpb1wiPT09YiYmbS5ub2RlTmFtZShhLFwiaW5wdXRcIikpe3ZhciBjPWEudmFsdWU7cmV0dXJuIGEuc2V0QXR0cmlidXRlKFwidHlwZVwiLGIpLGMmJihhLnZhbHVlPWMpLGJ9fX19fSksbmM9e3NldDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9PT0hMT9tLnJlbW92ZUF0dHIoYSxjKTpyYyYmcWN8fCFwYy50ZXN0KGMpP2Euc2V0QXR0cmlidXRlKCFxYyYmbS5wcm9wRml4W2NdfHxjLGMpOmFbbS5jYW1lbENhc2UoXCJkZWZhdWx0LVwiK2MpXT1hW2NdPSEwLGN9fSxtLmVhY2gobS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cXHcrL2cpLGZ1bmN0aW9uKGEsYil7dmFyIGM9b2NbYl18fG0uZmluZC5hdHRyO29jW2JdPXJjJiZxY3x8IXBjLnRlc3QoYik/ZnVuY3Rpb24oYSxiLGQpe3ZhciBlLGY7cmV0dXJuIGR8fChmPW9jW2JdLG9jW2JdPWUsZT1udWxsIT1jKGEsYixkKT9iLnRvTG93ZXJDYXNlKCk6bnVsbCxvY1tiXT1mKSxlfTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmFbbS5jYW1lbENhc2UoXCJkZWZhdWx0LVwiK2IpXT9iLnRvTG93ZXJDYXNlKCk6bnVsbH19KSxyYyYmcWN8fChtLmF0dHJIb29rcy52YWx1ZT17c2V0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbS5ub2RlTmFtZShhLFwiaW5wdXRcIik/dm9pZChhLmRlZmF1bHRWYWx1ZT1iKTptYyYmbWMuc2V0KGEsYixjKX19KSxxY3x8KG1jPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuZ2V0QXR0cmlidXRlTm9kZShjKTtyZXR1cm4gZHx8YS5zZXRBdHRyaWJ1dGVOb2RlKGQ9YS5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShjKSksZC52YWx1ZT1iKz1cIlwiLFwidmFsdWVcIj09PWN8fGI9PT1hLmdldEF0dHJpYnV0ZShjKT9iOnZvaWQgMH19LG9jLmlkPW9jLm5hbWU9b2MuY29vcmRzPWZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6KGQ9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmXCJcIiE9PWQudmFsdWU/ZC52YWx1ZTpudWxsfSxtLnZhbEhvb2tzLmJ1dHRvbj17Z2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpO3JldHVybiBjJiZjLnNwZWNpZmllZD9jLnZhbHVlOnZvaWQgMH0sc2V0Om1jLnNldH0sbS5hdHRySG9va3MuY29udGVudGVkaXRhYmxlPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe21jLnNldChhLFwiXCI9PT1iPyExOmIsYyl9fSxtLmVhY2goW1wid2lkdGhcIixcImhlaWdodFwiXSxmdW5jdGlvbihhLGIpe20uYXR0ckhvb2tzW2JdPXtzZXQ6ZnVuY3Rpb24oYSxjKXtyZXR1cm5cIlwiPT09Yz8oYS5zZXRBdHRyaWJ1dGUoYixcImF1dG9cIiksYyk6dm9pZCAwfX19KSksay5zdHlsZXx8KG0uYXR0ckhvb2tzLnN0eWxlPXtnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3R5bGUuY3NzVGV4dHx8dm9pZCAwfSxzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5zdHlsZS5jc3NUZXh0PWIrXCJcIn19KTt2YXIgc2M9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdCkkL2ksdGM9L14oPzphfGFyZWEpJC9pO20uZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFYodGhpcyxtLnByb3AsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9bS5wcm9wRml4W2FdfHxhLHRoaXMuZWFjaChmdW5jdGlvbigpe3RyeXt0aGlzW2FdPXZvaWQgMCxkZWxldGUgdGhpc1thXX1jYXRjaChiKXt9fSl9fSksbS5leHRlbmQoe3Byb3BGaXg6e1wiZm9yXCI6XCJodG1sRm9yXCIsXCJjbGFzc1wiOlwiY2xhc3NOYW1lXCJ9LHByb3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnPWEubm9kZVR5cGU7aWYoYSYmMyE9PWcmJjghPT1nJiYyIT09ZylyZXR1cm4gZj0xIT09Z3x8IW0uaXNYTUxEb2MoYSksZiYmKGI9bS5wcm9wRml4W2JdfHxiLGU9bS5wcm9wSG9va3NbYl0pLHZvaWQgMCE9PWM/ZSYmXCJzZXRcImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDphW2JdPWM6ZSYmXCJnZXRcImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOmFbYl19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihhKXt2YXIgYj1tLmZpbmQuYXR0cihhLFwidGFiaW5kZXhcIik7cmV0dXJuIGI/cGFyc2VJbnQoYiwxMCk6c2MudGVzdChhLm5vZGVOYW1lKXx8dGMudGVzdChhLm5vZGVOYW1lKSYmYS5ocmVmPzA6LTF9fX19KSxrLmhyZWZOb3JtYWxpemVkfHxtLmVhY2goW1wiaHJlZlwiLFwic3JjXCJdLGZ1bmN0aW9uKGEsYil7bS5wcm9wSG9va3NbYl09e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoYiw0KX19fSksay5vcHRTZWxlY3RlZHx8KG0ucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiYoYi5zZWxlY3RlZEluZGV4LGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgpLG51bGx9fSksbS5lYWNoKFtcInRhYkluZGV4XCIsXCJyZWFkT25seVwiLFwibWF4TGVuZ3RoXCIsXCJjZWxsU3BhY2luZ1wiLFwiY2VsbFBhZGRpbmdcIixcInJvd1NwYW5cIixcImNvbFNwYW5cIixcInVzZU1hcFwiLFwiZnJhbWVCb3JkZXJcIixcImNvbnRlbnRFZGl0YWJsZVwiXSxmdW5jdGlvbigpe20ucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxrLmVuY3R5cGV8fChtLnByb3BGaXguZW5jdHlwZT1cImVuY29kaW5nXCIpO3ZhciB1Yz0vW1xcdFxcclxcblxcZl0vZzttLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGg9MCxpPXRoaXMubGVuZ3RoLGo9XCJzdHJpbmdcIj09dHlwZW9mIGEmJmE7aWYobS5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bSh0aGlzKS5hZGRDbGFzcyhhLmNhbGwodGhpcyxiLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihqKWZvcihiPShhfHxcIlwiKS5tYXRjaChFKXx8W107aT5oO2grKylpZihjPXRoaXNbaF0sZD0xPT09Yy5ub2RlVHlwZSYmKGMuY2xhc3NOYW1lPyhcIiBcIitjLmNsYXNzTmFtZStcIiBcIikucmVwbGFjZSh1YyxcIiBcIik6XCIgXCIpKXtmPTA7d2hpbGUoZT1iW2YrK10pZC5pbmRleE9mKFwiIFwiK2UrXCIgXCIpPDAmJihkKz1lK1wiIFwiKTtnPW0udHJpbShkKSxjLmNsYXNzTmFtZSE9PWcmJihjLmNsYXNzTmFtZT1nKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGg9MCxpPXRoaXMubGVuZ3RoLGo9MD09PWFyZ3VtZW50cy5sZW5ndGh8fFwic3RyaW5nXCI9PXR5cGVvZiBhJiZhO2lmKG0uaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe20odGhpcykucmVtb3ZlQ2xhc3MoYS5jYWxsKHRoaXMsYix0aGlzLmNsYXNzTmFtZSkpfSk7aWYoailmb3IoYj0oYXx8XCJcIikubWF0Y2goRSl8fFtdO2k+aDtoKyspaWYoYz10aGlzW2hdLGQ9MT09PWMubm9kZVR5cGUmJihjLmNsYXNzTmFtZT8oXCIgXCIrYy5jbGFzc05hbWUrXCIgXCIpLnJlcGxhY2UodWMsXCIgXCIpOlwiXCIpKXtmPTA7d2hpbGUoZT1iW2YrK10pd2hpbGUoZC5pbmRleE9mKFwiIFwiK2UrXCIgXCIpPj0wKWQ9ZC5yZXBsYWNlKFwiIFwiK2UrXCIgXCIsXCIgXCIpO2c9YT9tLnRyaW0oZCk6XCJcIixjLmNsYXNzTmFtZSE9PWcmJihjLmNsYXNzTmFtZT1nKX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYTtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGImJlwic3RyaW5nXCI9PT1jP2I/dGhpcy5hZGRDbGFzcyhhKTp0aGlzLnJlbW92ZUNsYXNzKGEpOnRoaXMuZWFjaChtLmlzRnVuY3Rpb24oYSk/ZnVuY3Rpb24oYyl7bSh0aGlzKS50b2dnbGVDbGFzcyhhLmNhbGwodGhpcyxjLHRoaXMuY2xhc3NOYW1lLGIpLGIpfTpmdW5jdGlvbigpe2lmKFwic3RyaW5nXCI9PT1jKXt2YXIgYixkPTAsZT1tKHRoaXMpLGY9YS5tYXRjaChFKXx8W107d2hpbGUoYj1mW2QrK10pZS5oYXNDbGFzcyhiKT9lLnJlbW92ZUNsYXNzKGIpOmUuYWRkQ2xhc3MoYil9ZWxzZShjPT09S3x8XCJib29sZWFuXCI9PT1jKSYmKHRoaXMuY2xhc3NOYW1lJiZtLl9kYXRhKHRoaXMsXCJfX2NsYXNzTmFtZV9fXCIsdGhpcy5jbGFzc05hbWUpLHRoaXMuY2xhc3NOYW1lPXRoaXMuY2xhc3NOYW1lfHxhPT09ITE/XCJcIjptLl9kYXRhKHRoaXMsXCJfX2NsYXNzTmFtZV9fXCIpfHxcIlwiKX0pfSxoYXNDbGFzczpmdW5jdGlvbihhKXtmb3IodmFyIGI9XCIgXCIrYStcIiBcIixjPTAsZD10aGlzLmxlbmd0aDtkPmM7YysrKWlmKDE9PT10aGlzW2NdLm5vZGVUeXBlJiYoXCIgXCIrdGhpc1tjXS5jbGFzc05hbWUrXCIgXCIpLnJlcGxhY2UodWMsXCIgXCIpLmluZGV4T2YoYik+PTApcmV0dXJuITA7cmV0dXJuITF9fSksbS5lYWNoKFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciBjb250ZXh0bWVudVwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhLGIpe20uZm5bYl09ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMub24oYixudWxsLGEsYyk6dGhpcy50cmlnZ2VyKGIpfX0pLG0uZm4uZXh0ZW5kKHtob3ZlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoYSkubW91c2VsZWF2ZShifHxhKX0sYmluZDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMub24oYSxudWxsLGIsYyl9LHVuYmluZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9mZihhLG51bGwsYil9LGRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGIsYSxjLGQpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoYSxcIioqXCIpOnRoaXMub2ZmKGIsYXx8XCIqKlwiLGMpfX0pO3ZhciB2Yz1tLm5vdygpLHdjPS9cXD8vLHhjPS8oLCl8KFxcW3x7KXwofXxdKXxcIig/OlteXCJcXFxcXFxyXFxuXXxcXFxcW1wiXFxcXFxcL2JmbnJ0XXxcXFxcdVtcXGRhLWZBLUZdezR9KSpcIlxccyo6P3x0cnVlfGZhbHNlfG51bGx8LT8oPyEwXFxkKVxcZCsoPzpcXC5cXGQrfCkoPzpbZUVdWystXT9cXGQrfCkvZzttLnBhcnNlSlNPTj1mdW5jdGlvbihiKXtpZihhLkpTT04mJmEuSlNPTi5wYXJzZSlyZXR1cm4gYS5KU09OLnBhcnNlKGIrXCJcIik7dmFyIGMsZD1udWxsLGU9bS50cmltKGIrXCJcIik7cmV0dXJuIGUmJiFtLnRyaW0oZS5yZXBsYWNlKHhjLGZ1bmN0aW9uKGEsYixlLGYpe3JldHVybiBjJiZiJiYoZD0wKSwwPT09ZD9hOihjPWV8fGIsZCs9IWYtIWUsXCJcIil9KSk/RnVuY3Rpb24oXCJyZXR1cm4gXCIrZSkoKTptLmVycm9yKFwiSW52YWxpZCBKU09OOiBcIitiKX0sbS5wYXJzZVhNTD1mdW5jdGlvbihiKXt2YXIgYyxkO2lmKCFifHxcInN0cmluZ1wiIT10eXBlb2YgYilyZXR1cm4gbnVsbDt0cnl7YS5ET01QYXJzZXI/KGQ9bmV3IERPTVBhcnNlcixjPWQucGFyc2VGcm9tU3RyaW5nKGIsXCJ0ZXh0L3htbFwiKSk6KGM9bmV3IEFjdGl2ZVhPYmplY3QoXCJNaWNyb3NvZnQuWE1MRE9NXCIpLGMuYXN5bmM9XCJmYWxzZVwiLGMubG9hZFhNTChiKSl9Y2F0Y2goZSl7Yz12b2lkIDB9cmV0dXJuIGMmJmMuZG9jdW1lbnRFbGVtZW50JiYhYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhcnNlcmVycm9yXCIpLmxlbmd0aHx8bS5lcnJvcihcIkludmFsaWQgWE1MOiBcIitiKSxjfTt2YXIgeWMsemMsQWM9LyMuKiQvLEJjPS8oWz8mXSlfPVteJl0qLyxDYz0vXiguKj8pOlsgXFx0XSooW15cXHJcXG5dKilcXHI/JC9nbSxEYz0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxFYz0vXig/OkdFVHxIRUFEKSQvLEZjPS9eXFwvXFwvLyxHYz0vXihbXFx3ListXSs6KSg/OlxcL1xcLyg/OlteXFwvPyNdKkB8KShbXlxcLz8jOl0qKSg/OjooXFxkKyl8KXwpLyxIYz17fSxJYz17fSxKYz1cIiovXCIuY29uY2F0KFwiKlwiKTt0cnl7emM9bG9jYXRpb24uaHJlZn1jYXRjaChLYyl7emM9eS5jcmVhdGVFbGVtZW50KFwiYVwiKSx6Yy5ocmVmPVwiXCIsemM9emMuaHJlZn15Yz1HYy5leGVjKHpjLnRvTG93ZXJDYXNlKCkpfHxbXTtmdW5jdGlvbiBMYyhhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtcInN0cmluZ1wiIT10eXBlb2YgYiYmKGM9YixiPVwiKlwiKTt2YXIgZCxlPTAsZj1iLnRvTG93ZXJDYXNlKCkubWF0Y2goRSl8fFtdO2lmKG0uaXNGdW5jdGlvbihjKSl3aGlsZShkPWZbZSsrXSlcIitcIj09PWQuY2hhckF0KDApPyhkPWQuc2xpY2UoMSl8fFwiKlwiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gTWMoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09SWM7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxtLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2Yganx8Znx8ZVtqXT9mPyEoaT1qKTp2b2lkIDA6KGIuZGF0YVR5cGVzLnVuc2hpZnQoaiksZyhqKSwhMSl9KSxpfXJldHVybiBnKGIuZGF0YVR5cGVzWzBdKXx8IWVbXCIqXCJdJiZnKFwiKlwiKX1mdW5jdGlvbiBOYyhhLGIpe3ZhciBjLGQsZT1tLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGQgaW4gYil2b2lkIDAhPT1iW2RdJiYoKGVbZF0/YTpjfHwoYz17fSkpW2RdPWJbZF0pO3JldHVybiBjJiZtLmV4dGVuZCghMCxhLGMpLGF9ZnVuY3Rpb24gT2MoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKFwiKlwiPT09aVswXSlpLnNoaWZ0KCksdm9pZCAwPT09ZSYmKGU9YS5taW1lVHlwZXx8Yi5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSk7aWYoZSlmb3IoZyBpbiBoKWlmKGhbZ10mJmhbZ10udGVzdChlKSl7aS51bnNoaWZ0KGcpO2JyZWFrfWlmKGlbMF1pbiBjKWY9aVswXTtlbHNle2ZvcihnIGluIGMpe2lmKCFpWzBdfHxhLmNvbnZlcnRlcnNbZytcIiBcIitpWzBdXSl7Zj1nO2JyZWFrfWR8fChkPWcpfWY9Znx8ZH1yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gUGMoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZihcIipcIj09PWYpZj1pO2Vsc2UgaWYoXCIqXCIhPT1pJiZpIT09Zil7aWYoZz1qW2krXCIgXCIrZl18fGpbXCIqIFwiK2ZdLCFnKWZvcihlIGluIGopaWYoaD1lLnNwbGl0KFwiIFwiKSxoWzFdPT09ZiYmKGc9altpK1wiIFwiK2hbMF1dfHxqW1wiKiBcIitoWzBdXSkpe2c9PT0hMD9nPWpbZV06altlXSE9PSEwJiYoZj1oWzBdLGsudW5zaGlmdChoWzFdKSk7YnJlYWt9aWYoZyE9PSEwKWlmKGcmJmFbXCJ0aHJvd3NcIl0pYj1nKGIpO2Vsc2UgdHJ5e2I9ZyhiKX1jYXRjaChsKXtyZXR1cm57c3RhdGU6XCJwYXJzZXJlcnJvclwiLGVycm9yOmc/bDpcIk5vIGNvbnZlcnNpb24gZnJvbSBcIitpK1wiIHRvIFwiK2Z9fX1yZXR1cm57c3RhdGU6XCJzdWNjZXNzXCIsZGF0YTpifX1tLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6emMsdHlwZTpcIkdFVFwiLGlzTG9jYWw6RGMudGVzdCh5Y1sxXSksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsYWNjZXB0czp7XCIqXCI6SmMsdGV4dDpcInRleHQvcGxhaW5cIixodG1sOlwidGV4dC9odG1sXCIseG1sOlwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLGpzb246XCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIn0sY29udGVudHM6e3htbDoveG1sLyxodG1sOi9odG1sLyxqc29uOi9qc29uL30scmVzcG9uc2VGaWVsZHM6e3htbDpcInJlc3BvbnNlWE1MXCIsdGV4dDpcInJlc3BvbnNlVGV4dFwiLGpzb246XCJyZXNwb25zZUpTT05cIn0sY29udmVydGVyczp7XCIqIHRleHRcIjpTdHJpbmcsXCJ0ZXh0IGh0bWxcIjohMCxcInRleHQganNvblwiOm0ucGFyc2VKU09OLFwidGV4dCB4bWxcIjptLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9OYyhOYyhhLG0uYWpheFNldHRpbmdzKSxiKTpOYyhtLmFqYXhTZXR0aW5ncyxhKX0sYWpheFByZWZpbHRlcjpMYyhIYyksYWpheFRyYW5zcG9ydDpMYyhJYyksYWpheDpmdW5jdGlvbihhLGIpe1wib2JqZWN0XCI9PXR5cGVvZiBhJiYoYj1hLGE9dm9pZCAwKSxiPWJ8fHt9O3ZhciBjLGQsZSxmLGcsaCxpLGosaz1tLmFqYXhTZXR1cCh7fSxiKSxsPWsuY29udGV4dHx8ayxuPWsuY29udGV4dCYmKGwubm9kZVR5cGV8fGwuanF1ZXJ5KT9tKGwpOm0uZXZlbnQsbz1tLkRlZmVycmVkKCkscD1tLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLHE9ay5zdGF0dXNDb2RlfHx7fSxyPXt9LHM9e30sdD0wLHU9XCJjYW5jZWxlZFwiLHY9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihhKXt2YXIgYjtpZigyPT09dCl7aWYoIWope2o9e307d2hpbGUoYj1DYy5leGVjKGYpKWpbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9althLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT10P2Y6bnVsbH0sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTtyZXR1cm4gdHx8KGE9c1tjXT1zW2NdfHxhLHJbYV09YiksdGhpc30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdHx8KGsubWltZVR5cGU9YSksdGhpc30sc3RhdHVzQ29kZTpmdW5jdGlvbihhKXt2YXIgYjtpZihhKWlmKDI+dClmb3IoYiBpbiBhKXFbYl09W3FbYl0sYVtiXV07ZWxzZSB2LmFsd2F5cyhhW3Yuc3RhdHVzXSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHU7cmV0dXJuIGkmJmkuYWJvcnQoYikseCgwLGIpLHRoaXN9fTtpZihvLnByb21pc2UodikuY29tcGxldGU9cC5hZGQsdi5zdWNjZXNzPXYuZG9uZSx2LmVycm9yPXYuZmFpbCxrLnVybD0oKGF8fGsudXJsfHx6YykrXCJcIikucmVwbGFjZShBYyxcIlwiKS5yZXBsYWNlKEZjLHljWzFdK1wiLy9cIiksay50eXBlPWIubWV0aG9kfHxiLnR5cGV8fGsubWV0aG9kfHxrLnR5cGUsay5kYXRhVHlwZXM9bS50cmltKGsuZGF0YVR5cGV8fFwiKlwiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKEUpfHxbXCJcIl0sbnVsbD09ay5jcm9zc0RvbWFpbiYmKGM9R2MuZXhlYyhrLnVybC50b0xvd2VyQ2FzZSgpKSxrLmNyb3NzRG9tYWluPSEoIWN8fGNbMV09PT15Y1sxXSYmY1syXT09PXljWzJdJiYoY1szXXx8KFwiaHR0cDpcIj09PWNbMV0/XCI4MFwiOlwiNDQzXCIpKT09PSh5Y1szXXx8KFwiaHR0cDpcIj09PXljWzFdP1wiODBcIjpcIjQ0M1wiKSkpKSxrLmRhdGEmJmsucHJvY2Vzc0RhdGEmJlwic3RyaW5nXCIhPXR5cGVvZiBrLmRhdGEmJihrLmRhdGE9bS5wYXJhbShrLmRhdGEsay50cmFkaXRpb25hbCkpLE1jKEhjLGssYix2KSwyPT09dClyZXR1cm4gdjtoPWsuZ2xvYmFsLGgmJjA9PT1tLmFjdGl2ZSsrJiZtLmV2ZW50LnRyaWdnZXIoXCJhamF4U3RhcnRcIiksay50eXBlPWsudHlwZS50b1VwcGVyQ2FzZSgpLGsuaGFzQ29udGVudD0hRWMudGVzdChrLnR5cGUpLGU9ay51cmwsay5oYXNDb250ZW50fHwoay5kYXRhJiYoZT1rLnVybCs9KHdjLnRlc3QoZSk/XCImXCI6XCI/XCIpK2suZGF0YSxkZWxldGUgay5kYXRhKSxrLmNhY2hlPT09ITEmJihrLnVybD1CYy50ZXN0KGUpP2UucmVwbGFjZShCYyxcIiQxXz1cIit2YysrKTplKyh3Yy50ZXN0KGUpP1wiJlwiOlwiP1wiKStcIl89XCIrdmMrKykpLGsuaWZNb2RpZmllZCYmKG0ubGFzdE1vZGlmaWVkW2VdJiZ2LnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Nb2RpZmllZC1TaW5jZVwiLG0ubGFzdE1vZGlmaWVkW2VdKSxtLmV0YWdbZV0mJnYuc2V0UmVxdWVzdEhlYWRlcihcIklmLU5vbmUtTWF0Y2hcIixtLmV0YWdbZV0pKSwoay5kYXRhJiZrLmhhc0NvbnRlbnQmJmsuY29udGVudFR5cGUhPT0hMXx8Yi5jb250ZW50VHlwZSkmJnYuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLGsuY29udGVudFR5cGUpLHYuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLGsuZGF0YVR5cGVzWzBdJiZrLmFjY2VwdHNbay5kYXRhVHlwZXNbMF1dP2suYWNjZXB0c1trLmRhdGFUeXBlc1swXV0rKFwiKlwiIT09ay5kYXRhVHlwZXNbMF0/XCIsIFwiK0pjK1wiOyBxPTAuMDFcIjpcIlwiKTprLmFjY2VwdHNbXCIqXCJdKTtmb3IoZCBpbiBrLmhlYWRlcnMpdi5zZXRSZXF1ZXN0SGVhZGVyKGQsay5oZWFkZXJzW2RdKTtpZihrLmJlZm9yZVNlbmQmJihrLmJlZm9yZVNlbmQuY2FsbChsLHYsayk9PT0hMXx8Mj09PXQpKXJldHVybiB2LmFib3J0KCk7dT1cImFib3J0XCI7Zm9yKGQgaW57c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0pdltkXShrW2RdKTtpZihpPU1jKEljLGssYix2KSl7di5yZWFkeVN0YXRlPTEsaCYmbi50cmlnZ2VyKFwiYWpheFNlbmRcIixbdixrXSksay5hc3luYyYmay50aW1lb3V0PjAmJihnPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2LmFib3J0KFwidGltZW91dFwiKX0say50aW1lb3V0KSk7dHJ5e3Q9MSxpLnNlbmQocix4KX1jYXRjaCh3KXtpZighKDI+dCkpdGhyb3cgdzt4KC0xLHcpfX1lbHNlIHgoLTEsXCJObyBUcmFuc3BvcnRcIik7ZnVuY3Rpb24geChhLGIsYyxkKXt2YXIgaixyLHMsdSx3LHg9YjsyIT09dCYmKHQ9MixnJiZjbGVhclRpbWVvdXQoZyksaT12b2lkIDAsZj1kfHxcIlwiLHYucmVhZHlTdGF0ZT1hPjA/NDowLGo9YT49MjAwJiYzMDA+YXx8MzA0PT09YSxjJiYodT1PYyhrLHYsYykpLHU9UGMoayx1LHYsaiksaj8oay5pZk1vZGlmaWVkJiYodz12LmdldFJlc3BvbnNlSGVhZGVyKFwiTGFzdC1Nb2RpZmllZFwiKSx3JiYobS5sYXN0TW9kaWZpZWRbZV09dyksdz12LmdldFJlc3BvbnNlSGVhZGVyKFwiZXRhZ1wiKSx3JiYobS5ldGFnW2VdPXcpKSwyMDQ9PT1hfHxcIkhFQURcIj09PWsudHlwZT94PVwibm9jb250ZW50XCI6MzA0PT09YT94PVwibm90bW9kaWZpZWRcIjooeD11LnN0YXRlLHI9dS5kYXRhLHM9dS5lcnJvcixqPSFzKSk6KHM9eCwoYXx8IXgpJiYoeD1cImVycm9yXCIsMD5hJiYoYT0wKSkpLHYuc3RhdHVzPWEsdi5zdGF0dXNUZXh0PShifHx4KStcIlwiLGo/by5yZXNvbHZlV2l0aChsLFtyLHgsdl0pOm8ucmVqZWN0V2l0aChsLFt2LHgsc10pLHYuc3RhdHVzQ29kZShxKSxxPXZvaWQgMCxoJiZuLnRyaWdnZXIoaj9cImFqYXhTdWNjZXNzXCI6XCJhamF4RXJyb3JcIixbdixrLGo/cjpzXSkscC5maXJlV2l0aChsLFt2LHhdKSxoJiYobi50cmlnZ2VyKFwiYWpheENvbXBsZXRlXCIsW3Ysa10pLC0tbS5hY3RpdmV8fG0uZXZlbnQudHJpZ2dlcihcImFqYXhTdG9wXCIpKSl9cmV0dXJuIHZ9LGdldEpTT046ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBtLmdldChhLGIsYyxcImpzb25cIil9LGdldFNjcmlwdDpmdW5jdGlvbihhLGIpe3JldHVybiBtLmdldChhLHZvaWQgMCxiLFwic2NyaXB0XCIpfX0pLG0uZWFjaChbXCJnZXRcIixcInBvc3RcIl0sZnVuY3Rpb24oYSxiKXttW2JdPWZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBtLmlzRnVuY3Rpb24oYykmJihlPWV8fGQsZD1jLGM9dm9pZCAwKSxtLmFqYXgoe3VybDphLHR5cGU6YixkYXRhVHlwZTplLGRhdGE6YyxzdWNjZXNzOmR9KX19KSxtLmVhY2goW1wiYWpheFN0YXJ0XCIsXCJhamF4U3RvcFwiLFwiYWpheENvbXBsZXRlXCIsXCJhamF4RXJyb3JcIixcImFqYXhTdWNjZXNzXCIsXCJhamF4U2VuZFwiXSxmdW5jdGlvbihhLGIpe20uZm5bYl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub24oYixhKX19KSxtLl9ldmFsVXJsPWZ1bmN0aW9uKGEpe3JldHVybiBtLmFqYXgoe3VybDphLHR5cGU6XCJHRVRcIixkYXRhVHlwZTpcInNjcmlwdFwiLGFzeW5jOiExLGdsb2JhbDohMSxcInRocm93c1wiOiEwfSl9LG0uZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGEpe2lmKG0uaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe20odGhpcykud3JhcEFsbChhLmNhbGwodGhpcyxiKSl9KTtpZih0aGlzWzBdKXt2YXIgYj1tKGEsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCk7dGhpc1swXS5wYXJlbnROb2RlJiZiLmluc2VydEJlZm9yZSh0aGlzWzBdKSxiLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXM7d2hpbGUoYS5maXJzdENoaWxkJiYxPT09YS5maXJzdENoaWxkLm5vZGVUeXBlKWE9YS5maXJzdENoaWxkO3JldHVybiBhfSkuYXBwZW5kKHRoaXMpfXJldHVybiB0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChtLmlzRnVuY3Rpb24oYSk/ZnVuY3Rpb24oYil7bSh0aGlzKS53cmFwSW5uZXIoYS5jYWxsKHRoaXMsYikpfTpmdW5jdGlvbigpe3ZhciBiPW0odGhpcyksYz1iLmNvbnRlbnRzKCk7Yy5sZW5ndGg/Yy53cmFwQWxsKGEpOmIuYXBwZW5kKGEpfSl9LHdyYXA6ZnVuY3Rpb24oYSl7dmFyIGI9bS5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7bSh0aGlzKS53cmFwQWxsKGI/YS5jYWxsKHRoaXMsYyk6YSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe20ubm9kZU5hbWUodGhpcyxcImJvZHlcIil8fG0odGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfX0pLG0uZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXtyZXR1cm4gYS5vZmZzZXRXaWR0aDw9MCYmYS5vZmZzZXRIZWlnaHQ8PTB8fCFrLnJlbGlhYmxlSGlkZGVuT2Zmc2V0cygpJiZcIm5vbmVcIj09PShhLnN0eWxlJiZhLnN0eWxlLmRpc3BsYXl8fG0uY3NzKGEsXCJkaXNwbGF5XCIpKX0sbS5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hbS5leHByLmZpbHRlcnMuaGlkZGVuKGEpfTt2YXIgUWM9LyUyMC9nLFJjPS9cXFtcXF0kLyxTYz0vXFxyP1xcbi9nLFRjPS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxVYz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7ZnVuY3Rpb24gVmMoYSxiLGMsZCl7dmFyIGU7aWYobS5pc0FycmF5KGIpKW0uZWFjaChiLGZ1bmN0aW9uKGIsZSl7Y3x8UmMudGVzdChhKT9kKGEsZSk6VmMoYStcIltcIisoXCJvYmplY3RcIj09dHlwZW9mIGU/YjpcIlwiKStcIl1cIixlLGMsZCl9KTtlbHNlIGlmKGN8fFwib2JqZWN0XCIhPT1tLnR5cGUoYikpZChhLGIpO2Vsc2UgZm9yKGUgaW4gYilWYyhhK1wiW1wiK2UrXCJdXCIsYltlXSxjLGQpfW0ucGFyYW09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9ZnVuY3Rpb24oYSxiKXtiPW0uaXNGdW5jdGlvbihiKT9iKCk6bnVsbD09Yj9cIlwiOmIsZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChiKX07aWYodm9pZCAwPT09YiYmKGI9bS5hamF4U2V0dGluZ3MmJm0uYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKSxtLmlzQXJyYXkoYSl8fGEuanF1ZXJ5JiYhbS5pc1BsYWluT2JqZWN0KGEpKW0uZWFjaChhLGZ1bmN0aW9uKCl7ZSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihjIGluIGEpVmMoYyxhW2NdLGIsZSk7cmV0dXJuIGQuam9pbihcIiZcIikucmVwbGFjZShRYyxcIitcIil9LG0uZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gbS5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPW0ucHJvcCh0aGlzLFwiZWxlbWVudHNcIik7cmV0dXJuIGE/bS5tYWtlQXJyYXkoYSk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBhPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhbSh0aGlzKS5pcyhcIjpkaXNhYmxlZFwiKSYmVWMudGVzdCh0aGlzLm5vZGVOYW1lKSYmIVRjLnRlc3QoYSkmJih0aGlzLmNoZWNrZWR8fCFXLnRlc3QoYSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9bSh0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yz9udWxsOm0uaXNBcnJheShjKT9tLm1hcChjLGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoU2MsXCJcXHJcXG5cIil9fSk6e25hbWU6Yi5uYW1lLHZhbHVlOmMucmVwbGFjZShTYyxcIlxcclxcblwiKX19KS5nZXQoKX19KSxtLmFqYXhTZXR0aW5ncy54aHI9dm9pZCAwIT09YS5BY3RpdmVYT2JqZWN0P2Z1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNMb2NhbCYmL14oZ2V0fHBvc3R8aGVhZHxwdXR8ZGVsZXRlfG9wdGlvbnMpJC9pLnRlc3QodGhpcy50eXBlKSYmWmMoKXx8JGMoKX06WmM7dmFyIFdjPTAsWGM9e30sWWM9bS5hamF4U2V0dGluZ3MueGhyKCk7YS5BY3RpdmVYT2JqZWN0JiZtKGEpLm9uKFwidW5sb2FkXCIsZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gWGMpWGNbYV0odm9pZCAwLCEwKX0pLGsuY29ycz0hIVljJiZcIndpdGhDcmVkZW50aWFsc1wiaW4gWWMsWWM9ay5hamF4PSEhWWMsWWMmJm0uYWpheFRyYW5zcG9ydChmdW5jdGlvbihhKXtpZighYS5jcm9zc0RvbWFpbnx8ay5jb3JzKXt2YXIgYjtyZXR1cm57c2VuZDpmdW5jdGlvbihjLGQpe3ZhciBlLGY9YS54aHIoKSxnPSsrV2M7aWYoZi5vcGVuKGEudHlwZSxhLnVybCxhLmFzeW5jLGEudXNlcm5hbWUsYS5wYXNzd29yZCksYS54aHJGaWVsZHMpZm9yKGUgaW4gYS54aHJGaWVsZHMpZltlXT1hLnhockZpZWxkc1tlXTthLm1pbWVUeXBlJiZmLm92ZXJyaWRlTWltZVR5cGUmJmYub3ZlcnJpZGVNaW1lVHlwZShhLm1pbWVUeXBlKSxhLmNyb3NzRG9tYWlufHxjW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXXx8KGNbXCJYLVJlcXVlc3RlZC1XaXRoXCJdPVwiWE1MSHR0cFJlcXVlc3RcIik7Zm9yKGUgaW4gYyl2b2lkIDAhPT1jW2VdJiZmLnNldFJlcXVlc3RIZWFkZXIoZSxjW2VdK1wiXCIpO2Yuc2VuZChhLmhhc0NvbnRlbnQmJmEuZGF0YXx8bnVsbCksYj1mdW5jdGlvbihjLGUpe3ZhciBoLGksajtpZihiJiYoZXx8ND09PWYucmVhZHlTdGF0ZSkpaWYoZGVsZXRlIFhjW2ddLGI9dm9pZCAwLGYub25yZWFkeXN0YXRlY2hhbmdlPW0ubm9vcCxlKTQhPT1mLnJlYWR5U3RhdGUmJmYuYWJvcnQoKTtlbHNle2o9e30saD1mLnN0YXR1cyxcInN0cmluZ1wiPT10eXBlb2YgZi5yZXNwb25zZVRleHQmJihqLnRleHQ9Zi5yZXNwb25zZVRleHQpO3RyeXtpPWYuc3RhdHVzVGV4dH1jYXRjaChrKXtpPVwiXCJ9aHx8IWEuaXNMb2NhbHx8YS5jcm9zc0RvbWFpbj8xMjIzPT09aCYmKGg9MjA0KTpoPWoudGV4dD8yMDA6NDA0fWomJmQoaCxpLGosZi5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSl9LGEuYXN5bmM/ND09PWYucmVhZHlTdGF0ZT9zZXRUaW1lb3V0KGIpOmYub25yZWFkeXN0YXRlY2hhbmdlPVhjW2ddPWI6YigpfSxhYm9ydDpmdW5jdGlvbigpe2ImJmIodm9pZCAwLCEwKX19fX0pO2Z1bmN0aW9uIFpjKCl7dHJ5e3JldHVybiBuZXcgYS5YTUxIdHRwUmVxdWVzdH1jYXRjaChiKXt9fWZ1bmN0aW9uICRjKCl7dHJ5e3JldHVybiBuZXcgYS5BY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTEhUVFBcIil9Y2F0Y2goYil7fX1tLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OlwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIn0sY29udGVudHM6e3NjcmlwdDovKD86amF2YXxlY21hKXNjcmlwdC99LGNvbnZlcnRlcnM6e1widGV4dCBzY3JpcHRcIjpmdW5jdGlvbihhKXtyZXR1cm4gbS5nbG9iYWxFdmFsKGEpLGF9fX0pLG0uYWpheFByZWZpbHRlcihcInNjcmlwdFwiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuY2FjaGUmJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPVwiR0VUXCIsYS5nbG9iYWw9ITEpfSksbS5hamF4VHJhbnNwb3J0KFwic2NyaXB0XCIsZnVuY3Rpb24oYSl7aWYoYS5jcm9zc0RvbWFpbil7dmFyIGIsYz15LmhlYWR8fG0oXCJoZWFkXCIpWzBdfHx5LmRvY3VtZW50RWxlbWVudDtyZXR1cm57c2VuZDpmdW5jdGlvbihkLGUpe2I9eS5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpLGIuYXN5bmM9ITAsYS5zY3JpcHRDaGFyc2V0JiYoYi5jaGFyc2V0PWEuc2NyaXB0Q2hhcnNldCksYi5zcmM9YS51cmwsYi5vbmxvYWQ9Yi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oYSxjKXsoY3x8IWIucmVhZHlTdGF0ZXx8L2xvYWRlZHxjb21wbGV0ZS8udGVzdChiLnJlYWR5U3RhdGUpKSYmKGIub25sb2FkPWIub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsLGN8fGUoMjAwLFwic3VjY2Vzc1wiKSl9LGMuaW5zZXJ0QmVmb3JlKGIsYy5maXJzdENoaWxkKX0sYWJvcnQ6ZnVuY3Rpb24oKXtiJiZiLm9ubG9hZCh2b2lkIDAsITApfX19fSk7dmFyIF9jPVtdLGFkPS8oPSlcXD8oPz0mfCQpfFxcP1xcPy87bS5hamF4U2V0dXAoe2pzb25wOlwiY2FsbGJhY2tcIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9X2MucG9wKCl8fG0uZXhwYW5kbytcIl9cIit2YysrO3JldHVybiB0aGlzW2FdPSEwLGF9fSksbS5hamF4UHJlZmlsdGVyKFwianNvbiBqc29ucFwiLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGcsaD1iLmpzb25wIT09ITEmJihhZC50ZXN0KGIudXJsKT9cInVybFwiOlwic3RyaW5nXCI9PXR5cGVvZiBiLmRhdGEmJiEoYi5jb250ZW50VHlwZXx8XCJcIikuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSYmYWQudGVzdChiLmRhdGEpJiZcImRhdGFcIik7cmV0dXJuIGh8fFwianNvbnBcIj09PWIuZGF0YVR5cGVzWzBdPyhlPWIuanNvbnBDYWxsYmFjaz1tLmlzRnVuY3Rpb24oYi5qc29ucENhbGxiYWNrKT9iLmpzb25wQ2FsbGJhY2soKTpiLmpzb25wQ2FsbGJhY2ssaD9iW2hdPWJbaF0ucmVwbGFjZShhZCxcIiQxXCIrZSk6Yi5qc29ucCE9PSExJiYoYi51cmwrPSh3Yy50ZXN0KGIudXJsKT9cIiZcIjpcIj9cIikrYi5qc29ucCtcIj1cIitlKSxiLmNvbnZlcnRlcnNbXCJzY3JpcHQganNvblwiXT1mdW5jdGlvbigpe3JldHVybiBnfHxtLmVycm9yKGUrXCIgd2FzIG5vdCBjYWxsZWRcIiksZ1swXX0sYi5kYXRhVHlwZXNbMF09XCJqc29uXCIsZj1hW2VdLGFbZV09ZnVuY3Rpb24oKXtnPWFyZ3VtZW50c30sZC5hbHdheXMoZnVuY3Rpb24oKXthW2VdPWYsYltlXSYmKGIuanNvbnBDYWxsYmFjaz1jLmpzb25wQ2FsbGJhY2ssX2MucHVzaChlKSksZyYmbS5pc0Z1bmN0aW9uKGYpJiZmKGdbMF0pLGc9Zj12b2lkIDB9KSxcInNjcmlwdFwiKTp2b2lkIDB9KSxtLnBhcnNlSFRNTD1mdW5jdGlvbihhLGIsYyl7aWYoIWF8fFwic3RyaW5nXCIhPXR5cGVvZiBhKXJldHVybiBudWxsO1wiYm9vbGVhblwiPT10eXBlb2YgYiYmKGM9YixiPSExKSxiPWJ8fHk7dmFyIGQ9dS5leGVjKGEpLGU9IWMmJltdO3JldHVybiBkP1tiLmNyZWF0ZUVsZW1lbnQoZFsxXSldOihkPW0uYnVpbGRGcmFnbWVudChbYV0sYixlKSxlJiZlLmxlbmd0aCYmbShlKS5yZW1vdmUoKSxtLm1lcmdlKFtdLGQuY2hpbGROb2RlcykpfTt2YXIgYmQ9bS5mbi5sb2FkO20uZm4ubG9hZD1mdW5jdGlvbihhLGIsYyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEmJmJkKXJldHVybiBiZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQsZSxmLGc9dGhpcyxoPWEuaW5kZXhPZihcIiBcIik7cmV0dXJuIGg+PTAmJihkPW0udHJpbShhLnNsaWNlKGgsYS5sZW5ndGgpKSxhPWEuc2xpY2UoMCxoKSksbS5pc0Z1bmN0aW9uKGIpPyhjPWIsYj12b2lkIDApOmImJlwib2JqZWN0XCI9PXR5cGVvZiBiJiYoZj1cIlBPU1RcIiksZy5sZW5ndGg+MCYmbS5hamF4KHt1cmw6YSx0eXBlOmYsZGF0YVR5cGU6XCJodG1sXCIsZGF0YTpifSkuZG9uZShmdW5jdGlvbihhKXtlPWFyZ3VtZW50cyxnLmh0bWwoZD9tKFwiPGRpdj5cIikuYXBwZW5kKG0ucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuY29tcGxldGUoYyYmZnVuY3Rpb24oYSxiKXtnLmVhY2goYyxlfHxbYS5yZXNwb25zZVRleHQsYixhXSl9KSx0aGlzfSxtLmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihhKXtyZXR1cm4gbS5ncmVwKG0udGltZXJzLGZ1bmN0aW9uKGIpe3JldHVybiBhPT09Yi5lbGVtfSkubGVuZ3RofTt2YXIgY2Q9YS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7ZnVuY3Rpb24gZGQoYSl7cmV0dXJuIG0uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZT9hLmRlZmF1bHRWaWV3fHxhLnBhcmVudFdpbmRvdzohMX1tLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPW0uY3NzKGEsXCJwb3NpdGlvblwiKSxsPW0oYSksbj17fTtcInN0YXRpY1wiPT09ayYmKGEuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiKSxoPWwub2Zmc2V0KCksZj1tLmNzcyhhLFwidG9wXCIpLGk9bS5jc3MoYSxcImxlZnRcIiksaj0oXCJhYnNvbHV0ZVwiPT09a3x8XCJmaXhlZFwiPT09aykmJm0uaW5BcnJheShcImF1dG9cIixbZixpXSk+LTEsaj8oZD1sLnBvc2l0aW9uKCksZz1kLnRvcCxlPWQubGVmdCk6KGc9cGFyc2VGbG9hdChmKXx8MCxlPXBhcnNlRmxvYXQoaSl8fDApLG0uaXNGdW5jdGlvbihiKSYmKGI9Yi5jYWxsKGEsYyxoKSksbnVsbCE9Yi50b3AmJihuLnRvcD1iLnRvcC1oLnRvcCtnKSxudWxsIT1iLmxlZnQmJihuLmxlZnQ9Yi5sZWZ0LWgubGVmdCtlKSxcInVzaW5nXCJpbiBiP2IudXNpbmcuY2FsbChhLG4pOmwuY3NzKG4pfX0sbS5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihhKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1hP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe20ub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTt2YXIgYixjLGQ9e3RvcDowLGxlZnQ6MH0sZT10aGlzWzBdLGY9ZSYmZS5vd25lckRvY3VtZW50O2lmKGYpcmV0dXJuIGI9Zi5kb2N1bWVudEVsZW1lbnQsbS5jb250YWlucyhiLGUpPyh0eXBlb2YgZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QhPT1LJiYoZD1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxjPWRkKGYpLHt0b3A6ZC50b3ArKGMucGFnZVlPZmZzZXR8fGIuc2Nyb2xsVG9wKS0oYi5jbGllbnRUb3B8fDApLGxlZnQ6ZC5sZWZ0KyhjLnBhZ2VYT2Zmc2V0fHxiLnNjcm9sbExlZnQpLShiLmNsaWVudExlZnR8fDApfSk6ZH0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgYSxiLGM9e3RvcDowLGxlZnQ6MH0sZD10aGlzWzBdO3JldHVyblwiZml4ZWRcIj09PW0uY3NzKGQsXCJwb3NpdGlvblwiKT9iPWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KGE9dGhpcy5vZmZzZXRQYXJlbnQoKSxiPXRoaXMub2Zmc2V0KCksbS5ub2RlTmFtZShhWzBdLFwiaHRtbFwiKXx8KGM9YS5vZmZzZXQoKSksYy50b3ArPW0uY3NzKGFbMF0sXCJib3JkZXJUb3BXaWR0aFwiLCEwKSxjLmxlZnQrPW0uY3NzKGFbMF0sXCJib3JkZXJMZWZ0V2lkdGhcIiwhMCkpLHt0b3A6Yi50b3AtYy50b3AtbS5jc3MoZCxcIm1hcmdpblRvcFwiLCEwKSxsZWZ0OmIubGVmdC1jLmxlZnQtbS5jc3MoZCxcIm1hcmdpbkxlZnRcIiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vZmZzZXRQYXJlbnR8fGNkO3doaWxlKGEmJiFtLm5vZGVOYW1lKGEsXCJodG1sXCIpJiZcInN0YXRpY1wiPT09bS5jc3MoYSxcInBvc2l0aW9uXCIpKWE9YS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGF8fGNkfSl9fSksbS5lYWNoKHtzY3JvbGxMZWZ0OlwicGFnZVhPZmZzZXRcIixzY3JvbGxUb3A6XCJwYWdlWU9mZnNldFwifSxmdW5jdGlvbihhLGIpe3ZhciBjPS9ZLy50ZXN0KGIpO20uZm5bYV09ZnVuY3Rpb24oZCl7cmV0dXJuIFYodGhpcyxmdW5jdGlvbihhLGQsZSl7dmFyIGY9ZGQoYSk7cmV0dXJuIHZvaWQgMD09PWU/Zj9iIGluIGY/ZltiXTpmLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtkXTphW2RdOnZvaWQoZj9mLnNjcm9sbFRvKGM/bShmKS5zY3JvbGxMZWZ0KCk6ZSxjP2U6bShmKS5zY3JvbGxUb3AoKSk6YVtkXT1lKX0sYSxkLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSksbS5lYWNoKFtcInRvcFwiLFwibGVmdFwiXSxmdW5jdGlvbihhLGIpe20uY3NzSG9va3NbYl09TGIoay5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGM/KGM9SmIoYSxiKSxIYi50ZXN0KGMpP20oYSkucG9zaXRpb24oKVtiXStcInB4XCI6Yyk6dm9pZCAwfSl9KSxtLmVhY2goe0hlaWdodDpcImhlaWdodFwiLFdpZHRoOlwid2lkdGhcIn0sZnVuY3Rpb24oYSxiKXttLmVhY2goe3BhZGRpbmc6XCJpbm5lclwiK2EsY29udGVudDpiLFwiXCI6XCJvdXRlclwiK2F9LGZ1bmN0aW9uKGMsZCl7bS5mbltkXT1mdW5jdGlvbihkLGUpe3ZhciBmPWFyZ3VtZW50cy5sZW5ndGgmJihjfHxcImJvb2xlYW5cIiE9dHlwZW9mIGQpLGc9Y3x8KGQ9PT0hMHx8ZT09PSEwP1wibWFyZ2luXCI6XCJib3JkZXJcIik7cmV0dXJuIFYodGhpcyxmdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuIG0uaXNXaW5kb3coYik/Yi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbXCJjbGllbnRcIithXTo5PT09Yi5ub2RlVHlwZT8oZT1iLmRvY3VtZW50RWxlbWVudCxNYXRoLm1heChiLmJvZHlbXCJzY3JvbGxcIithXSxlW1wic2Nyb2xsXCIrYV0sYi5ib2R5W1wib2Zmc2V0XCIrYV0sZVtcIm9mZnNldFwiK2FdLGVbXCJjbGllbnRcIithXSkpOnZvaWQgMD09PWQ/bS5jc3MoYixjLGcpOm0uc3R5bGUoYixjLGQsZyl9LGIsZj9kOnZvaWQgMCxmLG51bGwpfX0pfSksbS5mbi5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSxtLmZuLmFuZFNlbGY9bS5mbi5hZGRCYWNrLFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKFwianF1ZXJ5XCIsW10sZnVuY3Rpb24oKXtyZXR1cm4gbX0pO3ZhciBlZD1hLmpRdWVyeSxmZD1hLiQ7cmV0dXJuIG0ubm9Db25mbGljdD1mdW5jdGlvbihiKXtyZXR1cm4gYS4kPT09bSYmKGEuJD1mZCksYiYmYS5qUXVlcnk9PT1tJiYoYS5qUXVlcnk9ZWQpLG19LHR5cGVvZiBiPT09SyYmKGEualF1ZXJ5PWEuJD1tKSxtfSk7XG5cbjsgYnJvd3NlcmlmeV9zaGltX19kZWZpbmVfX21vZHVsZV9fZXhwb3J0X18odHlwZW9mICQgIT0gXCJ1bmRlZmluZWRcIiA/ICQgOiB3aW5kb3cuJCk7XG5cbn0pLmNhbGwoZ2xvYmFsLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbiBkZWZpbmVFeHBvcnQoZXgpIHsgbW9kdWxlLmV4cG9ydHMgPSBleDsgfSk7XG4iXX0=
